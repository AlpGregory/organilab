function ownKeys$7(en,tn){var nn=Object.keys(en);if(Object.getOwnPropertySymbols){var rn=Object.getOwnPropertySymbols(en);tn&&(rn=rn.filter((function(tn){return Object.getOwnPropertyDescriptor(en,tn).enumerable}))),nn.push.apply(nn,rn)}return nn}function _objectSpread2(en){for(var tn=1;tn<arguments.length;tn++){var nn=null!=arguments[tn]?arguments[tn]:{};tn%2?ownKeys$7(Object(nn),!0).forEach((function(tn){_defineProperty$2(en,tn,nn[tn])})):Object.getOwnPropertyDescriptors?Object.defineProperties(en,Object.getOwnPropertyDescriptors(nn)):ownKeys$7(Object(nn)).forEach((function(tn){Object.defineProperty(en,tn,Object.getOwnPropertyDescriptor(nn,tn))}))}return en}function _regeneratorRuntime(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
_regeneratorRuntime=function(){return en};var en={},tn=Object.prototype,nn=tn.hasOwnProperty,rn="function"==typeof Symbol?Symbol:{},an=rn.iterator||"@@iterator",sn=rn.asyncIterator||"@@asyncIterator",An=rn.toStringTag||"@@toStringTag";function define(en,tn,nn){return Object.defineProperty(en,tn,{value:nn,enumerable:!0,configurable:!0,writable:!0}),en[tn]}try{define({},"")}catch(en){define=function(en,tn,nn){return en[tn]=nn}}function wrap(en,tn,nn,rn){var an=tn&&tn.prototype instanceof Generator?tn:Generator,sn=Object.create(an.prototype),An=new Context(rn||[]);return sn._invoke=function(en,tn,nn){var rn="suspendedStart";return function(an,sn){if("executing"===rn)throw new Error("Generator is already running");if("completed"===rn){if("throw"===an)throw sn;return doneResult()}for(nn.method=an,nn.arg=sn;;){var An=nn.delegate;if(An){var un=maybeInvokeDelegate(An,nn);if(un){if(un===cn)continue;return un}}if("next"===nn.method)nn.sent=nn._sent=nn.arg;else if("throw"===nn.method){if("suspendedStart"===rn)throw rn="completed",nn.arg;nn.dispatchException(nn.arg)}else"return"===nn.method&&nn.abrupt("return",nn.arg);rn="executing";var hn=tryCatch(en,tn,nn);if("normal"===hn.type){if(rn=nn.done?"completed":"suspendedYield",hn.arg===cn)continue;return{value:hn.arg,done:nn.done}}"throw"===hn.type&&(rn="completed",nn.method="throw",nn.arg=hn.arg)}}}(en,nn,An),sn}function tryCatch(en,tn,nn){try{return{type:"normal",arg:en.call(tn,nn)}}catch(en){return{type:"throw",arg:en}}}en.wrap=wrap;var cn={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var un={};define(un,an,(function(){return this}));var hn=Object.getPrototypeOf,dn=hn&&hn(hn(values([])));dn&&dn!==tn&&nn.call(dn,an)&&(un=dn);var pn=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(un);function defineIteratorMethods(en){["next","throw","return"].forEach((function(tn){define(en,tn,(function(en){return this._invoke(tn,en)}))}))}function AsyncIterator(en,tn){function invoke(rn,an,sn,An){var cn=tryCatch(en[rn],en,an);if("throw"!==cn.type){var un=cn.arg,hn=un.value;return hn&&"object"==typeof hn&&nn.call(hn,"__await")?tn.resolve(hn.__await).then((function(en){invoke("next",en,sn,An)}),(function(en){invoke("throw",en,sn,An)})):tn.resolve(hn).then((function(en){un.value=en,sn(un)}),(function(en){return invoke("throw",en,sn,An)}))}An(cn.arg)}var rn;this._invoke=function(en,nn){function callInvokeWithMethodAndArg(){return new tn((function(tn,rn){invoke(en,nn,tn,rn)}))}return rn=rn?rn.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(en,tn){var nn=en.iterator[tn.method];if(void 0===nn){if(tn.delegate=null,"throw"===tn.method){if(en.iterator.return&&(tn.method="return",tn.arg=void 0,maybeInvokeDelegate(en,tn),"throw"===tn.method))return cn;tn.method="throw",tn.arg=new TypeError("The iterator does not provide a 'throw' method")}return cn}var rn=tryCatch(nn,en.iterator,tn.arg);if("throw"===rn.type)return tn.method="throw",tn.arg=rn.arg,tn.delegate=null,cn;var an=rn.arg;return an?an.done?(tn[en.resultName]=an.value,tn.next=en.nextLoc,"return"!==tn.method&&(tn.method="next",tn.arg=void 0),tn.delegate=null,cn):an:(tn.method="throw",tn.arg=new TypeError("iterator result is not an object"),tn.delegate=null,cn)}function pushTryEntry(en){var tn={tryLoc:en[0]};1 in en&&(tn.catchLoc=en[1]),2 in en&&(tn.finallyLoc=en[2],tn.afterLoc=en[3]),this.tryEntries.push(tn)}function resetTryEntry(en){var tn=en.completion||{};tn.type="normal",delete tn.arg,en.completion=tn}function Context(en){this.tryEntries=[{tryLoc:"root"}],en.forEach(pushTryEntry,this),this.reset(!0)}function values(en){if(en){var tn=en[an];if(tn)return tn.call(en);if("function"==typeof en.next)return en;if(!isNaN(en.length)){var rn=-1,sn=function next(){for(;++rn<en.length;)if(nn.call(en,rn))return next.value=en[rn],next.done=!1,next;return next.value=void 0,next.done=!0,next};return sn.next=sn}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(pn,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,An,"GeneratorFunction"),en.isGeneratorFunction=function(en){var tn="function"==typeof en&&en.constructor;return!!tn&&(tn===GeneratorFunction||"GeneratorFunction"===(tn.displayName||tn.name))},en.mark=function(en){return Object.setPrototypeOf?Object.setPrototypeOf(en,GeneratorFunctionPrototype):(en.__proto__=GeneratorFunctionPrototype,define(en,An,"GeneratorFunction")),en.prototype=Object.create(pn),en},en.awrap=function(en){return{__await:en}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,sn,(function(){return this})),en.AsyncIterator=AsyncIterator,en.async=function(tn,nn,rn,an,sn){void 0===sn&&(sn=Promise);var An=new AsyncIterator(wrap(tn,nn,rn,an),sn);return en.isGeneratorFunction(nn)?An:An.next().then((function(en){return en.done?en.value:An.next()}))},defineIteratorMethods(pn),define(pn,An,"Generator"),define(pn,an,(function(){return this})),define(pn,"toString",(function(){return"[object Generator]"})),en.keys=function(en){var tn=[];for(var nn in en)tn.push(nn);return tn.reverse(),function next(){for(;tn.length;){var nn=tn.pop();if(nn in en)return next.value=nn,next.done=!1,next}return next.done=!0,next}},en.values=values,Context.prototype={constructor:Context,reset:function(en){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!en)for(var tn in this)"t"===tn.charAt(0)&&nn.call(this,tn)&&!isNaN(+tn.slice(1))&&(this[tn]=void 0)},stop:function(){this.done=!0;var en=this.tryEntries[0].completion;if("throw"===en.type)throw en.arg;return this.rval},dispatchException:function(en){if(this.done)throw en;var tn=this;function handle(nn,rn){return sn.type="throw",sn.arg=en,tn.next=nn,rn&&(tn.method="next",tn.arg=void 0),!!rn}for(var rn=this.tryEntries.length-1;rn>=0;--rn){var an=this.tryEntries[rn],sn=an.completion;if("root"===an.tryLoc)return handle("end");if(an.tryLoc<=this.prev){var An=nn.call(an,"catchLoc"),cn=nn.call(an,"finallyLoc");if(An&&cn){if(this.prev<an.catchLoc)return handle(an.catchLoc,!0);if(this.prev<an.finallyLoc)return handle(an.finallyLoc)}else if(An){if(this.prev<an.catchLoc)return handle(an.catchLoc,!0)}else{if(!cn)throw new Error("try statement without catch or finally");if(this.prev<an.finallyLoc)return handle(an.finallyLoc)}}}},abrupt:function(en,tn){for(var rn=this.tryEntries.length-1;rn>=0;--rn){var an=this.tryEntries[rn];if(an.tryLoc<=this.prev&&nn.call(an,"finallyLoc")&&this.prev<an.finallyLoc){var sn=an;break}}sn&&("break"===en||"continue"===en)&&sn.tryLoc<=tn&&tn<=sn.finallyLoc&&(sn=null);var An=sn?sn.completion:{};return An.type=en,An.arg=tn,sn?(this.method="next",this.next=sn.finallyLoc,cn):this.complete(An)},complete:function(en,tn){if("throw"===en.type)throw en.arg;return"break"===en.type||"continue"===en.type?this.next=en.arg:"return"===en.type?(this.rval=this.arg=en.arg,this.method="return",this.next="end"):"normal"===en.type&&tn&&(this.next=tn),cn},finish:function(en){for(var tn=this.tryEntries.length-1;tn>=0;--tn){var nn=this.tryEntries[tn];if(nn.finallyLoc===en)return this.complete(nn.completion,nn.afterLoc),resetTryEntry(nn),cn}},catch:function(en){for(var tn=this.tryEntries.length-1;tn>=0;--tn){var nn=this.tryEntries[tn];if(nn.tryLoc===en){var rn=nn.completion;if("throw"===rn.type){var an=rn.arg;resetTryEntry(nn)}return an}}throw new Error("illegal catch attempt")},delegateYield:function(en,tn,nn){return this.delegate={iterator:values(en),resultName:tn,nextLoc:nn},"next"===this.method&&(this.arg=void 0),cn}},en}function _typeof$3(en){return _typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(en){return typeof en}:function(en){return en&&"function"==typeof Symbol&&en.constructor===Symbol&&en!==Symbol.prototype?"symbol":typeof en},_typeof$3(en)}function asyncGeneratorStep$1(en,tn,nn,rn,an,sn,An){try{var cn=en[sn](An),un=cn.value}catch(en){return void nn(en)}cn.done?tn(un):Promise.resolve(un).then(rn,an)}function _asyncToGenerator$1(en){return function(){var tn=this,nn=arguments;return new Promise((function(rn,an){var sn=en.apply(tn,nn);function _next(en){asyncGeneratorStep$1(sn,rn,an,_next,_throw,"next",en)}function _throw(en){asyncGeneratorStep$1(sn,rn,an,_next,_throw,"throw",en)}_next(void 0)}))}}function _classCallCheck$1(en,tn){if(!(en instanceof tn))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(en,tn){for(var nn=0;nn<tn.length;nn++){var rn=tn[nn];rn.enumerable=rn.enumerable||!1,rn.configurable=!0,"value"in rn&&(rn.writable=!0),Object.defineProperty(en,rn.key,rn)}}function _createClass$1(en,tn,nn){return tn&&_defineProperties$1(en.prototype,tn),nn&&_defineProperties$1(en,nn),Object.defineProperty(en,"prototype",{writable:!1}),en}function _defineProperty$2(en,tn,nn){return tn in en?Object.defineProperty(en,tn,{value:nn,enumerable:!0,configurable:!0,writable:!0}):en[tn]=nn,en}function _inherits$1(en,tn){if("function"!=typeof tn&&null!==tn)throw new TypeError("Super expression must either be null or a function");en.prototype=Object.create(tn&&tn.prototype,{constructor:{value:en,writable:!0,configurable:!0}}),Object.defineProperty(en,"prototype",{writable:!1}),tn&&_setPrototypeOf$1(en,tn)}function _getPrototypeOf$1(en){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(en){return en.__proto__||Object.getPrototypeOf(en)},_getPrototypeOf$1(en)}function _setPrototypeOf$1(en,tn){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(en,tn){return en.__proto__=tn,en},_setPrototypeOf$1(en,tn)}function _isNativeReflectConstruct$4(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(en){return!1}}function _construct(en,tn,nn){return _construct=_isNativeReflectConstruct$4()?Reflect.construct.bind():function _construct(en,tn,nn){var rn=[null];rn.push.apply(rn,tn);var an=new(Function.bind.apply(en,rn));return nn&&_setPrototypeOf$1(an,nn.prototype),an},_construct.apply(null,arguments)}function _wrapNativeSuper(en){var tn="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(en){if(null===en||!function _isNativeFunction(en){return-1!==Function.toString.call(en).indexOf("[native code]")}(en))return en;if("function"!=typeof en)throw new TypeError("Super expression must either be null or a function");if(void 0!==tn){if(tn.has(en))return tn.get(en);tn.set(en,Wrapper)}function Wrapper(){return _construct(en,arguments,_getPrototypeOf$1(this).constructor)}return Wrapper.prototype=Object.create(en.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf$1(Wrapper,en)},_wrapNativeSuper(en)}function _assertThisInitialized$1(en){if(void 0===en)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return en}function _possibleConstructorReturn$1(en,tn){if(tn&&("object"==typeof tn||"function"==typeof tn))return tn;if(void 0!==tn)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(en)}function _createSuper$4(en){var tn=_isNativeReflectConstruct$4();return function _createSuperInternal(){var nn,rn=_getPrototypeOf$1(en);if(tn){var an=_getPrototypeOf$1(this).constructor;nn=Reflect.construct(rn,arguments,an)}else nn=rn.apply(this,arguments);return _possibleConstructorReturn$1(this,nn)}}function _superPropBase(en,tn){for(;!Object.prototype.hasOwnProperty.call(en,tn)&&null!==(en=_getPrototypeOf$1(en)););return en}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(en,tn,nn){var rn=_superPropBase(en,tn);if(rn){var an=Object.getOwnPropertyDescriptor(rn,tn);return an.get?an.get.call(arguments.length<3?en:nn):an.value}},_get.apply(this,arguments)}function set(en,tn,nn,rn){return set="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function set(en,tn,nn,rn){var an,sn=_superPropBase(en,tn);if(sn){if((an=Object.getOwnPropertyDescriptor(sn,tn)).set)return an.set.call(rn,nn),!0;if(!an.writable)return!1}if(an=Object.getOwnPropertyDescriptor(rn,tn)){if(!an.writable)return!1;an.value=nn,Object.defineProperty(rn,tn,an)}else _defineProperty$2(rn,tn,nn);return!0},set(en,tn,nn,rn)}function _set(en,tn,nn,rn,an){if(!set(en,tn,nn,rn||en)&&an)throw new Error("failed to set property");return nn}function _taggedTemplateLiteral(en,tn){return tn||(tn=en.slice(0)),Object.freeze(Object.defineProperties(en,{raw:{value:Object.freeze(tn)}}))}function _slicedToArray(en,tn){return function _arrayWithHoles$1(en){if(Array.isArray(en))return en}(en)||function _iterableToArrayLimit(en,tn){var nn=null==en?null:"undefined"!=typeof Symbol&&en[Symbol.iterator]||en["@@iterator"];if(null==nn)return;var rn,an,sn=[],An=!0,cn=!1;try{for(nn=nn.call(en);!(An=(rn=nn.next()).done)&&(sn.push(rn.value),!tn||sn.length!==tn);An=!0);}catch(en){cn=!0,an=en}finally{try{An||null==nn.return||nn.return()}finally{if(cn)throw an}}return sn}(en,tn)||_unsupportedIterableToArray$1(en,tn)||function _nonIterableRest$1(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(en){return function _arrayWithoutHoles(en){if(Array.isArray(en))return _arrayLikeToArray$1(en)}(en)||function _iterableToArray$1(en){if("undefined"!=typeof Symbol&&null!=en[Symbol.iterator]||null!=en["@@iterator"])return Array.from(en)}(en)||_unsupportedIterableToArray$1(en)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray$1(en,tn){if(en){if("string"==typeof en)return _arrayLikeToArray$1(en,tn);var nn=Object.prototype.toString.call(en).slice(8,-1);return"Object"===nn&&en.constructor&&(nn=en.constructor.name),"Map"===nn||"Set"===nn?Array.from(en):"Arguments"===nn||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(nn)?_arrayLikeToArray$1(en,tn):void 0}}function _arrayLikeToArray$1(en,tn){(null==tn||tn>en.length)&&(tn=en.length);for(var nn=0,rn=new Array(tn);nn<tn;nn++)rn[nn]=en[nn];return rn}function _createForOfIteratorHelper(en,tn){var nn="undefined"!=typeof Symbol&&en[Symbol.iterator]||en["@@iterator"];if(!nn){if(Array.isArray(en)||(nn=_unsupportedIterableToArray$1(en))||tn&&en&&"number"==typeof en.length){nn&&(en=nn);var rn=0,F=function(){};return{s:F,n:function(){return rn>=en.length?{done:!0}:{done:!1,value:en[rn++]}},e:function(en){throw en},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var an,sn=!0,An=!1;return{s:function(){nn=nn.call(en)},n:function(){var en=nn.next();return sn=en.done,en},e:function(en){An=!0,an=en},f:function(){try{sn||null==nn.return||nn.return()}finally{if(An)throw an}}}}function _typeof$2(en){return _typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(en){return typeof en}:function(en){return en&&"function"==typeof Symbol&&en.constructor===Symbol&&en!==Symbol.prototype?"symbol":typeof en},_typeof$2(en)}function _classCallCheck(en,tn){if(!(en instanceof tn))throw new TypeError("Cannot call a class as a function")}function _defineProperties(en,tn){for(var nn=0;nn<tn.length;nn++){var rn=tn[nn];rn.enumerable=rn.enumerable||!1,rn.configurable=!0,"value"in rn&&(rn.writable=!0),Object.defineProperty(en,rn.key,rn)}}function _createClass(en,tn,nn){return tn&&_defineProperties(en.prototype,tn),nn&&_defineProperties(en,nn),Object.defineProperty(en,"prototype",{writable:!1}),en}function _assertThisInitialized(en){if(void 0===en)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return en}function _setPrototypeOf(en,tn){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(en,tn){return en.__proto__=tn,en},_setPrototypeOf(en,tn)}function _inherits(en,tn){if("function"!=typeof tn&&null!==tn)throw new TypeError("Super expression must either be null or a function");en.prototype=Object.create(tn&&tn.prototype,{constructor:{value:en,writable:!0,configurable:!0}}),Object.defineProperty(en,"prototype",{writable:!1}),tn&&_setPrototypeOf(en,tn)}function _possibleConstructorReturn(en,tn){if(tn&&("object"===_typeof$2(tn)||"function"==typeof tn))return tn;if(void 0!==tn)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(en)}function _getPrototypeOf(en){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(en){return en.__proto__||Object.getPrototypeOf(en)},_getPrototypeOf(en)}function _defineProperty$1(en,tn,nn){return tn in en?Object.defineProperty(en,tn,{value:nn,enumerable:!0,configurable:!0,writable:!0}):en[tn]=nn,en}function _arrayLikeToArray(en,tn){(null==tn||tn>en.length)&&(tn=en.length);for(var nn=0,rn=new Array(tn);nn<tn;nn++)rn[nn]=en[nn];return rn}function _toArray(en){return function _arrayWithHoles(en){if(Array.isArray(en))return en}(en)||function _iterableToArray(en){if("undefined"!=typeof Symbol&&null!=en[Symbol.iterator]||null!=en["@@iterator"])return Array.from(en)}(en)||function _unsupportedIterableToArray(en,tn){if(en){if("string"==typeof en)return _arrayLikeToArray(en,tn);var nn=Object.prototype.toString.call(en).slice(8,-1);return"Object"===nn&&en.constructor&&(nn=en.constructor.name),"Map"===nn||"Set"===nn?Array.from(en):"Arguments"===nn||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(nn)?_arrayLikeToArray(en,tn):void 0}}(en)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ownKeys$3(en,tn){var nn=Object.keys(en);if(Object.getOwnPropertySymbols){var rn=Object.getOwnPropertySymbols(en);tn&&(rn=rn.filter((function(tn){return Object.getOwnPropertyDescriptor(en,tn).enumerable}))),nn.push.apply(nn,rn)}return nn}function _objectSpread$1(en){for(var tn=1;tn<arguments.length;tn++){var nn=null!=arguments[tn]?arguments[tn]:{};tn%2?ownKeys$3(Object(nn),!0).forEach((function(tn){_defineProperty$1(en,tn,nn[tn])})):Object.getOwnPropertyDescriptors?Object.defineProperties(en,Object.getOwnPropertyDescriptors(nn)):ownKeys$3(Object(nn)).forEach((function(tn){Object.defineProperty(en,tn,Object.getOwnPropertyDescriptor(nn,tn))}))}return en}var en={type:"logger",log:function log(en){this.output("log",en)},warn:function warn(en){this.output("warn",en)},error:function error(en){this.output("error",en)},output:function output(en,tn){console&&console[en]&&console[en].apply(console,tn)}},tn=new(function(){function Logger(en){var tn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,Logger),this.init(en,tn)}return _createClass(Logger,[{key:"init",value:function init(tn){var nn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=nn.prefix||"i18next:",this.logger=tn||en,this.options=nn,this.debug=nn.debug}},{key:"setDebug",value:function setDebug(en){this.debug=en}},{key:"log",value:function log(){for(var en=arguments.length,tn=new Array(en),nn=0;nn<en;nn++)tn[nn]=arguments[nn];return this.forward(tn,"log","",!0)}},{key:"warn",value:function warn(){for(var en=arguments.length,tn=new Array(en),nn=0;nn<en;nn++)tn[nn]=arguments[nn];return this.forward(tn,"warn","",!0)}},{key:"error",value:function error(){for(var en=arguments.length,tn=new Array(en),nn=0;nn<en;nn++)tn[nn]=arguments[nn];return this.forward(tn,"error","")}},{key:"deprecate",value:function deprecate(){for(var en=arguments.length,tn=new Array(en),nn=0;nn<en;nn++)tn[nn]=arguments[nn];return this.forward(tn,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function forward(en,tn,nn,rn){return rn&&!this.debug?null:("string"==typeof en[0]&&(en[0]="".concat(nn).concat(this.prefix," ").concat(en[0])),this.logger[tn](en))}},{key:"create",value:function create(en){return new Logger(this.logger,_objectSpread$1(_objectSpread$1({},{prefix:"".concat(this.prefix,":").concat(en,":")}),this.options))}}]),Logger}()),nn=function(){function EventEmitter(){_classCallCheck(this,EventEmitter),this.observers={}}return _createClass(EventEmitter,[{key:"on",value:function on(en,tn){var nn=this;return en.split(" ").forEach((function(en){nn.observers[en]=nn.observers[en]||[],nn.observers[en].push(tn)})),this}},{key:"off",value:function off(en,tn){this.observers[en]&&(tn?this.observers[en]=this.observers[en].filter((function(en){return en!==tn})):delete this.observers[en])}},{key:"emit",value:function emit(en){for(var tn=arguments.length,nn=new Array(tn>1?tn-1:0),rn=1;rn<tn;rn++)nn[rn-1]=arguments[rn];if(this.observers[en]){var an=[].concat(this.observers[en]);an.forEach((function(en){en.apply(void 0,nn)}))}if(this.observers["*"]){var sn=[].concat(this.observers["*"]);sn.forEach((function(tn){tn.apply(tn,[en].concat(nn))}))}}}]),EventEmitter}();function defer(){var en,tn,nn=new Promise((function(nn,rn){en=nn,tn=rn}));return nn.resolve=en,nn.reject=tn,nn}function makeString(en){return null==en?"":""+en}function copy(en,tn,nn){en.forEach((function(en){tn[en]&&(nn[en]=tn[en])}))}function getLastOfPath(en,tn,nn){function cleanKey(en){return en&&en.indexOf("###")>-1?en.replace(/###/g,"."):en}function canNotTraverseDeeper(){return!en||"string"==typeof en}for(var rn="string"!=typeof tn?[].concat(tn):tn.split(".");rn.length>1;){if(canNotTraverseDeeper())return{};var an=cleanKey(rn.shift());!en[an]&&nn&&(en[an]=new nn),en=Object.prototype.hasOwnProperty.call(en,an)?en[an]:{}}return canNotTraverseDeeper()?{}:{obj:en,k:cleanKey(rn.shift())}}function setPath(en,tn,nn){var rn=getLastOfPath(en,tn,Object);rn.obj[rn.k]=nn}function getPath(en,tn){var nn=getLastOfPath(en,tn),rn=nn.obj,an=nn.k;if(rn)return rn[an]}function getPathWithDefaults(en,tn,nn){var rn=getPath(en,nn);return void 0!==rn?rn:getPath(tn,nn)}function deepExtend(en,tn,nn){for(var rn in tn)"__proto__"!==rn&&"constructor"!==rn&&(rn in en?"string"==typeof en[rn]||en[rn]instanceof String||"string"==typeof tn[rn]||tn[rn]instanceof String?nn&&(en[rn]=tn[rn]):deepExtend(en[rn],tn[rn],nn):en[rn]=tn[rn]);return en}function regexEscape$1(en){return en.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var rn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function escape$1(en){return"string"==typeof en?en.replace(/[&<>"'\/]/g,(function(en){return rn[en]})):en}var an="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,sn=[" ",",","?","!",";"];function ownKeys$1$1(en,tn){var nn=Object.keys(en);if(Object.getOwnPropertySymbols){var rn=Object.getOwnPropertySymbols(en);tn&&(rn=rn.filter((function(tn){return Object.getOwnPropertyDescriptor(en,tn).enumerable}))),nn.push.apply(nn,rn)}return nn}function _objectSpread$1$1(en){for(var tn=1;tn<arguments.length;tn++){var nn=null!=arguments[tn]?arguments[tn]:{};tn%2?ownKeys$1$1(Object(nn),!0).forEach((function(tn){_defineProperty$1(en,tn,nn[tn])})):Object.getOwnPropertyDescriptors?Object.defineProperties(en,Object.getOwnPropertyDescriptors(nn)):ownKeys$1$1(Object(nn)).forEach((function(tn){Object.defineProperty(en,tn,Object.getOwnPropertyDescriptor(nn,tn))}))}return en}function _createSuper(en){var tn=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(en){return!1}}();return function _createSuperInternal(){var nn,rn=_getPrototypeOf(en);if(tn){var an=_getPrototypeOf(this).constructor;nn=Reflect.construct(rn,arguments,an)}else nn=rn.apply(this,arguments);return _possibleConstructorReturn(this,nn)}}function deepFind(en,tn){var nn=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(en){if(en[tn])return en[tn];for(var rn=tn.split(nn),an=en,sn=0;sn<rn.length;++sn){if(!an)return;if("string"==typeof an[rn[sn]]&&sn+1<rn.length)return;if(void 0===an[rn[sn]]){for(var An=2,cn=rn.slice(sn,sn+An).join(nn),un=an[cn];void 0===un&&rn.length>sn+An;)An++,un=an[cn=rn.slice(sn,sn+An).join(nn)];if(void 0===un)return;if(null===un)return null;if(tn.endsWith(cn)){if("string"==typeof un)return un;if(cn&&"string"==typeof un[cn])return un[cn]}var hn=rn.slice(sn+An).join(nn);return hn?deepFind(un,hn,nn):void 0}an=an[rn[sn]]}return an}}var An=function(en){_inherits(ResourceStore,nn);var tn=_createSuper(ResourceStore);function ResourceStore(en){var rn,sn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return _classCallCheck(this,ResourceStore),rn=tn.call(this),an&&nn.call(_assertThisInitialized(rn)),rn.data=en||{},rn.options=sn,void 0===rn.options.keySeparator&&(rn.options.keySeparator="."),void 0===rn.options.ignoreJSONStructure&&(rn.options.ignoreJSONStructure=!0),rn}return _createClass(ResourceStore,[{key:"addNamespaces",value:function addNamespaces(en){this.options.ns.indexOf(en)<0&&this.options.ns.push(en)}},{key:"removeNamespaces",value:function removeNamespaces(en){var tn=this.options.ns.indexOf(en);tn>-1&&this.options.ns.splice(tn,1)}},{key:"getResource",value:function getResource(en,tn,nn){var rn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},an=void 0!==rn.keySeparator?rn.keySeparator:this.options.keySeparator,sn=void 0!==rn.ignoreJSONStructure?rn.ignoreJSONStructure:this.options.ignoreJSONStructure,An=[en,tn];nn&&"string"!=typeof nn&&(An=An.concat(nn)),nn&&"string"==typeof nn&&(An=An.concat(an?nn.split(an):nn)),en.indexOf(".")>-1&&(An=en.split("."));var cn=getPath(this.data,An);return cn||!sn||"string"!=typeof nn?cn:deepFind(this.data&&this.data[en]&&this.data[en][tn],nn,an)}},{key:"addResource",value:function addResource(en,tn,nn,rn){var an=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},sn=this.options.keySeparator;void 0===sn&&(sn=".");var An=[en,tn];nn&&(An=An.concat(sn?nn.split(sn):nn)),en.indexOf(".")>-1&&(rn=tn,tn=(An=en.split("."))[1]),this.addNamespaces(tn),setPath(this.data,An,rn),an.silent||this.emit("added",en,tn,nn,rn)}},{key:"addResources",value:function addResources(en,tn,nn){var rn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var an in nn)"string"!=typeof nn[an]&&"[object Array]"!==Object.prototype.toString.apply(nn[an])||this.addResource(en,tn,an,nn[an],{silent:!0});rn.silent||this.emit("added",en,tn,nn)}},{key:"addResourceBundle",value:function addResourceBundle(en,tn,nn,rn,an){var sn=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},An=[en,tn];en.indexOf(".")>-1&&(rn=nn,nn=tn,tn=(An=en.split("."))[1]),this.addNamespaces(tn);var cn=getPath(this.data,An)||{};rn?deepExtend(cn,nn,an):cn=_objectSpread$1$1(_objectSpread$1$1({},cn),nn),setPath(this.data,An,cn),sn.silent||this.emit("added",en,tn,nn)}},{key:"removeResourceBundle",value:function removeResourceBundle(en,tn){this.hasResourceBundle(en,tn)&&delete this.data[en][tn],this.removeNamespaces(tn),this.emit("removed",en,tn)}},{key:"hasResourceBundle",value:function hasResourceBundle(en,tn){return void 0!==this.getResource(en,tn)}},{key:"getResourceBundle",value:function getResourceBundle(en,tn){return tn||(tn=this.options.defaultNS),"v1"===this.options.compatibilityAPI?_objectSpread$1$1(_objectSpread$1$1({},{}),this.getResource(en,tn)):this.getResource(en,tn)}},{key:"getDataByLanguage",value:function getDataByLanguage(en){return this.data[en]}},{key:"hasLanguageSomeTranslations",value:function hasLanguageSomeTranslations(en){var tn=this.getDataByLanguage(en);return!!(tn&&Object.keys(tn)||[]).find((function(en){return tn[en]&&Object.keys(tn[en]).length>0}))}},{key:"toJSON",value:function toJSON(){return this.data}}]),ResourceStore}(),cn={processors:{},addPostProcessor:function addPostProcessor(en){this.processors[en.name]=en},handle:function handle(en,tn,nn,rn,an){var sn=this;return en.forEach((function(en){sn.processors[en]&&(tn=sn.processors[en].process(tn,nn,rn,an))})),tn}};function ownKeys$2$1(en,tn){var nn=Object.keys(en);if(Object.getOwnPropertySymbols){var rn=Object.getOwnPropertySymbols(en);tn&&(rn=rn.filter((function(tn){return Object.getOwnPropertyDescriptor(en,tn).enumerable}))),nn.push.apply(nn,rn)}return nn}function _objectSpread$2$1(en){for(var tn=1;tn<arguments.length;tn++){var nn=null!=arguments[tn]?arguments[tn]:{};tn%2?ownKeys$2$1(Object(nn),!0).forEach((function(tn){_defineProperty$1(en,tn,nn[tn])})):Object.getOwnPropertyDescriptors?Object.defineProperties(en,Object.getOwnPropertyDescriptors(nn)):ownKeys$2$1(Object(nn)).forEach((function(tn){Object.defineProperty(en,tn,Object.getOwnPropertyDescriptor(nn,tn))}))}return en}function _createSuper$1(en){var tn=function _isNativeReflectConstruct$1(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(en){return!1}}();return function _createSuperInternal(){var nn,rn=_getPrototypeOf(en);if(tn){var an=_getPrototypeOf(this).constructor;nn=Reflect.construct(rn,arguments,an)}else nn=rn.apply(this,arguments);return _possibleConstructorReturn(this,nn)}}var un={},hn=function(en){_inherits(Translator,nn);var rn=_createSuper$1(Translator);function Translator(en){var sn,An=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,Translator),sn=rn.call(this),an&&nn.call(_assertThisInitialized(sn)),copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],en,_assertThisInitialized(sn)),sn.options=An,void 0===sn.options.keySeparator&&(sn.options.keySeparator="."),sn.logger=tn.create("translator"),sn}return _createClass(Translator,[{key:"changeLanguage",value:function changeLanguage(en){en&&(this.language=en)}},{key:"exists",value:function exists(en){var tn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==en)return!1;var nn=this.resolve(en,tn);return nn&&void 0!==nn.res}},{key:"extractFromKey",value:function extractFromKey(en,tn){var nn=void 0!==tn.nsSeparator?tn.nsSeparator:this.options.nsSeparator;void 0===nn&&(nn=":");var rn=void 0!==tn.keySeparator?tn.keySeparator:this.options.keySeparator,an=tn.ns||this.options.defaultNS||[],An=nn&&en.indexOf(nn)>-1,cn=!(this.options.userDefinedKeySeparator||tn.keySeparator||this.options.userDefinedNsSeparator||tn.nsSeparator||function looksLikeObjectPath(en,tn,nn){tn=tn||"",nn=nn||"";var rn=sn.filter((function(en){return tn.indexOf(en)<0&&nn.indexOf(en)<0}));if(0===rn.length)return!0;var an=new RegExp("(".concat(rn.map((function(en){return"?"===en?"\\?":en})).join("|"),")")),An=!an.test(en);if(!An){var cn=en.indexOf(nn);cn>0&&!an.test(en.substring(0,cn))&&(An=!0)}return An}(en,nn,rn));if(An&&!cn){var un=en.match(this.interpolator.nestingRegexp);if(un&&un.length>0)return{key:en,namespaces:an};var hn=en.split(nn);(nn!==rn||nn===rn&&this.options.ns.indexOf(hn[0])>-1)&&(an=hn.shift()),en=hn.join(rn)}return"string"==typeof an&&(an=[an]),{key:en,namespaces:an}}},{key:"translate",value:function translate(en,tn,nn){var rn=this;if("object"!==_typeof$2(tn)&&this.options.overloadTranslationOptionHandler&&(tn=this.options.overloadTranslationOptionHandler(arguments)),tn||(tn={}),null==en)return"";Array.isArray(en)||(en=[String(en)]);var an=void 0!==tn.returnDetails?tn.returnDetails:this.options.returnDetails,sn=void 0!==tn.keySeparator?tn.keySeparator:this.options.keySeparator,An=this.extractFromKey(en[en.length-1],tn),cn=An.key,un=An.namespaces,hn=un[un.length-1],dn=tn.lng||this.language,pn=tn.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(dn&&"cimode"===dn.toLowerCase()){if(pn){var gn=tn.nsSeparator||this.options.nsSeparator;return an?(mn.res="".concat(hn).concat(gn).concat(cn),mn):"".concat(hn).concat(gn).concat(cn)}return an?(mn.res=cn,mn):cn}var mn=this.resolve(en,tn),vn=mn&&mn.res,yn=mn&&mn.usedKey||cn,bn=mn&&mn.exactUsedKey||cn,wn=Object.prototype.toString.apply(vn),Cn=["[object Number]","[object Function]","[object RegExp]"],xn=void 0!==tn.joinArrays?tn.joinArrays:this.options.joinArrays,Bn=!this.i18nFormat||this.i18nFormat.handleAsObject,_n="string"!=typeof vn&&"boolean"!=typeof vn&&"number"!=typeof vn;if(Bn&&vn&&_n&&Cn.indexOf(wn)<0&&("string"!=typeof xn||"[object Array]"!==wn)){if(!tn.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var Sn=this.options.returnedObjectHandler?this.options.returnedObjectHandler(yn,vn,_objectSpread$2$1(_objectSpread$2$1({},tn),{},{ns:un})):"key '".concat(cn," (").concat(this.language,")' returned an object instead of string.");return an?(mn.res=Sn,mn):Sn}if(sn){var kn="[object Array]"===wn,En=kn?[]:{},Pn=kn?bn:yn;for(var Fn in vn)if(Object.prototype.hasOwnProperty.call(vn,Fn)){var Ln="".concat(Pn).concat(sn).concat(Fn);En[Fn]=this.translate(Ln,_objectSpread$2$1(_objectSpread$2$1({},tn),{joinArrays:!1,ns:un})),En[Fn]===Ln&&(En[Fn]=vn[Fn])}vn=En}}else if(Bn&&"string"==typeof xn&&"[object Array]"===wn)(vn=vn.join(xn))&&(vn=this.extendTranslation(vn,en,tn,nn));else{var In=!1,Un=!1,Tn=void 0!==tn.count&&"string"!=typeof tn.count,Qn=Translator.hasDefaultValue(tn),Nn=Tn?this.pluralResolver.getSuffix(dn,tn.count,tn):"",On=tn["defaultValue".concat(Nn)]||tn.defaultValue;!this.isValidLookup(vn)&&Qn&&(In=!0,vn=On),this.isValidLookup(vn)||(Un=!0,vn=cn);var Mn=tn.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,Rn=Mn&&Un?void 0:vn,Hn=Qn&&On!==vn&&this.options.updateMissing;if(Un||In||Hn){if(this.logger.log(Hn?"updateKey":"missingKey",dn,hn,cn,Hn?On:vn),sn){var Dn=this.resolve(cn,_objectSpread$2$1(_objectSpread$2$1({},tn),{},{keySeparator:!1}));Dn&&Dn.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var $n=[],Gn=this.languageUtils.getFallbackCodes(this.options.fallbackLng,tn.lng||this.language);if("fallback"===this.options.saveMissingTo&&Gn&&Gn[0])for(var jn=0;jn<Gn.length;jn++)$n.push(Gn[jn]);else"all"===this.options.saveMissingTo?$n=this.languageUtils.toResolveHierarchy(tn.lng||this.language):$n.push(tn.lng||this.language);var Vn=function send(en,nn,an){var sn=Qn&&an!==vn?an:Rn;rn.options.missingKeyHandler?rn.options.missingKeyHandler(en,hn,nn,sn,Hn,tn):rn.backendConnector&&rn.backendConnector.saveMissing&&rn.backendConnector.saveMissing(en,hn,nn,sn,Hn,tn),rn.emit("missingKey",en,hn,nn,vn)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Tn?$n.forEach((function(en){rn.pluralResolver.getSuffixes(en,tn).forEach((function(nn){Vn([en],cn+nn,tn["defaultValue".concat(nn)]||On)}))})):Vn($n,cn,On))}vn=this.extendTranslation(vn,en,tn,mn,nn),Un&&vn===cn&&this.options.appendNamespaceToMissingKey&&(vn="".concat(hn,":").concat(cn)),(Un||In)&&this.options.parseMissingKeyHandler&&(vn="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(hn,":").concat(cn):cn,In?vn:void 0):this.options.parseMissingKeyHandler(vn))}return an?(mn.res=vn,mn):vn}},{key:"extendTranslation",value:function extendTranslation(en,tn,nn,rn,an){var sn=this;if(this.i18nFormat&&this.i18nFormat.parse)en=this.i18nFormat.parse(en,_objectSpread$2$1(_objectSpread$2$1({},this.options.interpolation.defaultVariables),nn),rn.usedLng,rn.usedNS,rn.usedKey,{resolved:rn});else if(!nn.skipInterpolation){nn.interpolation&&this.interpolator.init(_objectSpread$2$1(_objectSpread$2$1({},nn),{interpolation:_objectSpread$2$1(_objectSpread$2$1({},this.options.interpolation),nn.interpolation)}));var An,un="string"==typeof en&&(nn&&nn.interpolation&&void 0!==nn.interpolation.skipOnVariables?nn.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(un){var hn=en.match(this.interpolator.nestingRegexp);An=hn&&hn.length}var dn=nn.replace&&"string"!=typeof nn.replace?nn.replace:nn;if(this.options.interpolation.defaultVariables&&(dn=_objectSpread$2$1(_objectSpread$2$1({},this.options.interpolation.defaultVariables),dn)),en=this.interpolator.interpolate(en,dn,nn.lng||this.language,nn),un){var pn=en.match(this.interpolator.nestingRegexp);An<(pn&&pn.length)&&(nn.nest=!1)}!1!==nn.nest&&(en=this.interpolator.nest(en,(function(){for(var en=arguments.length,rn=new Array(en),An=0;An<en;An++)rn[An]=arguments[An];return an&&an[0]===rn[0]&&!nn.context?(sn.logger.warn("It seems you are nesting recursively key: ".concat(rn[0]," in key: ").concat(tn[0])),null):sn.translate.apply(sn,rn.concat([tn]))}),nn)),nn.interpolation&&this.interpolator.reset()}var gn=nn.postProcess||this.options.postProcess,mn="string"==typeof gn?[gn]:gn;return null!=en&&mn&&mn.length&&!1!==nn.applyPostProcessor&&(en=cn.handle(mn,en,tn,this.options&&this.options.postProcessPassResolved?_objectSpread$2$1({i18nResolved:rn},nn):nn,this)),en}},{key:"resolve",value:function resolve(en){var tn,nn,rn,an,sn,An=this,cn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof en&&(en=[en]),en.forEach((function(en){if(!An.isValidLookup(tn)){var hn=An.extractFromKey(en,cn),dn=hn.key;nn=dn;var pn=hn.namespaces;An.options.fallbackNS&&(pn=pn.concat(An.options.fallbackNS));var gn=void 0!==cn.count&&"string"!=typeof cn.count,mn=gn&&!cn.ordinal&&0===cn.count&&An.pluralResolver.shouldUseIntlApi(),vn=void 0!==cn.context&&("string"==typeof cn.context||"number"==typeof cn.context)&&""!==cn.context,yn=cn.lngs?cn.lngs:An.languageUtils.toResolveHierarchy(cn.lng||An.language,cn.fallbackLng);pn.forEach((function(en){An.isValidLookup(tn)||(sn=en,!un["".concat(yn[0],"-").concat(en)]&&An.utils&&An.utils.hasLoadedNamespace&&!An.utils.hasLoadedNamespace(sn)&&(un["".concat(yn[0],"-").concat(en)]=!0,An.logger.warn('key "'.concat(nn,'" for languages "').concat(yn.join(", "),'" won\'t get resolved as namespace "').concat(sn,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),yn.forEach((function(nn){if(!An.isValidLookup(tn)){an=nn;var sn,un=[dn];if(An.i18nFormat&&An.i18nFormat.addLookupKeys)An.i18nFormat.addLookupKeys(un,dn,nn,en,cn);else{var hn;gn&&(hn=An.pluralResolver.getSuffix(nn,cn.count,cn));var pn="".concat(An.options.pluralSeparator,"zero");if(gn&&(un.push(dn+hn),mn&&un.push(dn+pn)),vn){var yn="".concat(dn).concat(An.options.contextSeparator).concat(cn.context);un.push(yn),gn&&(un.push(yn+hn),mn&&un.push(yn+pn))}}for(;sn=un.pop();)An.isValidLookup(tn)||(rn=sn,tn=An.getResource(nn,en,sn,cn))}})))}))}})),{res:tn,usedKey:nn,exactUsedKey:rn,usedLng:an,usedNS:sn}}},{key:"isValidLookup",value:function isValidLookup(en){return!(void 0===en||!this.options.returnNull&&null===en||!this.options.returnEmptyString&&""===en)}},{key:"getResource",value:function getResource(en,tn,nn){var rn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(en,tn,nn,rn):this.resourceStore.getResource(en,tn,nn,rn)}}],[{key:"hasDefaultValue",value:function hasDefaultValue(en){var tn="defaultValue";for(var nn in en)if(Object.prototype.hasOwnProperty.call(en,nn)&&tn===nn.substring(0,tn.length)&&void 0!==en[nn])return!0;return!1}}]),Translator}();function capitalize(en){return en.charAt(0).toUpperCase()+en.slice(1)}var dn=function(){function LanguageUtil(en){_classCallCheck(this,LanguageUtil),this.options=en,this.supportedLngs=this.options.supportedLngs||!1,this.logger=tn.create("languageUtils")}return _createClass(LanguageUtil,[{key:"getScriptPartFromCode",value:function getScriptPartFromCode(en){if(!en||en.indexOf("-")<0)return null;var tn=en.split("-");return 2===tn.length?null:(tn.pop(),"x"===tn[tn.length-1].toLowerCase()?null:this.formatLanguageCode(tn.join("-")))}},{key:"getLanguagePartFromCode",value:function getLanguagePartFromCode(en){if(!en||en.indexOf("-")<0)return en;var tn=en.split("-");return this.formatLanguageCode(tn[0])}},{key:"formatLanguageCode",value:function formatLanguageCode(en){if("string"==typeof en&&en.indexOf("-")>-1){var tn=["hans","hant","latn","cyrl","cans","mong","arab"],nn=en.split("-");return this.options.lowerCaseLng?nn=nn.map((function(en){return en.toLowerCase()})):2===nn.length?(nn[0]=nn[0].toLowerCase(),nn[1]=nn[1].toUpperCase(),tn.indexOf(nn[1].toLowerCase())>-1&&(nn[1]=capitalize(nn[1].toLowerCase()))):3===nn.length&&(nn[0]=nn[0].toLowerCase(),2===nn[1].length&&(nn[1]=nn[1].toUpperCase()),"sgn"!==nn[0]&&2===nn[2].length&&(nn[2]=nn[2].toUpperCase()),tn.indexOf(nn[1].toLowerCase())>-1&&(nn[1]=capitalize(nn[1].toLowerCase())),tn.indexOf(nn[2].toLowerCase())>-1&&(nn[2]=capitalize(nn[2].toLowerCase()))),nn.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?en.toLowerCase():en}},{key:"isSupportedCode",value:function isSupportedCode(en){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(en=this.getLanguagePartFromCode(en)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(en)>-1}},{key:"getBestMatchFromCodes",value:function getBestMatchFromCodes(en){var tn,nn=this;return en?(en.forEach((function(en){if(!tn){var rn=nn.formatLanguageCode(en);nn.options.supportedLngs&&!nn.isSupportedCode(rn)||(tn=rn)}})),!tn&&this.options.supportedLngs&&en.forEach((function(en){if(!tn){var rn=nn.getLanguagePartFromCode(en);if(nn.isSupportedCode(rn))return tn=rn;tn=nn.options.supportedLngs.find((function(en){if(0===en.indexOf(rn))return en}))}})),tn||(tn=this.getFallbackCodes(this.options.fallbackLng)[0]),tn):null}},{key:"getFallbackCodes",value:function getFallbackCodes(en,tn){if(!en)return[];if("function"==typeof en&&(en=en(tn)),"string"==typeof en&&(en=[en]),"[object Array]"===Object.prototype.toString.apply(en))return en;if(!tn)return en.default||[];var nn=en[tn];return nn||(nn=en[this.getScriptPartFromCode(tn)]),nn||(nn=en[this.formatLanguageCode(tn)]),nn||(nn=en[this.getLanguagePartFromCode(tn)]),nn||(nn=en.default),nn||[]}},{key:"toResolveHierarchy",value:function toResolveHierarchy(en,tn){var nn=this,rn=this.getFallbackCodes(tn||this.options.fallbackLng||[],en),an=[],sn=function addCode(en){en&&(nn.isSupportedCode(en)?an.push(en):nn.logger.warn("rejecting language code not found in supportedLngs: ".concat(en)))};return"string"==typeof en&&en.indexOf("-")>-1?("languageOnly"!==this.options.load&&sn(this.formatLanguageCode(en)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&sn(this.getScriptPartFromCode(en)),"currentOnly"!==this.options.load&&sn(this.getLanguagePartFromCode(en))):"string"==typeof en&&sn(this.formatLanguageCode(en)),rn.forEach((function(en){an.indexOf(en)<0&&sn(nn.formatLanguageCode(en))})),an}}]),LanguageUtil}(),pn=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],gn={1:function _(en){return Number(en>1)},2:function _(en){return Number(1!=en)},3:function _(en){return 0},4:function _(en){return Number(en%10==1&&en%100!=11?0:en%10>=2&&en%10<=4&&(en%100<10||en%100>=20)?1:2)},5:function _(en){return Number(0==en?0:1==en?1:2==en?2:en%100>=3&&en%100<=10?3:en%100>=11?4:5)},6:function _(en){return Number(1==en?0:en>=2&&en<=4?1:2)},7:function _(en){return Number(1==en?0:en%10>=2&&en%10<=4&&(en%100<10||en%100>=20)?1:2)},8:function _(en){return Number(1==en?0:2==en?1:8!=en&&11!=en?2:3)},9:function _(en){return Number(en>=2)},10:function _(en){return Number(1==en?0:2==en?1:en<7?2:en<11?3:4)},11:function _(en){return Number(1==en||11==en?0:2==en||12==en?1:en>2&&en<20?2:3)},12:function _(en){return Number(en%10!=1||en%100==11)},13:function _(en){return Number(0!==en)},14:function _(en){return Number(1==en?0:2==en?1:3==en?2:3)},15:function _(en){return Number(en%10==1&&en%100!=11?0:en%10>=2&&(en%100<10||en%100>=20)?1:2)},16:function _(en){return Number(en%10==1&&en%100!=11?0:0!==en?1:2)},17:function _(en){return Number(1==en||en%10==1&&en%100!=11?0:1)},18:function _(en){return Number(0==en?0:1==en?1:2)},19:function _(en){return Number(1==en?0:0==en||en%100>1&&en%100<11?1:en%100>10&&en%100<20?2:3)},20:function _(en){return Number(1==en?0:0==en||en%100>0&&en%100<20?1:2)},21:function _(en){return Number(en%100==1?1:en%100==2?2:en%100==3||en%100==4?3:0)},22:function _(en){return Number(1==en?0:2==en?1:(en<0||en>10)&&en%10==0?2:3)}},mn=["v1","v2","v3"],vn={zero:0,one:1,two:2,few:3,many:4,other:5};function createRules(){var en={};return pn.forEach((function(tn){tn.lngs.forEach((function(nn){en[nn]={numbers:tn.nr,plurals:gn[tn.fc]}}))})),en}var yn=function(){function PluralResolver(en){var nn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,PluralResolver),this.languageUtils=en,this.options=nn,this.logger=tn.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=createRules()}return _createClass(PluralResolver,[{key:"addRule",value:function addRule(en,tn){this.rules[en]=tn}},{key:"getRule",value:function getRule(en){var tn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(en,{type:tn.ordinal?"ordinal":"cardinal"})}catch(en){return}return this.rules[en]||this.rules[this.languageUtils.getLanguagePartFromCode(en)]}},{key:"needsPlural",value:function needsPlural(en){var tn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},nn=this.getRule(en,tn);return this.shouldUseIntlApi()?nn&&nn.resolvedOptions().pluralCategories.length>1:nn&&nn.numbers.length>1}},{key:"getPluralFormsOfKey",value:function getPluralFormsOfKey(en,tn){var nn=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(en,nn).map((function(en){return"".concat(tn).concat(en)}))}},{key:"getSuffixes",value:function getSuffixes(en){var tn=this,nn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},rn=this.getRule(en,nn);return rn?this.shouldUseIntlApi()?rn.resolvedOptions().pluralCategories.sort((function(en,tn){return vn[en]-vn[tn]})).map((function(en){return"".concat(tn.options.prepend).concat(en)})):rn.numbers.map((function(rn){return tn.getSuffix(en,rn,nn)})):[]}},{key:"getSuffix",value:function getSuffix(en,tn){var nn=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},rn=this.getRule(en,nn);return rn?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(rn.select(tn)):this.getSuffixRetroCompatible(rn,tn):(this.logger.warn("no plural rule found for: ".concat(en)),"")}},{key:"getSuffixRetroCompatible",value:function getSuffixRetroCompatible(en,tn){var nn=this,rn=en.noAbs?en.plurals(tn):en.plurals(Math.abs(tn)),an=en.numbers[rn];this.options.simplifyPluralSuffix&&2===en.numbers.length&&1===en.numbers[0]&&(2===an?an="plural":1===an&&(an=""));var sn=function returnSuffix(){return nn.options.prepend&&an.toString()?nn.options.prepend+an.toString():an.toString()};return"v1"===this.options.compatibilityJSON?1===an?"":"number"==typeof an?"_plural_".concat(an.toString()):sn():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===en.numbers.length&&1===en.numbers[0]?sn():this.options.prepend&&rn.toString()?this.options.prepend+rn.toString():rn.toString()}},{key:"shouldUseIntlApi",value:function shouldUseIntlApi(){return!mn.includes(this.options.compatibilityJSON)}}]),PluralResolver}();function ownKeys$3$1(en,tn){var nn=Object.keys(en);if(Object.getOwnPropertySymbols){var rn=Object.getOwnPropertySymbols(en);tn&&(rn=rn.filter((function(tn){return Object.getOwnPropertyDescriptor(en,tn).enumerable}))),nn.push.apply(nn,rn)}return nn}function _objectSpread$3(en){for(var tn=1;tn<arguments.length;tn++){var nn=null!=arguments[tn]?arguments[tn]:{};tn%2?ownKeys$3$1(Object(nn),!0).forEach((function(tn){_defineProperty$1(en,tn,nn[tn])})):Object.getOwnPropertyDescriptors?Object.defineProperties(en,Object.getOwnPropertyDescriptors(nn)):ownKeys$3$1(Object(nn)).forEach((function(tn){Object.defineProperty(en,tn,Object.getOwnPropertyDescriptor(nn,tn))}))}return en}var bn=function(){function Interpolator(){var en=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,Interpolator),this.logger=tn.create("interpolator"),this.options=en,this.format=en.interpolation&&en.interpolation.format||function(en){return en},this.init(en)}return _createClass(Interpolator,[{key:"init",value:function init(){var en=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};en.interpolation||(en.interpolation={escapeValue:!0});var tn=en.interpolation;this.escape=void 0!==tn.escape?tn.escape:escape$1,this.escapeValue=void 0===tn.escapeValue||tn.escapeValue,this.useRawValueToEscape=void 0!==tn.useRawValueToEscape&&tn.useRawValueToEscape,this.prefix=tn.prefix?regexEscape$1(tn.prefix):tn.prefixEscaped||"{{",this.suffix=tn.suffix?regexEscape$1(tn.suffix):tn.suffixEscaped||"}}",this.formatSeparator=tn.formatSeparator?tn.formatSeparator:tn.formatSeparator||",",this.unescapePrefix=tn.unescapeSuffix?"":tn.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":tn.unescapeSuffix||"",this.nestingPrefix=tn.nestingPrefix?regexEscape$1(tn.nestingPrefix):tn.nestingPrefixEscaped||regexEscape$1("$t("),this.nestingSuffix=tn.nestingSuffix?regexEscape$1(tn.nestingSuffix):tn.nestingSuffixEscaped||regexEscape$1(")"),this.nestingOptionsSeparator=tn.nestingOptionsSeparator?tn.nestingOptionsSeparator:tn.nestingOptionsSeparator||",",this.maxReplaces=tn.maxReplaces?tn.maxReplaces:1e3,this.alwaysFormat=void 0!==tn.alwaysFormat&&tn.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function reset(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function resetRegExp(){var en="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(en,"g");var tn="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(tn,"g");var nn="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(nn,"g")}},{key:"interpolate",value:function interpolate(en,tn,nn,rn){var an,sn,An,cn=this,un=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function regexSafe(en){return en.replace(/\$/g,"$$$$")}var hn=function handleFormat(en){if(en.indexOf(cn.formatSeparator)<0){var an=getPathWithDefaults(tn,un,en);return cn.alwaysFormat?cn.format(an,void 0,nn,_objectSpread$3(_objectSpread$3(_objectSpread$3({},rn),tn),{},{interpolationkey:en})):an}var sn=en.split(cn.formatSeparator),An=sn.shift().trim(),hn=sn.join(cn.formatSeparator).trim();return cn.format(getPathWithDefaults(tn,un,An),hn,nn,_objectSpread$3(_objectSpread$3(_objectSpread$3({},rn),tn),{},{interpolationkey:An}))};this.resetRegExp();var dn=rn&&rn.missingInterpolationHandler||this.options.missingInterpolationHandler,pn=rn&&rn.interpolation&&void 0!==rn.interpolation.skipOnVariables?rn.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function safeValue(en){return regexSafe(en)}},{regex:this.regexp,safeValue:function safeValue(en){return cn.escapeValue?regexSafe(cn.escape(en)):regexSafe(en)}}].forEach((function(tn){for(An=0;an=tn.regex.exec(en);){var nn=an[1].trim();if(void 0===(sn=hn(nn)))if("function"==typeof dn){var un=dn(en,an,rn);sn="string"==typeof un?un:""}else if(rn&&rn.hasOwnProperty(nn))sn="";else{if(pn){sn=an[0];continue}cn.logger.warn("missed to pass in variable ".concat(nn," for interpolating ").concat(en)),sn=""}else"string"==typeof sn||cn.useRawValueToEscape||(sn=makeString(sn));var gn=tn.safeValue(sn);if(en=en.replace(an[0],gn),pn?(tn.regex.lastIndex+=sn.length,tn.regex.lastIndex-=an[0].length):tn.regex.lastIndex=0,++An>=cn.maxReplaces)break}})),en}},{key:"nest",value:function nest(en,tn){var nn,rn,an=this,sn=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},An=_objectSpread$3({},sn);function handleHasOptions(en,tn){var nn=this.nestingOptionsSeparator;if(en.indexOf(nn)<0)return en;var rn=en.split(new RegExp("".concat(nn,"[ ]*{"))),an="{".concat(rn[1]);en=rn[0],an=(an=this.interpolate(an,An)).replace(/'/g,'"');try{An=JSON.parse(an),tn&&(An=_objectSpread$3(_objectSpread$3({},tn),An))}catch(tn){return this.logger.warn("failed parsing options string in nesting for key ".concat(en),tn),"".concat(en).concat(nn).concat(an)}return delete An.defaultValue,en}for(An.applyPostProcessor=!1,delete An.defaultValue;nn=this.nestingRegexp.exec(en);){var cn=[],un=!1;if(-1!==nn[0].indexOf(this.formatSeparator)&&!/{.*}/.test(nn[1])){var hn=nn[1].split(this.formatSeparator).map((function(en){return en.trim()}));nn[1]=hn.shift(),cn=hn,un=!0}if((rn=tn(handleHasOptions.call(this,nn[1].trim(),An),An))&&nn[0]===en&&"string"!=typeof rn)return rn;"string"!=typeof rn&&(rn=makeString(rn)),rn||(this.logger.warn("missed to resolve ".concat(nn[1]," for nesting ").concat(en)),rn=""),un&&(rn=cn.reduce((function(en,tn){return an.format(en,tn,sn.lng,_objectSpread$3(_objectSpread$3({},sn),{},{interpolationkey:nn[1].trim()}))}),rn.trim())),en=en.replace(nn[0],rn),this.regexp.lastIndex=0}return en}}]),Interpolator}();function ownKeys$4(en,tn){var nn=Object.keys(en);if(Object.getOwnPropertySymbols){var rn=Object.getOwnPropertySymbols(en);tn&&(rn=rn.filter((function(tn){return Object.getOwnPropertyDescriptor(en,tn).enumerable}))),nn.push.apply(nn,rn)}return nn}function _objectSpread$4(en){for(var tn=1;tn<arguments.length;tn++){var nn=null!=arguments[tn]?arguments[tn]:{};tn%2?ownKeys$4(Object(nn),!0).forEach((function(tn){_defineProperty$1(en,tn,nn[tn])})):Object.getOwnPropertyDescriptors?Object.defineProperties(en,Object.getOwnPropertyDescriptors(nn)):ownKeys$4(Object(nn)).forEach((function(tn){Object.defineProperty(en,tn,Object.getOwnPropertyDescriptor(nn,tn))}))}return en}var wn=function(){function Formatter(){var en=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,Formatter),this.logger=tn.create("formatter"),this.options=en,this.formats={number:function number(en,tn,nn){return new Intl.NumberFormat(tn,nn).format(en)},currency:function currency(en,tn,nn){return new Intl.NumberFormat(tn,_objectSpread$4(_objectSpread$4({},nn),{},{style:"currency"})).format(en)},datetime:function datetime(en,tn,nn){return new Intl.DateTimeFormat(tn,_objectSpread$4({},nn)).format(en)},relativetime:function relativetime(en,tn,nn){return new Intl.RelativeTimeFormat(tn,_objectSpread$4({},nn)).format(en,nn.range||"day")},list:function list(en,tn,nn){return new Intl.ListFormat(tn,_objectSpread$4({},nn)).format(en)}},this.init(en)}return _createClass(Formatter,[{key:"init",value:function init(en){var tn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},nn=tn.interpolation;this.formatSeparator=nn.formatSeparator?nn.formatSeparator:nn.formatSeparator||","}},{key:"add",value:function add(en,tn){this.formats[en.toLowerCase().trim()]=tn}},{key:"format",value:function format(en,tn,nn,rn){var an=this,sn=tn.split(this.formatSeparator).reduce((function(en,tn){var sn=function parseFormatStr(en){var tn=en.toLowerCase().trim(),nn={};if(en.indexOf("(")>-1){var rn=en.split("(");tn=rn[0].toLowerCase().trim();var an=rn[1].substring(0,rn[1].length-1);"currency"===tn&&an.indexOf(":")<0?nn.currency||(nn.currency=an.trim()):"relativetime"===tn&&an.indexOf(":")<0?nn.range||(nn.range=an.trim()):an.split(";").forEach((function(en){if(en){var tn=_toArray(en.split(":")),rn=tn[0],an=tn.slice(1).join(":").trim().replace(/^'+|'+$/g,"");nn[rn.trim()]||(nn[rn.trim()]=an),"false"===an&&(nn[rn.trim()]=!1),"true"===an&&(nn[rn.trim()]=!0),isNaN(an)||(nn[rn.trim()]=parseInt(an,10))}}))}return{formatName:tn,formatOptions:nn}}(tn),An=sn.formatName,cn=sn.formatOptions;if(an.formats[An]){var un=en;try{var hn=rn&&rn.formatParams&&rn.formatParams[rn.interpolationkey]||{},dn=hn.locale||hn.lng||rn.locale||rn.lng||nn;un=an.formats[An](en,dn,_objectSpread$4(_objectSpread$4(_objectSpread$4({},cn),rn),hn))}catch(en){an.logger.warn(en)}return un}return an.logger.warn("there was no format function for ".concat(An)),en}),en);return sn}}]),Formatter}();function ownKeys$5(en,tn){var nn=Object.keys(en);if(Object.getOwnPropertySymbols){var rn=Object.getOwnPropertySymbols(en);tn&&(rn=rn.filter((function(tn){return Object.getOwnPropertyDescriptor(en,tn).enumerable}))),nn.push.apply(nn,rn)}return nn}function _objectSpread$5(en){for(var tn=1;tn<arguments.length;tn++){var nn=null!=arguments[tn]?arguments[tn]:{};tn%2?ownKeys$5(Object(nn),!0).forEach((function(tn){_defineProperty$1(en,tn,nn[tn])})):Object.getOwnPropertyDescriptors?Object.defineProperties(en,Object.getOwnPropertyDescriptors(nn)):ownKeys$5(Object(nn)).forEach((function(tn){Object.defineProperty(en,tn,Object.getOwnPropertyDescriptor(nn,tn))}))}return en}function _createSuper$2(en){var tn=function _isNativeReflectConstruct$2(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(en){return!1}}();return function _createSuperInternal(){var nn,rn=_getPrototypeOf(en);if(tn){var an=_getPrototypeOf(this).constructor;nn=Reflect.construct(rn,arguments,an)}else nn=rn.apply(this,arguments);return _possibleConstructorReturn(this,nn)}}var Cn=function(en){_inherits(Connector,nn);var rn=_createSuper$2(Connector);function Connector(en,sn,An){var cn,un=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return _classCallCheck(this,Connector),cn=rn.call(this),an&&nn.call(_assertThisInitialized(cn)),cn.backend=en,cn.store=sn,cn.services=An,cn.languageUtils=An.languageUtils,cn.options=un,cn.logger=tn.create("backendConnector"),cn.waitingReads=[],cn.maxParallelReads=un.maxParallelReads||10,cn.readingCalls=0,cn.maxRetries=un.maxRetries>=0?un.maxRetries:5,cn.retryTimeout=un.retryTimeout>=1?un.retryTimeout:350,cn.state={},cn.queue=[],cn.backend&&cn.backend.init&&cn.backend.init(An,un.backend,un),cn}return _createClass(Connector,[{key:"queueLoad",value:function queueLoad(en,tn,nn,rn){var an=this,sn={},An={},cn={},un={};return en.forEach((function(en){var rn=!0;tn.forEach((function(tn){var cn="".concat(en,"|").concat(tn);!nn.reload&&an.store.hasResourceBundle(en,tn)?an.state[cn]=2:an.state[cn]<0||(1===an.state[cn]?void 0===An[cn]&&(An[cn]=!0):(an.state[cn]=1,rn=!1,void 0===An[cn]&&(An[cn]=!0),void 0===sn[cn]&&(sn[cn]=!0),void 0===un[tn]&&(un[tn]=!0)))})),rn||(cn[en]=!0)})),(Object.keys(sn).length||Object.keys(An).length)&&this.queue.push({pending:An,pendingCount:Object.keys(An).length,loaded:{},errors:[],callback:rn}),{toLoad:Object.keys(sn),pending:Object.keys(An),toLoadLanguages:Object.keys(cn),toLoadNamespaces:Object.keys(un)}}},{key:"loaded",value:function loaded(en,tn,nn){var rn=en.split("|"),an=rn[0],sn=rn[1];tn&&this.emit("failedLoading",an,sn,tn),nn&&this.store.addResourceBundle(an,sn,nn),this.state[en]=tn?-1:2;var loaded={};this.queue.forEach((function(nn){!function pushPath(en,tn,nn,rn){var an=getLastOfPath(en,tn,Object),sn=an.obj,An=an.k;sn[An]=sn[An]||[],rn&&(sn[An]=sn[An].concat(nn)),rn||sn[An].push(nn)}(nn.loaded,[an],sn),function removePending(en,tn){void 0!==en.pending[tn]&&(delete en.pending[tn],en.pendingCount--)}(nn,en),tn&&nn.errors.push(tn),0!==nn.pendingCount||nn.done||(Object.keys(nn.loaded).forEach((function(en){loaded[en]||(loaded[en]={});var tn=nn.loaded[en];tn.length&&tn.forEach((function(tn){void 0===loaded[en][tn]&&(loaded[en][tn]=!0)}))})),nn.done=!0,nn.errors.length?nn.callback(nn.errors):nn.callback())})),this.emit("loaded",loaded),this.queue=this.queue.filter((function(en){return!en.done}))}},{key:"read",value:function read(en,tn,nn){var rn=this,an=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,sn=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,An=arguments.length>5?arguments[5]:void 0;return en.length?this.readingCalls>=this.maxParallelReads?void this.waitingReads.push({lng:en,ns:tn,fcName:nn,tried:an,wait:sn,callback:An}):(this.readingCalls++,this.backend[nn](en,tn,(function(cn,un){if(rn.readingCalls--,rn.waitingReads.length>0){var hn=rn.waitingReads.shift();rn.read(hn.lng,hn.ns,hn.fcName,hn.tried,hn.wait,hn.callback)}cn&&un&&an<rn.maxRetries?setTimeout((function(){rn.read.call(rn,en,tn,nn,an+1,2*sn,An)}),sn):An(cn,un)}))):An(null,{})}},{key:"prepareLoading",value:function prepareLoading(en,tn){var nn=this,rn=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},an=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),an&&an();"string"==typeof en&&(en=this.languageUtils.toResolveHierarchy(en)),"string"==typeof tn&&(tn=[tn]);var sn=this.queueLoad(en,tn,rn,an);if(!sn.toLoad.length)return sn.pending.length||an(),null;sn.toLoad.forEach((function(en){nn.loadOne(en)}))}},{key:"load",value:function load(en,tn,nn){this.prepareLoading(en,tn,{},nn)}},{key:"reload",value:function reload(en,tn,nn){this.prepareLoading(en,tn,{reload:!0},nn)}},{key:"loadOne",value:function loadOne(en){var tn=this,nn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",rn=en.split("|"),an=rn[0],sn=rn[1];this.read(an,sn,"read",void 0,void 0,(function(rn,An){rn&&tn.logger.warn("".concat(nn,"loading namespace ").concat(sn," for language ").concat(an," failed"),rn),!rn&&An&&tn.logger.log("".concat(nn,"loaded namespace ").concat(sn," for language ").concat(an),An),tn.loaded(en,rn,An)}))}},{key:"saveMissing",value:function saveMissing(en,tn,nn,rn,an){var sn=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(tn)?this.logger.warn('did not save key "'.concat(nn,'" as the namespace "').concat(tn,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=nn&&""!==nn&&(this.backend&&this.backend.create&&this.backend.create(en,tn,nn,rn,null,_objectSpread$5(_objectSpread$5({},sn),{},{isUpdate:an})),en&&en[0]&&this.store.addResource(en[0],tn,nn,rn))}}]),Connector}();function get(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function handle(en){var tn={};if("object"===_typeof$2(en[1])&&(tn=en[1]),"string"==typeof en[1]&&(tn.defaultValue=en[1]),"string"==typeof en[2]&&(tn.tDescription=en[2]),"object"===_typeof$2(en[2])||"object"===_typeof$2(en[3])){var nn=en[3]||en[2];Object.keys(nn).forEach((function(en){tn[en]=nn[en]}))}return tn},interpolation:{escapeValue:!0,format:function format(en,tn,nn,rn){return en},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function transformOptions(en){return"string"==typeof en.ns&&(en.ns=[en.ns]),"string"==typeof en.fallbackLng&&(en.fallbackLng=[en.fallbackLng]),"string"==typeof en.fallbackNS&&(en.fallbackNS=[en.fallbackNS]),en.supportedLngs&&en.supportedLngs.indexOf("cimode")<0&&(en.supportedLngs=en.supportedLngs.concat(["cimode"])),en}function ownKeys$6(en,tn){var nn=Object.keys(en);if(Object.getOwnPropertySymbols){var rn=Object.getOwnPropertySymbols(en);tn&&(rn=rn.filter((function(tn){return Object.getOwnPropertyDescriptor(en,tn).enumerable}))),nn.push.apply(nn,rn)}return nn}function _objectSpread$6(en){for(var tn=1;tn<arguments.length;tn++){var nn=null!=arguments[tn]?arguments[tn]:{};tn%2?ownKeys$6(Object(nn),!0).forEach((function(tn){_defineProperty$1(en,tn,nn[tn])})):Object.getOwnPropertyDescriptors?Object.defineProperties(en,Object.getOwnPropertyDescriptors(nn)):ownKeys$6(Object(nn)).forEach((function(tn){Object.defineProperty(en,tn,Object.getOwnPropertyDescriptor(nn,tn))}))}return en}function _createSuper$3(en){var tn=function _isNativeReflectConstruct$3(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(en){return!1}}();return function _createSuperInternal(){var nn,rn=_getPrototypeOf(en);if(tn){var an=_getPrototypeOf(this).constructor;nn=Reflect.construct(rn,arguments,an)}else nn=rn.apply(this,arguments);return _possibleConstructorReturn(this,nn)}}function noop$2(){}function bindMemberFunctions(en){Object.getOwnPropertyNames(Object.getPrototypeOf(en)).forEach((function(tn){"function"==typeof en[tn]&&(en[tn]=en[tn].bind(en))}))}var xn=function(en){_inherits(I18n,nn);var rn=_createSuper$3(I18n);function I18n(){var en,sn=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},An=arguments.length>1?arguments[1]:void 0;if(_classCallCheck(this,I18n),en=rn.call(this),an&&nn.call(_assertThisInitialized(en)),en.options=transformOptions(sn),en.services={},en.logger=tn,en.modules={external:[]},bindMemberFunctions(_assertThisInitialized(en)),An&&!en.isInitialized&&!sn.isClone){if(!en.options.initImmediate)return en.init(sn,An),_possibleConstructorReturn(en,_assertThisInitialized(en));setTimeout((function(){en.init(sn,An)}),0)}return en}return _createClass(I18n,[{key:"init",value:function init(){var en=this,nn=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},rn=arguments.length>1?arguments[1]:void 0;"function"==typeof nn&&(rn=nn,nn={}),!nn.defaultNS&&nn.ns&&("string"==typeof nn.ns?nn.defaultNS=nn.ns:nn.ns.indexOf("translation")<0&&(nn.defaultNS=nn.ns[0]));var an=get();function createClassOnDemand(en){return en?"function"==typeof en?new en:en:null}if(this.options=_objectSpread$6(_objectSpread$6(_objectSpread$6({},an),this.options),transformOptions(nn)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=_objectSpread$6(_objectSpread$6({},an.interpolation),this.options.interpolation)),void 0!==nn.keySeparator&&(this.options.userDefinedKeySeparator=nn.keySeparator),void 0!==nn.nsSeparator&&(this.options.userDefinedNsSeparator=nn.nsSeparator),!this.options.isClone){var sn;this.modules.logger?tn.init(createClassOnDemand(this.modules.logger),this.options):tn.init(null,this.options),this.modules.formatter?sn=this.modules.formatter:"undefined"!=typeof Intl&&(sn=wn);var cn=new dn(this.options);this.store=new An(this.options.resources,this.options);var un=this.services;un.logger=tn,un.resourceStore=this.store,un.languageUtils=cn,un.pluralResolver=new yn(cn,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!sn||this.options.interpolation.format&&this.options.interpolation.format!==an.interpolation.format||(un.formatter=createClassOnDemand(sn),un.formatter.init(un,this.options),this.options.interpolation.format=un.formatter.format.bind(un.formatter)),un.interpolator=new bn(this.options),un.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},un.backendConnector=new Cn(createClassOnDemand(this.modules.backend),un.resourceStore,un,this.options),un.backendConnector.on("*",(function(tn){for(var nn=arguments.length,rn=new Array(nn>1?nn-1:0),an=1;an<nn;an++)rn[an-1]=arguments[an];en.emit.apply(en,[tn].concat(rn))})),this.modules.languageDetector&&(un.languageDetector=createClassOnDemand(this.modules.languageDetector),un.languageDetector.init(un,this.options.detection,this.options)),this.modules.i18nFormat&&(un.i18nFormat=createClassOnDemand(this.modules.i18nFormat),un.i18nFormat.init&&un.i18nFormat.init(this)),this.translator=new hn(this.services,this.options),this.translator.on("*",(function(tn){for(var nn=arguments.length,rn=new Array(nn>1?nn-1:0),an=1;an<nn;an++)rn[an-1]=arguments[an];en.emit.apply(en,[tn].concat(rn))})),this.modules.external.forEach((function(tn){tn.init&&tn.init(en)}))}if(this.format=this.options.interpolation.format,rn||(rn=noop$2),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var pn=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);pn.length>0&&"dev"!==pn[0]&&(this.options.lng=pn[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var gn=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];gn.forEach((function(tn){en[tn]=function(){var nn;return(nn=en.store)[tn].apply(nn,arguments)}}));var mn=["addResource","addResources","addResourceBundle","removeResourceBundle"];mn.forEach((function(tn){en[tn]=function(){var nn;return(nn=en.store)[tn].apply(nn,arguments),en}}));var vn=defer(),xn=function load(){var tn=function finish(tn,nn){en.isInitialized&&!en.initializedStoreOnce&&en.logger.warn("init: i18next is already initialized. You should call init just once!"),en.isInitialized=!0,en.options.isClone||en.logger.log("initialized",en.options),en.emit("initialized",en.options),vn.resolve(nn),rn(tn,nn)};if(en.languages&&"v1"!==en.options.compatibilityAPI&&!en.isInitialized)return tn(null,en.t.bind(en));en.changeLanguage(en.options.lng,tn)};return this.options.resources||!this.options.initImmediate?xn():setTimeout(xn,0),vn}},{key:"loadResources",value:function loadResources(en){var tn=this,nn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:noop$2,rn=nn,an="string"==typeof en?en:this.language;if("function"==typeof en&&(rn=en),!this.options.resources||this.options.partialBundledLanguages){if(an&&"cimode"===an.toLowerCase())return rn();var sn=[],An=function append(en){en&&tn.services.languageUtils.toResolveHierarchy(en).forEach((function(en){sn.indexOf(en)<0&&sn.push(en)}))};if(an)An(an);else{var cn=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);cn.forEach((function(en){return An(en)}))}this.options.preload&&this.options.preload.forEach((function(en){return An(en)})),this.services.backendConnector.load(sn,this.options.ns,(function(en){en||tn.resolvedLanguage||!tn.language||tn.setResolvedLanguage(tn.language),rn(en)}))}else rn(null)}},{key:"reloadResources",value:function reloadResources(en,tn,nn){var rn=defer();return en||(en=this.languages),tn||(tn=this.options.ns),nn||(nn=noop$2),this.services.backendConnector.reload(en,tn,(function(en){rn.resolve(),nn(en)})),rn}},{key:"use",value:function use(en){if(!en)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!en.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===en.type&&(this.modules.backend=en),("logger"===en.type||en.log&&en.warn&&en.error)&&(this.modules.logger=en),"languageDetector"===en.type&&(this.modules.languageDetector=en),"i18nFormat"===en.type&&(this.modules.i18nFormat=en),"postProcessor"===en.type&&cn.addPostProcessor(en),"formatter"===en.type&&(this.modules.formatter=en),"3rdParty"===en.type&&this.modules.external.push(en),this}},{key:"setResolvedLanguage",value:function setResolvedLanguage(en){if(en&&this.languages&&!(["cimode","dev"].indexOf(en)>-1))for(var tn=0;tn<this.languages.length;tn++){var nn=this.languages[tn];if(!(["cimode","dev"].indexOf(nn)>-1)&&this.store.hasLanguageSomeTranslations(nn)){this.resolvedLanguage=nn;break}}}},{key:"changeLanguage",value:function changeLanguage(en,tn){var nn=this;this.isLanguageChangingTo=en;var rn=defer();this.emit("languageChanging",en);var an=function setLngProps(en){nn.language=en,nn.languages=nn.services.languageUtils.toResolveHierarchy(en),nn.resolvedLanguage=void 0,nn.setResolvedLanguage(en)},sn=function setLng(sn){en||sn||!nn.services.languageDetector||(sn=[]);var An="string"==typeof sn?sn:nn.services.languageUtils.getBestMatchFromCodes(sn);An&&(nn.language||an(An),nn.translator.language||nn.translator.changeLanguage(An),nn.services.languageDetector&&nn.services.languageDetector.cacheUserLanguage(An)),nn.loadResources(An,(function(en){!function done(en,sn){sn?(an(sn),nn.translator.changeLanguage(sn),nn.isLanguageChangingTo=void 0,nn.emit("languageChanged",sn),nn.logger.log("languageChanged",sn)):nn.isLanguageChangingTo=void 0,rn.resolve((function(){return nn.t.apply(nn,arguments)})),tn&&tn(en,(function(){return nn.t.apply(nn,arguments)}))}(en,An)}))};return en||!this.services.languageDetector||this.services.languageDetector.async?!en&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(sn):sn(en):sn(this.services.languageDetector.detect()),rn}},{key:"getFixedT",value:function getFixedT(en,tn,nn){var rn=this,an=function fixedT(en,tn){var an;if("object"!==_typeof$2(tn)){for(var sn=arguments.length,An=new Array(sn>2?sn-2:0),cn=2;cn<sn;cn++)An[cn-2]=arguments[cn];an=rn.options.overloadTranslationOptionHandler([en,tn].concat(An))}else an=_objectSpread$6({},tn);an.lng=an.lng||fixedT.lng,an.lngs=an.lngs||fixedT.lngs,an.ns=an.ns||fixedT.ns,an.keyPrefix=an.keyPrefix||nn||fixedT.keyPrefix;var un=rn.options.keySeparator||".",hn=an.keyPrefix?"".concat(an.keyPrefix).concat(un).concat(en):en;return rn.t(hn,an)};return"string"==typeof en?an.lng=en:an.lngs=en,an.ns=tn,an.keyPrefix=nn,an}},{key:"t",value:function t(){var en;return this.translator&&(en=this.translator).translate.apply(en,arguments)}},{key:"exists",value:function exists(){var en;return this.translator&&(en=this.translator).exists.apply(en,arguments)}},{key:"setDefaultNamespace",value:function setDefaultNamespace(en){this.options.defaultNS=en}},{key:"hasLoadedNamespace",value:function hasLoadedNamespace(en){var tn=this,nn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var rn=this.resolvedLanguage||this.languages[0],an=!!this.options&&this.options.fallbackLng,sn=this.languages[this.languages.length-1];if("cimode"===rn.toLowerCase())return!0;var An=function loadNotPending(en,nn){var rn=tn.services.backendConnector.state["".concat(en,"|").concat(nn)];return-1===rn||2===rn};if(nn.precheck){var cn=nn.precheck(this,An);if(void 0!==cn)return cn}return!!this.hasResourceBundle(rn,en)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!An(rn,en)||an&&!An(sn,en)))}},{key:"loadNamespaces",value:function loadNamespaces(en,tn){var nn=this,rn=defer();return this.options.ns?("string"==typeof en&&(en=[en]),en.forEach((function(en){nn.options.ns.indexOf(en)<0&&nn.options.ns.push(en)})),this.loadResources((function(en){rn.resolve(),tn&&tn(en)})),rn):(tn&&tn(),Promise.resolve())}},{key:"loadLanguages",value:function loadLanguages(en,tn){var nn=defer();"string"==typeof en&&(en=[en]);var rn=this.options.preload||[],an=en.filter((function(en){return rn.indexOf(en)<0}));return an.length?(this.options.preload=rn.concat(an),this.loadResources((function(en){nn.resolve(),tn&&tn(en)})),nn):(tn&&tn(),Promise.resolve())}},{key:"dir",value:function dir(en){if(en||(en=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!en)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(en))>-1||en.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function cloneInstance(){var en=this,tn=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},nn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:noop$2,rn=_objectSpread$6(_objectSpread$6(_objectSpread$6({},this.options),tn),{isClone:!0}),an=new I18n(rn),sn=["store","services","language"];return sn.forEach((function(tn){an[tn]=en[tn]})),an.services=_objectSpread$6({},this.services),an.services.utils={hasLoadedNamespace:an.hasLoadedNamespace.bind(an)},an.translator=new hn(an.services,an.options),an.translator.on("*",(function(en){for(var tn=arguments.length,nn=new Array(tn>1?tn-1:0),rn=1;rn<tn;rn++)nn[rn-1]=arguments[rn];an.emit.apply(an,[en].concat(nn))})),an.init(rn,nn),an.translator.options=an.options,an.translator.backendConnector.services.utils={hasLoadedNamespace:an.hasLoadedNamespace.bind(an)},an}},{key:"toJSON",value:function toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),I18n}();_defineProperty$1(xn,"createInstance",(function(){var en=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},tn=arguments.length>1?arguments[1]:void 0;return new xn(en,tn)}));var Bn,_n=xn.createInstance();_n.createInstance=xn.createInstance,_n.createInstance,_n.init,_n.loadResources,_n.reloadResources,_n.use,_n.changeLanguage,_n.getFixedT,_n.t,_n.exists,_n.setDefaultNamespace,_n.hasLoadedNamespace,_n.loadNamespaces,_n.loadLanguages;var Sn=function(){var en=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee(en,tn){var nn;return _regeneratorRuntime().wrap((function _callee$(rn){for(;;)switch(rn.prev=rn.next){case 0:return en?Bn=en:navigator.userLanguage?Bn=navigator.userLanguage:navigator.language&&(Bn=navigator.language),tn.includes(Bn)||"test"===Bn||(Bn="en"),rn.next=4,import("./locale/lang.".concat(encodeURIComponent(Bn),".js"));case 4:return nn=rn.sent,_n.init({lng:Bn,debug:!1,resources:_defineProperty$2({},Bn,{translation:nn.default})}),rn.abrupt("return",{langParam:Bn,i18next:_n});case 7:case"end":return rn.stop()}}),_callee)})));return function putLocale(tn,nn){return en.apply(this,arguments)}}(),kn=function t(en){return _n.t(en)},En=document.createElement("template");En.innerHTML='\n  <style>\n  :host(:hover) :not(.disabled)\n  {\n    background-color: var(--icon-bg-color-hover);\n  }\n  div\n  {\n    height: 24px;\n    width: 24px;\n    margin: 4px 1px 4px;\n    padding: 3px;\n    background-color: var(--icon-bg-color);\n    cursor: pointer;\n    border-radius: 3px;\n  }\n  .small {\n    width: 14px;\n    height: 14px;\n    padding: 1px;\n    border-radius: 1px;\n  }\n  img {\n    border: none;\n    width: 100%;\n    height: 100%;\n  }\n  .pressed {\n    background-color: var(--icon-bg-color-hover);\n  }\n  .disabled {\n    opacity: 0.3;\n    cursor: default;\n  }\n  </style>\n  <div title="title">\n    <img alt="icon">\n  </div>\n';var Pn=function(en){_inherits$1(ToolButton,_wrapNativeSuper(HTMLElement));var tn=_createSuper$4(ToolButton);function ToolButton(){var en;return _classCallCheck$1(this,ToolButton),(en=tn.call(this))._shadowRoot=en.attachShadow({mode:"open"}),en._shadowRoot.append(En.content.cloneNode(!0)),en.$div=en._shadowRoot.querySelector("div"),en.$img=en._shadowRoot.querySelector("img"),en.imgPath=svgEditor.configObj.curConfig.imgPath,en}return _createClass$1(ToolButton,[{key:"attributeChangedCallback",value:function attributeChangedCallback(en,tn,nn){if(tn!==nn)switch(en){case"title":var rn=this.getAttribute("shortcut");this.$div.setAttribute("title","".concat(kn(nn)," ").concat(rn?"[".concat(kn(rn),"]"):""));break;case"style":this.$div.style=nn;break;case"src":-1!==nn.indexOf("data:")?this.$img.setAttribute("src",nn):this.$img.setAttribute("src",this.imgPath+"/"+nn);break;case"pressed":null===nn?this.$div.classList.remove("pressed"):this.$div.classList.add("pressed");break;case"size":"small"===nn?this.$div.classList.add("small"):this.$div.classList.remove("small");break;case"disabled":nn?this.$div.classList.add("disabled"):this.$div.classList.remove("disabled");break;default:console.error("unknown attribute: ".concat(en))}}},{key:"title",get:function get(){return this.getAttribute("title")},set:function set(en){this.setAttribute("title",en)}},{key:"pressed",get:function get(){return this.hasAttribute("pressed")},set:function set(en){en?this.setAttribute("pressed","true"):this.removeAttribute("pressed")}},{key:"disabled",get:function get(){return this.hasAttribute("disabled")},set:function set(en){en?this.setAttribute("disabled","true"):this.removeAttribute("disabled")}},{key:"src",get:function get(){return this.getAttribute("src")},set:function set(en){this.setAttribute("src",en)}},{key:"size",get:function get(){return this.getAttribute("size")},set:function set(en){this.setAttribute("size",en)}},{key:"connectedCallback",value:function connectedCallback(){var en=this,tn=this.getAttribute("shortcut");tn&&document.addEventListener("keydown",(function(nn){if("BODY"===nn.target.nodeName){var rn="".concat(nn.metaKey?"meta+":"").concat(nn.ctrlKey?"ctrl+":"").concat(nn.key.toUpperCase());tn===rn&&(en.click(),nn.preventDefault())}}))}}],[{key:"observedAttributes",get:function get(){return["title","src","pressed","disabled","size","style"]}}]),ToolButton}();customElements.define("se-button",Pn);var Fn=function(en){_inherits$1(FlyingButton,_wrapNativeSuper(HTMLElement));var tn=_createSuper$4(FlyingButton);function FlyingButton(){var en;return _classCallCheck$1(this,FlyingButton),(en=tn.call(this)).imgPath=svgEditor.configObj.curConfig.imgPath,en.template=en.createTemplate(en.imgPath),en._shadowRoot=en.attachShadow({mode:"open"}),en._shadowRoot.append(en.template.content.cloneNode(!0)),en.$button=en._shadowRoot.querySelector(".menu-button"),en.$handle=en._shadowRoot.querySelector(".handle"),en.$overall=en._shadowRoot.querySelector(".overall"),en.$img=en._shadowRoot.querySelector("img"),en.$menu=en._shadowRoot.querySelector(".menu"),en.$elements=en.$menu.lastElementChild.assignedElements(),en}return _createClass$1(FlyingButton,[{key:"createTemplate",value:function createTemplate(en){var tn=document.createElement("template");return tn.innerHTML="\n      <style>\n        :host {\n          position:relative;\n        }\n        .overall:hover *\n        {\n          background-color: var(--icon-bg-color-hover);\n        }\n        img {\n          border: none;\n          width: 24px;\n          height: 24px;\n        }\n        .overall.pressed .button-icon,\n        .overall.pressed .handle {\n          background-color: var(--icon-bg-color-hover) !important;\n        }\n        .overall.pressed .menu-button {\n          background-color: var(--icon-bg-color-hover) !important;\n        }\n        .disabled {\n          opacity: 0.3;\n          cursor: default;\n        }\n        .menu-button {\n          height: 24px;\n          width: 24px;\n          margin: 2px 1px 4px;\n          padding: 3px;\n          background-color: var(--icon-bg-color);\n          cursor: pointer;\n          position: relative;\n          border-radius: 3px;\n          overflow: hidden;\n        }\n        .handle {\n          height: 8px;\n          width: 8px;\n          background-image: url(".concat(en,'/handle.svg);\n          position:absolute;\n          bottom: 0px;\n          right: 0px;\n        }\n        .button-icon {\n        }\n        .menu {\n          position: fixed;\n          background: none !important;\n          display:none;\n          margin-left: 34px;\n        }\n        .open {\n          display: flex;\n        }\n        .menu-item {\n          align-content: flex-start;\n          height: 24px;\n          width: 24px;\n          top:0px;\n          left:0px;\n        }\n        .overall {\n          background: none !important;\n        }\n      </style>\n\n      <div class="overall">\n        <div class="menu">\n          <slot></slot>\n        </div>\n        <div class="menu-button">\n          <img class="button-icon" src="logo.svg" alt="icon">\n          <div class="handle"></div>\n        </div>\n      </div>'),tn}},{key:"attributeChangedCallback",value:function attributeChangedCallback(en,tn,nn){if(tn!==nn)switch(en){case"title":var rn=this.getAttribute("shortcut");this.$button.setAttribute("title","".concat(kn(nn)," ").concat(rn?"[".concat(kn(rn),"]"):""));break;case"pressed":nn?this.$overall.classList.add("pressed"):this.$overall.classList.remove("pressed");break;case"opened":nn?this.$menu.classList.add("open"):this.$menu.classList.remove("open");break;case"disabled":nn?this.$overall.classList.add("disabled"):this.$overall.classList.remove("disabled");break;default:console.error("unknown attribute: ".concat(en))}}},{key:"title",get:function get(){return this.getAttribute("title")},set:function set(en){this.setAttribute("title",en)}},{key:"pressed",get:function get(){return this.hasAttribute("pressed")},set:function set(en){en?this.setAttribute("pressed","true"):(this.removeAttribute("pressed",""),this.removeAttribute("opened"))}},{key:"opened",get:function get(){return this.hasAttribute("opened")},set:function set(en){en?this.setAttribute("opened","opened"):this.removeAttribute("opened")}},{key:"disabled",get:function get(){return this.hasAttribute("disabled")},set:function set(en){en?this.setAttribute("disabled","true"):this.removeAttribute("disabled","")}},{key:"connectedCallback",value:function connectedCallback(){var en=this;this.activeSlot=this.shadowRoot.querySelector("slot").assignedElements()[0],this.$img.setAttribute("src",this.imgPath+"/"+this.activeSlot.getAttribute("src"));var tn=function onClickHandler(tn){switch(tn.stopPropagation(),tn.target.nodeName){case"SE-FLYINGBUTTON":en.pressed?en.setAttribute("opened","opened"):(en.activeSlot.click(),en.setAttribute("pressed","pressed"));break;case"SE-BUTTON":en.$img.setAttribute("src",en.imgPath+"/"+tn.target.getAttribute("src")),en.activeSlot=tn.target,en.setAttribute("pressed","pressed"),en.$menu.classList.remove("open");break;case"DIV":if(en.opened)en.removeAttribute("opened");else{en.setAttribute("opened","opened");var nn=en.getBoundingClientRect();en.$menu.style.top=nn.top+"px"}break;default:console.error("unkonw nodeName for:",tn.target,tn.target.className)}};svgEditor.$click(this,tn),svgEditor.$click(this.$handle,tn)}}],[{key:"observedAttributes",get:function get(){return["title","pressed","disabled","opened"]}}]),FlyingButton}();customElements.define("se-flyingbutton",Fn);var Ln=function(en){_inherits$1(ExplorerButton,_wrapNativeSuper(HTMLElement));var tn,nn,rn=_createSuper$4(ExplorerButton);function ExplorerButton(){var en;return _classCallCheck$1(this,ExplorerButton),(en=rn.call(this)).imgPath=svgEditor.configObj.curConfig.imgPath,en.template=en.createTemplate(en.imgPath),en._shadowRoot=en.attachShadow({mode:"open"}),en._shadowRoot.append(en.template.content.cloneNode(!0)),en.$button=en._shadowRoot.querySelector(".menu-button"),en.$overall=en._shadowRoot.querySelector(".overall"),en.$img=en._shadowRoot.querySelector(".menu-button img"),en.$menu=en._shadowRoot.querySelector(".menu"),en.$handle=en._shadowRoot.querySelector(".handle"),en.$lib=en._shadowRoot.querySelector(".image-lib"),en.files=[],en.request=new XMLHttpRequest,en.imgPath=svgEditor.configObj.curConfig.imgPath,en}return _createClass$1(ExplorerButton,[{key:"createTemplate",value:function createTemplate(en){var tn=document.createElement("template");return tn.innerHTML="\n    <style>\n    :host {\n      position:relative;\n    }\n    .menu-button:hover, se-button:hover, .menu-item:hover\n    {\n      background-color: var(--icon-bg-color-hover);\n    }\n    img {\n      border: none;\n      width: 24px;\n      height: 24px;\n    }\n    .overall.pressed .button-icon,\n    .overall.pressed,\n    .menu-item.pressed {\n      background-color: var(--icon-bg-color-hover) !important;\n    }\n    .overall.pressed .menu-button {\n      background-color: var(--icon-bg-color-hover) !important;\n    }\n    .disabled {\n      opacity: 0.3;\n      cursor: default;\n    }\n    .menu-button {\n      height: 24px;\n      width: 24px;\n      margin: 2px 1px 4px;\n      padding: 3px;\n      background-color: var(--icon-bg-color);\n      cursor: pointer;\n      position: relative;\n      border-radius: 3px;\n      overflow: hidden;\n    }\n    .handle {\n      height: 8px;\n      width: 8px;\n      background-image: url(".concat(en,'/handle.svg);\n      position:absolute;\n      bottom: 0px;\n      right: 0px;\n    }\n    .button-icon {\n    }\n    .menu {\n      position: fixed;\n      margin-left: 34px;\n      background: none !important;\n      display:none;\n      top: 30%;\n      left: 171px;\n    }\n    .image-lib {\n      position: fixed;\n      left: 34px;\n      top: 30%;\n      background: #E8E8E8;\n      display: none;\n      flex-wrap: wrap;\n      flex-direction: row;\n      width: 170px;\n    }\n    .menu-item {\n      line-height: 1em;\n      padding: 0.5em;\n      border: 1px solid #5a6162;\n      background: #E8E8E8;\n      margin-bottom: -1px;\n      white-space: nowrap;\n    }\n    .open-lib {\n      display: inline-flex;\n    }\n    .open {\n      display: block;\n    }\n    .overall {\n      background: none !important;\n    }\n    </style>\n  \n    <div class="overall">\n      <div class="menu-button">\n        <img class="button-icon" src="explorer.svg" alt="icon">\n        <div class="handle"></div>\n      </div>\n      <div class="image-lib"">\n        <se-button></se-button>\n     </div>\n      <div class="menu">\n        <div class="menu-item">menu</div>\n     </div>\n    </div>'),tn}},{key:"attributeChangedCallback",value:(nn=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee(en,tn,nn){var rn,an,sn,An;return _regeneratorRuntime().wrap((function _callee$(cn){for(;;)switch(cn.prev=cn.next){case 0:if(tn!==nn){cn.next=2;break}return cn.abrupt("return");case 2:cn.t0=en,cn.next="title"===cn.t0?5:"pressed"===cn.t0?8:"disabled"===cn.t0?10:"lib"===cn.t0?12:"src"===cn.t0?29:31;break;case 5:return rn=this.getAttribute("shortcut"),this.$button.setAttribute("title","".concat(nn," [").concat(rn,"]")),cn.abrupt("break",33);case 8:return nn?this.$overall.classList.add("pressed"):this.$overall.classList.remove("pressed"),cn.abrupt("break",33);case 10:return nn?this.$overall.classList.add("disabled"):this.$overall.classList.remove("disabled"),cn.abrupt("break",33);case 12:return cn.prev=12,cn.next=15,fetch("".concat(nn,"index.json"));case 15:return an=cn.sent,cn.next=18,an.json();case 18:return sn=cn.sent,An=sn.lib,this.$menu.innerHTML=An.map((function(en,tn){return'<div data-menu="'.concat(en,'" class="menu-item ').concat(0===tn?"pressed":"",' ">').concat(en,"</div>")})).join(""),cn.next=23,this.updateLib(An[0]);case 23:cn.next=28;break;case 25:cn.prev=25,cn.t1=cn.catch(12),console.error(cn.t1);case 28:return cn.abrupt("break",33);case 29:return this.$img.setAttribute("src",this.imgPath+"/"+nn),cn.abrupt("break",33);case 31:return console.error("unknown attribute: ".concat(en)),cn.abrupt("break",33);case 33:case"end":return cn.stop()}}),_callee,this,[[12,25]])}))),function attributeChangedCallback(en,tn,rn){return nn.apply(this,arguments)})},{key:"title",get:function get(){return this.getAttribute("title")},set:function set(en){this.setAttribute("title",en)}},{key:"pressed",get:function get(){return this.hasAttribute("pressed")},set:function set(en){en?this.setAttribute("pressed","true"):this.removeAttribute("pressed","")}},{key:"disabled",get:function get(){return this.hasAttribute("disabled")},set:function set(en){en?this.setAttribute("disabled","true"):this.removeAttribute("disabled","")}},{key:"connectedCallback",value:function connectedCallback(){var en=this,tn=function onClickHandler(tn){switch(tn.stopPropagation(),tn.target.nodeName){case"SE-EXPLORERBUTTON":en.$menu.classList.add("open"),en.$lib.classList.add("open-lib");break;case"SE-BUTTON":en.currentAction=tn.target,en.$img.setAttribute("src",en.currentAction.getAttribute("src")),en.dataset.draw=en.data[en.currentAction.dataset.shape],en._shadowRoot.querySelectorAll(".image-lib [pressed]").forEach((function(en){en.pressed=!1})),en.currentAction.setAttribute("pressed","pressed"),en.$menu.classList.remove("open"),en.$lib.classList.remove("open-lib");break;case"DIV":"handle"===tn.target.classList[0]?(en.$menu.classList.toggle("open"),en.$lib.classList.toggle("open-lib")):(en._shadowRoot.querySelectorAll(".menu > .pressed").forEach((function(en){en.classList.remove("pressed")})),tn.target.classList.add("pressed"),en.updateLib(tn.target.dataset.menu));break;default:console.error("unknown nodeName for:",tn.target,tn.target.className)}};svgEditor.$click(this,tn),svgEditor.$click(this.$menu,tn),svgEditor.$click(this.$lib,tn),svgEditor.$click(this.$handle,tn)}},{key:"updateLib",value:(tn=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee3(en){var tn,nn,rn,an,sn,An,cn,un,hn,dn,pn;return _regeneratorRuntime().wrap((function _callee3$(gn){for(;;)switch(gn.prev=gn.next){case 0:return tn=this.getAttribute("lib"),gn.prev=1,gn.next=4,fetch("".concat(tn).concat(en,".json"));case 4:return rn=gn.sent,gn.next=7,rn.json();case 7:return an=gn.sent,sn=tn,this.data=an.data,An=null!==(nn=an.size)&&void 0!==nn?nn:300,cn=an.fill?"#333":"none",hn=[-(un=.05*An),-un,An+2*un,An+2*un].join(" "),dn=an.fill?0:An/30,gn.next=17,Promise.all(Object.entries(this.data).map(function(){var en=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee2(en){var tn,nn,rn,an,An,un,pn;return _regeneratorRuntime().wrap((function _callee2$(gn){for(;;)switch(gn.prev=gn.next){case 0:if(tn=_slicedToArray(en,2),nn=tn[0],rn=tn[1],an="",An=nn,!rn.endsWith(".svg")){gn.next=18;break}return An=rn.replace(".svg",""),gn.next=7,fetch("".concat(sn).concat(rn));case 7:return un=gn.sent,gn.next=10,un.text();case 10:pn=(pn=(pn=(pn=gn.sent).replace(/<\?xml.*\?>/i,"")).replace(/<sodipodi[^>]*/i,"")).replace(/<metadata[^<]*\/metadata>/i,""),pn='\n\t\t\t<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n\t\t\t   '.concat(pn,"\n\t\t\t</svg>"),an=btoa(pn),gn.next=19;break;case 18:an=btoa('\n\t\t\t<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n\t\t\t  <svg viewBox="'.concat(hn,'"><path fill="').concat(cn,'" stroke="#f8bb00" stroke-width="').concat(dn,'" d="').concat(rn,'"></path></svg>\n\t\t\t</svg>'));case 19:return gn.next=21,'<se-button data-shape="'.concat(nn,'" title="').concat(An,'" src="data:image/svg+xml;base64,').concat(an,'"></se-button>');case 21:return gn.abrupt("return",gn.sent);case 22:case"end":return gn.stop()}}),_callee2)})));return function(tn){return en.apply(this,arguments)}}()));case 17:pn=gn.sent,this.$lib.innerHTML=pn.join(""),gn.next=24;break;case 21:gn.prev=21,gn.t0=gn.catch(1),console.error("could not read file:".concat(tn).concat(en,".json"),gn.t0);case 24:case"end":return gn.stop()}}),_callee3,this,[[1,21]])}))),function updateLib(en){return tn.apply(this,arguments)})}],[{key:"observedAttributes",get:function get(){return["title","pressed","disabled","lib","src"]}}]),ExplorerButton}();customElements.define("se-explorerbutton",Ln);var In=document.createElement("template");In.innerHTML='\n  <style>\n  input{\n    border:unset;\n    background-color:var(--input-color);\n    min-width:unset;\n    width:40px;\n    height:23px;\n    padding:1px 2px;\n    border:2px;\n    font: inherit;\n    margin: 2px 1px 0px 2px;\n    box-sizing:border-box;\n    text-align: center;\n    border-radius: 3px 0px 0px 3px;\n  }\n  #tool-wrapper{\n    height:20px;\n    display:flex;\n    align-items:center;\n  }\n  #icon{\n    margin-bottom:1px\n  }\n  #spinner{\n    display:flex;\n    flex-direction:column;\n  }\n  #spinner > div {\n    height: 11px;\n    width: 7px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 7px;\n    border-left:solid 1px transparent;\n    border-right:solid 1px transparent;\n    background-color:var(--input-color);\n  }\n  #arrow-up{\n    height:9px;\n    margin-top: 2px;\n    margin-bottom: 1px;\n  }\n  #down{\n    width:18px;\n    height:23px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color:var(--input-color);\n    border-radius: 0px 3px 3px 0px;\n    margin: 2px 5px 0px 1px;\n  }\n  #down > img {\n    margin-top: 2px;\n  }\n  #options-container {\n    position:fixed\n    display:flex;\n    flex-direction:column;\n    background-color:var(--icon-bg-color);\n    border:solid 1px white;\n    box-shadow:0 0px 10px rgb(0 0 0 / 50%);\n  }\n  ::slotted(*) {\n    margin:2px;\n    padding:3px;\n    color:white;\n  }\n  ::slotted(*:hover) {\n    background-color: rgb(43, 60, 69);\n  }\n  </style>\n  <div id="tool-wrapper">\n    <img id="icon" alt="icon" width="18" height="18"/>\n    <input/>\n    <div id="spinner">\n      <div id="arrow-up">▲</div>\n      <div id="arrow-down">▼</div>\n    </div>\n    <div id="down">\n      <img width="16" height="8" src="./images/arrow_down.svg"/>\n    </div>\n  </div>\n  <div id="options-container" style="display:none">\n    <slot></slot>\n  </div>\n';var Un=function(en){_inherits$1(SeZoom,_wrapNativeSuper(HTMLElement));var tn=_createSuper$4(SeZoom);function SeZoom(){var en;return _classCallCheck$1(this,SeZoom),(en=tn.call(this)).handleMouseDown=en.handleMouseDown.bind(_assertThisInitialized$1(en)),en.handleMouseUp=en.handleMouseUp.bind(_assertThisInitialized$1(en)),en.handleKeyDown=en.handleKeyDown.bind(_assertThisInitialized$1(en)),en.initPopup=en.initPopup.bind(_assertThisInitialized$1(en)),en.handleInput=en.handleInput.bind(_assertThisInitialized$1(en)),en._shadowRoot=en.attachShadow({mode:"open"}),en._shadowRoot.append(In.content.cloneNode(!0)),en.slotElement=en._shadowRoot.querySelector("slot"),en.slotElement.addEventListener("slotchange",en.handleOptionsChange.bind(_assertThisInitialized$1(en))),en.inputElement=en._shadowRoot.querySelector("input"),en.inputElement.addEventListener("click",en.handleClick.bind(_assertThisInitialized$1(en))),en.inputElement.addEventListener("change",en.handleInput),en.inputElement.addEventListener("keydown",en.handleKeyDown),en.clickArea=en._shadowRoot.querySelector("#down"),en.clickArea.addEventListener("click",en.handleClick.bind(_assertThisInitialized$1(en))),en.imageElement=en._shadowRoot.querySelector("img"),en.imageElement.setAttribute("src",en.imgPath=svgEditor.configObj.curConfig.imgPath+"/"+en.getAttribute("src")),en.arrowUp=en._shadowRoot.querySelector("#arrow-up"),en.arrowUp.addEventListener("click",en.increment.bind(_assertThisInitialized$1(en))),en.arrowUp.addEventListener("mousedown",(function(tn){return en.handleMouseDown("up",!0)})),en.arrowUp.addEventListener("mouseleave",(function(tn){return en.handleMouseUp("up")})),en.arrowUp.addEventListener("mouseup",(function(tn){return en.handleMouseUp("up")})),en.arrowDown=en._shadowRoot.querySelector("#arrow-down"),en.arrowDown.addEventListener("click",en.decrement.bind(_assertThisInitialized$1(en))),en.arrowDown.addEventListener("mousedown",(function(tn){return en.handleMouseDown("down",!0)})),en.arrowDown.addEventListener("mouseleave",(function(tn){return en.handleMouseUp("down")})),en.arrowDown.addEventListener("mouseup",(function(tn){return en.handleMouseUp("down")})),en.optionsContainer=en._shadowRoot.querySelector("#options-container"),document.addEventListener("click",(function(tn){return en.handleClose(tn)})),en.changedTimeout=null,en}return _createClass$1(SeZoom,[{key:"value",get:function get(){return this.getAttribute("value")},set:function set(en){this.setAttribute("value",en)}},{key:"attributeChangedCallback",value:function attributeChangedCallback(en,tn,nn){if(tn!==nn){if("value"===en)this.inputElement.value=nn,this.dispatchEvent(new CustomEvent("change",{detail:{value:nn}}))}else if("value"===en)parseInt(this.inputElement.value)!==nn&&(this.inputElement.value=nn)}},{key:"handleOptionsChange",value:function handleOptionsChange(){var en=this;this.slotElement.assignedElements().length>0&&(this.options=this.slotElement.assignedElements(),this.selectedValue=this.options[0].textContent,this.initPopup(),this.options.forEach((function(tn){tn.addEventListener("click",(function(tn){return en.handleSelect(tn)}))})))}},{key:"handleClick",value:function handleClick(){this.optionsContainer.style.display="flex",this.inputElement.select(),this.initPopup()}},{key:"handleSelect",value:function handleSelect(en){this.value=en.target.getAttribute("value"),this.title=en.target.getAttribute("text")}},{key:"initPopup",value:function initPopup(){var en=this.getBoundingClientRect(),tn=this.optionsContainer.getBoundingClientRect(),nn=en.top-tn.height,rn=en.left;this.optionsContainer.style.position="fixed",this.optionsContainer.style.top="".concat(nn,"px"),this.optionsContainer.style.left="".concat(rn,"px")}},{key:"handleClose",value:function handleClose(en){en.target!==this&&(this.optionsContainer.style.display="none",this.inputElement.blur())}},{key:"handleInput",value:function handleInput(){this.changedTimeout&&clearTimeout(this.changedTimeout),this.changedTimeout=setTimeout(this.triggerInputChanged.bind(this),500)}},{key:"triggerInputChanged",value:function triggerInputChanged(){var en=this.inputElement.value;this.value=en}},{key:"increment",value:function increment(){this.value=parseInt(this.value)+10}},{key:"decrement",value:function decrement(){this.value-10<=0?this.value=10:this.value=parseInt(this.value)-10}},{key:"handleMouseDown",value:function handleMouseDown(en,tn){var nn=this;"up"===en?(this.incrementHold=!0,!tn&&this.increment(),setTimeout((function(){nn.incrementHold&&nn.handleMouseDown(en,!1)}),tn?500:50)):"down"===en&&(this.decrementHold=!0,!tn&&this.decrement(),setTimeout((function(){nn.decrementHold&&nn.handleMouseDown(en,!1)}),tn?500:50))}},{key:"handleMouseUp",value:function handleMouseUp(en){"up"===en?this.incrementHold=!1:this.decrementHold=!1}},{key:"handleKeyDown",value:function handleKeyDown(en){"ArrowUp"===en.key?this.increment():"ArrowDown"===en.key&&this.decrement()}}],[{key:"observedAttributes",get:function get(){return["value"]}}]),SeZoom}();customElements.define("se-zoom",Un);var Tn=function html(en){for(var tn=arguments.length,nn=new Array(tn>1?tn-1:0),rn=1;rn<tn;rn++)nn[rn-1]=arguments[rn];return Qn.html.apply(Qn,[en].concat(nn)).content},Qn={html:function html(en){for(var tn=document.createElement("template"),nn=arguments.length,rn=new Array(nn>1?nn-1:0),an=1;an<nn;an++)rn[an-1]=arguments[an];return tn.innerHTML=String.raw.apply(String,[en].concat(rn)),tn}},Nn=Symbol("defaultState"),On=Symbol("delegatesFocus"),Mn=Symbol("firstRender"),Rn=Symbol("focusTarget"),Hn=Symbol("hasDynamicTemplate"),Dn=Symbol("ids"),$n=Symbol("nativeInternals"),Gn=Symbol("raiseChangeEvents"),jn=Symbol("render"),Vn=Symbol("renderChanges"),Kn=Symbol("rendered"),qn=Symbol("rendering"),zn=Symbol("setState"),Wn=Symbol("shadowRoot"),Xn=Symbol("shadowRootMode"),Yn=Symbol("state"),Jn=Symbol("stateEffects"),Zn=Symbol("template"),Ur={tabindex:"tabIndex"},Tr={tabIndex:"tabindex"};function attributesForClass(en){if(en===HTMLElement)return[];var tn=Object.getPrototypeOf(en.prototype).constructor,nn=tn.observedAttributes;nn||(nn=attributesForClass(tn));var rn=Object.getOwnPropertyNames(en.prototype).filter((function(tn){var nn=Object.getOwnPropertyDescriptor(en.prototype,tn);return nn&&"function"==typeof nn.set})).map((function(en){return function propertyNameToAttribute(en){var tn=Tr[en];if(!tn){var nn=/([A-Z])/g;tn=en.replace(nn,"-$1").toLowerCase(),Tr[en]=tn}return tn}(en)})).filter((function(en){return nn.indexOf(en)<0}));return nn.concat(rn)}function booleanAttributeValue(en,tn){return"boolean"==typeof tn?tn:"string"==typeof tn&&(""===tn||en.toLowerCase()===tn.toLowerCase())}var Qr={checked:!0,defer:!0,disabled:!0,hidden:!0,ismap:!0,multiple:!0,noresize:!0,readonly:!0,selected:!0},Rr=Symbol("state"),Hr=Symbol("raiseChangeEventsInNextRender"),Dr=Symbol("changedSinceLastRender");function copyStateWithChanges(en,tn){for(var nn=Object.assign({},en[Rr]),rn={},an=tn;;){var sn=fieldsChanged(nn,an);if(0===Object.keys(sn).length)break;Object.assign(nn,an),Object.assign(rn,sn),an=en[Jn](nn,sn)}return{state:nn,changed:rn}}function fieldsChanged(en,tn){var nn,rn,an={};for(var sn in tn)nn=tn[sn],rn=en[sn],(nn instanceof Date&&rn instanceof Date?nn.getTime()===rn.getTime():nn===rn)||(an[sn]=!0);return an}var $r=new Map,Gr=Symbol("shadowIdProxy"),Vr=Symbol("proxyElement"),Kr={get:function get(en,tn){var nn=en[Vr][Wn];return nn&&"string"==typeof tn?nn.getElementById(tn):null}};var zr=function AttributeMarshallingMixin(en){var tn=function(en){_inherits$1(AttributeMarshalling,en);var tn=_createSuper$4(AttributeMarshalling);function AttributeMarshalling(){return _classCallCheck$1(this,AttributeMarshalling),tn.apply(this,arguments)}return _createClass$1(AttributeMarshalling,[{key:"attributeChangedCallback",value:function attributeChangedCallback(en,tn,nn){if(_get(_getPrototypeOf$1(AttributeMarshalling.prototype),"attributeChangedCallback",this)&&_get(_getPrototypeOf$1(AttributeMarshalling.prototype),"attributeChangedCallback",this).call(this,en,tn,nn),nn!==tn&&!this[qn]){var rn=function attributeToPropertyName(en){var tn=Ur[en];if(!tn){var nn=/-([a-z])/g;tn=en.replace(nn,(function(en){return en[1].toUpperCase()})),Ur[en]=tn}return tn}(en);if(rn in this){var an=Qr[en]?booleanAttributeValue(en,nn):nn;this[rn]=an}}}}],[{key:"observedAttributes",get:function get(){return attributesForClass(this)}}]),AttributeMarshalling}(en);return tn}(function ReactiveMixin(en){var tn=function(en){_inherits$1(Reactive,en);var tn,nn=_createSuper$4(Reactive);function Reactive(){var en;return _classCallCheck$1(this,Reactive),(en=nn.call(this))[Mn]=void 0,en[Gn]=!1,en[Dr]=null,en[zn](en[Nn]),en}return _createClass$1(Reactive,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf$1(Reactive.prototype),"connectedCallback",this)&&_get(_getPrototypeOf$1(Reactive.prototype),"connectedCallback",this).call(this),this[Vn]()}},{key:Nn,get:function get(){return _get(_getPrototypeOf$1(Reactive.prototype),Nn,this)||{}}},{key:jn,value:function value(en){_get(_getPrototypeOf$1(Reactive.prototype),jn,this)&&_get(_getPrototypeOf$1(Reactive.prototype),jn,this).call(this,en)}},{key:Vn,value:function value(){void 0===this[Mn]&&(this[Mn]=!0);var en=this[Dr];if(this[Mn]||en){var tn=this[Gn];this[Gn]=this[Hr],this[Hr]=!1,this[qn]=!0,this[jn](en),this[qn]=!1,this[Dr]=null,this[Kn](en),this[Mn]=!1,this[Gn]=tn}}},{key:Kn,value:function value(en){_get(_getPrototypeOf$1(Reactive.prototype),Kn,this)&&_get(_getPrototypeOf$1(Reactive.prototype),Kn,this).call(this,en)}},{key:zn,value:(tn=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee(en){var tn,nn,rn,an;return _regeneratorRuntime().wrap((function _callee$(sn){for(;;)switch(sn.prev=sn.next){case 0:if(this[qn]&&console.warn("".concat(this.constructor.name," called [setState] during rendering, which you should avoid.\nSee https://elix.org/documentation/ReactiveMixin.")),tn=copyStateWithChanges(this,en),nn=tn.state,rn=tn.changed,!this[Rr]||0!==Object.keys(rn).length){sn.next=4;break}return sn.abrupt("return");case 4:if(Object.freeze(nn),this[Rr]=nn,this[Gn]&&(this[Hr]=!0),an=void 0===this[Mn]||null!==this[Dr],this[Dr]=Object.assign(this[Dr]||{},rn),!this.isConnected||an){sn.next=14;break}return sn.next=13,Promise.resolve();case 13:this[Vn]();case 14:case"end":return sn.stop()}}),_callee,this)}))),function value(en){return tn.apply(this,arguments)})},{key:Yn,get:function get(){return this[Rr]}},{key:Jn,value:function value(en,tn){return _get(_getPrototypeOf$1(Reactive.prototype),Jn,this)?_get(_getPrototypeOf$1(Reactive.prototype),Jn,this).call(this,en,tn):{}}}]),Reactive}(en);return"true"===new URLSearchParams(location.search).get("elixdebug")&&Object.defineProperty(tn.prototype,"state",{get:function get(){return this[Yn]}}),tn}(function ShadowTemplateMixin(en){var tn=function(en){_inherits$1(ShadowTemplate,en);var tn=_createSuper$4(ShadowTemplate);function ShadowTemplate(){return _classCallCheck$1(this,ShadowTemplate),tn.apply(this,arguments)}return _createClass$1(ShadowTemplate,[{key:Dn,get:function get(){if(!this[Gr]){var en=_defineProperty$2({},Vr,this);this[Gr]=new Proxy(en,Kr)}return this[Gr]}},{key:jn,value:function value(en){if(_get(_getPrototypeOf$1(ShadowTemplate.prototype),jn,this)&&_get(_getPrototypeOf$1(ShadowTemplate.prototype),jn,this).call(this,en),void 0===this[Wn]){var tn=function getTemplate(en){var tn=en[Hn]?void 0:$r.get(en.constructor);if(void 0===tn){if((tn=en[Zn])&&!(tn instanceof HTMLTemplateElement))throw"Warning: the [template] property for ".concat(en.constructor.name," must return an HTMLTemplateElement.");en[Hn]||$r.set(en.constructor,tn||null)}return tn}(this);if(tn){var nn=this.attachShadow({delegatesFocus:this[On],mode:this[Xn]}),rn=document.importNode(tn.content,!0);nn.append(rn),this[Wn]=nn}else this[Wn]=null}}},{key:Xn,get:function get(){return"open"}}]),ShadowTemplate}(en);return tn}(HTMLElement))),Wr=Symbol("checkSize"),Xr=Symbol("closestAvailableItemIndex"),Yr=Symbol("contentSlot"),Jr=Nn,Zr=Symbol("defaultTabIndex"),ei=On,ti=Symbol("effectEndTarget"),ni=Mn,ri=Rn,ii=Symbol("getItemText"),ai=Symbol("goDown"),oi=Symbol("goEnd"),si=Symbol("goFirst"),Ai=Symbol("goLast"),li=Symbol("goLeft"),ci=Symbol("goNext"),ui=Symbol("goPrevious"),hi=Symbol("goRight"),di=Symbol("goStart"),pi=Symbol("goToItemWithPrefix"),gi=Symbol("goUp"),fi=Hn,mi=Dn,yi=Symbol("inputDelegate"),bi=Symbol("itemsDelegate"),wi=Symbol("keydown"),xi=Symbol("mouseenter"),Bi=Symbol("mouseleave"),_i=$n,Si=Gn,ki=jn,Ei=Vn,Pi=Symbol("renderDataToElement"),Fi=Kn,Li=qn,Ii=Symbol("scrollTarget"),Ui=zn,Ti=Wn,Qi=Xn,Ni=Symbol("startEffect"),Oi=Yn,Mi=Jn,Ri=Symbol("swipeDown"),Hi=Symbol("swipeDownComplete"),Di=Symbol("swipeLeft"),$i=Symbol("swipeLeftTransitionEnd"),Gi=Symbol("swipeRight"),ji=Symbol("swipeRightTransitionEnd"),Vi=Symbol("swipeUp"),Ki=Symbol("swipeUpComplete"),qi=Symbol("swipeStart"),zi=Symbol("swipeTarget"),Wi=Symbol("tap"),Xi=Zn,Yi=Symbol("toggleSelectedFlag");function DelegateInputLabelMixin(en){var tn=function(en){_inherits$1(DelegateInputLabel,en);var tn=_createSuper$4(DelegateInputLabel);function DelegateInputLabel(){return _classCallCheck$1(this,DelegateInputLabel),tn.apply(this,arguments)}return _createClass$1(DelegateInputLabel,[{key:"ariaLabel",get:function get(){return this[Oi].ariaLabel},set:function set(en){this[Oi].removingAriaAttribute||this[Ui]({ariaLabel:String(en)})}},{key:"ariaLabelledby",get:function get(){return this[Oi].ariaLabelledby},set:function set(en){this[Oi].removingAriaAttribute||this[Ui]({ariaLabelledby:String(en)})}},{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(DelegateInputLabel.prototype),Jr,this)||{},{ariaLabel:null,ariaLabelledby:null,inputLabel:null,removingAriaAttribute:!1})}},{key:ki,value:function value(en){var tn=this;if(_get(_getPrototypeOf$1(DelegateInputLabel.prototype),ki,this)&&_get(_getPrototypeOf$1(DelegateInputLabel.prototype),ki,this).call(this,en),this[ni]&&this.addEventListener("focus",(function(){tn[Si]=!0;var en=refreshInputLabel(tn,tn[Oi]);tn[Ui]({inputLabel:en}),tn[Si]=!1})),en.inputLabel){var nn=this[Oi].inputLabel;nn?this[yi].setAttribute("aria-label",nn):this[yi].removeAttribute("aria-label")}}},{key:Fi,value:function value(en){var tn=this;(_get(_getPrototypeOf$1(DelegateInputLabel.prototype),Fi,this)&&_get(_getPrototypeOf$1(DelegateInputLabel.prototype),Fi,this).call(this,en),this[ni])&&(window.requestIdleCallback||setTimeout)((function(){var en=refreshInputLabel(tn,tn[Oi]);tn[Ui]({inputLabel:en})}));var nn=this[Oi],rn=nn.ariaLabel,an=nn.ariaLabelledby;en.ariaLabel&&!this[Oi].removingAriaAttribute&&this.getAttribute("aria-label")&&(this.setAttribute("delegated-label",rn),this[Ui]({removingAriaAttribute:!0}),this.removeAttribute("aria-label")),en.ariaLabelledby&&!this[Oi].removingAriaAttribute&&this.getAttribute("aria-labelledby")&&(this.setAttribute("delegated-labelledby",an),this[Ui]({removingAriaAttribute:!0}),this.removeAttribute("aria-labelledby")),en.removingAriaAttribute&&this[Oi].removingAriaAttribute&&this[Ui]({removingAriaAttribute:!1})}},{key:Mi,value:function value(en,tn){var nn=_get(_getPrototypeOf$1(DelegateInputLabel.prototype),Mi,this)?_get(_getPrototypeOf$1(DelegateInputLabel.prototype),Mi,this).call(this,en,tn):{};if(tn.ariaLabel&&en.ariaLabel||tn.selectedText&&en.ariaLabelledby&&this.matches(":focus-within")){var rn=refreshInputLabel(this,en);Object.assign(nn,{inputLabel:rn})}return nn}}]),DelegateInputLabel}(en);return tn}function getLabelFromElement(en){if("selectedText"in en)return en.selectedText;if("value"in en&&"options"in en){var tn=en.value,nn=en.options.find((function(en){return en.value===tn}));return nn?nn.innerText:""}return"value"in en?en.value:en.innerText}function refreshInputLabel(en,tn){var nn=tn.ariaLabel,rn=tn.ariaLabelledby,an=en.isConnected?en.getRootNode():null,sn=null;if(rn&&an){var An=rn.split(" ").map((function(nn){var rn=an.getElementById(nn);return rn?rn===en&&null!==tn.value?tn.selectedText:getLabelFromElement(rn):""}));sn=An.join(" ")}else if(nn)sn=nn;else if(an){var cn=en.id;if(cn){var un=an.querySelector('[for="'.concat(cn,'"]'));un instanceof HTMLElement&&(sn=getLabelFromElement(un))}if(null===sn){var hn=en.closest("label");hn&&(sn=getLabelFromElement(hn))}}return sn&&(sn=sn.trim()),sn}"true"===new URLSearchParams(location.search).get("elixdebug")&&(window.elix={internal:{checkSize:Wr,closestAvailableItemIndex:Xr,contentSlot:Yr,defaultState:Jr,defaultTabIndex:Zr,delegatesFocus:ei,effectEndTarget:ti,firstRender:ni,focusTarget:ri,getItemText:ii,goDown:ai,goEnd:oi,goFirst:si,goLast:Ai,goLeft:li,goNext:ci,goPrevious:ui,goRight:hi,goStart:di,goToItemWithPrefix:pi,goUp:gi,hasDynamicTemplate:fi,ids:mi,inputDelegate:yi,itemsDelegate:bi,keydown:wi,mouseenter:xi,mouseleave:Bi,nativeInternals:_i,event:event,raiseChangeEvents:Si,render:ki,renderChanges:Ei,renderDataToElement:Pi,rendered:Fi,rendering:Li,scrollTarget:Ii,setState:Ui,shadowRoot:Ti,shadowRootMode:Qi,startEffect:Ni,state:Oi,stateEffects:Mi,swipeDown:Ri,swipeDownComplete:Hi,swipeLeft:Di,swipeLeftTransitionEnd:$i,swipeRight:Gi,swipeRightTransitionEnd:ji,swipeUp:Vi,swipeUpComplete:Ki,swipeStart:qi,swipeTarget:zi,tap:Wi,template:Xi,toggleSelectedFlag:Yi}});var Ji,Zi,ea=_regeneratorRuntime().mark(composedAncestors),ta=_regeneratorRuntime().mark(selfAndComposedAncestors),na=_regeneratorRuntime().mark(walkComposedTree),ra=Symbol("mousedownListener");function closestFocusableNode(en){var tn,nn=_createForOfIteratorHelper(selfAndComposedAncestors(en));try{for(nn.s();!(tn=nn.n()).done;){var rn=tn.value,an=rn[Rn]||rn,sn=an;if(an instanceof HTMLElement&&an.tabIndex>=0&&!sn.disabled&&!(an instanceof HTMLSlotElement))return an}}catch(en){nn.e(en)}finally{nn.f()}return null}function composedAncestors(en){var tn;return _regeneratorRuntime().wrap((function composedAncestors$(nn){for(;;)switch(nn.prev=nn.next){case 0:tn=en;case 1:if(!(tn=tn instanceof HTMLElement&&tn.assignedSlot?tn.assignedSlot:tn instanceof ShadowRoot?tn.host:tn.parentNode)){nn.next=8;break}return nn.next=6,tn;case 6:nn.next=9;break;case 8:return nn.abrupt("break",11);case 9:nn.next=1;break;case 11:case"end":return nn.stop()}}),ea)}function deepContains(en,tn){for(var nn=tn;nn;){var rn=nn.assignedSlot||nn.parentNode||nn.host;if(rn===en)return!0;nn=rn}return!1}function firstFocusableElement(en){var tn=walkComposedTree(en,(function(en){return en instanceof HTMLElement&&en.matches('a[href],area[href],button:not([disabled]),details,iframe,input:not([disabled]),select:not([disabled]),textarea:not([disabled]),[contentEditable="true"],[tabindex]')&&en.tabIndex>=0})).next().value;return tn instanceof HTMLElement?tn:null}function forwardFocus(en,tn){en[ra]&&en.removeEventListener("mousedown",en[ra]),tn&&(en[ra]=function(en){if(0===en.button){var nn=closestFocusableNode(tn[Rn]||tn);nn&&(nn.focus(),en.preventDefault())}},en.addEventListener("mousedown",en[ra]))}function indexOfItemContainingTarget(en,tn){return Array.prototype.findIndex.call(en,(function(en){return en===tn||deepContains(en,tn)}))}function ownEvent(en,tn){var nn=tn.composedPath()[0];return en===nn||deepContains(en,nn)}function selfAndComposedAncestors(en){return _regeneratorRuntime().wrap((function selfAndComposedAncestors$(tn){for(;;)switch(tn.prev=tn.next){case 0:if(!en){tn.next=4;break}return tn.next=3,en;case 3:return tn.delegateYield(composedAncestors(en),"t0",4);case 4:case"end":return tn.stop()}}),ta)}function setInternalState(en,tn,nn){if(en.toggleAttribute(tn,nn),en[$n]&&en[$n].states){var rn=en[$n].states,an="--".concat(tn);nn?rn.add(an):rn.delete(an)}}function walkComposedTree(en,tn){var nn,rn,an;return _regeneratorRuntime().wrap((function walkComposedTree$(sn){for(;;)switch(sn.prev=sn.next){case 0:if(!tn(en)){sn.next=3;break}return sn.next=3,en;case 3:if(en instanceof HTMLElement&&en.shadowRoot?nn=en.shadowRoot.children:(rn=en instanceof HTMLSlotElement?en.assignedNodes({flatten:!0}):[],nn=rn.length>0?rn:en.childNodes),!nn){sn.next=11;break}an=0;case 6:if(!(an<nn.length)){sn.next=11;break}return sn.delegateYield(walkComposedTree(nn[an],tn),"t0",8);case 8:an++,sn.next=6;break;case 11:case"end":return sn.stop()}}),na)}var ia,aa=!1,oa=Symbol("focusVisibleChangedListener");function FocusVisibleMixin(en){return function(en){_inherits$1(FocusVisible,en);var tn=_createSuper$4(FocusVisible);function FocusVisible(){var en;return _classCallCheck$1(this,FocusVisible),(en=tn.call(this)).addEventListener("focusout",(function(tn){Promise.resolve().then((function(){var nn=tn.relatedTarget||document.activeElement,rn=_assertThisInitialized$1(en)===nn,an=deepContains(_assertThisInitialized$1(en),nn);!rn&&!an&&(en[Ui]({focusVisible:!1}),document.removeEventListener("focusvisiblechange",en[oa]),en[oa]=null)}))})),en.addEventListener("focusin",(function(){Promise.resolve().then((function(){en[Oi].focusVisible!==aa&&en[Ui]({focusVisible:aa}),en[oa]||(en[oa]=function(){return function refreshFocus(en){en[Ui]({focusVisible:aa})}(_assertThisInitialized$1(en))},document.addEventListener("focusvisiblechange",en[oa]))}))})),en}return _createClass$1(FocusVisible,[{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(FocusVisible.prototype),Jr,this)||{},{focusVisible:!1})}},{key:ki,value:function value(en){if(_get(_getPrototypeOf$1(FocusVisible.prototype),ki,this)&&_get(_getPrototypeOf$1(FocusVisible.prototype),ki,this).call(this,en),en.focusVisible){var tn=this[Oi].focusVisible;this.toggleAttribute("focus-visible",tn)}}},{key:Xi,get:function get(){var en=_get(_getPrototypeOf$1(FocusVisible.prototype),Xi,this)||Qn.html(Ji||(Ji=_taggedTemplateLiteral([""])));return en.content.append(Tn(Zi||(Zi=_taggedTemplateLiteral(["\n        <style>\n          :host {\n            outline: none;\n          }\n\n          :host([focus-visible]:focus-within) {\n            outline-color: Highlight; /* Firefox */\n            outline-color: -webkit-focus-ring-color; /* All other browsers */\n            outline-style: auto;\n          }\n        </style>\n      "])))),en}}]),FocusVisible}(en)}function updateKeyboardActive(en){if(aa!==en){aa=en;var tn=new CustomEvent("focusvisiblechange",{detail:{focusVisible:aa}});document.dispatchEvent(tn)}}function FormElementMixin(en){var tn=function(tn){_inherits$1(FormElement,tn);var nn=_createSuper$4(FormElement);function FormElement(){var en;_classCallCheck$1(this,FormElement);var tn=_assertThisInitialized$1(en=nn.call(this));return!en[_i]&&tn.attachInternals&&(en[_i]=tn.attachInternals()),en}return _createClass$1(FormElement,[{key:"checkValidity",value:function checkValidity(){return this[_i].checkValidity()}},{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(FormElement.prototype),Jr,this)||{},{name:"",validationMessage:"",valid:!0})}},{key:"internals",get:function get(){return this[_i]}},{key:"form",get:function get(){return this[_i].form}},{key:"name",get:function get(){return this[Oi]?this[Oi].name:""}},{key:"name",set:function set(tn){var nn=String(tn);"name"in en.prototype&&_set(_getPrototypeOf$1(FormElement.prototype),"name",nn,this,!0),this[Ui]({name:nn})}},{key:ki,value:function value(en){if(_get(_getPrototypeOf$1(FormElement.prototype),ki,this)&&_get(_getPrototypeOf$1(FormElement.prototype),ki,this).call(this,en),en.name){var tn=this[Oi].name;tn?this.setAttribute("name",tn):this.removeAttribute("name")}if(this[_i]&&this[_i].setValidity&&(en.valid||en.validationMessage)){var nn=this[Oi],rn=nn.valid,an=nn.validationMessage;rn?this[_i].setValidity({}):this[_i].setValidity({customError:!0},an)}}},{key:Fi,value:function value(en){_get(_getPrototypeOf$1(FormElement.prototype),Fi,this)&&_get(_getPrototypeOf$1(FormElement.prototype),Fi,this).call(this,en),en.value&&this[_i]&&this[_i].setFormValue&&this[_i].setFormValue(this[Oi].value,this[Oi])}},{key:"reportValidity",value:function reportValidity(){return this[_i].reportValidity()}},{key:"type",get:function get(){return _get(_getPrototypeOf$1(FormElement.prototype),"type",this)||this.localName}},{key:"validationMessage",get:function get(){return this[Oi].validationMessage}},{key:"validity",get:function get(){return this[_i].validity}},{key:"willValidate",get:function get(){return this[_i].willValidate}}],[{key:"formAssociated",get:function get(){return!0}}]),FormElement}(en);return tn}function refreshSelectionState(en){var tn=en.inner,nn=tn.selectionEnd,rn=tn.selectionStart;en[Ui]({selectionEnd:nn,selectionStart:rn})}function DelegateFocusMixin(en){var tn=function(en){_inherits$1(DelegateFocus,en);var tn=_createSuper$4(DelegateFocus);function DelegateFocus(){return _classCallCheck$1(this,DelegateFocus),tn.apply(this,arguments)}return _createClass$1(DelegateFocus,[{key:ei,get:function get(){return!0}},{key:"focus",value:function focus(en){var tn=this[ri];tn&&tn.focus(en)}},{key:ri,get:function get(){return firstFocusableElement(this[Ti])}}]),DelegateFocus}(en);return tn}window.addEventListener("keydown",(function(){updateKeyboardActive(!0)}),{capture:!0}),window.addEventListener("mousedown",(function(){updateKeyboardActive(!1)}),{capture:!0});var sa,Aa=Symbol("extends"),la=Symbol("delegatedPropertySetters"),ca={a:!0,area:!0,button:!0,details:!0,iframe:!0,input:!0,select:!0,textarea:!0},ua={address:["scroll"],blockquote:["scroll"],caption:["scroll"],center:["scroll"],dd:["scroll"],dir:["scroll"],div:["scroll"],dl:["scroll"],dt:["scroll"],fieldset:["scroll"],form:["reset","scroll"],frame:["load"],h1:["scroll"],h2:["scroll"],h3:["scroll"],h4:["scroll"],h5:["scroll"],h6:["scroll"],iframe:["load"],img:["abort","error","load"],input:["abort","change","error","select","load"],li:["scroll"],link:["load"],menu:["scroll"],object:["error","scroll"],ol:["scroll"],p:["scroll"],script:["error","load"],select:["change","scroll"],tbody:["scroll"],tfoot:["scroll"],thead:["scroll"],textarea:["change","select","scroll"]},ha=["click","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","wheel"],da={abort:!0,change:!0,reset:!0},pa=["address","article","aside","blockquote","canvas","dd","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","section","table","tfoot","ul","video"],ga=["accept-charset","autoplay","buffered","challenge","codebase","colspan","contenteditable","controls","crossorigin","datetime","dirname","for","formaction","http-equiv","icon","ismap","itemprop","keytype","language","loop","manifest","maxlength","minlength","muted","novalidate","preload","radiogroup","readonly","referrerpolicy","rowspan","scoped","usemap"],fa=DelegateFocusMixin(zr),ma=function(en){_inherits$1(WrappedStandardElement,fa);var tn=_createSuper$4(WrappedStandardElement);function WrappedStandardElement(){var en;_classCallCheck$1(this,WrappedStandardElement);var nn=_assertThisInitialized$1(en=tn.call(this));return!en[_i]&&nn.attachInternals&&(en[_i]=nn.attachInternals()),en}return _createClass$1(WrappedStandardElement,[{key:"attributeChangedCallback",value:function attributeChangedCallback(en,tn,nn){if(ga.indexOf(en)>=0){var rn=Object.assign({},this[Oi].innerAttributes,_defineProperty$2({},en,nn));this[Ui]({innerAttributes:rn})}else _get(_getPrototypeOf$1(WrappedStandardElement.prototype),"attributeChangedCallback",this).call(this,en,tn,nn)}},{key:"blur",value:function blur(){this.inner.blur()}},{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(WrappedStandardElement.prototype),Jr,this),{innerAttributes:{}})}},{key:Zr,get:function get(){return ca[this.extends]?0:-1}},{key:"extends",get:function get(){return this.constructor[Aa]}},{key:"inner",get:function get(){var en=this[mi]&&this[mi].inner;return en||console.warn("Attempted to get an inner standard element before it was instantiated."),en}},{key:ki,value:function value(en){var tn=this;_get(_getPrototypeOf$1(WrappedStandardElement.prototype),ki,this).call(this,en);var nn=this.inner;this[ni]&&((ua[this.extends]||[]).forEach((function(en){nn.addEventListener(en,(function(){var nn=new Event(en,{bubbles:da[en]||!1});tn.dispatchEvent(nn)}))})),"disabled"in nn&&ha.forEach((function(en){tn.addEventListener(en,(function(en){nn.disabled&&en.stopImmediatePropagation()}))})));if(en.tabIndex&&(nn.tabIndex=this[Oi].tabIndex),en.innerAttributes){var rn=this[Oi].innerAttributes;for(var an in rn)applyAttribute(nn,an,rn[an])}this.constructor[la].forEach((function(rn){if(en[rn]){var an=tn[Oi][rn];("selectionEnd"===rn||"selectionStart"===rn)&&null===an||(nn[rn]=an)}}))}},{key:Fi,value:function value(en){if(_get(_getPrototypeOf$1(WrappedStandardElement.prototype),Fi,this).call(this,en),en.disabled){var tn=this[Oi].disabled;void 0!==tn&&setInternalState(this,"disabled",tn)}}},{key:Xi,get:function get(){var en=pa.includes(this.extends)?"block":"inline-block",tn=this.extends;return Qn.html(ia||(ia=_taggedTemplateLiteral(["\n      <style>\n        :host {\n          display: ",'\n        }\n        \n        [part~="inner"] {\n          box-sizing: border-box;\n          height: 100%;\n          width: 100%;\n        }\n      </style>\n      <',' id="inner" part="inner ','">\n        <slot></slot>\n      </',">\n    "])),en,tn,tn,tn)}}],[{key:"observedAttributes",get:function get(){return[].concat(_toConsumableArray(_get(_getPrototypeOf$1(WrappedStandardElement),"observedAttributes",this)),ga)}},{key:"wrap",value:function wrap(en){var tn=function(en){_inherits$1(Wrapped,en);var tn=_createSuper$4(Wrapped);function Wrapped(){return _classCallCheck$1(this,Wrapped),tn.apply(this,arguments)}return _createClass$1(Wrapped)}(WrappedStandardElement);tn[Aa]=en;var nn=document.createElement(en);return function defineDelegates(en,tn){var nn=Object.getOwnPropertyNames(tn);en[la]=[],nn.forEach((function(nn){var rn=Object.getOwnPropertyDescriptor(tn,nn);if(rn){var an=function createDelegate(en,tn){if("function"==typeof tn.value){if("constructor"!==en)return function createMethodDelegate(en,tn){var nn=function value(){var tn;(tn=this.inner)[en].apply(tn,arguments)};return{configurable:tn.configurable,enumerable:tn.enumerable,value:nn,writable:tn.writable}}(en,tn)}else if("function"==typeof tn.get||"function"==typeof tn.set)return function createPropertyDelegate(en,tn){var nn={configurable:tn.configurable,enumerable:tn.enumerable};tn.get&&(nn.get=function(){return function getInnerProperty(en,tn){return en[Oi][tn]||en[Ti]&&en.inner[tn]}(this,en)});tn.set&&(nn.set=function(tn){!function setInnerProperty(en,tn,nn){en[Oi][tn]!==nn&&en[Ui](_defineProperty$2({},tn,nn))}(this,en,tn)});tn.writable&&(nn.writable=tn.writable);return nn}(en,tn);return null}(nn,rn);an&&(Object.defineProperty(en.prototype,nn,an),an.set&&en[la].push(nn))}}))}(tn,Object.getPrototypeOf(nn)),tn}}]),WrappedStandardElement}();function applyAttribute(en,tn,nn){Qr[tn]?"string"==typeof nn?en.setAttribute(tn,""):null===nn&&en.removeAttribute(tn):null!=nn?en.setAttribute(tn,nn.toString()):en.removeAttribute(tn)}var va,ya=DelegateInputLabelMixin(FocusVisibleMixin(FormElementMixin(function TrackTextSelectionMixin(en){var tn=function(en){_inherits$1(TrackTextSelection,en);var tn=_createSuper$4(TrackTextSelection);function TrackTextSelection(){return _classCallCheck$1(this,TrackTextSelection),tn.apply(this,arguments)}return _createClass$1(TrackTextSelection,[{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(TrackTextSelection.prototype),Jr,this)||{},{selectionEnd:0,selectionStart:0})}},{key:ki,value:function value(en){var tn=this;if(_get(_getPrototypeOf$1(TrackTextSelection.prototype),ki,this)&&_get(_getPrototypeOf$1(TrackTextSelection.prototype),ki,this).call(this,en),this[ni]){var nn=function(){setTimeout((function(){tn[Si]=!0,refreshSelectionState(tn),tn[Si]=!1}),10)}.bind(this);this.addEventListener("keydown",nn),this.addEventListener("mousedown",nn),this.addEventListener("touchend",nn)}}},{key:Fi,value:function value(en){_get(_getPrototypeOf$1(TrackTextSelection.prototype),Fi,this).call(this,en),en.value&&refreshSelectionState(this)}}]),TrackTextSelection}(en);return tn}(ma.wrap("input"))))),ba=function(en){_inherits$1(Input,ya);var tn=_createSuper$4(Input);function Input(){return _classCallCheck$1(this,Input),tn.apply(this,arguments)}return _createClass$1(Input,[{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(Input.prototype),Jr,this),{value:""})}},{key:yi,get:function get(){return this.inner}},{key:ki,value:function value(en){var tn=this;_get(_getPrototypeOf$1(Input.prototype),ki,this).call(this,en),this[ni]&&this[mi].inner.addEventListener("input",(function(){tn[Si]=!0;var en=tn[mi].inner;tn[Ui]({value:en.value}),tn[Si]=!1}))}},{key:Xi,get:function get(){var en=_get(_getPrototypeOf$1(Input.prototype),Xi,this);return en.content.append(Tn(sa||(sa=_taggedTemplateLiteral(['\n      <style>\n        [part~="input"] {\n          font: inherit;\n          outline: none;\n          text-align: inherit;\n        }\n      </style>\n    '])))),en}},{key:"value",get:function get(){return this[Oi].value}},{key:"value",set:function set(en){this[Ui]({value:String(en)})}}]),Input}();function PlainInputMixin(en){return function(en){_inherits$1(PlainInput,en);var tn=_createSuper$4(PlainInput);function PlainInput(){return _classCallCheck$1(this,PlainInput),tn.apply(this,arguments)}return _createClass$1(PlainInput,[{key:Xi,get:function get(){var en=_get(_getPrototypeOf$1(PlainInput.prototype),Xi,this);return en.content.append(Tn(va||(va=_taggedTemplateLiteral(['\n        <style>\n          :host {\n            background: white;\n            border: 1px solid gray;\n            box-sizing: border-box;\n          }\n\n          [part~="input"] {\n            background: transparent;\n            border-color: transparent;\n          }\n        </style>\n      '])))),en}}]),PlainInput}(en)}var wa=function(en){_inherits$1(PlainInput,PlainInputMixin(ba));var tn=_createSuper$4(PlainInput);function PlainInput(){return _classCallCheck$1(this,PlainInput),tn.apply(this,arguments)}return _createClass$1(PlainInput)}(),Ca=function(en){_inherits$1(ElixInput,wa);var tn=_createSuper$4(ElixInput);function ElixInput(){return _classCallCheck$1(this,ElixInput),tn.apply(this,arguments)}return _createClass$1(ElixInput)}();customElements.define("elix-input",Ca);var xa=document.createElement("template");xa.innerHTML='\n  <style>\n  div {\n    height: 24px;\n    margin: 5px 1px;\n    padding: 3px;\n  }\n  img {\n    top: 2px;\n    left: 4px;\n    position: relative;\n  }\n  span {\n    bottom: 1px;\n    right: -4px;\n    position: relative;\n    margin-right: 4px;\n    color: #fff;\n  }\n  elix-input {\n    background-color: var(--input-color);\n    border-radius: 3px;\n    height: 24px;\n  }\n  </style>\n  <div>\n  <img alt="icon" width="12" height="12" />\n  <span id="label">label</span>\n  <elix-input></elix-input>\n  </div>\n';var Ba=function(en){_inherits$1(SEInput,_wrapNativeSuper(HTMLElement));var tn=_createSuper$4(SEInput);function SEInput(){var en;return _classCallCheck$1(this,SEInput),(en=tn.call(this))._shadowRoot=en.attachShadow({mode:"open"}),en._shadowRoot.append(xa.content.cloneNode(!0)),en.$div=en._shadowRoot.querySelector("div"),en.$img=en._shadowRoot.querySelector("img"),en.$label=en.shadowRoot.getElementById("label"),en.$event=new CustomEvent("change"),en.$input=en._shadowRoot.querySelector("elix-input"),en}return _createClass$1(SEInput,[{key:"attributeChangedCallback",value:function attributeChangedCallback(en,tn,nn){if(tn!==nn)switch(en){case"title":this.$div.setAttribute("title","".concat(kn(nn)));break;case"src":this.$img.setAttribute("src",nn),this.$label.remove();break;case"size":this.$input.setAttribute("size",nn);break;case"label":this.$label.textContent=kn(nn),this.$img.remove();break;case"value":this.$input.value=nn;break;default:console.error("unknown attribute: ".concat(en))}}},{key:"title",get:function get(){return this.getAttribute("title")},set:function set(en){this.setAttribute("title",en)}},{key:"label",get:function get(){return this.getAttribute("label")},set:function set(en){this.setAttribute("label",en)}},{key:"value",get:function get(){return this.$input.value},set:function set(en){this.$input.value=en}},{key:"src",get:function get(){return this.getAttribute("src")},set:function set(en){this.setAttribute("src",en)}},{key:"size",get:function get(){return this.getAttribute("size")},set:function set(en){this.setAttribute("size",en)}},{key:"connectedCallback",value:function connectedCallback(){var en=this;this.$input.addEventListener("change",(function(tn){tn.preventDefault(),en.value=tn.target.value,en.dispatchEvent(en.$event)})),this.$input.addEventListener("keyup",(function(tn){tn.preventDefault(),en.value=tn.target.value,en.dispatchEvent(en.$event)}))}}],[{key:"observedAttributes",get:function get(){return["value","label","src","size","title"]}}]),SEInput}();customElements.define("se-input",Ba);var _a=document.createElement("div");_a.attachShadow({mode:"open",delegatesFocus:!0});var Sa,ka=_a.shadowRoot.delegatesFocus;var Ea=function ComposedFocusMixin(en){var tn=function(en){_inherits$1(ComposedFocus,en);var tn=_createSuper$4(ComposedFocus);function ComposedFocus(){return _classCallCheck$1(this,ComposedFocus),tn.apply(this,arguments)}return _createClass$1(ComposedFocus,[{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(ComposedFocus.prototype),Jr,this)||{},{composeFocus:!ka})}},{key:ki,value:function value(en){var tn=this;_get(_getPrototypeOf$1(ComposedFocus.prototype),ki,this)&&_get(_getPrototypeOf$1(ComposedFocus.prototype),ki,this).call(this,en),this[ni]&&this.addEventListener("mousedown",(function(en){if(tn[Oi].composeFocus&&0===en.button&&en.target instanceof Element){var nn=closestFocusableNode(en.target);nn&&(nn.focus(),en.preventDefault())}}))}}]),ComposedFocus}(en);return tn}(DelegateInputLabelMixin(FocusVisibleMixin(ma.wrap("button")))),Pa=function(en){_inherits$1(Button,Ea);var tn=_createSuper$4(Button);function Button(){return _classCallCheck$1(this,Button),tn.apply(this,arguments)}return _createClass$1(Button,[{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(Button.prototype),Jr,this),{role:"button"})}},{key:yi,get:function get(){return this[mi].inner}},{key:Wi,value:function value(){var en=new MouseEvent("click",{bubbles:!0,cancelable:!0});this.dispatchEvent(en)}},{key:Xi,get:function get(){var en=_get(_getPrototypeOf$1(Button.prototype),Xi,this);return en.content.append(Tn(Sa||(Sa=_taggedTemplateLiteral(['\n        <style>\n          :host {\n            display: inline-flex;\n            outline: none;\n            -webkit-tap-highlight-color: transparent;\n            touch-action: manipulation;\n          }\n\n          [part~="button"] {\n            align-items: center;\n            background: none;\n            border: none;\n            color: inherit;\n            flex: 1;\n            font: inherit;\n            outline: none;\n            padding: 0;\n          }\n        </style>\n      '])))),en}}]),Button}(),Fa=function(en){_inherits$1(SyntheticMouseEvent,_wrapNativeSuper(MouseEvent));var tn=_createSuper$4(SyntheticMouseEvent);function SyntheticMouseEvent(){return _classCallCheck$1(this,SyntheticMouseEvent),tn.apply(this,arguments)}return _createClass$1(SyntheticMouseEvent)}();function RepeatMousedownMixin(en){return function(en){_inherits$1(RepeatMousedown,en);var tn=_createSuper$4(RepeatMousedown);function RepeatMousedown(){return _classCallCheck$1(this,RepeatMousedown),tn.apply(this,arguments)}return _createClass$1(RepeatMousedown,[{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(RepeatMousedown.prototype),Jr,this)||{},{repeatDelayDuration:500,repeatInterval:null,repeatIntervalDuration:50,repeatTimeout:null})}},{key:ki,value:function value(en){var tn=this;_get(_getPrototypeOf$1(RepeatMousedown.prototype),ki,this)&&_get(_getPrototypeOf$1(RepeatMousedown.prototype),ki,this).call(this,en),this[ni]&&(this.addEventListener("mousedown",(function(en){en instanceof Fa||0!==en.button||(tn[Si]=!0,repeatStart(tn),tn[Si]=!1)})),this.addEventListener("mouseup",(function(en){0===en.button&&(tn[Si]=!0,repeatStop(tn),tn[Si]=!1)})),this.addEventListener("mouseleave",(function(en){0===en.button&&(tn[Si]=!0,repeatStop(tn),tn[Si]=!1)})),this.addEventListener("touchstart",(function(){tn[Si]=!0,repeatStart(tn),tn[Si]=!1})),this.addEventListener("touchend",(function(){tn[Si]=!0,repeatStop(tn),tn[Si]=!1})))}},{key:Mi,value:function value(en,tn){var nn=_get(_getPrototypeOf$1(RepeatMousedown.prototype),Mi,this)?_get(_getPrototypeOf$1(RepeatMousedown.prototype),Mi,this).call(this,en,tn):{};return tn.disabled&&en.disabled&&(clearRepeat(this),Object.assign(nn,{repeatInterval:null,repeatTimeout:null})),nn}}]),RepeatMousedown}(en)}function clearRepeat(en){en[Oi].repeatTimeout&&clearTimeout(en[Oi].repeatTimeout),en[Oi].repeatInterval&&clearInterval(en[Oi].repeatInterval)}function repeatStart(en){var tn=en[Oi],nn=tn.repeatIntervalDuration,rn=tn.repeatDelayDuration,an=setTimeout((function(){var tn=setInterval((function(){!function raiseMousedown(en){var tn=new Fa("mousedown",{bubbles:!0,button:0,cancelable:!0,clientX:0,clientY:0});en.dispatchEvent(tn)}(en)}),nn);en[Ui]({repeatInterval:tn})}),rn-nn);en[Ui]({repeatTimeout:an})}function repeatStop(en){clearRepeat(en),en[Ui]({repeatTimeout:null,repeatInterval:null})}var La,Ia=function(en){_inherits$1(RepeatButton,RepeatMousedownMixin(Pa));var tn=_createSuper$4(RepeatButton);function RepeatButton(){return _classCallCheck$1(this,RepeatButton),tn.apply(this,arguments)}return _createClass$1(RepeatButton)}();function PlainButtonMixin(en){return function(en){_inherits$1(PlainButton,en);var tn=_createSuper$4(PlainButton);function PlainButton(){return _classCallCheck$1(this,PlainButton),tn.apply(this,arguments)}return _createClass$1(PlainButton,[{key:Xi,get:function get(){var en=_get(_getPrototypeOf$1(PlainButton.prototype),Xi,this);return en.content.append(Tn(La||(La=_taggedTemplateLiteral(['\n        <style>\n          :host([disabled]) ::slotted(*) {\n            opacity: 0.5;\n          }\n\n          [part~="button"] {\n            display: inline-flex;\n            justify-content: center;\n            margin: 0;\n            position: relative;\n          }\n        </style>\n      '])))),en}}]),PlainButton}(en)}var Ua,Ta=function(en){_inherits$1(PlainRepeatButton,PlainButtonMixin(Ia));var tn=_createSuper$4(PlainRepeatButton);function PlainRepeatButton(){return _classCallCheck$1(this,PlainRepeatButton),tn.apply(this,arguments)}return _createClass$1(PlainRepeatButton)}();function PlainSpinBoxMixin(en){return function(en){_inherits$1(PlainSpinBox,en);var tn=_createSuper$4(PlainSpinBox);function PlainSpinBox(){return _classCallCheck$1(this,PlainSpinBox),tn.apply(this,arguments)}return _createClass$1(PlainSpinBox,[{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(PlainSpinBox.prototype),Jr,this)||{},{buttonPartType:Ta,inputPartType:wa})}},{key:Xi,get:function get(){var en=_get(_getPrototypeOf$1(PlainSpinBox.prototype),Xi,this);return en.content.getElementById("upButton").textContent="▲",en.content.getElementById("downButton").textContent="▼",en.content.append(Tn(Ua||(Ua=_taggedTemplateLiteral(['\n        <style>\n          :host {\n            background: white;\n            border: 1px solid gray;\n            box-sizing: border-box;\n          }\n\n          [part~="input"] {\n            background: transparent;\n            border: none;\n            width: 4em;\n          }\n\n          [part~="spin-button"] {\n            background: transparent;\n            border: 1px solid gray;\n            box-sizing: border-box;\n            font-size: 0.6em;\n            padding: 2px;\n          }\n\n          [part~="up-button"] {\n            border-right: none;\n            border-top: none;\n          }\n\n          [part~="down-button"] {\n            border-bottom: none;\n            border-right: none;\n            border-top: none;\n          }\n        </style>\n      '])))),en}}]),PlainSpinBox}(en)}var Qa,Na=new Map;function createElement(en){if("function"==typeof en){var tn;try{tn=new en}catch(nn){if("TypeError"!==nn.name)throw nn;!function registerCustomElement(en){var tn,nn=/^[A-Za-z][A-Za-z0-9_$]*$/,rn=en.name&&en.name.match(nn);if(rn){var an=/([A-Z])/g;tn=rn[0].replace(an,(function(en,tn,nn){return nn>0?"-".concat(tn):tn})).toLowerCase()}else tn="custom-element";for(var sn,An=Na.get(tn)||0;sn="".concat(tn,"-").concat(An),customElements.get(sn);An++);customElements.define(sn,en),Na.set(tn,An+1)}(en),tn=new en}return tn}return document.createElement(en)}function replace(en,tn){var nn=en.parentNode;if(!nn)throw"An element must have a parent before it can be substituted.";return(en instanceof HTMLElement||en instanceof SVGElement)&&(tn instanceof HTMLElement||tn instanceof SVGElement)&&(Array.prototype.forEach.call(en.attributes,(function(en){tn.getAttribute(en.name)||"class"===en.name||"style"===en.name||tn.setAttribute(en.name,en.value)})),Array.prototype.forEach.call(en.classList,(function(en){tn.classList.add(en)})),Array.prototype.forEach.call(en.style,(function(nn){tn.style[nn]||(tn.style[nn]=en.style[nn])}))),tn.append.apply(tn,_toConsumableArray(en.childNodes)),nn.replaceChild(tn,en),tn}function transmute(en,tn){if("function"==typeof tn&&en.constructor===tn||"string"==typeof tn&&en instanceof Element&&en.localName===tn)return en;var nn=createElement(tn);return replace(en,nn),nn}function DisabledMixin(en){var tn=function(en){_inherits$1(Disabled,en);var tn=_createSuper$4(Disabled);function Disabled(){return _classCallCheck$1(this,Disabled),tn.apply(this,arguments)}return _createClass$1(Disabled,[{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(Disabled.prototype),Jr,this)||{},{disabled:!1})}},{key:"disabled",get:function get(){return this[Oi].disabled}},{key:"disabled",set:function set(en){this[Ui]({disabled:en})}},{key:Fi,value:function value(en){if(_get(_getPrototypeOf$1(Disabled.prototype),Fi,this)&&_get(_getPrototypeOf$1(Disabled.prototype),Fi,this).call(this,en),en.disabled&&(this.toggleAttribute("disabled",this.disabled),this[Si])){var tn=new CustomEvent("disabledchange",{bubbles:!0});this.dispatchEvent(tn)}}}]),Disabled}(en);return tn}function KeyboardDirectionMixin(en){var tn=function(en){_inherits$1(KeyboardDirection,en);var tn=_createSuper$4(KeyboardDirection);function KeyboardDirection(){return _classCallCheck$1(this,KeyboardDirection),tn.apply(this,arguments)}return _createClass$1(KeyboardDirection,[{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(KeyboardDirection.prototype),Jr,this),{handleBubblingDirectionKeys:!1})}},{key:ai,value:function value(){if(_get(_getPrototypeOf$1(KeyboardDirection.prototype),ai,this))return _get(_getPrototypeOf$1(KeyboardDirection.prototype),ai,this).call(this)}},{key:oi,value:function value(){if(_get(_getPrototypeOf$1(KeyboardDirection.prototype),oi,this))return _get(_getPrototypeOf$1(KeyboardDirection.prototype),oi,this).call(this)}},{key:li,value:function value(){if(_get(_getPrototypeOf$1(KeyboardDirection.prototype),li,this))return _get(_getPrototypeOf$1(KeyboardDirection.prototype),li,this).call(this)}},{key:hi,value:function value(){if(_get(_getPrototypeOf$1(KeyboardDirection.prototype),hi,this))return _get(_getPrototypeOf$1(KeyboardDirection.prototype),hi,this).call(this)}},{key:di,value:function value(){if(_get(_getPrototypeOf$1(KeyboardDirection.prototype),di,this))return _get(_getPrototypeOf$1(KeyboardDirection.prototype),di,this).call(this)}},{key:gi,value:function value(){if(_get(_getPrototypeOf$1(KeyboardDirection.prototype),gi,this))return _get(_getPrototypeOf$1(KeyboardDirection.prototype),gi,this).call(this)}},{key:wi,value:function value(en){var tn=!1;if(this[Oi].handleBubblingDirectionKeys||en.target===this){var nn=this[Oi].orientation||"both",rn="horizontal"===nn||"both"===nn,an="vertical"===nn||"both"===nn;switch(en.key){case"ArrowDown":an&&(tn=en.altKey?this[oi]():this[ai]());break;case"ArrowLeft":!rn||en.metaKey||en.altKey||(tn=this[li]());break;case"ArrowRight":!rn||en.metaKey||en.altKey||(tn=this[hi]());break;case"ArrowUp":an&&(tn=en.altKey?this[di]():this[gi]());break;case"End":tn=this[oi]();break;case"Home":tn=this[di]()}}return tn||_get(_getPrototypeOf$1(KeyboardDirection.prototype),wi,this)&&_get(_getPrototypeOf$1(KeyboardDirection.prototype),wi,this).call(this,en)||!1}}]),KeyboardDirection}(en);return tn}function KeyboardMixin(en){var tn=function(en){_inherits$1(Keyboard,en);var tn=_createSuper$4(Keyboard);function Keyboard(){var en;return _classCallCheck$1(this,Keyboard),(en=tn.call(this)).addEventListener("keydown",function(){var tn=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee(tn){return _regeneratorRuntime().wrap((function _callee$(nn){for(;;)switch(nn.prev=nn.next){case 0:return en[Si]=!0,en[Oi].focusVisible||en[Ui]({focusVisible:!0}),en[wi](tn)&&(tn.preventDefault(),tn.stopImmediatePropagation()),nn.next=6,Promise.resolve();case 6:en[Si]=!1;case 7:case"end":return nn.stop()}}),_callee)})));return function(en){return tn.apply(this,arguments)}}()),en}return _createClass$1(Keyboard,[{key:"attributeChangedCallback",value:function attributeChangedCallback(en,tn,nn){var rn;"tabindex"===en?(null===nn?rn=-1:(rn=Number(nn),isNaN(rn)&&(rn=this[Zr]?this[Zr]:0)),this.tabIndex=rn):_get(_getPrototypeOf$1(Keyboard.prototype),"attributeChangedCallback",this).call(this,en,tn,nn)}},{key:Jr,get:function get(){var en=this[ei]?-1:0;return Object.assign(_get(_getPrototypeOf$1(Keyboard.prototype),Jr,this)||{},{tabIndex:en})}},{key:wi,value:function value(en){return!!_get(_getPrototypeOf$1(Keyboard.prototype),wi,this)&&_get(_getPrototypeOf$1(Keyboard.prototype),wi,this).call(this,en)}},{key:ki,value:function value(en){_get(_getPrototypeOf$1(Keyboard.prototype),ki,this)&&_get(_getPrototypeOf$1(Keyboard.prototype),ki,this).call(this,en),en.tabIndex&&(this.tabIndex=this[Oi].tabIndex)}},{key:"tabIndex",get:function get(){return _get(_getPrototypeOf$1(Keyboard.prototype),"tabIndex",this)}},{key:"tabIndex",set:function set(en){_get(_getPrototypeOf$1(Keyboard.prototype),"tabIndex",this)!==en&&_set(_getPrototypeOf$1(Keyboard.prototype),"tabIndex",en,this,!0),this[Li]||this[Ui]({tabIndex:en})}}]),Keyboard}(en);return tn}var Oa=DelegateFocusMixin(DelegateInputLabelMixin(function DelegateInputSelectionMixin(en){var tn=function(en){_inherits$1(DelegateInputSelection,en);var tn=_createSuper$4(DelegateInputSelection);function DelegateInputSelection(){return _classCallCheck$1(this,DelegateInputSelection),tn.apply(this,arguments)}return _createClass$1(DelegateInputSelection,[{key:"select",value:function select(){this[yi].select()}},{key:"selectionEnd",get:function get(){return this[yi].selectionEnd},set:function set(en){this[yi].selectionEnd=en}},{key:"selectionStart",get:function get(){return this[yi].selectionStart},set:function set(en){this[yi].selectionStart=en}},{key:"setRangeText",value:function setRangeText(){var en;(en=this[yi]).setRangeText.apply(en,arguments)}},{key:"setSelectionRange",value:function setSelectionRange(){var en;(en=this[yi]).setSelectionRange.apply(en,arguments);var tn=document.createElement("input");tn.select}}]),DelegateInputSelection}(en);return tn}(DisabledMixin(FocusVisibleMixin(FormElementMixin(KeyboardDirectionMixin(KeyboardMixin(zr)))))))),Ma=function(en){_inherits$1(SpinBox,Oa);var tn=_createSuper$4(SpinBox);function SpinBox(){return _classCallCheck$1(this,SpinBox),tn.apply(this,arguments)}return _createClass$1(SpinBox,[{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(SpinBox.prototype),Jr,this),{buttonPartType:"button",canGoDown:!0,canGoUp:!0,inputPartType:"input",orientation:"vertical",step:1,stepSelect:!1,value:""})}},{key:ai,value:function value(){return _get(_getPrototypeOf$1(SpinBox.prototype),ai,this)&&_get(_getPrototypeOf$1(SpinBox.prototype),ai,this).call(this),this.stepDown(),!0}},{key:gi,value:function value(){return _get(_getPrototypeOf$1(SpinBox.prototype),gi,this)&&_get(_getPrototypeOf$1(SpinBox.prototype),gi,this).call(this),this.stepUp(),!0}},{key:yi,get:function get(){return this[mi].input}},{key:ki,value:function value(en){var tn=this;if(_get(_getPrototypeOf$1(SpinBox.prototype),ki,this).call(this,en),function renderParts$4(en,tn,nn){if(!nn||nn.inputPartType){var rn=tn.buttonPartType;en.querySelectorAll('[part~="spin-button"]').forEach((function(en){transmute(en,rn)}))}if(!nn||nn.inputPartType){var an=tn.inputPartType,sn=en.getElementById("input");sn&&transmute(sn,an)}}(this[Ti],this[Oi],en),en.buttonPartType&&(this[mi].downButton.addEventListener("mousedown",(function(){tn[Si]=!0,tn.stepDown(),tn[Si]=!1})),this[mi].upButton.addEventListener("mousedown",(function(){tn[Si]=!0,tn.stepUp(),tn[Si]=!1}))),en.inputPartType&&this[mi].input.addEventListener("input",(function(){tn[Si]=!0,tn.value=tn[mi].input.value,tn[Si]=!1})),en.buttonPartType||en.inputPartType){var nn=this[mi].input,rn=this[mi].downButton;rn instanceof HTMLElement&&nn instanceof HTMLElement&&forwardFocus(rn,nn);var an=this[mi].upButton;an instanceof HTMLElement&&nn instanceof HTMLElement&&forwardFocus(an,nn)}var sn=this[Oi],An=sn.disabled,value=sn.value;if(en.canGoUp||en.canGoDown||en.disabled){var cn=this[Oi],un=cn.canGoUp,hn=cn.canGoDown;if("disabled"in this[mi].input&&(this[mi].input.disabled=An),"disabled"in this[mi].downButton){var dn=An||!un;this[mi].upButton.disabled=dn}if("disabled"in this[mi].upButton){var pn=An||!hn;this[mi].downButton.disabled=pn}}en.value&&(this[mi].input.value=value)}},{key:Fi,value:function value(en){_get(_getPrototypeOf$1(SpinBox.prototype),Fi,this).call(this,en);var tn=this[Oi],nn=tn.stepSelect,value=tn.value;if(en.value&&nn){var rn=this[mi].input,an=value.length;rn.selectionStart=an,rn.selectionEnd=an,this[Ui]({stepSelect:!1})}if(en.value&&this[Si]){var sn=new CustomEvent("change",{bubbles:!0,detail:{value:value}});this.dispatchEvent(sn)}}},{key:"stepDown",value:function stepDown(){this[Ui]({stepSelect:!0})}},{key:"stepUp",value:function stepUp(){this[Ui]({stepSelect:!0})}},{key:Xi,get:function get(){var en=_get(_getPrototypeOf$1(SpinBox.prototype),Xi,this);return en.content.append(Tn(Qa||(Qa=_taggedTemplateLiteral(['\n      <style>\n        :host {\n          display: inline-grid;\n        }\n\n        [part~="input"] {\n          grid-row-end: 3;\n          grid-row-start: 1;\n          outline: none;\n          text-align: right;\n        }\n\n        [part~="spin-button"] {\n          grid-column: 2;\n          user-select: none;\n        }\n      </style>\n      <div id="input" part="input"></div>\n      <div id="upButton" part="spin-button up-button" tabindex="-1"></div>\n      <div id="downButton" part="spin-button down-button" tabindex="-1"></div>\n    '])))),en}},{key:"value",get:function get(){return this[Oi].value}},{key:"value",set:function set(en){this[Ui]({value:String(en)})}}]),SpinBox}();var Ra=function(en){_inherits$1(NumberSpinBox,Ma);var tn=_createSuper$4(NumberSpinBox);function NumberSpinBox(){return _classCallCheck$1(this,NumberSpinBox),tn.apply(this,arguments)}return _createClass$1(NumberSpinBox,[{key:"attributeChangedCallback",value:function attributeChangedCallback(en,tn,nn){"max"===en?this.max=parseFloat(nn):"min"===en?this.min=parseFloat(nn):"step"===en?this.step=parseFloat(nn):_get(_getPrototypeOf$1(NumberSpinBox.prototype),"attributeChangedCallback",this).call(this,en,tn,nn)}},{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(NumberSpinBox.prototype),Jr,this),{max:null,min:null,step:1})}},{key:"formatValue",value:function formatValue(en,tn){return Number(en).toFixed(tn)}},{key:"max",get:function get(){return this[Oi].max}},{key:"max",set:function set(en){this[Ui]({max:en})}},{key:"min",get:function get(){return this[Oi].min}},{key:"min",set:function set(en){this[Ui]({min:en})}},{key:"parseValue",value:function parseValue(en,tn){var nn=0===tn?parseInt(en):parseFloat(en);return isNaN(nn)?0:nn}},{key:Mi,value:function value(en,tn){var nn=_get(_getPrototypeOf$1(NumberSpinBox.prototype),Mi,this);if(tn.step){var rn=en.step,an=/\.(\d)+$/.exec(String(rn)),sn=an&&an[1]?an[1].length:0;Object.assign(nn,{precision:sn})}if(tn.max||tn.min||tn.value){var An=en.max,cn=en.min,un=en.precision,value=en.value,hn=parseInt(value,un);""!==value&&isNaN(hn)?Object.assign(nn,{valid:!1,validationMessage:"Value must be a number"}):null===An||hn<=An?null===cn||hn>=cn?Object.assign(nn,{valid:!0,validationMessage:""}):Object.assign(nn,{valid:!1,validationMessage:"Value must be greater than or equal to ".concat(cn,".")}):Object.assign(nn,{valid:!1,validationMessage:"Value must be less than or equal to ".concat(An,".")}),Object.assign(nn,{canGoUp:isNaN(hn)||null===en.max||hn<=en.max}),Object.assign(nn,{canGoDown:isNaN(hn)||null===en.min||hn>=en.min})}return nn}},{key:"step",get:function get(){return this[Oi].step}},{key:"step",set:function set(en){isNaN(en)||this[Ui]({step:en})}},{key:"stepDown",value:function stepDown(){_get(_getPrototypeOf$1(NumberSpinBox.prototype),"stepDown",this).call(this);var en=this[Oi],tn=en.max,nn=en.precision,rn=en.value,an=this.parseValue(rn,nn)-this.step;null!==tn&&(an=Math.min(an,tn));var sn=this[Oi].min;(null===sn||an>=sn)&&(this.value=this.formatValue(an,nn))}},{key:"stepUp",value:function stepUp(){_get(_getPrototypeOf$1(NumberSpinBox.prototype),"stepUp",this).call(this);var en=this[Oi],tn=en.min,nn=en.precision,rn=en.value,an=this.parseValue(rn,nn)+this.step;null!==tn&&(an=Math.max(an,tn));var sn=this[Oi].max;(null===sn||an<=sn)&&(this.value=this.formatValue(an,nn))}}]),NumberSpinBox}(),Ha=function(en){_inherits$1(PlainNumberSpinBox,PlainSpinBoxMixin(Ra));var tn=_createSuper$4(PlainNumberSpinBox);function PlainNumberSpinBox(){return _classCallCheck$1(this,PlainNumberSpinBox),tn.apply(this,arguments)}return _createClass$1(PlainNumberSpinBox)}(),Da=function(en){_inherits$1(ElixNumberSpinBox,Ha);var tn=_createSuper$4(ElixNumberSpinBox);function ElixNumberSpinBox(){return _classCallCheck$1(this,ElixNumberSpinBox),tn.apply(this,arguments)}return _createClass$1(ElixNumberSpinBox)}();customElements.define("elix-number-spin-box",Da);var $a=document.createElement("template");$a.innerHTML='\n  <style>\n  div {\n    height: 24px;\n    margin: 5px 1px;\n    padding: 3px;\n  }\n  div.imginside {\n    width: var(--global-se-spin-input-width);\n  }\n  img {\n    position: relative;\n    right: -4px;\n    top: 2px;\n  }\n  span {\n    bottom: -0.5em;\n    right: -4px;\n    position: relative;\n    margin-left: -4px;\n    margin-right: 1px;\n    color: #fff;\n  }\n  elix-number-spin-box {\n    background-color: var(--input-color);\n    border-radius: 3px;\n    height: 20px;\n    margin-top: 1px;\n    vertical-align: top;\n  }\n  elix-number-spin-box::part(spin-button) {\n    padding: 0px;\n  }\n  elix-number-spin-box::part(input) {\n    width: 3em;\n  }\n  elix-number-spin-box{\n    width: 54px;\n    height: 24px;\n  }\n  </style>\n  <div>\n  <img alt="icon" width="24" height="24" aria-labelledby="label" />\n  <span id="label">label</span>\n  <elix-number-spin-box min="1" step="1"></elix-number-spin-box>\n  </div>\n';var Ga=function(en){_inherits$1(SESpinInput,_wrapNativeSuper(HTMLElement));var tn=_createSuper$4(SESpinInput);function SESpinInput(){var en;return _classCallCheck$1(this,SESpinInput),(en=tn.call(this))._shadowRoot=en.attachShadow({mode:"open"}),en._shadowRoot.append($a.content.cloneNode(!0)),en.$div=en._shadowRoot.querySelector("div"),en.$img=en._shadowRoot.querySelector("img"),en.$label=en.shadowRoot.getElementById("label"),en.$event=new CustomEvent("change"),en.$input=en._shadowRoot.querySelector("elix-number-spin-box"),en.imgPath=svgEditor.configObj.curConfig.imgPath,en}return _createClass$1(SESpinInput,[{key:"attributeChangedCallback",value:function attributeChangedCallback(en,tn,nn){if(tn!==nn)switch(en){case"title":var rn=this.getAttribute("shortcut");this.$div.setAttribute("title","".concat(kn(nn)," ").concat(rn?"[".concat(kn(rn),"]"):""));break;case"src":this.$img.setAttribute("src",this.imgPath+"/"+nn),this.$label.remove(),this.$div.classList.add("imginside");break;case"size":this.$input.shadowRoot.getElementById("input").size=nn,this.$input.shadowRoot.getElementById("input").style.width="unset";break;case"step":this.$input.setAttribute("step",nn);break;case"min":this.$input.setAttribute("min",nn);break;case"max":this.$input.setAttribute("max",nn);break;case"label":this.$label.textContent=kn(nn),this.$img.remove();break;case"value":this.$input.value=nn;break;default:console.error("unknown attribute: ".concat(en))}}},{key:"title",get:function get(){return this.getAttribute("title")},set:function set(en){this.setAttribute("title",en)}},{key:"label",get:function get(){return this.getAttribute("label")},set:function set(en){this.setAttribute("label",en)}},{key:"value",get:function get(){return this.$input.value},set:function set(en){this.$input.value=en}},{key:"src",get:function get(){return this.getAttribute("src")},set:function set(en){this.setAttribute("src",en)}},{key:"size",get:function get(){return this.getAttribute("size")},set:function set(en){this.setAttribute("size",en)}},{key:"connectedCallback",value:function connectedCallback(){var en=this,tn=this.$input.shadowRoot;Array.from(tn.childNodes).forEach((function(tn){"input"===(null==tn?void 0:tn.id)&&tn.addEventListener("keyup",(function(tn){tn.preventDefault(),isNaN(tn.target.value)||(en.value=tn.target.value,en.dispatchEvent(en.$event))}))})),this.$input.addEventListener("change",(function(tn){tn.preventDefault(),en.value=tn.target.value,en.dispatchEvent(en.$event)})),svgEditor.$click(this.$input,(function(tn){tn.preventDefault(),en.value=tn.target.value,en.dispatchEvent(en.$event)}))}}],[{key:"observedAttributes",get:function get(){return["value","label","src","size","min","max","step","title"]}}]),SESpinInput}();customElements.define("se-spin-input",Ga);var ja=["none","#000000","#3f3f3f","#7f7f7f","#bfbfbf","#ffffff","#ff0000","#ff7f00","#ffff00","#7fff00","#00ff00","#00ff7f","#00ffff","#007fff","#0000ff","#7f00ff","#ff00ff","#ff007f","#7f0000","#7f3f00","#7f7f00","#3f7f00","#007f00","#007f3f","#007f7f","#003f7f","#00007f","#3f007f","#7f007f","#7f003f","#ffaaaa","#ffd4aa","#ffffaa","#d4ffaa","#aaffaa","#aaffd4","#aaffff","#aad4ff","#aaaaff","#d4aaff","#ffaaff","#ffaad4"],Va=document.createElement("template");Va.innerHTML='\n  <style>\n  .square {\n    height: 15px;\n    width: 15px;\n    float: left;\n  }\n  #palette_holder {\n    overflow: hidden;\n    padding: 4px;\n    background: #f0f0f0;\n    border-radius: 3px;\n    z-index: 2;\n  }\n  \n  #js-se-palette {\n    float: left;\n    width: 632px;\n    height: 16px;\n  }\n  \n  div.palette_item {\n    height: 15px;\n    width: 15px;\n    float: left;\n  }\n  \n  div.palette_item:first-child {\n    background: white;\n  }\n  \n  </style>\n  <div id="palette_holder" title="">\n    <div id="js-se-palette">\n    </div>\n  </div>\n';var Ka=function(en){_inherits$1(SEPalette,_wrapNativeSuper(HTMLElement));var tn=_createSuper$4(SEPalette);function SEPalette(){var en;return _classCallCheck$1(this,SEPalette),(en=tn.call(this))._shadowRoot=en.attachShadow({mode:"open"}),en._shadowRoot.append(Va.content.cloneNode(!0)),en.$strip=en._shadowRoot.querySelector("#js-se-palette"),ja.forEach((function(tn){var nn=document.createElement("div");if(nn.classList.add("square"),"none"===tn){var rn=document.createElement("img");rn.src="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgY2xhc3M9InN2Z19pY29uIj48c3ZnIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8bGluZSBmaWxsPSJub25lIiBzdHJva2U9IiNkNDAwMDAiIGlkPSJzdmdfOTAiIHkyPSIyNCIgeDI9IjI0IiB5MT0iMCIgeDE9IjAiLz4KICAgIDxsaW5lIGlkPSJzdmdfOTIiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2Q0MDAwMCIgeTI9IjI0IiB4Mj0iMCIgeTE9IjAiIHgxPSIyNCIvPgogIDwvc3ZnPjwvc3ZnPg==",rn.style.width="15px",rn.style.height="15px",nn.append(rn)}else nn.style.backgroundColor=tn;nn.dataset.rgb=tn,svgEditor.$click(nn,(function(tn){tn.preventDefault();var rn=tn.shiftKey||2===tn.button?"stroke":"fill",an=nn.dataset.rgb;"none"!==an&&"transparent"!==an&&"initial"!==an||(an="none");var sn=new CustomEvent("change",{detail:{picker:rn,color:an},bubbles:!1});en.dispatchEvent(sn)})),en.$strip.append(nn)})),en}return _createClass$1(SEPalette,[{key:"init",value:function init(en){this.setAttribute("ui-palette_info",en.t("ui.palette_info"))}},{key:"attributeChangedCallback",value:function attributeChangedCallback(en,tn,nn){"ui-palette_info"===en&&this._shadowRoot.querySelector("#palette_holder").setAttribute("title",nn)}},{key:"connectedCallback",value:function connectedCallback(){}}],[{key:"observedAttributes",get:function get(){return["ui-palette_info"]}}]),SEPalette}();function CurrentMixin(en){return function(en){_inherits$1(Current,en);var tn=_createSuper$4(Current);function Current(){var en;_classCallCheck$1(this,Current);var nn=_assertThisInitialized$1(en=tn.call(this));return!en[_i]&&nn.attachInternals&&(en[_i]=nn.attachInternals()),en}return _createClass$1(Current,[{key:"attributeChangedCallback",value:function attributeChangedCallback(en,tn,nn){if("current"===en){var rn=booleanAttributeValue(en,nn);this.current!==rn&&(this.current=rn)}else _get(_getPrototypeOf$1(Current.prototype),"attributeChangedCallback",this).call(this,en,tn,nn)}},{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(Current.prototype),Jr,this)||{},{current:!1})}},{key:ki,value:function value(en){(_get(_getPrototypeOf$1(Current.prototype),ki,this).call(this,en),en.current)&&setInternalState(this,"current",this[Oi].current)}},{key:Fi,value:function value(en){if(_get(_getPrototypeOf$1(Current.prototype),Fi,this)&&_get(_getPrototypeOf$1(Current.prototype),Fi,this).call(this,en),en.current){var tn=this[Oi].current,nn=new CustomEvent("currentchange",{bubbles:!0,detail:{current:tn}});this.dispatchEvent(nn)}}},{key:"current",get:function get(){return this[Oi].current}},{key:"current",set:function set(en){this[Ui]({current:en})}}]),Current}(en)}function SelectableMixin(en){return function(en){_inherits$1(Selectable,en);var tn=_createSuper$4(Selectable);function Selectable(){var en;_classCallCheck$1(this,Selectable);var nn=_assertThisInitialized$1(en=tn.call(this));return!en[_i]&&nn.attachInternals&&(en[_i]=nn.attachInternals()),en}return _createClass$1(Selectable,[{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(Selectable.prototype),Jr,this)||{},{selected:!1})}},{key:ki,value:function value(en){(_get(_getPrototypeOf$1(Selectable.prototype),ki,this).call(this,en),en.selected)&&setInternalState(this,"selected",this[Oi].selected)}},{key:Fi,value:function value(en){if(_get(_getPrototypeOf$1(Selectable.prototype),Fi,this)&&_get(_getPrototypeOf$1(Selectable.prototype),Fi,this).call(this,en),en.selected){var tn=this[Oi].selected,nn=new CustomEvent("selectedchange",{bubbles:!0,detail:{selected:tn}});this.dispatchEvent(nn)}}},{key:"selected",get:function get(){return this[Oi].selected}},{key:"selected",set:function set(en){this[Ui]({selected:en})}}]),Selectable}(en)}customElements.define("se-palette",Ka);var qa,za=function(en){_inherits$1(MenuItem,CurrentMixin(DisabledMixin(SelectableMixin(zr))));var tn=_createSuper$4(MenuItem);function MenuItem(){return _classCallCheck$1(this,MenuItem),tn.apply(this,arguments)}return _createClass$1(MenuItem)}(),Wa=function(en){_inherits$1(PlainMenuItem,za);var tn=_createSuper$4(PlainMenuItem);function PlainMenuItem(){return _classCallCheck$1(this,PlainMenuItem),tn.apply(this,arguments)}return _createClass$1(PlainMenuItem,[{key:Xi,get:function get(){return Qn.html(qa||(qa=_taggedTemplateLiteral(['\n      <style>\n        :host {\n          font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, Oxygen, Ubuntu, Cantarell, \'Open Sans\', \'Helvetica Neue\', sans-serif;\n          font-size: 10pt;\n          white-space: nowrap;\n        }\n\n        :host([disabled]) {\n          opacity: 0.5;\n        }\n\n        #checkmark {\n          height: 1em;\n          visibility: hidden;\n          width: 1em;\n        }\n\n        :host([selected]) #checkmark {\n          visibility: visible;\n        }\n      </style>\n      <svg id="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="4 6 18 12">\n        <path d="M0 0h24v24H0V0z" fill="none"/>\n        <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/>\n      </svg>\n      <slot></slot>\n    '])))}}]),PlainMenuItem}(),Xa=function(en){_inherits$1(ElixMenuItem,Wa);var tn=_createSuper$4(ElixMenuItem);function ElixMenuItem(){return _classCallCheck$1(this,ElixMenuItem),tn.apply(this,arguments)}return _createClass$1(ElixMenuItem)}();customElements.define("elix-menu-item",Xa);var Ya={a:"link",article:"region",button:"button",h1:"sectionhead",h2:"sectionhead",h3:"sectionhead",h4:"sectionhead",h5:"sectionhead",h6:"sectionhead",hr:"sectionhead",iframe:"region",link:"link",menu:"menu",ol:"list",option:"option",output:"liveregion",progress:"progressbar",select:"select",table:"table",td:"td",textarea:"textbox",th:"th",ul:"list"};function defaultScrollTarget(en){var tn=en[Ti],nn=tn&&tn.querySelector("slot:not([name])");return nn&&nn.parentNode instanceof Element&&function getScrollableElement(en){var tn,nn=_createForOfIteratorHelper(selfAndComposedAncestors(en));try{for(nn.s();!(tn=nn.n()).done;){var rn=tn.value;if(rn instanceof HTMLElement&&isElementScrollable(rn))return rn}}catch(en){nn.e(en)}finally{nn.f()}return null}(nn.parentNode)||en}function isElementScrollable(en){var tn=getComputedStyle(en),nn=tn.overflowX,rn=tn.overflowY;return"scroll"===nn||"auto"===nn||"scroll"===rn||"auto"===rn}function moveToIndex(en,tn,nn){var rn=en[Xr](en[Oi],{direction:nn,index:tn});if(rn<0)return!1;var an=en[Oi].currentIndex!==rn;return an&&en[Ui]({currentIndex:rn}),an}var Ja=["applet","basefont","embed","font","frame","frameset","isindex","keygen","link","multicol","nextid","noscript","object","param","script","style","template","noembed"];function getIndexOfItemAtY(en,tn,nn){var rn,an,sn=en[Oi].items,An=nn?0:sn.length-1,cn=nn?sn.length:0,un=nn?1:-1,hn=null,dn=en[Oi].availableItemFlags;for(rn=An;rn!==cn;rn+=un){if((!dn||dn[rn])&&(an=sn[rn].getBoundingClientRect()).top<=tn&&tn<=an.bottom){hn=sn[rn];break}}if(!hn||!an)return null;var pn=getComputedStyle(hn),gn=pn.paddingTop?parseFloat(pn.paddingTop):0,mn=pn.paddingBottom?parseFloat(pn.paddingBottom):0,vn=an.top+gn,yn=vn+hn.clientHeight-gn-mn;return nn&&vn<=tn||!nn&&yn>=tn?rn:rn-un}function scrollOnePage(en,tn){var nn,rn=en[Oi].items,an=en[Oi].currentIndex,sn=en[Ii].getBoundingClientRect(),An=getIndexOfItemAtY(en,tn?sn.bottom:sn.top,tn);if(An&&an===An){var cn=rn[an].getBoundingClientRect(),un=en[Ii].clientHeight;nn=getIndexOfItemAtY(en,tn?cn.bottom+un:cn.top-un,tn)}else nn=An;if(!nn){var hn=tn?rn.length-1:0;nn=en[Xr]?en[Xr](en[Oi],{direction:tn?-1:1,index:hn}):hn}var dn=nn!==an;if(dn){var pn=en[Si];en[Si]=!0,en[Ui]({currentIndex:nn}),en[Si]=pn}return dn}var Za,eo=Symbol("typedPrefix"),to=Symbol("prefixTimeout");function resetPrefixTimeout(en){var tn=en;tn[to]&&(clearTimeout(tn[to]),tn[to]=!1)}function resetTypedPrefix(en){en[eo]="",resetPrefixTimeout(en)}function setPrefixTimeout(en){resetPrefixTimeout(en),en[to]=setTimeout((function(){resetTypedPrefix(en)}),1e3)}function LanguageDirectionMixin(en){return function(en){_inherits$1(LanguageDirection,en);var tn=_createSuper$4(LanguageDirection);function LanguageDirection(){return _classCallCheck$1(this,LanguageDirection),tn.apply(this,arguments)}return _createClass$1(LanguageDirection,[{key:"connectedCallback",value:function connectedCallback(){var en="rtl"===getComputedStyle(this).direction;this[Ui]({rightToLeft:en}),_get(_getPrototypeOf$1(LanguageDirection.prototype),"connectedCallback",this).call(this)}}]),LanguageDirection}(en)}function ContentItemsMixin(en){return function(en){_inherits$1(ContentItems,en);var tn=_createSuper$4(ContentItems);function ContentItems(){return _classCallCheck$1(this,ContentItems),tn.apply(this,arguments)}return _createClass$1(ContentItems,[{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(ContentItems.prototype),Jr,this)||{},{items:null})}},{key:Mi,value:function value(en,tn){var nn=_get(_getPrototypeOf$1(ContentItems.prototype),Mi,this)?_get(_getPrototypeOf$1(ContentItems.prototype),Mi,this).call(this,en,tn):{};if(tn.content){var rn=en.content,an=rn?Array.prototype.filter.call(rn,(function(en){return function isSubstantiveElement(en){return en instanceof Element&&(!en.localName||Ja.indexOf(en.localName)<0)}(en)})):null;an&&Object.freeze(an),Object.assign(nn,{items:an})}return nn}}]),ContentItems}(en)}function SlotContentMixin(en){var tn=function(en){_inherits$1(SlotContent,en);var tn=_createSuper$4(SlotContent);function SlotContent(){return _classCallCheck$1(this,SlotContent),tn.apply(this,arguments)}return _createClass$1(SlotContent,[{key:Yr,get:function get(){var en=this[Ti]&&this[Ti].querySelector("slot:not([name])");return this[Ti]&&en||console.warn("SlotContentMixin expects ".concat(this.constructor.name," to define a shadow tree that includes a default (unnamed) slot.\nSee https://elix.org/documentation/SlotContentMixin.")),en}},{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(SlotContent.prototype),Jr,this)||{},{content:null})}},{key:Fi,value:function value(en){var tn=this;if(_get(_getPrototypeOf$1(SlotContent.prototype),Fi,this)&&_get(_getPrototypeOf$1(SlotContent.prototype),Fi,this).call(this,en),this[ni]){var nn=this[Yr];nn&&nn.addEventListener("slotchange",_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee(){var en;return _regeneratorRuntime().wrap((function _callee$(rn){for(;;)switch(rn.prev=rn.next){case 0:return tn[Si]=!0,en=nn.assignedNodes({flatten:!0}),Object.freeze(en),tn[Ui]({content:en}),rn.next=6,Promise.resolve();case 6:tn[Si]=!1;case 7:case"end":return rn.stop()}}),_callee)}))))}}}]),SlotContent}(en);return tn}var no=function AriaMenuMixin(en){var tn=function(en){_inherits$1(AriaMenu,en);var tn=_createSuper$4(AriaMenu);function AriaMenu(){return _classCallCheck$1(this,AriaMenu),tn.apply(this,arguments)}return _createClass$1(AriaMenu,[{key:Jr,get:function get(){var en=_get(_getPrototypeOf$1(AriaMenu.prototype),Jr,this);return Object.assign(en,{itemRole:en.itemRole||"menuitem",role:en.role||"menu"})}},{key:"itemRole",get:function get(){return this[Oi].itemRole}},{key:"itemRole",set:function set(en){this[Ui]({itemRole:en})}},{key:ki,value:function value(en){_get(_getPrototypeOf$1(AriaMenu.prototype),ki,this)&&_get(_getPrototypeOf$1(AriaMenu.prototype),ki,this).call(this,en);var tn=this[Oi].items;if((en.items||en.itemRole)&&tn){var nn=this[Oi].itemRole;tn.forEach((function(en){nn===Ya[en.localName]?en.removeAttribute("role"):en.setAttribute("role",nn)}))}if(en.role){var rn=this[Oi].role;this.setAttribute("role",rn)}}},{key:"role",get:function get(){return _get(_getPrototypeOf$1(AriaMenu.prototype),"role",this)}},{key:"role",set:function set(en){_set(_getPrototypeOf$1(AriaMenu.prototype),"role",en,this,!0),this[Li]||this[Ui]({role:en})}}]),AriaMenu}(en);return tn}(function CursorAPIMixin(en){var tn=function(en){_inherits$1(CursorAPI,en);var tn=_createSuper$4(CursorAPI);function CursorAPI(){return _classCallCheck$1(this,CursorAPI),tn.apply(this,arguments)}return _createClass$1(CursorAPI,[{key:"attributeChangedCallback",value:function attributeChangedCallback(en,tn,nn){if("current-index"===en)this.currentIndex=Number(nn);else if("current-item-required"===en){var rn=booleanAttributeValue(en,nn);this.currentItemRequired!==rn&&(this.currentItemRequired=rn)}else if("cursor-operations-wrap"===en){var an=booleanAttributeValue(en,nn);this.cursorOperationsWrap!==an&&(this.cursorOperationsWrap=an)}else _get(_getPrototypeOf$1(CursorAPI.prototype),"attributeChangedCallback",this).call(this,en,tn,nn)}},{key:"currentIndex",get:function get(){var en=this[Oi],tn=en.items,nn=en.currentIndex;return tn&&tn.length>0?nn:-1},set:function set(en){isNaN(en)||this[Ui]({currentIndex:en})}},{key:"currentItem",get:function get(){var en=this[Oi],tn=en.items,nn=en.currentIndex;return tn&&tn[nn]},set:function set(en){var tn=this[Oi].items;if(tn){var nn=tn.indexOf(en);this[Ui]({currentIndex:nn})}}},{key:"currentItemRequired",get:function get(){return this[Oi].currentItemRequired},set:function set(en){this[Ui]({currentItemRequired:en})}},{key:"cursorOperationsWrap",get:function get(){return this[Oi].cursorOperationsWrap},set:function set(en){this[Ui]({cursorOperationsWrap:en})}},{key:"goFirst",value:function goFirst$1(){return _get(_getPrototypeOf$1(CursorAPI.prototype),"goFirst",this)&&_get(_getPrototypeOf$1(CursorAPI.prototype),"goFirst",this).call(this),this[si]()}},{key:"goLast",value:function goLast$1(){return _get(_getPrototypeOf$1(CursorAPI.prototype),"goLast",this)&&_get(_getPrototypeOf$1(CursorAPI.prototype),"goLast",this).call(this),this[Ai]()}},{key:"goNext",value:function goNext$1(){return _get(_getPrototypeOf$1(CursorAPI.prototype),"goNext",this)&&_get(_getPrototypeOf$1(CursorAPI.prototype),"goNext",this).call(this),this[ci]()}},{key:"goPrevious",value:function goPrevious$1(){return _get(_getPrototypeOf$1(CursorAPI.prototype),"goPrevious",this)&&_get(_getPrototypeOf$1(CursorAPI.prototype),"goPrevious",this).call(this),this[ui]()}},{key:Fi,value:function value(en){if(_get(_getPrototypeOf$1(CursorAPI.prototype),Fi,this)&&_get(_getPrototypeOf$1(CursorAPI.prototype),Fi,this).call(this,en),en.currentIndex&&this[Si]){var tn=this[Oi].currentIndex,nn=new CustomEvent("currentindexchange",{bubbles:!0,detail:{currentIndex:tn}});this.dispatchEvent(nn)}}}]),CursorAPI}(en);return tn}(function CursorInViewMixin(en){var tn=function(en){_inherits$1(CursorInView,en);var tn=_createSuper$4(CursorInView);function CursorInView(){return _classCallCheck$1(this,CursorInView),tn.apply(this,arguments)}return _createClass$1(CursorInView,[{key:Fi,value:function value(en){_get(_getPrototypeOf$1(CursorInView.prototype),Fi,this)&&_get(_getPrototypeOf$1(CursorInView.prototype),Fi,this).call(this,en),en.currentItem&&this.scrollCurrentItemIntoView()}},{key:"scrollCurrentItemIntoView",value:function scrollCurrentItemIntoView(){_get(_getPrototypeOf$1(CursorInView.prototype),"scrollCurrentItemIntoView",this)&&_get(_getPrototypeOf$1(CursorInView.prototype),"scrollCurrentItemIntoView",this).call(this);var en=this[Oi],tn=en.currentItem,nn=en.items;if(tn&&nn){var rn=this[Ii].getBoundingClientRect(),an=tn.getBoundingClientRect(),sn=an.bottom-rn.bottom,An=an.left-rn.left,cn=an.right-rn.right,un=an.top-rn.top,hn=this[Oi].orientation||"both";"horizontal"!==hn&&"both"!==hn||(cn>0?this[Ii].scrollLeft+=cn:An<0&&(this[Ii].scrollLeft+=Math.ceil(An))),"vertical"!==hn&&"both"!==hn||(sn>0?this[Ii].scrollTop+=sn:un<0&&(this[Ii].scrollTop+=Math.ceil(un)))}}},{key:Ii,get:function get(){return _get(_getPrototypeOf$1(CursorInView.prototype),Ii,this)||defaultScrollTarget(this)}}]),CursorInView}(en);return tn}(DelegateFocusMixin(function DirectionCursorMixin(en){var tn=function(en){_inherits$1(DirectionCursor,en);var tn=_createSuper$4(DirectionCursor);function DirectionCursor(){return _classCallCheck$1(this,DirectionCursor),tn.apply(this,arguments)}return _createClass$1(DirectionCursor,[{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(DirectionCursor.prototype),Jr,this)||{},{canGoDown:null,canGoLeft:null,canGoRight:null,canGoUp:null})}},{key:ai,value:function value(){return _get(_getPrototypeOf$1(DirectionCursor.prototype),ai,this)&&_get(_getPrototypeOf$1(DirectionCursor.prototype),ai,this).call(this),this[ci]()}},{key:oi,value:function value(){return _get(_getPrototypeOf$1(DirectionCursor.prototype),oi,this)&&_get(_getPrototypeOf$1(DirectionCursor.prototype),oi,this).call(this),this[Ai]()}},{key:li,value:function value(){return _get(_getPrototypeOf$1(DirectionCursor.prototype),li,this)&&_get(_getPrototypeOf$1(DirectionCursor.prototype),li,this).call(this),this[Oi]&&this[Oi].rightToLeft?this[ci]():this[ui]()}},{key:hi,value:function value(){return _get(_getPrototypeOf$1(DirectionCursor.prototype),hi,this)&&_get(_getPrototypeOf$1(DirectionCursor.prototype),hi,this).call(this),this[Oi]&&this[Oi].rightToLeft?this[ui]():this[ci]()}},{key:di,value:function value(){return _get(_getPrototypeOf$1(DirectionCursor.prototype),di,this)&&_get(_getPrototypeOf$1(DirectionCursor.prototype),di,this).call(this),this[si]()}},{key:gi,value:function value(){return _get(_getPrototypeOf$1(DirectionCursor.prototype),gi,this)&&_get(_getPrototypeOf$1(DirectionCursor.prototype),gi,this).call(this),this[ui]()}},{key:Mi,value:function value(en,tn){var nn=_get(_getPrototypeOf$1(DirectionCursor.prototype),Mi,this)?_get(_getPrototypeOf$1(DirectionCursor.prototype),Mi,this).call(this,en,tn):{};if(tn.canGoNext||tn.canGoPrevious||tn.languageDirection||tn.orientation||tn.rightToLeft){var rn=en.canGoNext,an=en.canGoPrevious,sn=en.orientation,An=en.rightToLeft,cn="horizontal"===sn||"both"===sn,un="vertical"===sn||"both"===sn,hn=un&&rn,dn=!!cn&&(An?rn:an),pn=!!cn&&(An?an:rn),gn=un&&an;Object.assign(nn,{canGoDown:hn,canGoLeft:dn,canGoRight:pn,canGoUp:gn})}return nn}}]),DirectionCursor}(en);return tn}(function ItemsAPIMixin(en){var tn=function(en){_inherits$1(ItemsAPI,en);var tn=_createSuper$4(ItemsAPI);function ItemsAPI(){return _classCallCheck$1(this,ItemsAPI),tn.apply(this,arguments)}return _createClass$1(ItemsAPI,[{key:"items",get:function get(){return this[Oi]?this[Oi].items:null}},{key:Fi,value:function value(en){if(_get(_getPrototypeOf$1(ItemsAPI.prototype),Fi,this)&&_get(_getPrototypeOf$1(ItemsAPI.prototype),Fi,this).call(this,en),!this[ni]&&en.items&&this[Si]){var tn=new CustomEvent("itemschange",{bubbles:!0});this.dispatchEvent(tn)}}}]),ItemsAPI}(en);return tn}(function ItemsCursorMixin(en){var tn=function(en){_inherits$1(ItemsCursor,en);var tn=_createSuper$4(ItemsCursor);function ItemsCursor(){return _classCallCheck$1(this,ItemsCursor),tn.apply(this,arguments)}return _createClass$1(ItemsCursor,[{key:Xr,value:function value(en){var tn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},nn=void 0!==tn.direction?tn.direction:1,rn=void 0!==tn.index?tn.index:en.currentIndex,an=void 0!==tn.wrap?tn.wrap:en.cursorOperationsWrap,sn=en.items,An=sn?sn.length:0;if(0===An)return-1;if(an)for(var cn=(rn%An+An)%An,un=((cn-nn)%An+An)%An;cn!==un;){var hn=!en.availableItemFlags||en.availableItemFlags[cn];if(hn)return cn;cn=((cn+nn)%An+An)%An}else for(var dn=rn;dn>=0&&dn<An;dn+=nn){var pn=!en.availableItemFlags||en.availableItemFlags[dn];if(pn)return dn}return-1}},{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(ItemsCursor.prototype),Jr,this)||{},{currentIndex:-1,desiredCurrentIndex:null,currentItem:null,currentItemRequired:!1,cursorOperationsWrap:!1})}},{key:si,value:function value(){return _get(_getPrototypeOf$1(ItemsCursor.prototype),si,this)&&_get(_getPrototypeOf$1(ItemsCursor.prototype),si,this).call(this),moveToIndex(this,0,1)}},{key:Ai,value:function value(){return _get(_getPrototypeOf$1(ItemsCursor.prototype),Ai,this)&&_get(_getPrototypeOf$1(ItemsCursor.prototype),Ai,this).call(this),moveToIndex(this,this[Oi].items.length-1,-1)}},{key:ci,value:function value(){_get(_getPrototypeOf$1(ItemsCursor.prototype),ci,this)&&_get(_getPrototypeOf$1(ItemsCursor.prototype),ci,this).call(this);var en=this[Oi],tn=en.currentIndex,nn=en.items;return moveToIndex(this,tn<0&&nn?0:tn+1,1)}},{key:ui,value:function value(){_get(_getPrototypeOf$1(ItemsCursor.prototype),ui,this)&&_get(_getPrototypeOf$1(ItemsCursor.prototype),ui,this).call(this);var en=this[Oi],tn=en.currentIndex,nn=en.items;return moveToIndex(this,tn<0&&nn?nn.length-1:tn-1,-1)}},{key:Mi,value:function value(en,tn){var nn=_get(_getPrototypeOf$1(ItemsCursor.prototype),Mi,this)?_get(_getPrototypeOf$1(ItemsCursor.prototype),Mi,this).call(this,en,tn):{};if(tn.availableItemFlags||tn.items||tn.currentIndex||tn.currentItemRequired){var rn,an=en.currentIndex,sn=en.desiredCurrentIndex,An=en.currentItem,cn=en.currentItemRequired,un=en.items,hn=un?un.length:0,dn=sn;if(tn.items&&!tn.currentIndex&&An&&hn>0&&un[an]!==An){var pn=un.indexOf(An);pn>=0&&(dn=pn)}else tn.currentIndex&&(an<0&&null!==An||an>=0&&(0===hn||un[an]!==An)||null===sn)&&(dn=an);cn&&dn<0&&(dn=0),dn<0?(dn=-1,rn=-1):0===hn?rn=-1:(rn=Math.max(Math.min(hn-1,dn),0),(rn=this[Xr](en,{direction:1,index:rn,wrap:!1}))<0&&(rn=this[Xr](en,{direction:-1,index:rn-1,wrap:!1})));var gn=un&&un[rn]||null;Object.assign(nn,{currentIndex:rn,desiredCurrentIndex:dn,currentItem:gn})}return nn}}]),ItemsCursor}(en);return tn}(function ItemsTextMixin(en){var tn=function(en){_inherits$1(ItemsText,en);var tn=_createSuper$4(ItemsText);function ItemsText(){return _classCallCheck$1(this,ItemsText),tn.apply(this,arguments)}return _createClass$1(ItemsText,[{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(ItemsText.prototype),Jr,this)||{},{texts:null})}},{key:ii,value:function value(en){return _get(_getPrototypeOf$1(ItemsText.prototype),ii,this)?_get(_getPrototypeOf$1(ItemsText.prototype),ii,this).call(this,en):function getDefaultText(en){return en.getAttribute("aria-label")||en.getAttribute("alt")||en.innerText||en.textContent||""}(en)}},{key:Mi,value:function value(en,tn){var nn=_get(_getPrototypeOf$1(ItemsText.prototype),Mi,this)?_get(_getPrototypeOf$1(ItemsText.prototype),Mi,this).call(this,en,tn):{};if(tn.items){var rn=function getTextsFromItems(en,tn){return en?Array.from(en,(function(en){return tn(en)})):null}(en.items,this[ii]);rn&&(Object.freeze(rn),Object.assign(nn,{texts:rn}))}return nn}}]),ItemsText}(en);return tn}(KeyboardDirectionMixin(KeyboardMixin(function KeyboardPagedCursorMixin(en){var tn=function(en){_inherits$1(KeyboardPagedCursor,en);var tn=_createSuper$4(KeyboardPagedCursor);function KeyboardPagedCursor(){return _classCallCheck$1(this,KeyboardPagedCursor),tn.apply(this,arguments)}return _createClass$1(KeyboardPagedCursor,[{key:wi,value:function value(en){var tn=!1;if("horizontal"!==this.orientation)switch(en.key){case"PageDown":tn=this.pageDown();break;case"PageUp":tn=this.pageUp()}return tn||_get(_getPrototypeOf$1(KeyboardPagedCursor.prototype),wi,this)&&_get(_getPrototypeOf$1(KeyboardPagedCursor.prototype),wi,this).call(this,en)}},{key:"orientation",get:function get(){return _get(_getPrototypeOf$1(KeyboardPagedCursor.prototype),"orientation",this)||this[Oi]&&this[Oi].orientation||"both"}},{key:"pageDown",value:function pageDown(){return _get(_getPrototypeOf$1(KeyboardPagedCursor.prototype),"pageDown",this)&&_get(_getPrototypeOf$1(KeyboardPagedCursor.prototype),"pageDown",this).call(this),scrollOnePage(this,!0)}},{key:"pageUp",value:function pageUp(){return _get(_getPrototypeOf$1(KeyboardPagedCursor.prototype),"pageUp",this)&&_get(_getPrototypeOf$1(KeyboardPagedCursor.prototype),"pageUp",this).call(this),scrollOnePage(this,!1)}},{key:Ii,get:function get(){return _get(_getPrototypeOf$1(KeyboardPagedCursor.prototype),Ii,this)||defaultScrollTarget(this)}}]),KeyboardPagedCursor}(en);return tn}(function KeyboardPrefixCursorMixin(en){var tn=function(en){_inherits$1(KeyboardPrefixCursor,en);var tn=_createSuper$4(KeyboardPrefixCursor);function KeyboardPrefixCursor(){var en;return _classCallCheck$1(this,KeyboardPrefixCursor),resetTypedPrefix(_assertThisInitialized$1(en=tn.call(this))),en}return _createClass$1(KeyboardPrefixCursor,[{key:pi,value:function value(en){if(_get(_getPrototypeOf$1(KeyboardPrefixCursor.prototype),pi,this)&&_get(_getPrototypeOf$1(KeyboardPrefixCursor.prototype),pi,this).call(this,en),null==en||0===en.length)return!1;var tn=en.toLowerCase(),nn=this[Oi].texts.findIndex((function(nn){return nn.substr(0,en.length).toLowerCase()===tn}));if(nn>=0){var rn=this[Oi].currentIndex;return this[Ui]({currentIndex:nn}),this[Oi].currentIndex!==rn}return!1}},{key:wi,value:function value(en){var tn;switch(en.key){case"Backspace":!function handleBackspace(en){var tn=en,nn=tn[eo]?tn[eo].length:0;nn>0&&(tn[eo]=tn[eo].substr(0,nn-1));en[pi](tn[eo]),setPrefixTimeout(en)}(this),tn=!0;break;case"Escape":resetTypedPrefix(this);break;default:en.ctrlKey||en.metaKey||en.altKey||1!==en.key.length||function handlePlainCharacter(en,tn){var nn=en,rn=nn[eo]||"";nn[eo]=rn+tn,en[pi](nn[eo]),setPrefixTimeout(en)}(this,en.key)}return tn||_get(_getPrototypeOf$1(KeyboardPrefixCursor.prototype),wi,this)&&_get(_getPrototypeOf$1(KeyboardPrefixCursor.prototype),wi,this).call(this,en)}}]),KeyboardPrefixCursor}(en);return tn}(LanguageDirectionMixin(function SlotItemsMixin(en){return ContentItemsMixin(SlotContentMixin(en))}(function TapCursorMixin(en){return function(en){_inherits$1(TapCursor,en);var tn=_createSuper$4(TapCursor);function TapCursor(){var en;return _classCallCheck$1(this,TapCursor),(en=tn.call(this)).addEventListener("mousedown",(function(tn){0===tn.button&&(en[Si]=!0,en[Wi](tn),en[Si]=!1)})),en}return _createClass$1(TapCursor,[{key:ki,value:function value(en){_get(_getPrototypeOf$1(TapCursor.prototype),ki,this)&&_get(_getPrototypeOf$1(TapCursor.prototype),ki,this).call(this,en),this[ni]&&Object.assign(this.style,{touchAction:"manipulation",mozUserSelect:"none",msUserSelect:"none",webkitUserSelect:"none",userSelect:"none"})}},{key:Wi,value:function value(en){var tn=en.composedPath?en.composedPath()[0]:en.target,nn=this[Oi],rn=nn.items,an=nn.currentItemRequired;if(rn&&tn instanceof Node){var sn=indexOfItemContainingTarget(rn,tn),An=sn>=0?rn[sn]:null;(An&&!An.disabled||!An&&!an)&&(this[Ui]({currentIndex:sn}),en.stopPropagation())}}}]),TapCursor}(en)}(zr))))))))))))))),ro=function(en){_inherits$1(Menu,no);var tn,nn=_createSuper$4(Menu);function Menu(){return _classCallCheck$1(this,Menu),nn.apply(this,arguments)}return _createClass$1(Menu,[{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(Menu.prototype),Jr,this),{availableItemFlags:null,handleBubblingDirectionKeys:!0,highlightCurrentItem:!0,orientation:"vertical",currentItemFocused:!1})}},{key:"flashCurrentItem",value:(tn=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee(){var en,tn,nn;return _regeneratorRuntime().wrap((function _callee$(rn){for(;;)switch(rn.prev=rn.next){case 0:if(en=this[Oi].focusVisible,tn=matchMedia("(pointer: fine)").matches,!en&&!tn){rn.next=10;break}return nn=75,this[Ui]({highlightCurrentItem:!1}),rn.next=7,new Promise((function(en){return setTimeout(en,nn)}));case 7:return this[Ui]({highlightCurrentItem:!0}),rn.next=10,new Promise((function(en){return setTimeout(en,nn)}));case 10:case"end":return rn.stop()}}),_callee,this)}))),function flashCurrentItem(){return tn.apply(this,arguments)})},{key:ki,value:function value(en){var tn=this;_get(_getPrototypeOf$1(Menu.prototype),ki,this).call(this,en),this[ni]&&(this.addEventListener("disabledchange",(function(en){tn[Si]=!0;var nn=en.target,rn=tn[Oi].items,an=null===rn?-1:rn.indexOf(nn);if(an>=0){var sn=tn[Oi].availableItemFlags.slice();sn[an]=!nn.disabled,tn[Ui]({availableItemFlags:sn})}tn[Si]=!1})),"PointerEvent"in window?this.addEventListener("pointerdown",(function(en){return tn[Wi](en)})):this.addEventListener("touchstart",(function(en){return tn[Wi](en)})),this.removeAttribute("tabindex"));var nn=this[Oi],rn=nn.currentIndex,an=nn.items;if((en.items||en.currentIndex||en.highlightCurrentItem)&&an){var sn=this[Oi].highlightCurrentItem;an.forEach((function(en,tn){en.toggleAttribute("current",sn&&tn===rn)}))}(en.items||en.currentIndex||en.currentItemFocused||en.focusVisible)&&an&&an.forEach((function(en,nn){var an=nn===rn,sn=rn<0&&0===nn;tn[Oi].currentItemFocused?an||sn||en.removeAttribute("tabindex"):(an||sn)&&(en.tabIndex=0)}))}},{key:Fi,value:function value(en){if(_get(_getPrototypeOf$1(Menu.prototype),Fi,this).call(this,en),!this[ni]&&en.currentIndex&&!this[Oi].currentItemFocused){var tn=this[Oi].currentItem;(tn instanceof HTMLElement?tn:this).focus(),this[Ui]({currentItemFocused:!0})}}},{key:Ii,get:function get(){return this[mi].content}},{key:Mi,value:function value(en,tn){var nn=_get(_getPrototypeOf$1(Menu.prototype),Mi,this).call(this,en,tn);if(tn.currentIndex&&Object.assign(nn,{currentItemFocused:!1}),tn.items){var rn=en.items,an=null===rn?null:rn.map((function(en){return!en.disabled}));Object.assign(nn,{availableItemFlags:an})}return nn}},{key:Xi,get:function get(){return Qn.html(Za||(Za=_taggedTemplateLiteral(['\n      <style>\n        :host {\n          box-sizing: border-box;\n          cursor: default;\n          display: inline-flex;\n          -webkit-tap-highlight-color: transparent;\n          touch-action: manipulation;\n        }\n\n        #content {\n          display: flex;\n          flex: 1;\n          flex-direction: column;\n          max-height: 100%;\n          overflow-x: hidden;\n          overflow-y: auto;\n          -webkit-overflow-scrolling: touch; /* for momentum scrolling */\n        }\n        \n        ::slotted(*) {\n          flex-shrink: 0;\n          outline: none;\n          touch-action: manipulation;\n        }\n\n        ::slotted(option) {\n          font: inherit;\n          min-height: inherit;\n        }\n      </style>\n      <div id="content" role="none">\n        <slot></slot>\n      </div>\n    '])))}}]),Menu}(),io=Symbol("documentMouseupListener");function handleMouseup(en){return _handleMouseup.apply(this,arguments)}function _handleMouseup(){return(_handleMouseup=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee(en){var tn,nn,rn,an,sn,An;return _regeneratorRuntime().wrap((function _callee$(cn){for(;;)switch(cn.prev=cn.next){case 0:if(nn=(tn=this)[Ti].elementsFromPoint(en.clientX,en.clientY),!tn.opened){cn.next=16;break}if(rn=nn.indexOf(tn[mi].source)>=0,an=tn[mi].popup,sn=nn.indexOf(an)>=0,An=an.frame&&nn.indexOf(an.frame)>=0,!rn){cn.next=11;break}tn[Oi].dragSelect&&(tn[Si]=!0,tn[Ui]({dragSelect:!1}),tn[Si]=!1),cn.next=16;break;case 11:if(sn||An){cn.next=16;break}return tn[Si]=!0,cn.next=15,tn.close();case 15:tn[Si]=!1;case 16:case"end":return cn.stop()}}),_callee,this)})))).apply(this,arguments)}function listenIfOpenAndConnected$1(en){en[Oi].opened&&en.isConnected?en[io]||(en[io]=handleMouseup.bind(en),document.addEventListener("mouseup",en[io])):en[io]&&(document.removeEventListener("mouseup",en[io]),en[io]=null)}function availableSpace(en,tn,nn,rn){var an=getSourceOrigin(en,nn,rn),sn=0,An=0,cn="above"===nn||"below"===nn;switch(nn){case"above":sn=an.y-tn.top;break;case"below":sn=tn.bottom-an.y;break;case"left":An=an.x-tn.left;break;case"right":An=tn.right-an.x}switch(rn){case"bottom":sn=an.y-tn.top;break;case"center":cn?An=tn.width:sn=tn.height;break;case"stretch":cn?An=en.width:sn=en.height;break;case"left":An=tn.right-an.x;break;case"right":An=an.x-tn.left;break;case"top":sn=tn.bottom-an.y}return{height:sn=Math.max(0,sn),width:An=Math.max(0,An)}}function getSourceOrigin(en,tn,nn){var rn=0,an=0,sn="above"===tn||"below"===tn;switch(tn){case"above":an=en.top;break;case"below":an=en.bottom;break;case"left":case"right":rn=en[tn]}switch(nn){case"bottom":case"top":an=en[nn];break;case"left":case"right":rn=en[nn];break;case"center":sn?rn=en.left+en.width/2:an=en.top+en.height/2;break;case"stretch":sn?rn=en.left:an=en.top}return{x:rn,y:an}}function layoutPopup(en,tn,nn,rn){var an=function normalizeOptions(en){var tn=en.align,nn=en.direction,rn=en.rightToLeft,an="below",sn={above:"above",below:"below",column:"below","column-reverse":"above",left:"left",right:"right",row:rn?"left":"right","row-reverse":rn?"right":"left"}[nn]||an,An={above:"horizontal",below:"horizontal",left:"vertical",right:"vertical"}[sn],cn={horizontal:"left",vertical:"top"}[An];return{align:{horizontal:{center:"center",end:rn?"left":"right",left:"left",right:"right",start:rn?"right":"left",stretch:"stretch"},vertical:{bottom:"bottom",center:"center",end:"bottom",start:"top",stretch:"stretch",top:"top"}}[An][tn]||cn,direction:sn,rightToLeft:rn}}(rn),sn=function prioritizedLayouts(en,tn){var nn={above:"below",below:"above",left:"right",right:"left"},rn={top:"bottom",bottom:"top",left:"right",right:"left"},an=[{align:tn,direction:en}];"center"===tn||"stretch"===tn?an.push({align:tn,direction:nn[en]}):(an.push({align:rn[tn],direction:en}),an.push({align:tn,direction:nn[en]}),an.push({align:rn[tn],direction:nn[en]}));return an}(an.direction,an.align);sn.sort((function(rn,an){return function compareLayouts(en,tn,nn,rn,an){var sn=availableSpace(nn,an,en.direction,en.align),An=availableSpace(nn,an,tn.direction,tn.align),cn=rn.width<=sn.width,un=rn.height<=sn.height,hn=cn||un,dn=cn&&un,pn=rn.width<=An.width,gn=rn.height<=An.height,mn=pn||gn,vn=pn&&gn,yn=sn.width*sn.height,bn=An.width*An.height;return dn&&vn?0:dn?-1:vn?1:hn&&!mn?-1:mn&&!hn?1:hn&&yn>bn?-1:mn&&bn>yn?1:yn>bn?-1:bn>yn?1:0}(rn,an,en,tn,nn)}));var An=sn[0];return An.rect=function getPositionedRect(en,tn,nn,rn,an){var sn=getSourceOrigin(en,rn,an),An=nn.x,cn=nn.y,un=nn.bottom,hn=nn.right,dn=0,pn=0,gn=tn.height,mn=tn.width,vn="above"===rn||"below"===rn;switch(rn){case"above":pn=sn.y-tn.height,un=sn.y;break;case"below":pn=sn.y,cn=sn.y;break;case"left":dn=sn.x-tn.width,hn=sn.x;break;case"right":dn=sn.x,An=sn.x}switch(an){case"bottom":pn=sn.y-tn.height,un=sn.y;break;case"left":dn=sn.x,An=sn.x;break;case"center":vn?dn=sn.x-tn.width/2:pn=sn.y-tn.height/2;break;case"right":dn=sn.x-tn.width,hn=sn.x;break;case"stretch":vn?(dn=sn.x,mn=en.width):(pn=sn.y,gn=en.height);break;case"top":pn=sn.y,cn=sn.y}return dn=Math.max(dn,An),pn=Math.max(pn,cn),mn=Math.min(mn,hn-dn),gn=Math.min(gn,un-pn),new DOMRect(dn,pn,mn,gn)}(en,tn,nn,An.direction,An.align),An}var ao,oo=Symbol("closePromise"),so=Symbol("closeResolve");function OpenCloseMixin(en){var tn=function(en){_inherits$1(OpenClose,en);var tn,nn,rn,an=_createSuper$4(OpenClose);function OpenClose(){return _classCallCheck$1(this,OpenClose),an.apply(this,arguments)}return _createClass$1(OpenClose,[{key:"attributeChangedCallback",value:function attributeChangedCallback(en,tn,nn){if("opened"===en){var rn=booleanAttributeValue(en,nn);this.opened!==rn&&(this.opened=rn)}else _get(_getPrototypeOf$1(OpenClose.prototype),"attributeChangedCallback",this).call(this,en,tn,nn)}},{key:"close",value:(rn=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee(en){return _regeneratorRuntime().wrap((function _callee$(tn){for(;;)switch(tn.prev=tn.next){case 0:if(!_get(_getPrototypeOf$1(OpenClose.prototype),"close",this)){tn.next=3;break}return tn.next=3,_get(_getPrototypeOf$1(OpenClose.prototype),"close",this).call(this);case 3:return this[Ui]({closeResult:en}),tn.next=6,this.toggle(!1);case 6:case"end":return tn.stop()}}),_callee,this)}))),function close(en){return rn.apply(this,arguments)})},{key:"closed",get:function get(){return this[Oi]&&!this[Oi].opened}},{key:"closeFinished",get:function get(){return this[Oi].closeFinished}},{key:"closeResult",get:function get(){return this[Oi].closeResult}},{key:Jr,get:function get(){var en={closeResult:void 0,opened:!1};return this[Ni]&&Object.assign(en,{closeFinished:!0,effect:"close",effectPhase:"after",openCloseEffects:!0}),Object.assign(_get(_getPrototypeOf$1(OpenClose.prototype),Jr,this)||{},en)}},{key:"open",value:(nn=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee2(){return _regeneratorRuntime().wrap((function _callee2$(en){for(;;)switch(en.prev=en.next){case 0:if(!_get(_getPrototypeOf$1(OpenClose.prototype),"open",this)){en.next=3;break}return en.next=3,_get(_getPrototypeOf$1(OpenClose.prototype),"open",this).call(this);case 3:return en.next=5,this.toggle(!0);case 5:case"end":return en.stop()}}),_callee2,this)}))),function open(){return nn.apply(this,arguments)})},{key:"opened",get:function get(){return this[Oi]&&this[Oi].opened}},{key:"opened",set:function set(en){this[Ui]({closeResult:void 0}),this.toggle(en)}},{key:ki,value:function value(en){(_get(_getPrototypeOf$1(OpenClose.prototype),ki,this).call(this,en),en.opened)&&setInternalState(this,"opened",this[Oi].opened);en.closeFinished&&setInternalState(this,"closed",this[Oi].closeFinished)}},{key:Fi,value:function value(en){if(_get(_getPrototypeOf$1(OpenClose.prototype),Fi,this)&&_get(_getPrototypeOf$1(OpenClose.prototype),Fi,this).call(this,en),en.opened&&this[Si]){var tn=new CustomEvent("openedchange",{bubbles:!0,detail:{closeResult:this[Oi].closeResult,opened:this[Oi].opened}});if(this.dispatchEvent(tn),this[Oi].opened){var nn=new CustomEvent("opened",{bubbles:!0});this.dispatchEvent(nn);var rn=new CustomEvent("open",{bubbles:!0});this.dispatchEvent(rn)}else{var an=new CustomEvent("closed",{bubbles:!0,detail:{closeResult:this[Oi].closeResult}});this.dispatchEvent(an);var sn=new CustomEvent("close",{bubbles:!0,detail:{closeResult:this[Oi].closeResult}});this.dispatchEvent(sn)}}var An=this[so];this.closeFinished&&An&&(this[so]=null,this[oo]=null,An(this[Oi].closeResult))}},{key:Mi,value:function value(en,tn){var nn=_get(_getPrototypeOf$1(OpenClose.prototype),Mi,this)?_get(_getPrototypeOf$1(OpenClose.prototype),Mi,this).call(this,en,tn):{};if(tn.opened&&en.opened&&Object.assign(nn,{closeResult:void 0}),tn.openCloseEffects||tn.effect||tn.effectPhase||tn.opened){var rn=en.effect,an=en.effectPhase,sn=en.openCloseEffects,An=en.opened,cn=sn?"close"===rn&&"after"===an:!An;Object.assign(nn,{closeFinished:cn})}return nn}},{key:"toggle",value:(tn=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee3(){var en,tn,nn=arguments;return _regeneratorRuntime().wrap((function _callee3$(rn){for(;;)switch(rn.prev=rn.next){case 0:if(en=nn.length>0&&void 0!==nn[0]?nn[0]:!this.opened,!_get(_getPrototypeOf$1(OpenClose.prototype),"toggle",this)){rn.next=4;break}return rn.next=4,_get(_getPrototypeOf$1(OpenClose.prototype),"toggle",this).call(this,en);case 4:if(en===this[Oi].opened){rn.next=10;break}return tn={opened:en},this[Oi].openCloseEffects&&(tn.effect=en?"open":"close","after"===this[Oi].effectPhase&&(tn.effectPhase="before")),rn.next=10,this[Ui](tn);case 10:case"end":return rn.stop()}}),_callee3,this)}))),function toggle(){return tn.apply(this,arguments)})},{key:"whenClosed",value:function whenClosed(){var en=this;return this[oo]||(this[oo]=new Promise((function(tn){en[so]=tn}))),this[oo]}}]),OpenClose}(en);return tn}var Ao,lo,co,uo,ho=function AriaRoleMixin(en){var tn=function(en){_inherits$1(AriaRole,en);var tn=_createSuper$4(AriaRole);function AriaRole(){return _classCallCheck$1(this,AriaRole),tn.apply(this,arguments)}return _createClass$1(AriaRole,[{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(AriaRole.prototype),Jr,this)||{},{role:null})}},{key:ki,value:function value(en){if(_get(_getPrototypeOf$1(AriaRole.prototype),ki,this)&&_get(_getPrototypeOf$1(AriaRole.prototype),ki,this).call(this,en),en.role){var tn=this[Oi].role;tn?this.setAttribute("role",tn):this.removeAttribute("role")}}},{key:"role",get:function get(){return _get(_getPrototypeOf$1(AriaRole.prototype),"role",this)}},{key:"role",set:function set(en){var tn=String(en);_set(_getPrototypeOf$1(AriaRole.prototype),"role",tn,this,!0),this[Li]||this[Ui]({s:tn})}}]),AriaRole}(en);return tn}(zr),po=function(en){_inherits$1(Backdrop,ho);var tn=_createSuper$4(Backdrop);function Backdrop(){return _classCallCheck$1(this,Backdrop),tn.apply(this,arguments)}return _createClass$1(Backdrop,[{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(Backdrop.prototype),Jr,this),{role:"none"})}},{key:Xi,get:function get(){return Qn.html(ao||(ao=_taggedTemplateLiteral(["\n      <style>\n        :host {\n          display: inline-block;\n          height: 100%;\n          left: 0;\n          position: fixed;\n          top: 0;\n          touch-action: manipulation;\n          width: 100%;\n        }\n      </style>\n      <slot></slot>\n    "])))}}]),Backdrop}(),go=function(en){_inherits$1(OverlayFrame,zr);var tn=_createSuper$4(OverlayFrame);function OverlayFrame(){return _classCallCheck$1(this,OverlayFrame),tn.apply(this,arguments)}return _createClass$1(OverlayFrame,[{key:Xi,get:function get(){return Qn.html(Ao||(Ao=_taggedTemplateLiteral(["\n      <style>\n        :host {\n          display: inline-block;\n          position: relative;\n        }\n      </style>\n      <slot></slot>\n    "])))}}]),OverlayFrame}(),fo=Symbol("appendedToDocument"),mo=Symbol("assignedZIndex"),vo=Symbol("restoreFocusToElement");function bringToFront(en){var tn=function maxZIndexInUse(){var en=document.body.querySelectorAll("*"),tn=Array.from(en,(function(en){var tn=getComputedStyle(en),nn=0;if("static"!==tn.position&&"auto"!==tn.zIndex){var rn=tn.zIndex?parseInt(tn.zIndex):0;nn=isNaN(rn)?0:rn}return nn}));return Math.max.apply(Math,tn)}()+1;en[mo]=tn,en.style.zIndex=tn.toString()}function hasZIndex(en){var tn=getComputedStyle(en).zIndex,nn=en.style.zIndex,rn=!isNaN(parseInt(nn));if("auto"===tn)return rn;if("0"===tn&&!rn){var an=en.assignedSlot||(en instanceof ShadowRoot?en.host:en.parentNode);if(!(an instanceof HTMLElement))return!0;if(!hasZIndex(an))return!1}return!0}var yo=OpenCloseMixin(function OverlayMixin(en){var tn=function(en){_inherits$1(Overlay,en);var tn,nn=_createSuper$4(Overlay);function Overlay(){return _classCallCheck$1(this,Overlay),nn.apply(this,arguments)}return _createClass$1(Overlay,[{key:"autoFocus",get:function get(){return this[Oi].autoFocus},set:function set(en){this[Ui]({autoFocus:en})}},{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(Overlay.prototype),Jr,this)||{},{autoFocus:!0,persistent:!1})}},{key:"open",value:(tn=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee(){return _regeneratorRuntime().wrap((function _callee$(en){for(;;)switch(en.prev=en.next){case 0:if(this[Oi].persistent||this.isConnected||(this[fo]=!0,document.body.append(this)),!_get(_getPrototypeOf$1(Overlay.prototype),"open",this)){en.next=4;break}return en.next=4,_get(_getPrototypeOf$1(Overlay.prototype),"open",this).call(this);case 4:case"end":return en.stop()}}),_callee,this)}))),function open(){return tn.apply(this,arguments)})},{key:ki,value:function value(en){var tn=this;(_get(_getPrototypeOf$1(Overlay.prototype),ki,this)&&_get(_getPrototypeOf$1(Overlay.prototype),ki,this).call(this,en),this[ni]&&this.addEventListener("blur",(function(en){var nn=en.relatedTarget||document.activeElement;nn instanceof HTMLElement&&(deepContains(tn,nn)||(tn.opened?tn[vo]=nn:(nn.focus(),tn[vo]=null)))})),en.effectPhase||en.opened||en.persistent)&&(this[Oi].persistent||((void 0===this.closeFinished?this.closed:this.closeFinished)?this[mo]&&(this.style.zIndex="",this[mo]=null):this[mo]?this.style.zIndex=this[mo]:hasZIndex(this)||bringToFront(this)))}},{key:Fi,value:function value(en){if(_get(_getPrototypeOf$1(Overlay.prototype),Fi,this)&&_get(_getPrototypeOf$1(Overlay.prototype),Fi,this).call(this,en),this[ni]&&this[Oi].persistent&&!hasZIndex(this)&&bringToFront(this),en.opened&&this[Oi].autoFocus)if(this[Oi].opened){this[vo]||document.activeElement===document.body||(this[vo]=document.activeElement);var tn=firstFocusableElement(this);tn&&tn.focus()}else this[vo]&&(this[vo].focus(),this[vo]=null);!this[ni]&&!this[Oi].persistent&&this.closeFinished&&this[fo]&&(this[fo]=!1,this.parentNode&&this.parentNode.removeChild(this))}},{key:Xi,get:function get(){var en=_get(_getPrototypeOf$1(Overlay.prototype),Xi,this)||Qn.html(lo||(lo=_taggedTemplateLiteral([""])));return en.content.append(Tn(co||(co=_taggedTemplateLiteral(["\n        <style>\n          :host([closed]) {\n            display: none;\n          }\n        </style>\n      "])))),en}}]),Overlay}(en);return tn}(SlotContentMixin(zr))),bo=function(en){_inherits$1(Overlay,yo);var tn=_createSuper$4(Overlay);function Overlay(){return _classCallCheck$1(this,Overlay),tn.apply(this,arguments)}return _createClass$1(Overlay,[{key:"backdrop",get:function get(){return this[mi]&&this[mi].backdrop}},{key:"backdropPartType",get:function get(){return this[Oi].backdropPartType},set:function set(en){this[Ui]({backdropPartType:en})}},{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(Overlay.prototype),Jr,this),{backdropPartType:po,framePartType:go})}},{key:"frame",get:function get(){return this[mi].frame}},{key:"framePartType",get:function get(){return this[Oi].framePartType}},{key:"framePartType",set:function set(en){this[Ui]({framePartType:en})}},{key:ki,value:function value(en){_get(_getPrototypeOf$1(Overlay.prototype),ki,this).call(this,en),renderParts$3(this[Ti],this[Oi],en)}},{key:Fi,value:function value(en){_get(_getPrototypeOf$1(Overlay.prototype),Fi,this).call(this,en),en.opened&&this[Oi].content&&this[Oi].content.forEach((function(en){en[Wr]&&en[Wr]()}))}},{key:Xi,get:function get(){var en=_get(_getPrototypeOf$1(Overlay.prototype),Xi,this);return en.content.append(Tn(uo||(uo=_taggedTemplateLiteral(['\n      <style>\n        :host {\n          max-height: 100vh;\n          max-width: 100vw;\n          outline: none;\n          position: fixed;\n          -webkit-tap-highlight-color: transparent;\n        }\n\n        [part~="frame"] {\n          box-sizing: border-box;\n          display: grid;\n          overflow: hidden;\n          overscroll-behavior: contain;\n          pointer-events: initial;\n          position: relative;\n        }\n      </style>\n      <div id="backdrop" part="backdrop" tabindex="-1"></div>\n      <div id="frame" part="frame" role="none">\n        <slot></slot>\n      </div>\n    '])))),renderParts$3(en.content,this[Oi]),en}}]),Overlay}();function renderParts$3(en,tn,nn){if(!nn||nn.backdropPartType){var rn=tn.backdropPartType,an=en.getElementById("backdrop");an&&transmute(an,rn)}if(!nn||nn.framePartType){var sn=tn.framePartType,An=en.getElementById("frame");An&&transmute(An,sn)}}var wo,Co=Symbol("implicitCloseListener"),xo="true"===new URLSearchParams(location.search).get("elixdebugpopup");function blurHandler$1(en){return _blurHandler$1.apply(this,arguments)}function _blurHandler$1(){return(_blurHandler$1=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee(en){var tn,nn;return _regeneratorRuntime().wrap((function _callee$(rn){for(;;)switch(rn.prev=rn.next){case 0:if(tn=this,!((nn=en.relatedTarget||document.activeElement)instanceof Element)||deepContains(tn,nn)){rn.next=7;break}return tn[Si]=!0,rn.next=6,tn.close({canceled:"window blur"});case 6:tn[Si]=!1;case 7:case"end":return rn.stop()}}),_callee,this)})))).apply(this,arguments)}function closeHandler(en){return _closeHandler.apply(this,arguments)}function _closeHandler(){return(_closeHandler=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee2(en){var tn,nn;return _regeneratorRuntime().wrap((function _callee2$(rn){for(;;)switch(rn.prev=rn.next){case 0:if(tn=this,nn="resize"!==en.type||tn[Oi].closeOnWindowResize,ownEvent(tn,en)||!nn){rn.next=7;break}return tn[Si]=!0,rn.next=6,tn.close({canceled:"window ".concat(en.type)});case 6:tn[Si]=!1;case 7:case"end":return rn.stop()}}),_callee2,this)})))).apply(this,arguments)}var Bo,_o=KeyboardMixin(function PopupModalityMixin(en){var tn=function(en){_inherits$1(PopupModality,en);var tn=_createSuper$4(PopupModality);function PopupModality(){return _classCallCheck$1(this,PopupModality),tn.apply(this,arguments)}return _createClass$1(PopupModality,[{key:"closeOnWindowResize",get:function get(){return this[Oi].closeOnWindowResize},set:function set(en){this[Ui]({closeOnWindowResize:en})}},{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(PopupModality.prototype),Jr,this)||{},{closeOnWindowResize:!0,role:"alert"})}},{key:wi,value:function value(en){var tn=!1;if("Escape"===en.key)this.close({canceled:"Escape"}),tn=!0;return tn||_get(_getPrototypeOf$1(PopupModality.prototype),"keydown",this)&&_get(_getPrototypeOf$1(PopupModality.prototype),"keydown",this).call(this,en)||!1}},{key:ki,value:function value(en){if(_get(_getPrototypeOf$1(PopupModality.prototype),ki,this)&&_get(_getPrototypeOf$1(PopupModality.prototype),ki,this).call(this,en),this[ni]&&(xo||this.addEventListener("blur",blurHandler$1.bind(this))),en.role){var tn=this[Oi].role;this.setAttribute("role",tn)}}},{key:Fi,value:function value(en){var tn=this;(_get(_getPrototypeOf$1(PopupModality.prototype),Fi,this)&&_get(_getPrototypeOf$1(PopupModality.prototype),Fi,this).call(this,en),en.opened)&&(this.opened?("requestIdleCallback"in window?window.requestIdleCallback:setTimeout)((function(){tn.opened&&function addEventListeners$1(en){en[Co]=closeHandler.bind(en),xo||window.addEventListener("blur",en[Co]);window.addEventListener("resize",en[Co]),window.addEventListener("scroll",en[Co])}(tn)})):function removeEventListeners$1(en){en[Co]&&(xo||window.removeEventListener("blur",en[Co]),window.removeEventListener("resize",en[Co]),window.removeEventListener("scroll",en[Co]),en[Co]=null)}(this))}},{key:"role",get:function get(){return _get(_getPrototypeOf$1(PopupModality.prototype),"role",this)}},{key:"role",set:function set(en){_set(_getPrototypeOf$1(PopupModality.prototype),"role",en,this,!0),this[Li]||this[Ui]({role:en})}}]),PopupModality}(en);return tn}(bo)),So=function(en){_inherits$1(Popup,_o);var tn=_createSuper$4(Popup);function Popup(){return _classCallCheck$1(this,Popup),tn.apply(this,arguments)}return _createClass$1(Popup,[{key:ki,value:function value(en){_get(_getPrototypeOf$1(Popup.prototype),ki,this).call(this,en),en.backdropPartType&&(this[mi].backdrop.addEventListener("mousedown",mousedownHandler.bind(this)),"PointerEvent"in window||this[mi].backdrop.addEventListener("touchend",mousedownHandler))}},{key:Xi,get:function get(){var en=_get(_getPrototypeOf$1(Popup.prototype),Xi,this);return en.content.append(Tn(wo||(wo=_taggedTemplateLiteral(["\n        <style>\n          :host {\n            display: grid;\n            grid-template: minmax(0, max-content) / minmax(0, max-content);\n          }\n        </style>\n      "])))),en}}]),Popup}();function mousedownHandler(en){return _mousedownHandler.apply(this,arguments)}function _mousedownHandler(){return(_mousedownHandler=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee(en){var tn;return _regeneratorRuntime().wrap((function _callee$(nn){for(;;)switch(nn.prev=nn.next){case 0:return(tn=this)[Si]=!0,nn.next=4,tn.close({canceled:"mousedown outside"});case 4:tn[Si]=!1,en.preventDefault(),en.stopPropagation();case 7:case"end":return nn.stop()}}),_callee,this)})))).apply(this,arguments)}var ko,Eo=Symbol("resizeListener"),Po=DisabledMixin(FocusVisibleMixin(LanguageDirectionMixin(OpenCloseMixin(zr)))),Fo=function(en){_inherits$1(PopupSource,Po);var tn=_createSuper$4(PopupSource);function PopupSource(){return _classCallCheck$1(this,PopupSource),tn.apply(this,arguments)}return _createClass$1(PopupSource,[{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(PopupSource.prototype),Jr,this),{ariaHasPopup:"true",popupAlign:"start",popupDirection:"column",popupLayout:null,popupPartType:So,sourcePartType:"div"})}},{key:yi,get:function get(){return this[mi].source}},{key:"frame",get:function get(){return this[mi].popup.frame}},{key:"popupAlign",get:function get(){return this[Oi].popupAlign}},{key:"popupAlign",set:function set(en){this[Ui]({popupAlign:en})}},{key:"popupDirection",get:function get(){return this[Oi].popupDirection}},{key:"popupDirection",set:function set(en){this[Ui]({popupDirection:en})}},{key:"popupPartType",get:function get(){return this[Oi].popupPartType}},{key:"popupPartType",set:function set(en){this[Ui]({popupPartType:en})}},{key:ki,value:function value(en){var tn=this;(_get(_getPrototypeOf$1(PopupSource.prototype),ki,this).call(this,en),renderParts$2(this[Ti],this[Oi],en),this[ni]||en.ariaHasPopup)&&(null===this[Oi].ariaHasPopup?this[yi].removeAttribute("aria-haspopup"):this[yi].setAttribute("aria-haspopup",this[Oi].ariaHasPopup));if(en.popupPartType&&(this[mi].popup.addEventListener("open",(function(){tn.opened||(tn[Si]=!0,tn.open(),tn[Si]=!1)})),this[mi].popup.addEventListener("close",(function(en){if(!tn.closed){tn[Si]=!0;var nn=en.detail.closeResult;tn.close(nn),tn[Si]=!1}}))),en.opened||en.popupLayout){var nn=this[Oi],rn=nn.opened,an=nn.popupLayout,sn={height:"",left:"",opacity:"",top:"",width:""};if(rn)if(an){var An=an.align,cn=an.direction,un=an.rect,hn="stretch"===An,dn="above"===cn||"below"===cn,pn=!dn&&hn?"minmax(0, 1fr)":"",gn=dn&&hn?"minmax(0, 1fr)":"";Object.assign(sn,{gridTemplateColumns:gn,gridTemplateRows:pn,height:"".concat(un.height,"px"),left:"".concat(un.left,"px"),top:"".concat(un.top,"px"),width:"".concat(un.width,"px")})}else sn.opacity=0;else;Object.assign(this[mi].popup.style,sn)}if(en.opened){var mn=this[Oi].opened;this[mi].popup.opened=mn}if(en.disabled&&"disabled"in this[mi].source){var vn=this[Oi].disabled;this[mi].source.disabled=vn}if(en.popupLayout){var yn=this[Oi].popupLayout;if(yn){var bn=yn.align,wn=yn.direction,Cn=this[mi].popup;"position"in Cn&&(Cn.position=wn),"align"in Cn&&(Cn.align=bn)}}}},{key:Fi,value:function value(en){_get(_getPrototypeOf$1(PopupSource.prototype),Fi,this).call(this,en);var tn=this[Oi].opened;en.opened?tn?function waitThenRenderOpened(en){setTimeout((function(){en[Oi].opened&&(choosePopupLayout(en),function addEventListeners(en){var tn=en;tn[Eo]=function(){choosePopupLayout(en)},(window.visualViewport||window).addEventListener("resize",tn[Eo])}(en))}))}(this):function removeEventListeners(en){var tn=en;if(tn[Eo]){(window.visualViewport||window).removeEventListener("resize",tn[Eo]),tn[Eo]=null}}(this):en.popupLayout&&this[Oi].opened&&!this[Oi].popupLayout&&choosePopupLayout(this)}},{key:"sourcePartType",get:function get(){return this[Oi].sourcePartType}},{key:"sourcePartType",set:function set(en){this[Ui]({sourcePartType:en})}},{key:Mi,value:function value(en,tn){var nn=_get(_getPrototypeOf$1(PopupSource.prototype),Mi,this).call(this,en,tn);return(tn.opened&&!en.opened||en.opened&&(tn.popupAlign||tn.popupDirection||tn.rightToLeft))&&Object.assign(nn,{popupLayout:null}),nn}},{key:Xi,get:function get(){var en=_get(_getPrototypeOf$1(PopupSource.prototype),Xi,this);return en.content.append(Tn(Bo||(Bo=_taggedTemplateLiteral(['\n      <style>\n        :host {\n          display: inline-block;\n          position: relative;\n        }\n\n        [part~="source"] {\n          height: 100%;\n          -webkit-tap-highlight-color: transparent;\n          touch-action: manipulation;\n          width: 100%;\n        }\n\n        [part~="popup"] {\n          outline: none;\n          position: fixed;\n        }\n      </style>\n      <div id="source" part="source">\n        <slot name="source"></slot>\n      </div>\n      <div id="popup" part="popup" exportparts="backdrop, frame" role="none">\n        <slot></slot>\n      </div>\n    '])))),renderParts$2(en.content,this[Oi]),en}}]),PopupSource}();function choosePopupLayout(en){var tn=en[Oi],nn=tn.popupAlign,rn=tn.popupDirection,an=tn.rightToLeft,sn=en[mi].source.getBoundingClientRect(),An=en[mi].popup.getBoundingClientRect();en[mi].popup.frame&&(An.height=en[mi].popup[mi].frame.scrollHeight,An.width=en[mi].popup[mi].frame.scrollWidth);var cn=layoutPopup(sn,An,function viewportBounds(){var en=window.visualViewport;return en?new DOMRect(en.offsetLeft,en.offsetTop,en.width,en.height):new DOMRect(0,0,window.innerWidth,window.innerHeight)}(),{align:nn,direction:rn,rightToLeft:an});en[Ui]({popupLayout:cn})}function renderParts$2(en,tn,nn){if(!nn||nn.popupPartType){var rn=tn.popupPartType,an=en.getElementById("popup");an&&transmute(an,rn)}if(!nn||nn.sourcePartType){var sn=tn.sourcePartType,An=en.getElementById("source");An&&transmute(An,sn)}}var Lo="true"===new URLSearchParams(location.search).get("elixdebugpopup"),Io=DelegateFocusMixin(KeyboardMixin(function PopupDragSelectMixin(en){var tn=function(en){_inherits$1(PopupDragSelect,en);var tn=_createSuper$4(PopupDragSelect);function PopupDragSelect(){return _classCallCheck$1(this,PopupDragSelect),tn.apply(this,arguments)}return _createClass$1(PopupDragSelect,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf$1(PopupDragSelect.prototype),"connectedCallback",this).call(this),listenIfOpenAndConnected$1(this)}},{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(PopupDragSelect.prototype),Jr,this)||{},{dragSelect:!0})}},{key:"disconnectedCallback",value:function disconnectedCallback(){_get(_getPrototypeOf$1(PopupDragSelect.prototype),"disconnectedCallback",this)&&_get(_getPrototypeOf$1(PopupDragSelect.prototype),"disconnectedCallback",this).call(this),listenIfOpenAndConnected$1(this)}},{key:Fi,value:function value(en){_get(_getPrototypeOf$1(PopupDragSelect.prototype),Fi,this).call(this,en),en.opened&&listenIfOpenAndConnected$1(this)}},{key:Mi,value:function value(en,tn){var nn=_get(_getPrototypeOf$1(PopupDragSelect.prototype),Mi,this).call(this,en,tn);return tn.opened&&en.opened&&Object.assign(nn,{dragSelect:!0}),nn}}]),PopupDragSelect}(en);return tn}(Fo))),Uo=function(en){_inherits$1(PopupButton,Io);var tn=_createSuper$4(PopupButton);function PopupButton(){return _classCallCheck$1(this,PopupButton),tn.apply(this,arguments)}return _createClass$1(PopupButton,[{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(PopupButton.prototype),Jr,this),{sourcePartType:"button"})}},{key:wi,value:function value(en){var tn;switch(en.key){case" ":case"ArrowDown":case"ArrowUp":this.closed&&(this.open(),tn=!0);break;case"Enter":this.opened||(this.open(),tn=!0);break;case"Escape":this.opened&&(this.close({canceled:"Escape"}),tn=!0)}if(!(tn=_get(_getPrototypeOf$1(PopupButton.prototype),wi,this)&&_get(_getPrototypeOf$1(PopupButton.prototype),wi,this).call(this,en))&&this.opened&&!en.metaKey&&!en.altKey)switch(en.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":case"PageDown":case"PageUp":case" ":tn=!0}return tn}},{key:ki,value:function value(en){var tn=this;if(_get(_getPrototypeOf$1(PopupButton.prototype),ki,this).call(this,en),this[ni]&&(Lo||this.addEventListener("blur",blurHandler.bind(this)),this[mi].source.addEventListener("focus",function(){var en=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee(en){var nn,rn;return _regeneratorRuntime().wrap((function _callee$(an){for(;;)switch(an.prev=an.next){case 0:if(nn=ownEvent(tn[mi].popup,en),rn=null!==tn[Oi].popupHeight,nn||!tn.opened||!rn){an.next=7;break}return tn[Si]=!0,an.next=6,tn.close();case 6:tn[Si]=!1;case 7:case"end":return an.stop()}}),_callee)})));return function(tn){return en.apply(this,arguments)}}())),en.opened){var nn=this[Oi].opened;this.toggleAttribute("opened",nn)}en.sourcePartType&&this[mi].source.addEventListener("mousedown",(function(en){if(tn.disabled)en.preventDefault();else{var nn=en;nn.button&&0!==nn.button||(setTimeout((function(){tn.opened||(tn[Si]=!0,tn.open(),tn[Si]=!1)})),en.stopPropagation())}}));en.popupPartType&&this[mi].popup.removeAttribute("tabindex")}},{key:Xi,get:function get(){var en=_get(_getPrototypeOf$1(PopupButton.prototype),Xi,this);return en.content.append(Tn(ko||(ko=_taggedTemplateLiteral(['\n        <style>\n          [part~="source"] {\n            cursor: default;\n            outline: none;\n            -webkit-tap-highlight-color: transparent;\n            touch-action: manipulation;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            -webkit-user-select: none;\n            user-select: none;\n          }\n\n          :host([opened][focus-visible]) {\n            outline: none;\n          }\n        </style>\n      '])))),en}}]),PopupButton}();function blurHandler(en){return _blurHandler.apply(this,arguments)}function _blurHandler(){return(_blurHandler=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee2(en){var tn,nn;return _regeneratorRuntime().wrap((function _callee2$(rn){for(;;)switch(rn.prev=rn.next){case 0:if(tn=this,!((nn=en.relatedTarget||document.activeElement)instanceof Element)||deepContains(tn,nn)){rn.next=7;break}return tn[Si]=!0,rn.next=6,tn.close({canceled:"blur"});case 6:tn[Si]=!1;case 7:case"end":return rn.stop()}}),_callee2,this)})))).apply(this,arguments)}var To,Qo,No=Symbol("documentMousemoveListener");function handleMousemove(en){var tn=this,nn=tn[Oi],rn=nn.hasHoveredOverItemSinceOpened;if(nn.opened){var an=en.composedPath?en.composedPath()[0]:en.target,sn=tn.items;if(an&&an instanceof Node&&sn){var An=indexOfItemContainingTarget(sn,an),cn=sn[An],un=cn&&!cn.disabled?An:-1;(rn||un>=0)&&un!==tn[Oi].currentIndex&&(tn[Si]=!0,tn[Ui]({currentIndex:un}),un>=0&&!rn&&tn[Ui]({hasHoveredOverItemSinceOpened:!0}),tn[Si]=!1)}}}function listenIfOpenAndConnected(en){en[Oi].opened&&en.isConnected?en[No]||(en[No]=handleMousemove.bind(en),document.addEventListener("mousemove",en[No])):en[No]&&(document.removeEventListener("mousemove",en[No]),en[No]=null)}function selectCurrentItemAndClose(en){return _selectCurrentItemAndClose.apply(this,arguments)}function _selectCurrentItemAndClose(){return(_selectCurrentItemAndClose=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee2(en){var tn,nn,rn,an,sn,An;return _regeneratorRuntime().wrap((function _callee2$(cn){for(;;)switch(cn.prev=cn.next){case 0:if(tn=en[Si],nn=en[Oi].currentIndex>=0,!(rn=en.items)){cn.next=14;break}if(an=nn?rn[en[Oi].currentIndex]:void 0,sn=en[Oi].popupList,!nn||!("flashCurrentItem"in sn)){cn.next=9;break}return cn.next=9,sn.flashCurrentItem();case 9:return An=en[Si],en[Si]=tn,cn.next=13,en.close(an);case 13:en[Si]=An;case 14:case"end":return cn.stop()}}),_callee2)})))).apply(this,arguments)}var Oo,Mo=function PopupListMixin(en){var tn=function(en){_inherits$1(PopupList,en);var tn=_createSuper$4(PopupList);function PopupList(){return _classCallCheck$1(this,PopupList),tn.apply(this,arguments)}return _createClass$1(PopupList,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf$1(PopupList.prototype),"connectedCallback",this).call(this),listenIfOpenAndConnected(this)}},{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(PopupList.prototype),Jr,this)||{},{currentIndex:-1,hasHoveredOverItemSinceOpened:!1,popupList:null})}},{key:"disconnectedCallback",value:function disconnectedCallback(){_get(_getPrototypeOf$1(PopupList.prototype),"disconnectedCallback",this)&&_get(_getPrototypeOf$1(PopupList.prototype),"disconnectedCallback",this).call(this),listenIfOpenAndConnected(this)}},{key:wi,value:function value(en){var tn=!1;if("Enter"===en.key)this.opened&&(selectCurrentItemAndClose(this),tn=!0);return tn||_get(_getPrototypeOf$1(PopupList.prototype),wi,this)&&_get(_getPrototypeOf$1(PopupList.prototype),wi,this).call(this,en)||!1}},{key:ki,value:function value(en){var tn=this;if(_get(_getPrototypeOf$1(PopupList.prototype),ki,this)&&_get(_getPrototypeOf$1(PopupList.prototype),ki,this).call(this,en),en.popupList){var nn=this[Oi].popupList;nn&&(nn.addEventListener("mouseup",function(){var en=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee(en){var nn;return _regeneratorRuntime().wrap((function _callee$(rn){for(;;)switch(rn.prev=rn.next){case 0:if(nn=tn[Oi].currentIndex,!(tn[Oi].dragSelect||nn>=0)){rn.next=9;break}return en.stopPropagation(),tn[Si]=!0,rn.next=6,selectCurrentItemAndClose(tn);case 6:tn[Si]=!1,rn.next=10;break;case 9:en.stopPropagation();case 10:case"end":return rn.stop()}}),_callee)})));return function(tn){return en.apply(this,arguments)}}()),nn.addEventListener("currentindexchange",(function(en){tn[Si]=!0;var nn=en;tn[Ui]({currentIndex:nn.detail.currentIndex}),tn[Si]=!1})))}if(en.currentIndex||en.popupList){var rn=this[Oi],an=rn.currentIndex,sn=rn.popupList;sn&&"currentIndex"in sn&&(sn.currentIndex=an)}}},{key:Fi,value:function value(en){if(_get(_getPrototypeOf$1(PopupList.prototype),Fi,this)&&_get(_getPrototypeOf$1(PopupList.prototype),Fi,this).call(this,en),en.opened){if(this[Oi].opened){var tn=this[Oi].popupList;tn.scrollCurrentItemIntoView&&setTimeout((function(){tn.scrollCurrentItemIntoView()}))}listenIfOpenAndConnected(this)}}},{key:Mi,value:function value(en,tn){var nn=_get(_getPrototypeOf$1(PopupList.prototype),Mi,this)?_get(_getPrototypeOf$1(PopupList.prototype),Mi,this).call(this,en,tn):{};return tn.opened&&en.opened&&Object.assign(nn,{hasHoveredOverItemSinceOpened:!1}),nn}}]),PopupList}(en);return tn}(Uo),Ro=function(en){_inherits$1(MenuButton,Mo);var tn=_createSuper$4(MenuButton);function MenuButton(){return _classCallCheck$1(this,MenuButton),tn.apply(this,arguments)}return _createClass$1(MenuButton,[{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(MenuButton.prototype),Jr,this),{menuPartType:ro})}},{key:"items",get:function get(){var en=this[mi]&&this[mi].menu;return en?en.items:null}},{key:"menuPartType",get:function get(){return this[Oi].menuPartType}},{key:"menuPartType",set:function set(en){this[Ui]({menuPartType:en})}},{key:ki,value:function value(en){var tn=this;if(_get(_getPrototypeOf$1(MenuButton.prototype),ki,this).call(this,en),renderParts$1(this[Ti],this[Oi],en),en.menuPartType&&(this[mi].menu.addEventListener("blur",function(){var en=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee(en){var nn;return _regeneratorRuntime().wrap((function _callee$(rn){for(;;)switch(rn.prev=rn.next){case 0:if(nn=en.relatedTarget||document.activeElement,!tn.opened||deepContains(tn[mi].menu,nn)){rn.next=7;break}return tn[Si]=!0,rn.next=6,tn.close();case 6:tn[Si]=!1;case 7:case"end":return rn.stop()}}),_callee)})));return function(tn){return en.apply(this,arguments)}}()),this[mi].menu.addEventListener("mousedown",(function(en){0===en.button&&tn.opened&&(en.stopPropagation(),en.preventDefault())}))),en.opened){var nn=this[Oi].opened;this[mi].source.setAttribute("aria-expanded",nn.toString())}}},{key:Fi,value:function value(en){_get(_getPrototypeOf$1(MenuButton.prototype),Fi,this).call(this,en),en.menuPartType&&this[Ui]({popupList:this[mi].menu})}},{key:Mi,value:function value(en,tn){var nn=_get(_getPrototypeOf$1(MenuButton.prototype),Mi,this).call(this,en,tn);return tn.opened&&!en.opened&&Object.assign(nn,{currentIndex:-1}),nn}},{key:Xi,get:function get(){var en=_get(_getPrototypeOf$1(MenuButton.prototype),Xi,this),tn=en.content.querySelector("slot:not([name])");return tn&&tn.replaceWith(Tn(To||(To=_taggedTemplateLiteral(['\n        <div id="menu" part="menu">\n          <slot></slot>\n        </div>\n      '])))),renderParts$1(en.content,this[Oi]),en.content.append(Tn(Qo||(Qo=_taggedTemplateLiteral(['\n      <style>\n        [part~="menu"] {\n          max-height: 100%;\n        }\n      </style>\n    '])))),en}}]),MenuButton}();function renderParts$1(en,tn,nn){if(!nn||nn.menuPartType){var rn=tn.menuPartType,an=en.getElementById("menu");an&&transmute(an,rn)}}var Ho,Do,$o=DisabledMixin(zr),Go=function(en){_inherits$1(UpDownToggle,$o);var tn=_createSuper$4(UpDownToggle);function UpDownToggle(){return _classCallCheck$1(this,UpDownToggle),tn.apply(this,arguments)}return _createClass$1(UpDownToggle,[{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(UpDownToggle.prototype),Jr,this),{direction:"down"})}},{key:"direction",get:function get(){return this[Oi].direction}},{key:"direction",set:function set(en){this[Ui]({direction:en})}},{key:ki,value:function value(en){if(_get(_getPrototypeOf$1(UpDownToggle.prototype),ki,this).call(this,en),en.direction){var tn=this[Oi].direction;this[mi].downIcon.style.display="down"===tn?"block":"none",this[mi].upIcon.style.display="up"===tn?"block":"none"}}},{key:Xi,get:function get(){return Qn.html(Oo||(Oo=_taggedTemplateLiteral(['\n      <style>\n        :host {\n          display: inline-block;\n        }\n      </style>\n      <div id="downIcon" part="toggle-icon down-icon">\n        <slot name="down-icon"></slot>\n      </div>\n      <div id="upIcon" part="toggle-icon up-icon">\n        <slot name="up-icon"></slot>\n      </div>\n    '])))}}]),UpDownToggle}();function PopupToggleMixin(en){var tn=function(en){_inherits$1(PopupToggle,en);var tn=_createSuper$4(PopupToggle);function PopupToggle(){return _classCallCheck$1(this,PopupToggle),tn.apply(this,arguments)}return _createClass$1(PopupToggle,[{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(PopupToggle.prototype),Jr,this)||{},{popupTogglePartType:Go})}},{key:"popupTogglePartType",get:function get(){return this[Oi].popupTogglePartType}},{key:"popupTogglePartType",set:function set(en){this[Ui]({popupTogglePartType:en})}},{key:ki,value:function value(en){if(_get(_getPrototypeOf$1(PopupToggle.prototype),ki,this).call(this,en),renderParts(this[Ti],this[Oi],en),en.popupDirection||en.popupTogglePartType){var tn=this[Oi].popupDirection,nn="above"===tn||"column-reverse"===tn?"up":"down",rn=this[mi].popupToggle;"direction"in rn&&(rn.direction=nn)}if(en.disabled){var an=this[Oi].disabled;this[mi].popupToggle.disabled=an}}},{key:Xi,get:function get(){var en=_get(_getPrototypeOf$1(PopupToggle.prototype),Xi,this),tn=en.content.querySelector('[part~="source"]');return tn&&tn.append(Tn(Ho||(Ho=_taggedTemplateLiteral(['\n          <div\n            id="popupToggle"\n            part="popup-toggle"\n            exportparts="toggle-icon, down-icon, up-icon"\n            tabindex="-1"\n          ></div>\n      '])))),renderParts(en.content,this[Oi]),en.content.append(Tn(Do||(Do=_taggedTemplateLiteral(['\n      <style>\n        [part~="popup-toggle"] {\n          outline: none;\n        }\n\n        [part~="source"] {\n          align-items: center;\n          display: flex;\n        }\n      </style>\n    '])))),en}}]),PopupToggle}(en);return tn}function renderParts(en,tn,nn){if(!nn||nn.popupTogglePartType){var rn=tn.popupTogglePartType,an=en.getElementById("popupToggle");an&&transmute(an,rn)}}var jo,Vo,Ko,qo,zo,Wo,Xo,Yo,Jo=function(en){_inherits$1(PlainButton,PlainButtonMixin(Pa));var tn=_createSuper$4(PlainButton);function PlainButton(){return _classCallCheck$1(this,PlainButton),tn.apply(this,arguments)}return _createClass$1(PlainButton)}(),Zo=function(en){_inherits$1(PlainBorderButton,Jo);var tn=_createSuper$4(PlainBorderButton);function PlainBorderButton(){return _classCallCheck$1(this,PlainBorderButton),tn.apply(this,arguments)}return _createClass$1(PlainBorderButton,[{key:Xi,get:function get(){var en=_get(_getPrototypeOf$1(PlainBorderButton.prototype),Xi,this);return en.content.append(Tn(jo||(jo=_taggedTemplateLiteral(['\n        <style>\n          [part~="button"] {\n            background: #eee;\n            border: 1px solid #ccc;\n            padding: 0.25em 0.5em;\n          }\n        </style>\n      '])))),en}}]),PlainBorderButton}(),es=function(en){_inherits$1(PlainMenu,ro);var tn=_createSuper$4(PlainMenu);function PlainMenu(){return _classCallCheck$1(this,PlainMenu),tn.apply(this,arguments)}return _createClass$1(PlainMenu,[{key:Xi,get:function get(){var en=_get(_getPrototypeOf$1(PlainMenu.prototype),Xi,this);return en.content.append(Tn(Vo||(Vo=_taggedTemplateLiteral(["\n        <style>\n          :host ::slotted(*) {\n            padding: 0.25em 1em;\n          }\n          \n          :host ::slotted([current]) {\n            background: highlight;\n            color: highlighttext;\n          }\n\n          @media (pointer: coarse) {\n            ::slotted(*) {\n              padding: 1em;\n            }\n          }\n        </style>\n      "])))),en}}]),PlainMenu}(),ts=function(en){_inherits$1(PlainOpenCloseToggle,Go);var tn=_createSuper$4(PlainOpenCloseToggle);function PlainOpenCloseToggle(){return _classCallCheck$1(this,PlainOpenCloseToggle),tn.apply(this,arguments)}return _createClass$1(PlainOpenCloseToggle,[{key:Xi,get:function get(){var en=_get(_getPrototypeOf$1(PlainOpenCloseToggle.prototype),Xi,this),tn=en.content.getElementById("downIcon"),nn=Tn(Ko||(Ko=_taggedTemplateLiteral(['\n      <svg\n        id="downIcon"\n        part="toggle-icon down-icon"\n        xmlns="http://www.w3.org/2000/svg"\n        viewBox="0 0 10 5"\n      >\n        <path d="M 0 0 l5 5 5 -5 z" />\n      </svg>\n    ']))).firstElementChild;tn&&nn&&replace(tn,nn);var rn=en.content.getElementById("upIcon"),an=Tn(qo||(qo=_taggedTemplateLiteral(['\n      <svg\n        id="upIcon"\n        part="toggle-icon up-icon"\n        xmlns="http://www.w3.org/2000/svg"\n        viewBox="0 0 10 5"\n      >\n        <path d="M 0 5 l5 -5 5 5 z" />\n      </svg>\n    ']))).firstElementChild;return rn&&an&&replace(rn,an),en.content.append(Tn(zo||(zo=_taggedTemplateLiteral(['\n        <style>\n          :host {\n            align-items: center;\n            display: inline-flex;\n            padding: 2px;\n          }\n\n          :host(:not([disabled])):hover {\n            background: #eee;\n          }\n\n          [part~="toggle-icon"] {\n            fill: currentColor;\n            height: 10px;\n            margin: 0.25em;\n            width: 10px;\n          }\n        </style>\n      '])))),en}}]),PlainOpenCloseToggle}(),ns=function(en){_inherits$1(PlainBackdrop,po);var tn=_createSuper$4(PlainBackdrop);function PlainBackdrop(){return _classCallCheck$1(this,PlainBackdrop),tn.apply(this,arguments)}return _createClass$1(PlainBackdrop)}(),rs=function(en){_inherits$1(PlainOverlayFrame,go);var tn=_createSuper$4(PlainOverlayFrame);function PlainOverlayFrame(){return _classCallCheck$1(this,PlainOverlayFrame),tn.apply(this,arguments)}return _createClass$1(PlainOverlayFrame,[{key:Xi,get:function get(){var en=_get(_getPrototypeOf$1(PlainOverlayFrame.prototype),Xi,this);return en.content.append(Tn(Wo||(Wo=_taggedTemplateLiteral(["\n        <style>\n          :host {\n            background: white;\n            border: 1px solid rgba(0, 0, 0, 0.2);\n            box-shadow: 0 0px 10px rgba(0, 0, 0, 0.5);\n            box-sizing: border-box;\n          }\n        </style>\n      "])))),en}}]),PlainOverlayFrame}(),is=function(en){_inherits$1(PlainPopup,So);var tn=_createSuper$4(PlainPopup);function PlainPopup(){return _classCallCheck$1(this,PlainPopup),tn.apply(this,arguments)}return _createClass$1(PlainPopup,[{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(PlainPopup.prototype),Jr,this),{backdropPartType:ns,framePartType:rs})}}]),PlainPopup}(),as=function(en){_inherits$1(PlainMenuButton,PopupToggleMixin(Ro));var tn=_createSuper$4(PlainMenuButton);function PlainMenuButton(){return _classCallCheck$1(this,PlainMenuButton),tn.apply(this,arguments)}return _createClass$1(PlainMenuButton,[{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(PlainMenuButton.prototype),Jr,this),{menuPartType:es,popupPartType:is,popupTogglePartType:ts,sourcePartType:Zo})}},{key:Xi,get:function get(){var en=_get(_getPrototypeOf$1(PlainMenuButton.prototype),Xi,this);return en.content.append(Tn(Xo||(Xo=_taggedTemplateLiteral(['\n        <style>\n          [part~="menu"] {\n            background: window;\n            border: none;\n            padding: 0.5em 0;\n          }\n        </style>\n      '])))),en}}]),PlainMenuButton}(),os=function(en){_inherits$1(SePlainBorderButton,Jo);var tn=_createSuper$4(SePlainBorderButton);function SePlainBorderButton(){return _classCallCheck$1(this,SePlainBorderButton),tn.apply(this,arguments)}return _createClass$1(SePlainBorderButton,[{key:Xi,get:function get(){var en=_get(_getPrototypeOf$1(SePlainBorderButton.prototype),Xi,this);return en.content.append(Tn(Yo||(Yo=_taggedTemplateLiteral(['\n        <style>\n          [part~="button"] {\n            background: var(--main-bg-color);\n            border: 1px solid #ccc;\n          }\n        </style>\n      '])))),en}}]),SePlainBorderButton}(),ss=function(en){_inherits$1(ElixMenuButton,as);var tn=_createSuper$4(ElixMenuButton);function ElixMenuButton(){return _classCallCheck$1(this,ElixMenuButton),tn.apply(this,arguments)}return _createClass$1(ElixMenuButton,[{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(ElixMenuButton.prototype),Jr,this),{sourcePartType:os})}}]),ElixMenuButton}();customElements.define("elix-menu-button",ss);var As=document.createElement("template");As.innerHTML='\n  <style>\n  :host {\n    padding: 0px;\n  }\n  elix-menu-button::part(menu) {\n    background-color: var(--icon-bg-color) !important;\n    color: #fff;\n  }\n  elix-menu-button::part(popup-toggle) {\n    padding: 0.25em 0.30em !important\n  }\n  :host ::slotted([current]){\n    background-color: var(--icon-bg-color-hover) !important;\n    color: #fff;\n  }\n  :host ::slotted(*){\n    padding: 0.25em 1.25em 0.25em 0.25em !important;\n    margin: 2px;\n  }\n  </style>\n\n  <elix-menu-button id="MenuButton" aria-label="Main Menu">\n    <slot></slot>\n  </elix-menu-button>\n\n';var ls=function(en){_inherits$1(SeMenu,_wrapNativeSuper(HTMLElement));var tn=_createSuper$4(SeMenu);function SeMenu(){var en;return _classCallCheck$1(this,SeMenu),(en=tn.call(this))._shadowRoot=en.attachShadow({mode:"open"}),en._shadowRoot.append(As.content.cloneNode(!0)),en.$menu=en._shadowRoot.querySelector("elix-menu-button"),en.$label=en.$menu.shadowRoot.querySelector("#popupToggle").shadowRoot,en.imgPath=svgEditor.configObj.curConfig.imgPath,en}return _createClass$1(SeMenu,[{key:"attributeChangedCallback",value:function attributeChangedCallback(en,tn,nn){var rn=new Image;if(tn!==nn)switch(en){case"src":rn.src=this.imgPath+"/"+nn,rn.width=24,rn.height=24,this.$label.prepend(rn);break;case"label":this.$label.prepend(nn);break;default:console.error("unknown attribute: ".concat(en))}}},{key:"label",get:function get(){return this.getAttribute("label")},set:function set(en){this.setAttribute("label",en)}},{key:"src",get:function get(){return this.getAttribute("src")},set:function set(en){this.setAttribute("src",en)}}],[{key:"observedAttributes",get:function get(){return["label","src"]}}]),SeMenu}();customElements.define("se-menu",ls);var cs=function(en){_inherits$1(ElixMenu,es);var tn=_createSuper$4(ElixMenu);function ElixMenu(){return _classCallCheck$1(this,ElixMenu),tn.apply(this,arguments)}return _createClass$1(ElixMenu)}();customElements.define("elix-menu",cs);var us=document.createElement("template");us.innerHTML='\n  <style>\n  </style>\n  <elix-menu-item>\n    <div style="display:flex; align-items: center;">\n      <img src="logo.svg" alt="icon" style="display:none;" width="24"/>\n      <span style="margin-left: 7px;"></span>\n    </div>\n  </elix-menu-item>\n';var hs=function(en){_inherits$1(SeMenuItem,_wrapNativeSuper(HTMLElement));var tn=_createSuper$4(SeMenuItem);function SeMenuItem(){var en;return _classCallCheck$1(this,SeMenuItem),(en=tn.call(this))._shadowRoot=en.attachShadow({mode:"open"}),en._shadowRoot.append(us.content.cloneNode(!0)),en.$img=en._shadowRoot.querySelector("img"),en.$label=en._shadowRoot.querySelector("span"),en.$menuitem=en._shadowRoot.querySelector("elix-menu-item"),en.$svg=en.$menuitem.shadowRoot.querySelector("#checkmark"),en.$svg.setAttribute("style","display: none;"),en.imgPath=svgEditor.configObj.curConfig.imgPath,en}return _createClass$1(SeMenuItem,[{key:"attributeChangedCallback",value:function attributeChangedCallback(en,tn,nn){var rn="";if(tn!==nn)switch(en){case"src":this.$img.style.display="inline-block",this.$img.setAttribute("src",this.imgPath+"/"+nn);break;case"label":rn=this.getAttribute("shortcut"),this.$label.textContent="".concat(kn(nn)," ").concat(rn?"(".concat(rn,")"):"");break;default:console.error("unknown attribute: ".concat(en))}}},{key:"label",get:function get(){return this.getAttribute("label")},set:function set(en){this.setAttribute("label",en)}},{key:"src",get:function get(){return this.getAttribute("src")},set:function set(en){this.setAttribute("src",en)}},{key:"connectedCallback",value:function connectedCallback(){var en=this,tn=this.getAttribute("shortcut");tn&&document.addEventListener("keydown",(function(nn){if("BODY"===nn.target.nodeName){var rn="".concat(nn.metaKey?"meta+":"").concat(nn.ctrlKey?"ctrl+":"").concat(nn.key.toUpperCase());tn===rn&&(en.id&&document.getElementById(en.id).click(),nn.preventDefault())}}))}}],[{key:"observedAttributes",get:function get(){return["label","src"]}}]),SeMenuItem}();customElements.define("se-menu-item",hs);var ds=document.createElement("template");ds.innerHTML='\n<style>\n#select-container {\n  margin-top: 10px;\n  display: inline-block;\n}\n\n#select-container:hover {\n  background-color: var(--icon-bg-color-hover);\n}\n\n#select-container::part(value) {\n  background-color: var(--main-bg-color);\n}\n\n#select-container::part(popup-toggle) {\n  display: none;\n}\n::slotted(*) {\n  padding:0;\n  width:100%;\n}\n\n.closed {\n  display: none;\n}\n\n#options-container {\n  position: fixed;\n}\n\n</style>\n  <label>Label</label>\n  <div id="select-container" tabindex="0">\n    <div id="selected-value"></div>\n    <div id="options-container">\n      <slot></slot>\n    </div>\n  </div>\n\n';var ps=function(en){_inherits$1(SeList,_wrapNativeSuper(HTMLElement));var tn=_createSuper$4(SeList);function SeList(){var en;return _classCallCheck$1(this,SeList),_defineProperty$2(_assertThisInitialized$1(en=tn.call(this)),"toggleList",(function(tn){en.isDropdownOpen?en.closeDropdown():(en.openDropdown(),en.setDropdownListPosition())})),_defineProperty$2(_assertThisInitialized$1(en),"updateSelectedValue",(function(tn){Array.from(en.items).forEach((function(nn){if(nn.getAttribute("value")===tn)if(nn.setAttribute("selected",!0),nn.hasAttribute("src")){for(;en.$selection.firstChild;)en.$selection.removeChild(en.$selection.firstChild);var rn=document.createElement("img");rn.src=en.imgPath+"/"+nn.getAttribute("src"),rn.style.height=nn.getAttribute("img-height"),rn.setAttribute("title",kn(nn.getAttribute("title"))),en.$selection.append(rn)}else en.$selection.textContent=kn(nn.getAttribute("option"));else nn.setAttribute("selected",!1)}))})),_defineProperty$2(_assertThisInitialized$1(en),"openDropdown",(function(){en.isDropdownOpen=!0,en.$optionsContainer.classList.remove("closed")})),_defineProperty$2(_assertThisInitialized$1(en),"closeDropdown",(function(){en.isDropdownOpen=!1,en.$optionsContainer.classList.add("closed")})),_defineProperty$2(_assertThisInitialized$1(en),"setDropdownListPosition",(function(){var tn=window.innerHeight,nn=en.$selection.getBoundingClientRect(),rn=en.$optionsContainer.getBoundingClientRect();nn.bottom+rn.height>tn?(en.$optionsContainer.style.top=nn.top-rn.height+"px",en.$optionsContainer.style.left=nn.left+"px"):(en.$optionsContainer.style.top=nn.bottom+"px",en.$optionsContainer.style.left=nn.left+"px")})),en._shadowRoot=en.attachShadow({mode:"open"}),en._shadowRoot.append(ds.content.cloneNode(!0)),en.$dropdown=en._shadowRoot.querySelector("#select-container"),en.$label=en._shadowRoot.querySelector("label"),en.$selection=en.$dropdown.querySelector("#selected-value"),en.items=en.querySelectorAll("se-list-item"),en.imgPath=svgEditor.configObj.curConfig.imgPath,en.$optionsContainer=en._shadowRoot.querySelector("#options-container"),en.$optionsContainer.classList.add("closed"),en.$selection.addEventListener("click",en.toggleList),en.updateSelectedValue(en.items[0].getAttribute("value")),en.isDropdownOpen=!1,en}return _createClass$1(SeList,[{key:"attributeChangedCallback",value:function attributeChangedCallback(en,tn,nn){if(tn!==nn)switch(en){case"title":this.$dropdown.setAttribute("title",kn(nn));break;case"label":this.$label.textContent=kn(nn);break;case"height":this.$dropdown.style.height=nn;break;case"width":this.$dropdown.style.width=nn;break;case"value":this.updateSelectedValue(nn);break;default:console.error("unknown attribute: ".concat(en))}}},{key:"title",get:function get(){return this.getAttribute("title")},set:function set(en){this.setAttribute("title",en)}},{key:"label",get:function get(){return this.getAttribute("label")},set:function set(en){this.setAttribute("label",en)}},{key:"width",get:function get(){return this.getAttribute("width")},set:function set(en){this.setAttribute("width",en)}},{key:"height",get:function get(){return this.getAttribute("height")},set:function set(en){this.setAttribute("height",en)}},{key:"connectedCallback",value:function connectedCallback(){var en=this,tn=this;this.$dropdown.addEventListener("selectedindexchange",(function(en){var nn;if(void 0!==(null==en||null===(nn=en.detail)||void 0===nn?void 0:nn.selectedItem)){var rn=en.detail.selectedItem,an=new CustomEvent("change",{detail:{value:rn}});tn.dispatchEvent(an),tn.value=rn,tn.setAttribute("value",rn)}})),this.$dropdown.addEventListener("focusout",(function(tn){en.closeDropdown()})),window.addEventListener("mousedown",(function(tn){en.isDropdownOpen&&(tn.target.closest("se-list")||(tn.stopPropagation(),en.closeDropdown()))}),{capture:!0})}}],[{key:"observedAttributes",get:function get(){return["label","width","height","title","value"]}}]),SeList}();customElements.define("se-list",ps);var gs=document.createElement("template");gs.innerHTML='\n  <style>\n  [aria-label="option"]{\n    padding:0.25rem 0.125rem !important;\n    background-color: var(--icon-bg-color);\n  }\n  [aria-label="option"]:hover{\n    background-color: var(--icon-bg-color-hover);\n  }\n\n  .selected {\n    background-color: var(--icon-bg-color-hover);\n  }\n\n  </style>\n  <div aria-label="option">\n    <img alt="icon" />\n    <slot></slot>\n  </div>\n';var fs=function(en){_inherits$1(SeListItem,_wrapNativeSuper(HTMLElement));var tn=_createSuper$4(SeListItem);function SeListItem(){var en;return _classCallCheck$1(this,SeListItem),(en=tn.call(this))._shadowRoot=en.attachShadow({mode:"open"}),en._shadowRoot.append(gs.content.cloneNode(!0)),en.$menuitem=en._shadowRoot.querySelector("[aria-label=option]"),en.$img=en._shadowRoot.querySelector("img"),en.$img.setAttribute("style","display: none;"),en.imgPath=svgEditor.configObj.curConfig.imgPath,en.$menuitem.addEventListener("mousedown",(function(tn){en.$menuitem.dispatchEvent(new CustomEvent("selectedindexchange",{bubbles:!0,composed:!0,detail:{selectedItem:en.getAttribute("value")}}))})),en}return _createClass$1(SeListItem,[{key:"attributeChangedCallback",value:function attributeChangedCallback(en,tn,nn){if(tn!==nn)switch(en){case"option":this.$menuitem.setAttribute("option",nn),this.$menuitem.textContent=kn(nn);break;case"src":this.$img.setAttribute("style","display: block;"),this.$img.setAttribute("src",this.imgPath+"/"+nn);break;case"title":this.$img.setAttribute("title",kn(nn));break;case"img-height":this.$img.setAttribute("height",nn);break;case"selected":"true"===nn?this.$menuitem.classList.add("selected"):this.$menuitem.classList.remove("selected");break;default:console.error("unknown attribute: ".concat(en))}}},{key:"option",get:function get(){return this.getAttribute("option")},set:function set(en){this.setAttribute("option",en)}},{key:"title",get:function get(){return this.getAttribute("title")},set:function set(en){this.setAttribute("title",en)}},{key:"imgHeight",get:function get(){return this.getAttribute("img-height")},set:function set(en){this.setAttribute("img-height",en)}},{key:"src",get:function get(){return this.getAttribute("src")},set:function set(en){this.setAttribute("src",en)}}],[{key:"observedAttributes",get:function get(){return["option","src","title","img-height","selected"]}}]),SeListItem}();function _mergeNamespaces(en,tn){return tn.forEach((function(tn){tn&&"string"!=typeof tn&&!Array.isArray(tn)&&Object.keys(tn).forEach((function(nn){if("default"!==nn&&!(nn in en)){var rn=Object.getOwnPropertyDescriptor(tn,nn);Object.defineProperty(en,nn,rn.get?rn:{enumerable:!0,get:function get(){return tn[nn]}})}}))})),Object.freeze(en)}customElements.define("se-list-item",fs),"undefined"!=typeof window&&("SVGPathSeg"in window||(window.SVGPathSeg=function(en,tn,nn){this.pathSegType=en,this.pathSegTypeAsLetter=tn,this._owningPathSegList=nn},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(en){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",en)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(en,tn,nn){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",en),this._x=tn,this._y=nn},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function get(){return this._x},set:function set(en){this._x=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function get(){return this._y},set:function set(en){this._y=en,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(en,tn,nn){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",en),this._x=tn,this._y=nn},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function get(){return this._x},set:function set(en){this._x=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function get(){return this._y},set:function set(en){this._y=en,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(en,tn,nn){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",en),this._x=tn,this._y=nn},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function get(){return this._x},set:function set(en){this._x=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function get(){return this._y},set:function set(en){this._y=en,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(en,tn,nn){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",en),this._x=tn,this._y=nn},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function get(){return this._x},set:function set(en){this._x=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function get(){return this._y},set:function set(en){this._y=en,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(en,tn,nn,rn,an,sn,An){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",en),this._x=tn,this._y=nn,this._x1=rn,this._y1=an,this._x2=sn,this._y2=An},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function get(){return this._x},set:function set(en){this._x=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function get(){return this._y},set:function set(en){this._y=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function get(){return this._x1},set:function set(en){this._x1=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function get(){return this._y1},set:function set(en){this._y1=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function get(){return this._x2},set:function set(en){this._x2=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function get(){return this._y2},set:function set(en){this._y2=en,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(en,tn,nn,rn,an,sn,An){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",en),this._x=tn,this._y=nn,this._x1=rn,this._y1=an,this._x2=sn,this._y2=An},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function get(){return this._x},set:function set(en){this._x=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function get(){return this._y},set:function set(en){this._y=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function get(){return this._x1},set:function set(en){this._x1=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function get(){return this._y1},set:function set(en){this._y1=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function get(){return this._x2},set:function set(en){this._x2=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function get(){return this._y2},set:function set(en){this._y2=en,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(en,tn,nn,rn,an){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",en),this._x=tn,this._y=nn,this._x1=rn,this._y1=an},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function get(){return this._x},set:function set(en){this._x=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function get(){return this._y},set:function set(en){this._y=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function get(){return this._x1},set:function set(en){this._x1=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function get(){return this._y1},set:function set(en){this._y1=en,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(en,tn,nn,rn,an){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",en),this._x=tn,this._y=nn,this._x1=rn,this._y1=an},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function get(){return this._x},set:function set(en){this._x=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function get(){return this._y},set:function set(en){this._y=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function get(){return this._x1},set:function set(en){this._x1=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function get(){return this._y1},set:function set(en){this._y1=en,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(en,tn,nn,rn,an,sn,An,cn){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",en),this._x=tn,this._y=nn,this._r1=rn,this._r2=an,this._angle=sn,this._largeArcFlag=An,this._sweepFlag=cn},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function get(){return this._x},set:function set(en){this._x=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function get(){return this._y},set:function set(en){this._y=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function get(){return this._r1},set:function set(en){this._r1=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function get(){return this._r2},set:function set(en){this._r2=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function get(){return this._angle},set:function set(en){this._angle=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function get(){return this._largeArcFlag},set:function set(en){this._largeArcFlag=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function get(){return this._sweepFlag},set:function set(en){this._sweepFlag=en,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(en,tn,nn,rn,an,sn,An,cn){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",en),this._x=tn,this._y=nn,this._r1=rn,this._r2=an,this._angle=sn,this._largeArcFlag=An,this._sweepFlag=cn},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function get(){return this._x},set:function set(en){this._x=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function get(){return this._y},set:function set(en){this._y=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function get(){return this._r1},set:function set(en){this._r1=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function get(){return this._r2},set:function set(en){this._r2=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function get(){return this._angle},set:function set(en){this._angle=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function get(){return this._largeArcFlag},set:function set(en){this._largeArcFlag=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function get(){return this._sweepFlag},set:function set(en){this._sweepFlag=en,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(en,tn){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",en),this._x=tn},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function get(){return this._x},set:function set(en){this._x=en,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(en,tn){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",en),this._x=tn},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function get(){return this._x},set:function set(en){this._x=en,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(en,tn){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",en),this._y=tn},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function get(){return this._y},set:function set(en){this._y=en,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(en,tn){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",en),this._y=tn},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function get(){return this._y},set:function set(en){this._y=en,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(en,tn,nn,rn,an){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",en),this._x=tn,this._y=nn,this._x2=rn,this._y2=an},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function get(){return this._x},set:function set(en){this._x=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function get(){return this._y},set:function set(en){this._y=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function get(){return this._x2},set:function set(en){this._x2=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function get(){return this._y2},set:function set(en){this._y2=en,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(en,tn,nn,rn,an){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",en),this._x=tn,this._y=nn,this._x2=rn,this._y2=an},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function get(){return this._x},set:function set(en){this._x=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function get(){return this._y},set:function set(en){this._y=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function get(){return this._x2},set:function set(en){this._x2=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function get(){return this._y2},set:function set(en){this._y2=en,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(en,tn,nn){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",en),this._x=tn,this._y=nn},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function get(){return this._x},set:function set(en){this._x=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function get(){return this._y},set:function set(en){this._y=en,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(en,tn,nn){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",en),this._x=tn,this._y=nn},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function get(){return this._x},set:function set(en){this._x=en,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function get(){return this._y},set:function set(en){this._y=en,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(en,tn){return new window.SVGPathSegMovetoAbs(void 0,en,tn)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(en,tn){return new window.SVGPathSegMovetoRel(void 0,en,tn)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(en,tn){return new window.SVGPathSegLinetoAbs(void 0,en,tn)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(en,tn){return new window.SVGPathSegLinetoRel(void 0,en,tn)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(en,tn,nn,rn,an,sn){return new window.SVGPathSegCurvetoCubicAbs(void 0,en,tn,nn,rn,an,sn)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(en,tn,nn,rn,an,sn){return new window.SVGPathSegCurvetoCubicRel(void 0,en,tn,nn,rn,an,sn)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(en,tn,nn,rn){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,en,tn,nn,rn)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(en,tn,nn,rn){return new window.SVGPathSegCurvetoQuadraticRel(void 0,en,tn,nn,rn)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(en,tn,nn,rn,an,sn,An){return new window.SVGPathSegArcAbs(void 0,en,tn,nn,rn,an,sn,An)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(en,tn,nn,rn,an,sn,An){return new window.SVGPathSegArcRel(void 0,en,tn,nn,rn,an,sn,An)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(en){return new window.SVGPathSegLinetoHorizontalAbs(void 0,en)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(en){return new window.SVGPathSegLinetoHorizontalRel(void 0,en)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(en){return new window.SVGPathSegLinetoVerticalAbs(void 0,en)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(en){return new window.SVGPathSegLinetoVerticalRel(void 0,en)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(en,tn,nn,rn){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,en,tn,nn,rn)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(en,tn,nn,rn){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,en,tn,nn,rn)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(en,tn){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,en,tn)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(en,tn){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,en,tn)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(en){if(void 0===en||!isFinite(en))throw"Invalid arguments.";var tn=document.createElementNS("http://www.w3.org/2000/svg","path");tn.setAttribute("d",this.getAttribute("d"));var nn=tn.pathSegList.numberOfItems-1;if(nn<=0)return 0;do{if(tn.pathSegList.removeItem(nn),en>tn.getTotalLength())break;nn--}while(nn>0);return nn})),"SVGPathSegList"in window&&"appendItem"in window.SVGPathSegList.prototype||(window.SVGPathSegList=function(en){this._pathElement=en,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function get(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathSegList.prototype,"length",{get:function get(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function get(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function get(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function get(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function get(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(en){if(this._pathElement){var tn=!1;en.forEach((function(en){"d"==en.attributeName&&(tn=!0)})),tn&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(en){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach((function(en){en._owningPathSegList=null})),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(en){return this._checkPathSynchronizedToList(),this._list=[en],en._owningPathSegList=this,this._writeListToPath(),en},window.SVGPathSegList.prototype._checkValidIndex=function(en){if(isNaN(en)||en<0||en>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(en){return this._checkPathSynchronizedToList(),this._checkValidIndex(en),this._list[en]},window.SVGPathSegList.prototype.insertItemBefore=function(en,tn){return this._checkPathSynchronizedToList(),tn>this.numberOfItems&&(tn=this.numberOfItems),en._owningPathSegList&&(en=en.clone()),this._list.splice(tn,0,en),en._owningPathSegList=this,this._writeListToPath(),en},window.SVGPathSegList.prototype.replaceItem=function(en,tn){return this._checkPathSynchronizedToList(),en._owningPathSegList&&(en=en.clone()),this._checkValidIndex(tn),this._list[tn]=en,en._owningPathSegList=this,this._writeListToPath(),en},window.SVGPathSegList.prototype.removeItem=function(en){this._checkPathSynchronizedToList(),this._checkValidIndex(en);var tn=this._list[en];return this._list.splice(en,1),this._writeListToPath(),tn},window.SVGPathSegList.prototype.appendItem=function(en){return this._checkPathSynchronizedToList(),en._owningPathSegList&&(en=en.clone()),this._list.push(en),en._owningPathSegList=this,this._writeListToPath(),en},window.SVGPathSegList._pathSegArrayAsString=function(en){var tn="",nn=!0;return en.forEach((function(en){nn?(nn=!1,tn+=en._asPathString()):tn+=" "+en._asPathString()})),tn},window.SVGPathSegList.prototype._parsePath=function(en){if(!en||0==en.length)return[];var tn=this,nn=function Builder(){this.pathSegList=[]};nn.prototype.appendSegment=function(en){this.pathSegList.push(en)};var rn=function Source(en){this._string=en,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};rn.prototype._isCurrentSpace=function(){var en=this._string[this._currentIndex];return en<=" "&&(" "==en||"\n"==en||"\t"==en||"\r"==en||"\f"==en)},rn.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},rn.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},rn.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},rn.prototype.peekSegmentType=function(){var en=this._string[this._currentIndex];return this._pathSegTypeFromChar(en)},rn.prototype._pathSegTypeFromChar=function(en){switch(en){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},rn.prototype._nextCommandHelper=function(en,tn){return("+"==en||"-"==en||"."==en||en>="0"&&en<="9")&&tn!=window.SVGPathSeg.PATHSEG_CLOSEPATH?tn==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:tn==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:tn:window.SVGPathSeg.PATHSEG_UNKNOWN},rn.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var en=this.peekSegmentType();return en==window.SVGPathSeg.PATHSEG_MOVETO_ABS||en==window.SVGPathSeg.PATHSEG_MOVETO_REL},rn.prototype._parseNumber=function(){var en=0,tn=0,nn=1,rn=0,an=1,sn=1,An=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,an=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))){for(var cn=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=cn)for(var un=this._currentIndex-1,hn=1;un>=cn;)tn+=hn*(this._string.charAt(un--)-"0"),hn*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)nn*=10,rn+=(this._string.charAt(this._currentIndex)-"0")/nn,this._currentIndex+=1}if(this._currentIndex!=An&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,sn=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)en*=10,en+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var dn=tn+rn;if(dn*=an,en&&(dn*=Math.pow(10,sn*en)),An!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),dn}},rn.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var en=!1,tn=this._string.charAt(this._currentIndex++);if("0"==tn)en=!1;else{if("1"!=tn)return;en=!0}return this._skipOptionalSpacesOrDelimiter(),en}},rn.prototype.parseSegment=function(){var en=this._string[this._currentIndex],nn=this._pathSegTypeFromChar(en);if(nn==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN)return null;if((nn=this._nextCommandHelper(en,this._previousCommand))==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=nn,nn){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(tn,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(tn,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(tn,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(tn,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(tn,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(tn,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(tn,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(tn,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(tn);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var rn={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(tn,rn.x,rn.y,rn.x1,rn.y1,rn.x2,rn.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return rn={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicAbs(tn,rn.x,rn.y,rn.x1,rn.y1,rn.x2,rn.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return rn={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothRel(tn,rn.x,rn.y,rn.x2,rn.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return rn={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothAbs(tn,rn.x,rn.y,rn.x2,rn.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return rn={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticRel(tn,rn.x,rn.y,rn.x1,rn.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return rn={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticAbs(tn,rn.x,rn.y,rn.x1,rn.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(tn,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(tn,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:return rn={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcRel(tn,rn.x,rn.y,rn.x1,rn.y1,rn.arcAngle,rn.arcLarge,rn.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:return rn={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcAbs(tn,rn.x,rn.y,rn.x1,rn.y1,rn.arcAngle,rn.arcLarge,rn.arcSweep);default:throw"Unknown path seg type."}};var an=new nn,sn=new rn(en);if(!sn.initialCommandIsMoveTo())return[];for(;sn.hasMoreData();){var An=sn.parseSegment();if(!An)return[];an.appendSegment(An)}return an.pathSegList}));var ms,vs=_createClass$1((function Paint(en){_classCallCheck$1(this,Paint);var tn=en||{};if(this.alpha=isNaN(tn.alpha)?100:tn.alpha,tn.copy)switch(this.type=tn.copy.type,this.alpha=tn.copy.alpha,this.solidColor=null,this.linearGradient=null,this.radialGradient=null,this.type){case"none":break;case"solidColor":this.solidColor=tn.copy.solidColor;break;case"linearGradient":this.linearGradient=tn.copy.linearGradient.cloneNode(!0);break;case"radialGradient":this.radialGradient=tn.copy.radialGradient.cloneNode(!0)}else if(tn.linearGradient)if(this.type="linearGradient",this.solidColor=null,this.radialGradient=null,tn.linearGradient.hasAttribute("xlink:href")){var nn=document.getElementById(tn.linearGradient.getAttribute("xlink:href").substr(1));this.linearGradient=nn.cloneNode(!0)}else this.linearGradient=tn.linearGradient.cloneNode(!0);else if(tn.radialGradient)if(this.type="radialGradient",this.solidColor=null,this.linearGradient=null,tn.radialGradient.hasAttribute("xlink:href")){var rn=document.getElementById(tn.radialGradient.getAttribute("xlink:href").substr(1));this.radialGradient=rn.cloneNode(!0)}else this.radialGradient=tn.radialGradient.cloneNode(!0);else tn.solidColor?(this.type="solidColor",this.solidColor=tn.solidColor):(this.type="none",this.solidColor=null,this.linearGradient=null,this.radialGradient=null)})),ys="http://www.w3.org/2000/svg",bs=["x","x1","cx","rx","width"],ws=["y","y1","cy","ry","height"],Cs=["r","radius"].concat(_toConsumableArray(bs),ws),Bs={},_s=function getTypeMap(){return Bs},ks=function shortFloat(en){var tn=ms.getRoundDigits();return isNaN(en)?Array.isArray(en)?shortFloat(en[0])+","+shortFloat(en[1]):Number.parseFloat(en).toFixed(tn)-0:Number(Number(en).toFixed(tn))},Ps=function convertUnit(en,tn){return tn=tn||ms.getBaseUnit(),ks(en/Bs[tn])},Ls=function setUnitAttr(en,tn,nn){en.setAttribute(tn,nn)},Is=function convertToNum(en,tn){if(!isNaN(tn))return tn-0;if("%"===tn.substr(-1)){var nn=tn.substr(0,tn.length-1)/100,rn=ms.getWidth(),an=ms.getHeight();return bs.includes(en)?nn*rn:ws.includes(en)?nn*an:nn*Math.sqrt(rn*rn+an*an)/Math.sqrt(2)}var sn=tn.substr(-2);return tn.substr(0,tn.length-2)*Bs[sn]},Ts={HTML:"http://www.w3.org/1999/xhtml",MATH:"http://www.w3.org/1998/Math/MathML",SE:"http://svg-edit.googlecode.com",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink",OI:"http://www.optimistik.fr/namespace/svg/OIdata",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"},Qs=function getReverseNS(){var en={};return Object.entries(Ts).forEach((function(tn){var nn=_slicedToArray(tn,2),rn=nn[0],an=nn[1];en[an]=rn.toLowerCase()})),en},Ns=document.createElementNS(Ts.SVG,"svg"),Os=function transformPoint(en,tn,nn){return{x:nn.a*en+nn.c*tn+nn.e,y:nn.b*en+nn.d*tn+nn.f}},Ms=function isIdentity(en){return 1===en.a&&0===en.b&&0===en.c&&1===en.d&&0===en.e&&0===en.f},Rs=function matrixMultiply(){for(var en=arguments.length,tn=new Array(en),nn=0;nn<en;nn++)tn[nn]=arguments[nn];var rn=tn.reduceRight((function(en,tn){return tn.multiply(en)}));return Math.abs(rn.a)<1e-14&&(rn.a=0),Math.abs(rn.b)<1e-14&&(rn.b=0),Math.abs(rn.c)<1e-14&&(rn.c=0),Math.abs(rn.d)<1e-14&&(rn.d=0),Math.abs(rn.e)<1e-14&&(rn.e=0),Math.abs(rn.f)<1e-14&&(rn.f=0),rn},Hs=function hasMatrixTransform(en){if(!en)return!1;for(var tn=en.numberOfItems;tn--;){var nn=en.getItem(tn);if(1===nn.type&&!Ms(nn.matrix))return!0}return!1},Ds=function transformBox(en,tn,nn,rn,an){var sn=Os(en,tn,an),An=Os(en+nn,tn,an),cn=Os(en,tn+rn,an),un=Os(en+nn,tn+rn,an),hn=Math.min(sn.x,An.x,cn.x,un.x),dn=Math.max(sn.x,An.x,cn.x,un.x),pn=Math.min(sn.y,An.y,cn.y,un.y);return{tl:sn,tr:An,bl:cn,br:un,aabox:{x:hn,y:pn,width:dn-hn,height:Math.max(sn.y,An.y,cn.y,un.y)-pn}}},$s=function transformListToTransform(en,tn,nn){if(!en)return Ns.createSVGTransformFromMatrix(Ns.createSVGMatrix());if(tn=tn||0,nn=nn||en.numberOfItems-1,(tn=Number.parseInt(tn))>(nn=Number.parseInt(nn))){var rn=nn;nn=tn,tn=rn}for(var an=Ns.createSVGMatrix(),sn=tn;sn<=nn;++sn){var An=sn>=0&&sn<en.numberOfItems?en.getItem(sn).matrix:Ns.createSVGMatrix();an=Rs(an,An)}return Ns.createSVGTransformFromMatrix(an)},Gs=function getMatrix(en){var tn=en.transform.baseVal;return $s(tn).matrix},js=function snapToAngle(en,tn,nn,rn){var an=Math.PI/4,sn=nn-en,An=rn-tn,cn=Math.atan2(An,sn),un=Math.sqrt(sn*sn+An*An),hn=Math.round(cn/an)*an;return{x:en+un*Math.cos(hn),y:tn+un*Math.sin(hn),a:hn}},Vs=function rectsIntersect(en,tn){return tn.x<en.x+en.width&&tn.x+tn.width>en.x&&tn.y<en.y+en.height&&tn.y+tn.height>en.y};
/**
 * Tools for working with units.
 * @module units
 * @license MIT
 *
 * @copyright 2010 Alexis Deveria, 2010 Jeff Schiller
 */function isObject$9(en){return en&&"object"==_typeof$3(en)&&!Array.isArray(en)}function mergeDeep$1(en,tn){var nn=Object.assign({},en);return isObject$9(en)&&isObject$9(tn)&&Object.keys(tn).forEach((function(rn){isObject$9(tn[rn])&&rn in en?nn[rn]=mergeDeep$1(en[rn],tn[rn]):Object.assign(nn,_defineProperty$2({},rn,tn[rn]))})),nn}function getClosest(en,tn){var nn,rn,an=tn.charAt(0),sn="classList"in document.documentElement;for("["===an&&((nn=(tn=tn.substr(1,tn.length-2)).split("=")).length>1&&(rn=!0,nn[1]=nn[1].replace(/"/g,"").replace(/'/g,"")));en&&en!==document&&1===en.nodeType;en=en.parentNode){if("."===an)if(sn){if(en.classList.contains(tn.substr(1)))return en}else if(new RegExp("(^|\\s)"+tn.substr(1)+"(\\s|$)").test(en.className))return en;if("#"===an&&en.id===tn.substr(1))return en;if("["===an&&en.hasAttribute(nn[0])){if(!rn)return en;if(en.getAttribute(nn[0])===nn[1])return en}if(en.tagName.toLowerCase()===tn)return en}return null}function getParents(en,tn){for(var nn=[],rn=null==tn?void 0:tn.charAt(0);en&&en!==document;en=en.parentNode)tn?("."===rn&&en.classList.contains(tn.substr(1))&&nn.push(en),"#"===rn&&en.id===tn.substr(1)&&nn.push(en),"["===rn&&en.hasAttribute(tn.substr(1,tn.length-1))&&nn.push(en),en.tagName.toLowerCase()===tn&&nn.push(en)):nn.push(en);return nn.length?nn:null}
/**
 * Miscellaneous utilities.
 * @module utilities
 * @license MIT
 *
 * @copyright 2010 Alexis Deveria, 2010 Jeff Schiller
 */var Ks="a,circle,ellipse,foreignObject,g,image,line,path,polygon,polyline,rect,svg,text,tspan,use,clipPath".split(","),zs=null,Ws=null,Xs=function toXml(en){return en.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")};function encode64(en){return en=Ys(en),window.btoa(en)}function decode64$1(en){return function decodeUTF8(en){return decodeURIComponent(escape(en))}(window.atob(en))}var Ys=function encodeUTF8(en){return unescape(encodeURIComponent(en))},Js=function createObjectURL(en){return en&&"undefined"!=typeof URL&&URL.createObjectURL?URL.createObjectURL(en):""},Zs=function(){if("undefined"==typeof Blob)return"";var en=new Blob(["<html><head><title>SVG-edit</title></head><body>&nbsp;</body></html>"],{type:"text/html"});return Js(en)}(),nA=function text2xml(en){var tn,nn;en.includes("<svg:svg")&&(en=en.replace(/<(\/?)svg:/g,"<$1").replace("xmlns:svg","xmlns"));try{(nn=new DOMParser).async=!1}catch(en){throw new Error("XML Parser could not be instantiated")}try{tn=nn.parseFromString(en,"text/xml")}catch(en){throw new Error("Error parsing XML string")}return tn},rA=function walkTree(en,tn){if(1===(null==en?void 0:en.nodeType)){tn(en);for(var nn=en.childNodes.length;nn--;)walkTree(en.childNodes.item(nn),tn)}},iA=function getUrlFromAttr(en){if(en){if(en.startsWith('url("'))return en.substring(5,en.indexOf('"',6));if(en.startsWith("url('"))return en.substring(5,en.indexOf("'",6));if(en.startsWith("url("))return en.substring(4,en.indexOf(")"))}return null},aA=function getHref(en){return en.getAttributeNS(Ts.XLINK,"href")},oA=function setHref(en,tn){en.setAttributeNS(Ts.XLINK,"xlink:href",tn)},sA=function findDefs(){var en=zs.getSvgContent(),tn=en.getElementsByTagNameNS(Ts.SVG,"defs");return tn.length>0?tn=tn[0]:(tn=en.ownerDocument.createElementNS(Ts.SVG,"defs"),en.firstChild?en.insertBefore(tn,en.firstChild.nextSibling):en.append(tn)),tn},lA=function getBBox(en){var tn=en||zs.getSelectedElements()[0];if(1!==en.nodeType)return null;var nn,rn=tn.nodeName,an=null;switch(rn){case"text":""===tn.textContent?(tn.textContent="a",an=tn.getBBox(),tn.textContent=""):tn.getBBox&&(an=tn.getBBox());break;case"path":case"g":case"a":tn.getBBox&&(an=tn.getBBox());break;default:if("use"===rn)an=tn.getBBox();else if(Ks.includes(rn))if(tn)try{an=tn.getBBox()}catch(en){var sn=tn.getExtentOfChar(0),An=tn.getComputedTextLength();an={x:sn.x,y:sn.y,width:An,height:sn.height}}else{var cn=getClosest(tn.parentNode,"foreignObject");cn.length&&cn[0].getBBox&&(an=cn[0].getBBox())}}return an&&(nn=an,an={x:nn.x,y:nn.y,width:nn.width,height:nn.height}),an},cA=function getPathDFromSegments(en){var tn="";return en.forEach((function(en,nn){var rn=_slicedToArray(en,2),an=rn[0],sn=rn[1];tn+=an;for(var An=0;An<sn.length;An+=2)tn+=sn[An]+","+sn[An+1]+" "})),tn},uA=function getPathDFromElement(en){var tn,nn,rn,an=1.81;switch(en.tagName){case"ellipse":case"circle":nn=Number(en.getAttribute("rx")),rn=Number(en.getAttribute("ry"));var sn=Number(en.getAttribute("cx")),An=Number(en.getAttribute("cy"));"circle"===en.tagName&&en.hasAttribute("r")&&(nn=rn=Number(en.getAttribute("r"))),tn=cA([["M",[sn-nn,An]],["C",[sn-nn,An-rn/an,sn-nn/an,An-rn,sn,An-rn]],["C",[sn+nn/an,An-rn,sn+nn,An-rn/an,sn+nn,An]],["C",[sn+nn,An+rn/an,sn+nn/an,An+rn,sn,An+rn]],["C",[sn-nn/an,An+rn,sn-nn,An+rn/an,sn-nn,An]],["Z",[]]]);break;case"path":tn=en.getAttribute("d");break;case"line":tn="M"+en.getAttribute("x1")+","+en.getAttribute("y1")+"L"+en.getAttribute("x2")+","+en.getAttribute("y2");break;case"polyline":tn="M"+en.getAttribute("points");break;case"polygon":tn="M"+en.getAttribute("points")+" Z";break;case"rect":nn=Number(en.getAttribute("rx")),rn=Number(en.getAttribute("ry"));var cn=en.getBBox(),un=cn.x,hn=cn.y,dn=cn.width,pn=cn.height;an=4-an,tn=cA(nn||rn?[["M",[un,hn+rn]],["C",[un,hn+rn/an,un+nn/an,hn,un+nn,hn]],["L",[un+dn-nn,hn]],["C",[un+dn-nn/an,hn,un+dn,hn+rn/an,un+dn,hn+rn]],["L",[un+dn,hn+pn-rn]],["C",[un+dn,hn+pn-rn/an,un+dn-nn/an,hn+pn,un+dn-nn,hn+pn]],["L",[un+nn,hn+pn]],["C",[un+nn/an,hn+pn,un,hn+pn-rn/an,un,hn+pn-rn]],["L",[un,hn+rn]],["Z",[]]]:[["M",[un,hn]],["L",[un+dn,hn]],["L",[un+dn,hn+pn]],["L",[un,hn+pn]],["L",[un,hn]],["Z",[]]])}return tn},hA=function getExtraAttributesForConvertToPath(en){var tn={};return["marker-start","marker-end","marker-mid","filter","clip-path"].forEach((function(nn){var rn=en.getAttribute(nn);rn&&(tn[nn]=rn)})),tn},dA=function getBBoxOfElementAsPath(en,tn,nn){var rn=tn({element:"path",attr:hA(en)}),an=en.getAttribute("transform");an&&rn.setAttribute("transform",an);var sn=en.parentNode;en.nextSibling?en.before(rn):sn.append(rn);var An=uA(en);An?rn.setAttribute("d",An):rn.remove(),nn.resetOrientation(rn);var cn=!1;try{cn=rn.getBBox()}catch(en){}return rn.remove(),cn},pA=function getBBoxWithTransform(en,tn,nn){var rn=lA(en);if(!rn)return null;var an=en.transform.baseVal,sn=yA(an),An=Hs(an);if(sn||An){var cn=!1;if(function bBoxCanBeOptimizedOverNativeGetBBox(en,tn){var nn=en%90;return tn||!(nn>-.001&&nn<.001||nn<-89.99||nn>89.99)}(sn,An))if(["ellipse","path","line","polyline","polygon"].includes(en.tagName))rn=cn=dA(en,tn,nn);else if("rect"===en.tagName){var un=Number(en.getAttribute("rx")),hn=Number(en.getAttribute("ry"));(un||hn)&&(rn=cn=dA(en,tn,nn))}if(!cn){var dn=$s(an).matrix;rn=Ds(rn.x,rn.y,rn.width,rn.height,dn).aabox}}return rn},gA=function getStrokeOffsetForBBox(en){var tn=en.getAttribute("stroke-width");return isNaN(tn)||"none"===en.getAttribute("stroke")?0:tn/2},fA=function getStrokedBBox(en,tn,nn){if(!en||!en.length)return!1;var rn;if(en.forEach((function(en){rn||en.parentNode&&(rn=pA(en,tn,nn))})),!rn)return null;var an=rn.x+rn.width,sn=rn.y+rn.height,An=rn.x,cn=rn.y;if(1===en.length){var un=gA(en[0]);An-=un,cn-=un,an+=un,sn+=un}else en.forEach((function(en){var rn=pA(en,tn,nn);if(rn){var un=gA(en);An=Math.min(An,rn.x-un),cn=Math.min(cn,rn.y-un),1===en.nodeType&&(an=Math.max(an,rn.x+rn.width+un),sn=Math.max(sn,rn.y+rn.height+un))}}));return rn.x=An,rn.y=cn,rn.width=an-An,rn.height=sn-cn,rn},mA=function getVisibleElements(en){en||(en=zs.getSvgContent().children[0]);var tn=[],nn=en.children;return Array.from(nn,(function(en){en.getBBox&&tn.push(en)})),tn.reverse()},vA=function getStrokedBBoxDefaultVisible(en){return en||(en=mA()),fA(en,zs.addSVGElementsFromJson,zs.pathActions)},yA=function getRotationAngleFromTransformList(en,tn){if(!en)return 0;for(var nn=0;nn<en.numberOfItems;++nn){var rn=en.getItem(nn);if(4===rn.type)return tn?rn.angle*Math.PI/180:rn.angle}return 0},bA=function getRotationAngle(en,tn){var nn,rn=null===(nn=(en||zs.getSelectedElements()[0]).transform)||void 0===nn?void 0:nn.baseVal;return yA(rn,tn)},wA=function getRefElem(en){return xA(iA(en).substr(1))},CA=function getFeGaussianBlur(en){var tn;if("feGaussianBlur"===(null==en||null===(tn=en.firstChild)||void 0===tn?void 0:tn.tagName))return en.firstChild;for(var nn=en.children,rn=0,an=Object.entries(nn);rn<an.length;rn++){var sn=_slicedToArray(an[rn],2);sn[0];var An=sn[1];if("feGaussianBlur"===An.tagName)return An}return null},xA=function getElement(en){return Ws.querySelector("#"+en)},BA=function assignAttributes(en,tn,nn,rn){for(var an=0,sn=Object.entries(tn);an<sn.length;an++){var An=_slicedToArray(sn[an],2),cn=An[0],un=An[1],hn="xml:"===cn.substr(0,4)?Ts.XML:"xlink:"===cn.substr(0,6)?Ts.XLINK:null;void 0!==un?hn?en.setAttributeNS(hn,cn,un):rn?Ls(en,cn,un):en.setAttribute(cn,un):hn?en.removeAttributeNS(hn,cn):en.removeAttribute(cn)}},_A=function cleanupElement(en){var tn={"fill-opacity":1,"stop-opacity":1,opacity:1,stroke:"none","stroke-dasharray":"none","stroke-linejoin":"miter","stroke-linecap":"butt","stroke-opacity":1,"stroke-width":1,rx:0,ry:0};"ellipse"===en.nodeName&&(delete tn.rx,delete tn.ry),Object.entries(tn).forEach((function(tn){var nn=_slicedToArray(tn,2),rn=nn[0],an=nn[1];en.getAttribute(rn)===String(an)&&en.removeAttribute(rn)}))},SA=function snapToGrid(en){var tn=zs.getBaseUnit(),nn=zs.getSnappingStep();return"px"!==tn&&(nn*=_s()[tn]),Math.round(en/nn)*nn},kA=function preventClickDefault(en){UA(en,(function(en){en.preventDefault()}))},EA=function stringToHTML(en){return(new DOMParser).parseFromString(en,"text/html").body.firstChild},PA=function insertChildAtIndex(en,tn){var nn=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,rn=EA(tn);nn>=en.children.length?en.appendChild(rn):en.insertBefore(rn,en.children[nn])},FA=function $id(en){return document.getElementById(en)},LA=function $qq(en){return document.querySelector(en)},IA=function $qa(en){return _toConsumableArray(document.querySelectorAll(en))},UA=function $click(en,tn){en.addEventListener("click",tn),en.addEventListener("touchend",tn)},TA={BEFORE_APPLY:"before_apply",AFTER_APPLY:"after_apply",BEFORE_UNAPPLY:"before_unapply",AFTER_UNAPPLY:"after_unapply"},QA=function(){function Command(){_classCallCheck$1(this,Command)}return _createClass$1(Command,[{key:"getText",value:function getText(){return this.text}},{key:"apply",value:function apply(en,tn){en&&en.handleHistoryEvent(TA.BEFORE_APPLY,this),tn(en),en&&en.handleHistoryEvent(TA.AFTER_APPLY,this)}},{key:"unapply",value:function unapply(en,tn){en&&en.handleHistoryEvent(TA.BEFORE_UNAPPLY,this),tn(),en&&en.handleHistoryEvent(TA.AFTER_UNAPPLY,this)}},{key:"elements",value:function elements(){return[this.elem]}},{key:"type",value:function type(){return this.constructor.name}}]),Command}(),NA=function(en){_inherits$1(MoveElementCommand$1,QA);var tn=_createSuper$4(MoveElementCommand$1);function MoveElementCommand$1(en,nn,rn,an){var sn;return _classCallCheck$1(this,MoveElementCommand$1),(sn=tn.call(this)).elem=en,sn.text=an?"Move "+en.tagName+" to "+an:"Move "+en.tagName,sn.oldNextSibling=nn,sn.oldParent=rn,sn.newNextSibling=en.nextSibling,sn.newParent=en.parentNode,sn}return _createClass$1(MoveElementCommand$1,[{key:"apply",value:function apply(en){var tn=this;_get(_getPrototypeOf$1(MoveElementCommand$1.prototype),"apply",this).call(this,en,(function(){tn.elem=tn.newParent.insertBefore(tn.elem,tn.newNextSibling)}))}},{key:"unapply",value:function unapply(en){var tn=this;_get(_getPrototypeOf$1(MoveElementCommand$1.prototype),"unapply",this).call(this,en,(function(){tn.elem=tn.oldParent.insertBefore(tn.elem,tn.oldNextSibling)}))}}]),MoveElementCommand$1}(),OA=function(en){_inherits$1(InsertElementCommand$4,QA);var tn=_createSuper$4(InsertElementCommand$4);function InsertElementCommand$4(en,nn){var rn;return _classCallCheck$1(this,InsertElementCommand$4),(rn=tn.call(this)).elem=en,rn.text=nn||"Create "+en.tagName,rn.parent=en.parentNode,rn.nextSibling=rn.elem.nextSibling,rn}return _createClass$1(InsertElementCommand$4,[{key:"apply",value:function apply(en){var tn=this;_get(_getPrototypeOf$1(InsertElementCommand$4.prototype),"apply",this).call(this,en,(function(){tn.elem=tn.parent.insertBefore(tn.elem,tn.nextSibling)}))}},{key:"unapply",value:function unapply(en){var tn=this;_get(_getPrototypeOf$1(InsertElementCommand$4.prototype),"unapply",this).call(this,en,(function(){tn.parent=tn.elem.parentNode,tn.elem.remove()}))}}]),InsertElementCommand$4}(),MA=function(en){_inherits$1(RemoveElementCommand$2,QA);var tn=_createSuper$4(RemoveElementCommand$2);function RemoveElementCommand$2(en,nn,rn,an){var sn;return _classCallCheck$1(this,RemoveElementCommand$2),(sn=tn.call(this)).elem=en,sn.text=an||"Delete "+en.tagName,sn.nextSibling=nn,sn.parent=rn,sn}return _createClass$1(RemoveElementCommand$2,[{key:"apply",value:function apply(en){var tn=this;_get(_getPrototypeOf$1(RemoveElementCommand$2.prototype),"apply",this).call(this,en,(function(){tn.parent=tn.elem.parentNode,tn.elem.remove()}))}},{key:"unapply",value:function unapply(en){var tn=this;_get(_getPrototypeOf$1(RemoveElementCommand$2.prototype),"unapply",this).call(this,en,(function(){tn.nextSibling||console.error("Reference element was lost"),tn.parent.insertBefore(tn.elem,tn.nextSibling)}))}}]),RemoveElementCommand$2}(),RA=function(en){_inherits$1(ChangeElementCommand$2,QA);var tn=_createSuper$4(ChangeElementCommand$2);function ChangeElementCommand$2(en,nn,rn){var an;for(var sn in _classCallCheck$1(this,ChangeElementCommand$2),(an=tn.call(this)).elem=en,an.text=rn?"Change "+en.tagName+" "+rn:"Change "+en.tagName,an.newValues={},an.oldValues=nn,nn)an.newValues[sn]="#text"===sn?en?en.textContent:"":"#href"===sn?aA(en):en.getAttribute(sn);return an}return _createClass$1(ChangeElementCommand$2,[{key:"apply",value:function apply(en){var tn=this;_get(_getPrototypeOf$1(ChangeElementCommand$2.prototype),"apply",this).call(this,en,(function(){var en=!1;if(Object.entries(tn.newValues).forEach((function(nn){var rn=_slicedToArray(nn,2),an=rn[0],sn=rn[1];sn?"#text"===an?tn.elem.textContent=sn:"#href"===an?oA(tn.elem,sn):tn.elem.setAttribute(an,sn):"#text"===an?tn.elem.textContent="":(tn.elem.setAttribute(an,""),tn.elem.removeAttribute(an)),"transform"===an&&(en=!0)})),!en){var nn=bA(tn.elem);if(nn){var rn=lA(tn.elem),an=["rotate(",nn," ",rn.x+rn.width/2,",",rn.y+rn.height/2,")"].join("");an!==tn.elem.getAttribute("transform")&&tn.elem.setAttribute("transform",an)}}}))}},{key:"unapply",value:function unapply(en){var tn=this;_get(_getPrototypeOf$1(ChangeElementCommand$2.prototype),"unapply",this).call(this,en,(function(){var en=!1;if(Object.entries(tn.oldValues).forEach((function(nn){var rn=_slicedToArray(nn,2),an=rn[0],sn=rn[1];sn?"#text"===an?tn.elem.textContent=sn:"#href"===an?oA(tn.elem,sn):tn.elem.setAttribute(an,sn):"#text"===an?tn.elem.textContent="":tn.elem.removeAttribute(an),"transform"===an&&(en=!0)})),!en){var nn=bA(tn.elem);if(nn){var rn=lA(tn.elem),an=["rotate(",nn," ",rn.x+rn.width/2,",",rn.y+rn.height/2,")"].join("");an!==tn.elem.getAttribute("transform")&&tn.elem.setAttribute("transform",an)}}}))}}]),ChangeElementCommand$2}(),HA=function(en){_inherits$1(BatchCommand$4,QA);var tn=_createSuper$4(BatchCommand$4);function BatchCommand$4(en){var nn;return _classCallCheck$1(this,BatchCommand$4),(nn=tn.call(this)).text=en||"Batch Command",nn.stack=[],nn}return _createClass$1(BatchCommand$4,[{key:"apply",value:function apply(en){var tn=this;_get(_getPrototypeOf$1(BatchCommand$4.prototype),"apply",this).call(this,en,(function(){tn.stack.forEach((function(tn){console.assert(tn,"stack item should not be null"),tn&&tn.apply(en)}))}))}},{key:"unapply",value:function unapply(en){var tn=this;_get(_getPrototypeOf$1(BatchCommand$4.prototype),"unapply",this).call(this,en,(function(){tn.stack.reverse().forEach((function(tn){console.assert(tn,"stack item should not be null"),tn&&tn.unapply(en)}))}))}},{key:"elements",value:function elements(){for(var en=[],tn=this.stack.length;tn--;)if(this.stack[tn])for(var nn=this.stack[tn].elements(),rn=nn.length;rn--;)en.includes(nn[rn])||en.push(nn[rn]);return en}},{key:"addSubCommand",value:function addSubCommand(en){console.assert(null!==en,"cmd should not be null"),this.stack.push(en)}},{key:"isEmpty",value:function isEmpty(){return!this.stack.length}}]),BatchCommand$4}(),DA=Object.freeze({__proto__:null,HistoryEventTypes:TA,Command:QA,MoveElementCommand:NA,InsertElementCommand:OA,RemoveElementCommand:MA,ChangeElementCommand:RA,BatchCommand:HA,UndoManager:function(){function UndoManager$1(en){_classCallCheck$1(this,UndoManager$1),this.handler_=en||null,this.undoStackPointer=0,this.undoStack=[],this.undoChangeStackPointer=-1,this.undoableChangeStack=[]}return _createClass$1(UndoManager$1,[{key:"resetUndoStack",value:function resetUndoStack(){this.undoStack=[],this.undoStackPointer=0}},{key:"getUndoStackSize",value:function getUndoStackSize(){return this.undoStackPointer}},{key:"getRedoStackSize",value:function getRedoStackSize(){return this.undoStack.length-this.undoStackPointer}},{key:"getNextUndoCommandText",value:function getNextUndoCommandText(){return this.undoStackPointer>0?this.undoStack[this.undoStackPointer-1].getText():""}},{key:"getNextRedoCommandText",value:function getNextRedoCommandText(){return this.undoStackPointer<this.undoStack.length?this.undoStack[this.undoStackPointer].getText():""}},{key:"undo",value:function undo(){this.undoStackPointer>0&&this.undoStack[--this.undoStackPointer].unapply(this.handler_)}},{key:"redo",value:function redo(){this.undoStackPointer<this.undoStack.length&&this.undoStack.length>0&&this.undoStack[this.undoStackPointer++].apply(this.handler_)}},{key:"addCommandToHistory",value:function addCommandToHistory(en){this.undoStackPointer<this.undoStack.length&&this.undoStack.length>0&&(this.undoStack=this.undoStack.splice(0,this.undoStackPointer)),this.undoStack.push(en),this.undoStackPointer=this.undoStack.length}},{key:"beginUndoableChange",value:function beginUndoableChange(en,tn){for(var nn=++this.undoChangeStackPointer,rn=tn.length,an=new Array(rn),sn=new Array(rn);rn--;){var An=tn[rn];An&&(sn[rn]=An,an[rn]=An.getAttribute(en))}this.undoableChangeStack[nn]={attrName:en,oldValues:an,elements:sn}}},{key:"finishUndoableChange",value:function finishUndoableChange(){for(var en=this.undoChangeStackPointer--,tn=this.undoableChangeStack[en],nn=tn.attrName,rn=new HA("Change "+nn),an=tn.elements.length;an--;){var sn=tn.elements[an];if(sn){var An={};An[nn]=tn.oldValues[an],An[nn]!==sn.getAttribute(nn)&&rn.addSubCommand(new RA(sn,An,nn))}}return this.undoableChangeStack[en]=null,rn}}]),UndoManager$1}()}),$A=null,GA=function ptObjToArrMethod(en,tn){return $A.getSegData()[en].map((function(en){return tn[en]}))},jA=function getGripPtMethod(en,tn){var nn=en.path,rn={x:tn?tn.x:en.item.x,y:tn?tn.y:en.item.y};nn.matrix&&(rn=Os(rn.x,rn.y,nn.matrix));var an=$A.getZoom();return rn.x*=an,rn.y*=an,rn},VA=function getPointFromGripMethod(en,tn){var nn={x:en.x,y:en.y};tn.matrix&&(en=Os(nn.x,nn.y,tn.imatrix),nn.x=en.x,nn.y=en.y);var rn=$A.getZoom();return nn.x/=rn,nn.y/=rn,nn},KA=function getGripContainerMethod(){var en=xA("pathpointgrip_container");if(!en){var tn=xA("selectorParentGroup");en=document.createElementNS(Ts.SVG,"g"),tn.append(en),en.id="pathpointgrip_container"}return en},qA=function addPointGripMethod(en,tn,nn){var rn=KA(),an=xA("pathpointgrip_"+en);if(!an){var sn;an=document.createElementNS(Ts.SVG,"circle");var An={id:"pathpointgrip_"+en,display:"none",r:4,fill:"#0FF",stroke:"#00F","stroke-width":2,cursor:"move",style:"pointer-events:all"},cn=$A.getUIStrings();"pathNodeTooltip"in cn&&(An["xlink:title"]=cn.pathNodeTooltip),BA(an,An),rn.append(an),null===(sn=document.getElementById("pathpointgrip_"+en))||void 0===sn||sn.addEventListener("dblclick",(function(){var en=$A.getPathObj();en&&en.setSegType()}))}return tn&&nn&&BA(an,{cx:tn,cy:nn,display:"inline"}),an},zA=function addCtrlGripMethod(en){var tn=xA("ctrlpointgrip_"+en);if(tn)return tn;tn=document.createElementNS(Ts.SVG,"circle");var nn={id:"ctrlpointgrip_"+en,display:"none",r:4,fill:"#0FF",stroke:"#55F","stroke-width":1,cursor:"move",style:"pointer-events:all"},rn=$A.getUIStrings();return"pathCtrlPtTooltip"in rn&&(nn["xlink:title"]=rn.pathCtrlPtTooltip),BA(tn,nn),KA().append(tn),tn},WA=function getCtrlLineMethod(en){var tn=xA("ctrlLine_"+en);return tn||(tn=document.createElementNS(Ts.SVG,"line"),BA(tn,{id:"ctrlLine_"+en,stroke:"#555","stroke-width":1,style:"pointer-events:none"}),KA().append(tn),tn)},XA=function getPointGripMethod(en,tn){var nn=en.index,rn=qA(nn);if(tn){var an=jA(en);BA(rn,{cx:an.x,cy:an.y,display:"inline"})}return rn},YA=function getControlPointsMethod(en){var tn=en.item,nn=en.index;if(!("x1"in tn)||!("x2"in tn))return null;var rn={};KA();for(var an=[$A.getPathObj().segs[nn-1].item,tn],sn=1;sn<3;sn++){var An=nn+"c"+sn,cn=rn["c"+sn+"_line"]=WA(An),un=jA(en,{x:tn["x"+sn],y:tn["y"+sn]}),hn=jA(en,{x:an[sn-1].x,y:an[sn-1].y});BA(cn,{x1:un.x,y1:un.y,x2:hn.x,y2:hn.y,display:"inline"}),rn["c"+sn+"_line"]=cn;var dn=rn["c"+sn]=zA(An);BA(dn,{cx:un.x,cy:un.y,display:"inline"}),rn["c"+sn]=dn}return rn},JA=function replacePathSegMethod(en,tn,nn,rn){var an=$A.getPathObj(),sn=rn||an.elem,An=sn["createSVGPathSeg"+$A.getPathFuncs()[en]].apply(sn,_toConsumableArray(nn));sn.pathSegList.replaceItem(An,tn)},ZA=function getSegSelectorMethod(en,tn){var nn=en.index,rn=xA("segline_"+nn);if(!rn){var an=KA();rn=document.createElementNS(Ts.SVG,"path"),BA(rn,{id:"segline_"+nn,display:"none",fill:"none",stroke:"#0FF","stroke-width":2,style:"pointer-events:none",d:"M0,0 0,0"}),an.append(rn)}if(tn){var sn=en.prev;if(!sn)return rn.setAttribute("display","none"),rn;var An=jA(sn);JA(2,0,[An.x,An.y],rn);for(var cn=GA(en.type,en.item),un=0;un<cn.length;un+=2){var hn=jA(en,{x:cn[un],y:cn[un+1]});cn[un]=hn.x,cn[un+1]=hn.y}JA(en.type,1,cn,rn)}return rn},el=function(){function Segment(en,tn){_classCallCheck$1(this,Segment),this.selected=!1,this.index=en,this.item=tn,this.type=tn.pathSegType,this.ctrlpts=[],this.ptgrip=null,this.segsel=null}return _createClass$1(Segment,[{key:"showCtrlPts",value:function showCtrlPts(en){for(var tn in this.ctrlpts)({}).hasOwnProperty.call(this.ctrlpts,tn)&&this.ctrlpts[tn].setAttribute("display",en?"inline":"none")}},{key:"selectCtrls",value:function selectCtrls(en){document.getElementById("ctrlpointgrip_"+this.index+"c1").setAttribute("fill",en?"#0FF":"#EEE"),document.getElementById("ctrlpointgrip_"+this.index+"c2").setAttribute("fill",en?"#0FF":"#EEE")}},{key:"show",value:function show(en){this.ptgrip&&(this.ptgrip.setAttribute("display",en?"inline":"none"),this.segsel.setAttribute("display",en?"inline":"none"),this.showCtrlPts(en))}},{key:"select",value:function select(en){this.ptgrip&&(this.ptgrip.setAttribute("stroke",en?"#0FF":"#00F"),this.segsel.setAttribute("display",en?"inline":"none"),this.ctrlpts&&this.selectCtrls(en),this.selected=en)}},{key:"addGrip",value:function addGrip(){this.ptgrip=XA(this,!0),this.ctrlpts=YA(this),this.segsel=ZA(this,!0)}},{key:"update",value:function update(en){if(this.ptgrip){var tn=jA(this);if(BA(this.ptgrip,{cx:tn.x,cy:tn.y}),ZA(this,!0),this.ctrlpts){if(en){var nn=$A.getPathObj();this.item=nn.elem.pathSegList.getItem(this.index),this.type=this.item.pathSegType}YA(this)}}}},{key:"move",value:function move(en,tn){var nn,rn=this.item,an=this.ctrlpts?[rn.x+=en,rn.y+=tn,rn.x1,rn.y1,rn.x2+=en,rn.y2+=tn]:[rn.x+=en,rn.y+=tn];if(JA(this.type,this.index,10===this.type?GA(this.type,rn):an),null!==(nn=this.next)&&void 0!==nn&&nn.ctrlpts){var sn=this.next.item,An=[sn.x,sn.y,sn.x1+=en,sn.y1+=tn,sn.x2,sn.y2];JA(this.next.type,this.next.index,An)}if(this.mate){var cn=this.mate.item,un=[cn.x+=en,cn.y+=tn];JA(this.mate.type,this.mate.index,un)}this.update(!0),this.next&&this.next.update(!0)}},{key:"setLinked",value:function setLinked(en){var tn,nn,rn;if(2===en){if(nn=1,!(tn=this.next))return;rn=this.item}else{if(nn=2,!(tn=this.prev))return;rn=tn.item}var an=tn.item;an["x"+nn]=rn.x+(rn.x-this.item["x"+en]),an["y"+nn]=rn.y+(rn.y-this.item["y"+en]);var sn=[an.x,an.y,an.x1,an.y1,an.x2,an.y2];JA(tn.type,tn.index,sn),tn.update(!0)}},{key:"moveCtrl",value:function moveCtrl(en,tn,nn){var rn=this.item;rn["x"+en]+=tn,rn["y"+en]+=nn;var an=[rn.x,rn.y,rn.x1,rn.y1,rn.x2,rn.y2];JA(this.type,this.index,an),this.update(!0)}},{key:"setType",value:function setType(en,tn){JA(en,this.index,tn),this.type=en;var nn=$A.getPathObj();this.item=nn.elem.pathSegList.getItem(this.index),this.showCtrlPts(6===en),this.ctrlpts=YA(this),this.update(!0)}}]),Segment}(),tl=function(){function Path$1(en){if(_classCallCheck$1(this,Path$1),!en||"path"!==en.tagName)throw new Error("svgedit.path.Path constructed without a <path> element");this.elem=en,this.segs=[],this.selected_pts=[],$A.setPathObj(this),this.init()}return _createClass$1(Path$1,[{key:"setPathContext",value:function setPathContext(){$A.setPathObj(this)}},{key:"init",value:function init(){var en=KA().querySelectorAll("*");Array.prototype.forEach.call(en,(function(en){en.setAttribute("display","none")}));var tn=this.elem.pathSegList,nn=tn.numberOfItems;this.segs=[],this.selected_pts=[],this.first_seg=null;for(var rn=0;rn<nn;rn++){var an=tn.getItem(rn),sn=new el(rn,an);sn.path=this,this.segs.push(sn)}for(var An=this.segs,cn=null,un=0;un<nn;un++){var hn=An[un],dn=un+1>=nn?null:An[un+1],pn=un-1<0?null:An[un-1];if(2===hn.type){if(pn&&1!==pn.type){var gn=An[cn];gn.next=An[cn+1],gn.next.prev=gn,gn.addGrip()}cn=un}else if(1===(null==dn?void 0:dn.type))hn.next=An[cn+1],hn.next.prev=hn,hn.mate=An[cn],hn.addGrip(),this.first_seg||(this.first_seg=hn);else if(dn)1!==hn.type&&(hn.addGrip(),dn&&2!==dn.type&&(hn.next=dn,hn.next.prev=hn));else if(1!==hn.type){var mn=An[cn];mn.next=An[cn+1],mn.next.prev=mn,mn.addGrip(),hn.addGrip(),this.first_seg||(this.first_seg=An[cn])}}return this}},{key:"eachSeg",value:function eachSeg(en){for(var tn=this.segs.length,nn=0;nn<tn&&!1!==en.call(this.segs[nn],nn);nn++);}},{key:"addSeg",value:function addSeg(en){var tn=this.segs[en];if(tn.prev){var nn,rn,an,sn=tn.prev;switch(tn.item.pathSegType){case 4:rn=(tn.item.x+sn.item.x)/2,an=(tn.item.y+sn.item.y)/2,nn=this.elem.createSVGPathSegLinetoAbs(rn,an);break;case 6:var An=(sn.item.x+tn.item.x1)/2,cn=(tn.item.x1+tn.item.x2)/2,un=(tn.item.x2+tn.item.x)/2,hn=(An+cn)/2,dn=(cn+un)/2;rn=(hn+dn)/2;var pn=(sn.item.y+tn.item.y1)/2,gn=(tn.item.y1+tn.item.y2)/2,mn=(tn.item.y2+tn.item.y)/2,vn=(pn+gn)/2,yn=(gn+mn)/2;an=(vn+yn)/2,nn=this.elem.createSVGPathSegCurvetoCubicAbs(rn,an,An,pn,hn,vn);var bn=[tn.item.x,tn.item.y,dn,yn,un,mn];JA(tn.type,en,bn)}this.elem.pathSegList.insertItemBefore(nn,en)}}},{key:"deleteSeg",value:function deleteSeg(en){var tn=this.segs[en],nn=this.elem.pathSegList;tn.show(!1);var rn=tn.next;if(tn.mate){var an=[rn.item.x,rn.item.y];JA(2,rn.index,an),JA(4,tn.index,an),nn.removeItem(tn.mate.index)}else if(tn.prev)nn.removeItem(en);else{var sn=[rn.item.x,rn.item.y];JA(2,tn.next.index,sn),nn.removeItem(en)}}},{key:"removePtFromSelection",value:function removePtFromSelection(en){var tn=this.selected_pts.indexOf(en);-1!==tn&&(this.segs[en].select(!1),this.selected_pts.splice(tn,1))}},{key:"clearSelection",value:function clearSelection(){this.eachSeg((function(){this.select(!1)})),this.selected_pts=[]}},{key:"storeD",value:function storeD(){this.last_d=this.elem.getAttribute("d")}},{key:"show",value:function show(en){return this.eachSeg((function(){this.show(en)})),en&&this.selectPt(this.first_seg.index),this}},{key:"movePts",value:function movePts(en,tn){for(var nn=this.selected_pts.length;nn--;)this.segs[this.selected_pts[nn]].move(en,tn)}},{key:"moveCtrl",value:function moveCtrl(en,tn){var nn=this.segs[this.selected_pts[0]];nn.moveCtrl(this.dragctrl,en,tn),$A.getLinkControlPts()&&nn.setLinked(this.dragctrl)}},{key:"setSegType",value:function setSegType(en){this.storeD();for(var tn,nn=this.selected_pts.length;nn--;){var rn=this.selected_pts[nn],an=this.segs[rn],sn=an.prev;if(sn){en||(tn="Toggle Path Segment Type",en=6===an.type?4:6),en=Number(en);var An=an.item.x,cn=an.item.y,un=sn.item.x,hn=sn.item.y,dn=void 0;switch(en){case 6:if(an.olditem){var pn=an.olditem;dn=[An,cn,pn.x1,pn.y1,pn.x2,pn.y2]}else{var gn=An-un,mn=cn-hn;dn=[An,cn,un+gn/3,hn+mn/3,An-gn/3,cn-mn/3]}break;case 4:dn=[An,cn],an.olditem=an.item}an.setType(en,dn)}}$A.getPathObj().endChanges(tn)}},{key:"selectPt",value:function selectPt(en,tn){this.clearSelection(),en||this.eachSeg((function(tn){this.prev&&(en=tn)})),this.addPtsToSelection(en),tn&&(this.dragctrl=tn,$A.getLinkControlPts()&&this.segs[en].setLinked(tn))}},{key:"update",value:function update(){var en=this.elem;return bA(en)?(this.matrix=Gs(en),this.imatrix=this.matrix.inverse()):(this.matrix=null,this.imatrix=null),this.eachSeg((function(tn){this.item=en.pathSegList.getItem(tn),this.update()})),this}},{key:"endChanges",value:function endChanges(en){var tn=new RA(this.elem,{d:this.last_d},en);$A.endChanges({cmd:tn,elem:this.elem})}},{key:"addPtsToSelection",value:function addPtsToSelection(en){var tn=this;Array.isArray(en)||(en=[en]),en.forEach((function(en){tn.segs[en].ptgrip&&!tn.selected_pts.includes(en)&&en>=0&&tn.selected_pts.push(en)})),this.selected_pts.sort();var nn=this.selected_pts.length,rn=[];for(rn.length=nn;nn--;){var an=this.selected_pts[nn],sn=this.segs[an];sn.select(!0),rn[nn]=sn.ptgrip}var An=Path$1.subpathIsClosed(this.selected_pts[0]);$A.addPtsToSelection({grips:rn,closedSubpath:An})}}],[{key:"subpathIsClosed",value:function subpathIsClosed(en){var tn=!1;return $A.getPathObj().eachSeg((function(nn){return nn<=en||2!==this.type&&(1!==this.type||(tn=!0,!1))})),tn}}]),Path$1}(),nl=null,rl=null,il=function convertPath$1(en,tn){for(var nn=en.pathSegList,rn=nn.numberOfItems,an=0,sn=0,An="",cn=null,un=0;un<rn;++un){var hn=nn.getItem(un),dn=hn.x||0,pn=hn.y||0,gn=hn.x1||0,mn=hn.y1||0,vn=hn.x2||0,yn=hn.y2||0,bn=hn.pathSegTypeAsLetter;switch(bn){case"z":case"Z":An+="z",cn&&!tn&&(an=cn[0],sn=cn[1]);break;case"H":dn-=an;case"h":tn?(pn=0,an+=dn,bn="l"):(pn=sn,an=dn+=an,bn="L"),An+=pathDSegment$1(bn,[[dn,pn]]);break;case"V":pn-=sn;case"v":tn?(dn=0,sn+=pn,bn="l"):(dn=an,sn=pn+=sn,bn="L"),An+=pathDSegment$1(bn,[[dn,pn]]);break;case"M":case"L":case"T":dn-=an,pn-=sn;case"l":case"m":case"t":tn?(an+=dn,sn+=pn,bn=bn.toLowerCase()):(an=dn+=an,sn=pn+=sn,bn=bn.toUpperCase()),"m"!==bn&&"M"!==bn||(cn=[an,sn]),An+=pathDSegment$1(bn,[[dn,pn]]);break;case"C":dn-=an,gn-=an,vn-=an,pn-=sn,mn-=sn,yn-=sn;case"c":tn?(an+=dn,sn+=pn,bn="c"):(gn+=an,vn+=an,mn+=sn,yn+=sn,an=dn+=an,sn=pn+=sn,bn="C"),An+=pathDSegment$1(bn,[[gn,mn],[vn,yn],[dn,pn]]);break;case"Q":dn-=an,gn-=an,pn-=sn,mn-=sn;case"q":tn?(an+=dn,sn+=pn,bn="q"):(gn+=an,mn+=sn,an=dn+=an,sn=pn+=sn,bn="Q"),An+=pathDSegment$1(bn,[[gn,mn],[dn,pn]]);break;case"A":dn-=an,pn-=sn;case"a":tn?(an+=dn,sn+=pn,bn="a"):(an=dn+=an,sn=pn+=sn,bn="A"),An+=pathDSegment$1(bn,[[hn.r1,hn.r2]],[hn.angle,hn.largeArcFlag?1:0,hn.sweepFlag?1:0],[dn,pn]);break;case"S":dn-=an,vn-=an,pn-=sn,yn-=sn;case"s":tn?(an+=dn,sn+=pn,bn="s"):(vn+=an,yn+=sn,an=dn+=an,sn=pn+=sn,bn="S"),An+=pathDSegment$1(bn,[[vn,yn],[dn,pn]])}}return An};function pathDSegment$1(en,tn,nn,rn){tn.forEach((function(en,nn){tn[nn]=ks(en)}));var an=en+tn.join(" ");return nn&&(an+=" "+nn.join(" ")),rn&&(an+=" "+ks(rn)),an}var al,ol,sl,Al,ll,cl,ul=function(){var en,tn,nn=!1,rn=null,an=!1;return{mouseDown:function mouseDown(tn,rn,an,sn){var An,cn;if("path"!==nl.getCurrentMode()){if(rl){if(rl.storeD(),"pathpointgrip_"===(An=tn.target.id).substr(0,14)){cn=rl.cur_pt=Number.parseInt(An.substr(14)),rl.dragging=[an,sn];var un=rl.segs[cn];tn.shiftKey?un.selected?rl.removePtFromSelection(cn):rl.addPtsToSelection(cn):((rl.selected_pts.length<=1||!un.selected)&&rl.clearSelection(),rl.addPtsToSelection(cn))}else if(An.startsWith("ctrlpointgrip_")){rl.dragging=[an,sn];var hn=An.split("_")[1].split("c");cn=Number(hn[0]);var dn=Number(hn[1]);rl.selectPt(cn,dn)}if(!rl.dragging){var pn=nl.getRubberBox();pn||(pn=nl.setRubberBox(nl.selectorManager.getRubberBandBox()));var gn=nl.getZoom();BA(pn,{x:an*gn,y:sn*gn,width:0,height:0,display:"inline"})}}}else{var mn=an,vn=sn,yn=nl.getZoom(),bn=mn/yn,wn=vn/yn,Cn=xA("path_stretch_line");en=[bn,wn],nl.getGridSnapping()&&(bn=SA(bn),wn=SA(wn),mn=SA(mn),vn=SA(vn)),Cn||(Cn=document.createElementNS(Ts.SVG,"path"),BA(Cn,{id:"path_stretch_line",stroke:"#22C","stroke-width":"0.5",fill:"none"}),xA("selectorParentGroup").append(Cn)),Cn.setAttribute("display","inline");var xn,Bn=nl.getDrawnPath();if(Bn){for(var _n=Bn.pathSegList,Sn=_n.numberOfItems,kn=6/yn,En=!1;Sn;){Sn--;var Pn=_n.getItem(Sn),Fn=Pn.x,Ln=Pn.y;if(bn>=Fn-kn&&bn<=Fn+kn&&wn>=Ln-kn&&wn<=Ln+kn){En=!0;break}}An=nl.getId(),nl.removePath_(An);var In,Un,Tn=xA(An),Qn=_n.numberOfItems;if(En){if(Sn<=1&&Qn>=2){var Nn=_n.getItem(0).x,On=_n.getItem(0).y;In=4===(Un=Cn.pathSegList.getItem(1)).pathSegType?Bn.createSVGPathSegLinetoAbs(Nn,On):Bn.createSVGPathSegCurvetoCubicAbs(Nn,On,Un.x1/yn,Un.y1/yn,Nn,On);var Mn=Bn.createSVGPathSegClosePath();_n.appendItem(In),_n.appendItem(Mn)}else if(Qn<3)return!1;if(Cn.remove(),nl.setDrawnPath(null),nl.setStarted(!1),nn){rl.matrix&&nl.remapElement(Tn,{},rl.matrix.inverse());var Rn=Tn.getAttribute("d"),Hn=rl.elem.getAttribute("d");return rl.elem.setAttribute("d",Hn+Rn),Tn.parentNode.removeChild(Tn),rl.matrix&&nl.recalcRotatedPath(),ul.toEditMode(rl.elem),rl.selectPt(),!1}}else{if(nl.getContainer()===nl.getMouseTarget(tn)||!nl.getContainer().contains(nl.getMouseTarget(tn)))return!1;var Dn=Bn.pathSegList.numberOfItems,$n=Bn.pathSegList.getItem(Dn-1),Gn=$n.x,jn=$n.y;if(tn.shiftKey){var Vn=js(Gn,jn,bn,wn);bn=Vn.x,wn=Vn.y}In=4===(Un=Cn.pathSegList.getItem(1)).pathSegType?Bn.createSVGPathSegLinetoAbs(nl.round(bn),nl.round(wn)):Bn.createSVGPathSegCurvetoCubicAbs(nl.round(bn),nl.round(wn),Un.x1/yn,Un.y1/yn,Un.x2/yn,Un.y2/yn),Bn.pathSegList.appendItem(In),bn*=yn,wn*=yn,Cn.setAttribute("d",["M",bn,wn,bn,wn].join(" ")),xn=Dn,nn&&(xn+=rl.segs.length),nl.addPointGrip(xn,bn,wn)}}else{var Kn="M"+bn+","+wn+" ";nl.setDrawnPath(nl.addSVGElementsFromJson({element:"path",curStyles:!0,attr:{d:Kn,id:nl.getNextId(),opacity:nl.getOpacity()/2}})),Cn.setAttribute("d",["M",mn,vn,mn,vn].join(" ")),xn=nn?rl.segs.length:0,nl.addPointGrip(xn,mn,vn)}}},mouseMove:function mouseMove(nn,rn){var sn=nl.getZoom();an=!0;var An=nl.getDrawnPath();if("path"!==nl.getCurrentMode())if(rl.dragging){var cn=nl.getPointFromGrip({x:rl.dragging[0],y:rl.dragging[1]},rl),un=nl.getPointFromGrip({x:nn,y:rn},rl),hn=un.x-cn.x,dn=un.y-cn.y;rl.dragging=[nn,rn],rl.dragctrl?rl.moveCtrl(hn,dn):rl.movePts(hn,dn)}else rl.selected_pts=[],rl.eachSeg((function(en){var tn=this;if(tn.next||tn.prev){var nn=nl.getRubberBox(),rn=lA(nn),an=nl.getGripPt(tn),sn={x:an.x,y:an.y,width:0,height:0},An=Vs(rn,sn);this.select(An),An&&rl.selected_pts.push(tn.index)}}));else{if(!An)return;var pn=An.pathSegList,gn=pn.numberOfItems-1;if(en){var mn=nl.addCtrlGrip("1c1"),vn=nl.addCtrlGrip("0c2");mn.setAttribute("cx",nn),mn.setAttribute("cy",rn),mn.setAttribute("display","inline");var yn=en[0],bn=en[1],wn=yn+(yn-nn/sn),Cn=bn+(bn-rn/sn);vn.setAttribute("cx",wn*sn),vn.setAttribute("cy",Cn*sn),vn.setAttribute("display","inline");var xn=nl.getCtrlLine(1);if(BA(xn,{x1:nn,y1:rn,x2:wn*sn,y2:Cn*sn,display:"inline"}),0===gn)tn=[nn,rn];else{var Bn=pn.getItem(gn-1),_n=Bn.x,Sn=Bn.y;6===Bn.pathSegType?(_n+=_n-Bn.x2,Sn+=Sn-Bn.y2):tn&&(_n=tn[0]/sn,Sn=tn[1]/sn),nl.replacePathSeg(6,gn,[yn,bn,_n,Sn,wn,Cn],An)}}else{var kn=xA("path_stretch_line");if(kn){var En=pn.getItem(gn);if(6===En.pathSegType){var Pn=En.x+(En.x-En.x2),Fn=En.y+(En.y-En.y2);nl.replacePathSeg(6,1,[nn,rn,Pn*sn,Fn*sn,nn,rn],kn)}else tn?nl.replacePathSeg(6,1,[nn,rn,tn[0],tn[1],nn,rn],kn):nl.replacePathSeg(4,1,[nn,rn],kn)}}}},mouseUp:function mouseUp(nn,rn,sn,An){var cn=nl.getDrawnPath();if("path"===nl.getCurrentMode())return en=null,cn||(rn=xA(nl.getId()),nl.setStarted(!1),tn=null),{keep:!0,element:rn};var un=nl.getRubberBox();if(rl.dragging){var hn=rl.cur_pt;rl.dragging=!1,rl.dragctrl=!1,rl.update(),an&&rl.endChanges("Move path point(s)"),nn.shiftKey||an||rl.selectPt(hn)}else"none"!==(null==un?void 0:un.getAttribute("display"))?(un.setAttribute("display","none"),un.getAttribute("width")<=2&&un.getAttribute("height")<=2&&ul.toSelectMode(nn.target)):ul.toSelectMode(nn.target);an=!1},toEditMode:function toEditMode(en){rl=nl.getPath_(en),nl.setCurrentMode("pathedit"),nl.clearSelection(),rl.setPathContext(),rl.show(!0).update(),rl.oldbbox=lA(rl.elem),nn=!1},toSelectMode:function toSelectMode(en){var tn=en===rl.elem;nl.setCurrentMode("select"),rl.setPathContext(),rl.show(!1),rn=!1,nl.clearSelection(),rl.matrix&&nl.recalcRotatedPath(),tn&&(nl.call("selected",[en]),nl.addToSelection([en],!0))},addSubPath:function addSubPath(en){en?(nl.setCurrentMode("path"),nn=!0):(ul.clear(!0),ul.toEditMode(rl.elem))},select:function select(en){rn===en?(ul.toEditMode(en),nl.setCurrentMode("pathedit")):rn=en},reorient:function reorient(){var en=nl.getSelectedElements()[0];if(en&&0!==bA(en)){var tn=new HA("Reorient path"),nn={d:en.getAttribute("d"),transform:en.getAttribute("transform")};tn.addSubCommand(new RA(en,nn)),nl.clearSelection(),this.resetOrientation(en),nl.addCommandToHistory(tn),nl.getPath_(en).show(!1).matrix=null,this.clear(),nl.addToSelection([en],!0),nl.call("changed",nl.getSelectedElements())}},clear:function clear(){var en=nl.getDrawnPath();if(rn=null,en){var nn=xA(nl.getId()),an=xA("path_stretch_line");an.parentNode.removeChild(an),nn.parentNode.removeChild(nn);var sn=xA("pathpointgrip_container").querySelectorAll("*");Array.prototype.forEach.call(sn,(function(en){en.setAttribute("display","none")})),tn=null,nl.setDrawnPath(null),nl.setStarted(!1)}else"pathedit"===nl.getCurrentMode()&&this.toSelectMode();rl&&rl.init().show(!1)},resetOrientation:function resetOrientation(en){if("path"!==(null==en?void 0:en.nodeName))return!1;var tn=en.transform.baseVal,nn=$s(tn).matrix;tn.clear(),en.removeAttribute("transform");for(var rn=en.pathSegList,an=rn.numberOfItems,sn=function _loop(tn){var an=rn.getItem(tn),sn=an.pathSegType;if(1===sn)return"continue";var An=[];["",1,2].forEach((function(en){var tn=an["x"+en],rn=an["y"+en];if(void 0!==tn&&void 0!==rn){var sn=Os(tn,rn,nn);An.splice(An.length,0,sn.x,sn.y)}})),nl.replacePathSeg(sn,tn,An,en)},An=0;An<an;++An)sn(An);nl.reorientGrads(en,nn)},zoomChange:function zoomChange(){"pathedit"===nl.getCurrentMode()&&rl.update()},getNodePoint:function getNodePoint(){var en=rl.selected_pts.length?rl.selected_pts[0]:1,tn=rl.segs[en];return{x:tn.item.x,y:tn.item.y,type:tn.type}},linkControlPoints:function linkControlPoints(en){nl.setLinkControlPoints(en)},clonePathNode:function clonePathNode(){rl.storeD();for(var en=rl.selected_pts,tn=en.length,nn=[];tn--;){var rn=en[tn];rl.addSeg(rn),nn.push(rn+tn),nn.push(rn+tn+1)}rl.init().addPtsToSelection(nn),rl.endChanges("Clone path node(s)")},opencloseSubPath:function opencloseSubPath(){var en=rl.selected_pts;if(1===en.length){var tn,nn,rn=rl.elem,an=rn.pathSegList,sn=en[0],An=null,cn=null;if(rl.eachSeg((function(en){return 2===this.type&&en<=sn&&(cn=this.item),en<=sn||(2===this.type?(An=en,!1):1!==this.type||(An=!1,!1))})),An||(An=rl.segs.length-1),!1!==An){var un=rn.createSVGPathSegLinetoAbs(cn.x,cn.y),hn=rn.createSVGPathSegClosePath();return An===rl.segs.length-1?(an.appendItem(un),an.appendItem(hn)):(an.insertItemBefore(hn,An),an.insertItemBefore(un,An)),void rl.init().selectPt(An+1)}if(rl.segs[sn].mate)return an.removeItem(sn),an.removeItem(sn),void rl.init().selectPt(sn-1);for(var dn=0;dn<an.numberOfItems;dn++){var pn=an.getItem(dn);if(2===pn.pathSegType)tn=dn;else if(dn===sn)an.removeItem(tn);else if(1===pn.pathSegType&&sn<dn){nn=dn-1,an.removeItem(dn);break}}for(var gn=sn-tn-1;gn--;)an.insertItemBefore(an.getItem(tn),nn);var mn=an.getItem(tn);nl.replacePathSeg(2,tn,[mn.x,mn.y]),rl.init().selectPt(0)}},deletePathNode:function deletePathNode(){if(ul.canDeleteNodes){rl.storeD();for(var en=rl.selected_pts,tn=en.length;tn--;){var nn=en[tn];rl.deleteSeg(nn)}if(function cleanup(){var en=rl.elem.pathSegList,tn=en.numberOfItems,nn=function remItems(tn,nn){for(;nn--;)en.removeItem(tn)};if(tn<=1)return!0;for(;tn--;){var rn=en.getItem(tn);if(1===rn.pathSegType){var an=en.getItem(tn-1),sn=en.getItem(tn-2);if(2===an.pathSegType){nn(tn-1,2),cleanup();break}if(2===sn.pathSegType){nn(tn-2,3),cleanup();break}}else if(2===rn.pathSegType&&tn>0){var An=en.getItem(tn-1).pathSegType;if(2===An){nn(tn-1,1),cleanup();break}if(1===An&&en.numberOfItems-1===tn){nn(tn,1),cleanup();break}}}return!1}(),rl.elem.pathSegList.numberOfItems<=1)return ul.toSelectMode(rl.elem),void nl.canvas.deleteSelectedElements();rl.init(),rl.clearSelection(),window.opera&&rl.elem.setAttribute("d",rl.elem.getAttribute("d")),rl.endChanges("Delete path node(s)")}},smoothPolylineIntoPath:function smoothPolylineIntoPath(en){var tn,nn=en.points,rn=nn.numberOfItems;if(rn>=4){var an=nn.getItem(0),sn=null,An=[];for(An.push(["M",an.x,",",an.y," C"].join("")),tn=1;tn<=rn-4;tn+=3){var cn=nn.getItem(tn),un=nn.getItem(tn+1),hn=nn.getItem(tn+2);if(sn){var dn=nl.smoothControlPoints(sn,cn,an);if(2===(null==dn?void 0:dn.length)){var pn=An[An.length-1].split(",");pn[2]=dn[0].x,pn[3]=dn[0].y,An[An.length-1]=pn.join(","),cn=dn[1]}}An.push([cn.x,cn.y,un.x,un.y,hn.x,hn.y].join(",")),an=hn,sn=un}for(An.push("L");tn<rn;){var gn=nn.getItem(tn);An.push([gn.x,gn.y].join(",")),tn++}An=An.join(" "),en=nl.addSVGElementsFromJson({element:"path",curStyles:!0,attr:{id:nl.getId(),d:An,fill:"none"}})}return en},setSegType:function setSegType(en){var tn;null===(tn=rl)||void 0===tn||tn.setSegType(en)},moveNode:function moveNode(en,tn){var nn=rl.selected_pts;if(nn.length){rl.storeD();var rn=rl.segs[nn[0]],an={x:0,y:0};an[en]=tn-rn.item[en],rn.move(an.x,an.y),rl.endChanges("Move path point")}},fixEnd:function fixEnd(en){for(var tn,nn=en.pathSegList,rn=nn.numberOfItems,an=0;an<rn;++an){var sn=nn.getItem(an);if(2===sn.pathSegType&&(tn=sn),1===sn.pathSegType){var An=nn.getItem(an-1);if(An.x!==tn.x||An.y!==tn.y){var cn=en.createSVGPathSegLinetoAbs(tn.x,tn.y);nn.insertItemBefore(cn,an),ul.fixEnd(en);break}}}},convertPath:il}}(),hl={2:["x","y"],4:["x","y"],6:["x","y","x1","y1","x2","y2"],8:["x","y","x1","y1"],10:["x","y","r1","r2","angle","largeArcFlag","sweepFlag"],12:["x"],14:["y"],16:["x","y","x2","y2"],18:["x","y"]},dl={},pl=function setUiStrings(en){Object.assign(dl,en.ui)},gl=[],fl=!0,ml={},vl=function setLinkControlPoints(en){fl=en},yl=null,bl=function init$g(en){(al=en).replacePathSeg=JA,al.addPointGrip=qA,al.removePath_=Tl,al.getPath_=Ul,al.addCtrlGrip=zA,al.getCtrlLine=WA,al.getGripPt=Cl,al.getPointFromGrip=VA,al.setLinkControlPoints=vl,al.reorientGrads=Ol,al.getSegData=function(){return hl},al.getUIStrings=function(){return dl},al.getPathObj=function(){return yl},al.setPathObj=function(en){yl=en},al.getPathFuncs=function(){return gl},al.getLinkControlPts=function(){return fl},gl=[0,"ClosePath"],["Moveto","Lineto","CurvetoCubic","CurvetoQuadratic","Arc","LinetoHorizontal","LinetoVertical","CurvetoCubicSmooth","CurvetoQuadraticSmooth"].forEach((function(en){gl.push(en+"Abs"),gl.push(en+"Rel")})),nl=al,$A=al},wl=GA,Cl=jA,xl=VA,Bl=qA,_l=KA,Sl=zA,kl=WA,El=XA,Pl=YA,Fl=JA,Ll=ZA,Il=function smoothControlPoints(en,tn,nn){var rn=en.x-nn.x,an=en.y-nn.y,sn=tn.x-nn.x,An=tn.y-nn.y;if(!(0===rn&&0===an||0===sn&&0===An)){var cn=Math.sqrt(rn*rn+an*an),un=Math.sqrt(sn*sn+An*An),hn=al.getSvgRoot().createSVGPoint(),dn=al.getSvgRoot().createSVGPoint(),pn=Math.atan2(an,rn),gn=Math.atan2(An,sn);pn<0&&(pn+=2*Math.PI),gn<0&&(gn+=2*Math.PI);var mn,vn,yn=Math.abs(pn-gn),bn=Math.abs(Math.PI-yn)/2;return pn-gn>0?(mn=yn<Math.PI?pn+bn:pn-bn,vn=yn<Math.PI?gn-bn:gn+bn):(mn=yn<Math.PI?pn-bn:pn+bn,vn=yn<Math.PI?gn+bn:gn-bn),hn.x=cn*Math.cos(mn)+nn.x,hn.y=cn*Math.sin(mn)+nn.y,dn.x=un*Math.cos(vn)+nn.x,dn.y=un*Math.sin(vn)+nn.y,[hn,dn]}},Ul=function getPath_(en){var tn=ml[en.id];return tn||(tn=ml[en.id]=new tl(en)),tn},Tl=function removePath_(en){en in ml&&delete ml[en]},Ql=function getRotVals(en,tn){var nn=en-Al,rn=tn-ll,an=Math.sqrt(nn*nn+rn*rn),sn=Math.atan2(rn,nn)+cl;return nn=an*Math.cos(sn)+Al,rn=an*Math.sin(sn)+ll,nn-=ol,rn-=sl,an=Math.sqrt(nn*nn+rn*rn),sn=Math.atan2(rn,nn)-cl,{x:an*Math.cos(sn)+ol,y:an*Math.sin(sn)+sl}},Nl=function clearData(){ml={}},Ol=function reorientGrads(en,tn){for(var nn=lA(en),rn=0;rn<2;rn++){var an=0===rn?"fill":"stroke",sn=en.getAttribute(an);if(sn&&sn.startsWith("url(")){var An=wA(sn);if("linearGradient"===An.tagName){var cn=An.getAttribute("x1")||0,un=An.getAttribute("y1")||0,hn=An.getAttribute("x2")||1,dn=An.getAttribute("y2")||0;cn=nn.width*cn+nn.x,un=nn.height*un+nn.y,hn=nn.width*hn+nn.x,dn=nn.height*dn+nn.y;for(var pn=Os(cn,un,tn),gn=Os(hn,dn,tn),mn={x1:(pn.x-nn.x)/nn.width,y1:(pn.y-nn.y)/nn.height,x2:(gn.x-nn.x)/nn.width,y2:(gn.y-nn.y)/nn.height},vn=An.cloneNode(!0),yn=0,bn=Object.entries(mn);yn<bn.length;yn++){var wn=_slicedToArray(bn[yn],2),Cn=wn[0],xn=wn[1];vn.setAttribute(Cn,xn)}vn.id=al.getNextId(),sA().append(vn),en.setAttribute(an,"url(#"+vn.id+")")}}}},Ml=[0,"z","M","m","L","l","C","c","Q","q","A","a","H","h","V","v","S","s","T","t"],Rl=function pathDSegment(en,tn,nn,rn){tn.forEach((function(en,nn){tn[nn]=ks(en)}));var an=en+tn.join(" ");return nn&&(an+=" "+nn.join(" ")),rn&&(an+=" "+ks(rn)),an},Hl=ul,Dl=Object.freeze({__proto__:null,setUiStrings:pl,setLinkControlPoints:vl,get path(){return yl},init:bl,ptObjToArr:wl,getGripPt:Cl,getPointFromGrip:xl,addPointGrip:Bl,getGripContainer:_l,addCtrlGrip:Sl,getCtrlLine:kl,getPointGrip:El,getControlPoints:Pl,replacePathSeg:Fl,getSegSelector:Ll,smoothControlPoints:Il,getPath_:Ul,removePath_:Tl,recalcRotatedPath:function recalcRotatedPath(){var en=yl.elem;if(cl=bA(en,!0)){var tn=yl.oldbbox;Al=tn.x+tn.width/2,ll=tn.y+tn.height/2;var nn=lA(en);ol=nn.x+nn.width/2,sl=nn.y+nn.height/2;var rn=ol-Al,an=sl-ll,sn=Math.sqrt(rn*rn+an*an),An=Math.atan2(an,rn)+cl;ol=sn*Math.cos(An)+Al,sl=sn*Math.sin(An)+ll;for(var cn=en.pathSegList,un=cn.numberOfItems;un;){un-=1;var hn=cn.getItem(un),dn=hn.pathSegType;if(1!==dn){var pn=Ql(hn.x,hn.y),gn=[pn.x,pn.y];if(hn.x1&&hn.x2){var mn=Ql(hn.x1,hn.y1),vn=Ql(hn.x2,hn.y2);gn.splice(gn.length,0,mn.x,mn.y,vn.x,vn.y)}Fl(dn,un,gn)}}lA(en);var yn=al.getSvgRoot().createSVGTransform(),bn=en.transform.baseVal;yn.setRotate(180*cl/Math.PI,ol,sl),bn.replaceItem(yn,0)}},clearData:Nl,reorientGrads:Ol,convertPath:function convertPath(en,tn){for(var nn=en.pathSegList,rn=nn.numberOfItems,an=0,sn=0,An="",cn=null,un=0;un<rn;++un){var hn=nn.getItem(un),dn=hn.x||0,pn=hn.y||0,gn=hn.x1||0,mn=hn.y1||0,vn=hn.x2||0,yn=hn.y2||0,bn=hn.pathSegType,wn=Ml[bn][tn?"toLowerCase":"toUpperCase"]();switch(bn){case 1:An+="z",cn&&!tn&&(an=cn[0],sn=cn[1]);break;case 12:dn-=an;case 13:tn?(pn=0,an+=dn,wn="l"):(pn=sn,an=dn+=an,wn="L"),An+=Rl(wn,[[dn,pn]]);break;case 14:pn-=sn;case 15:tn?(dn=0,sn+=pn,wn="l"):(dn=an,sn=pn+=sn,wn="L"),An+=Rl(wn,[[dn,pn]]);break;case 2:case 4:case 18:case 10:dn-=an,pn-=sn;case 5:case 3:case 19:tn?(an+=dn,sn+=pn):(an=dn+=an,sn=pn+=sn),2!==bn&&3!==bn||(cn=[an,sn]),An+=Rl(wn,[[dn,pn]]);break;case 6:dn-=an,gn-=an,vn-=an,pn-=sn,mn-=sn,yn-=sn;case 7:tn?(an+=dn,sn+=pn):(gn+=an,vn+=an,mn+=sn,yn+=sn,an=dn+=an,sn=pn+=sn),An+=Rl(wn,[[gn,mn],[vn,yn],[dn,pn]]);break;case 8:dn-=an,gn-=an,pn-=sn,mn-=sn;case 9:tn?(an+=dn,sn+=pn):(gn+=an,mn+=sn,an=dn+=an,sn=pn+=sn),An+=Rl(wn,[[gn,mn],[dn,pn]]);break;case 11:tn?(an+=dn,sn+=pn):(an=dn+=an,sn=pn+=sn),An+=Rl(wn,[[hn.r1,hn.r2]],[hn.angle,hn.largeArcFlag?1:0,hn.sweepFlag?1:0],[dn,pn]);break;case 16:dn-=an,vn-=an,pn-=sn,yn-=sn;case 17:tn?(an+=dn,sn+=pn):(vn+=an,yn+=sn,an=dn+=an,sn=pn+=sn),An+=Rl(wn,[[vn,yn],[dn,pn]])}}return An},pathActions:Hl}),$l=function(){function Layer(en,tn,nn){if(_classCallCheck$1(this,Layer),this.name_=en,this.group_=nn?null:tn,nn){var rn=nn.ownerDocument;this.group_=rn.createElementNS(Ts.SVG,"g");var an=rn.createElementNS(Ts.SVG,"title");an.textContent=en,this.group_.append(an),tn?tn.insertAdjacentElement("afterend",this.group_):nn.append(this.group_)}!function addLayerClass(en){var tn=en.getAttribute("class");tn&&tn.length?Layer.CLASS_REGEX.test(tn)||en.setAttribute("class",tn+" "+Layer.CLASS_NAME):en.setAttribute("class",Layer.CLASS_NAME)}
/**
 * HistoryRecordingService component of history.
 * @module history
 * @license MIT
 * @copyright 2016 Flint O'Brien
 */(this.group_),rA(this.group_,(function(en){en.setAttribute("style","pointer-events:inherit")})),this.group_.setAttribute("style",nn?"pointer-events:all":"pointer-events:none")}return _createClass$1(Layer,[{key:"getName",value:function getName(){return this.name_}},{key:"getGroup",value:function getGroup(){return this.group_}},{key:"activate",value:function activate(){this.group_.setAttribute("style","pointer-events:all")}},{key:"deactivate",value:function deactivate(){this.group_.setAttribute("style","pointer-events:none")}},{key:"setVisible",value:function setVisible(en){var tn=void 0===en||en?"inline":"none";this.group_.getAttribute("display")!==tn&&this.group_.setAttribute("display",tn)}},{key:"isVisible",value:function isVisible(){return"none"!==this.group_.getAttribute("display")}},{key:"getOpacity",value:function getOpacity(){var en=this.group_.getAttribute("opacity");return en?Number.parseFloat(en):1}},{key:"setOpacity",value:function setOpacity(en){"number"==typeof en&&en>=0&&en<=1&&this.group_.setAttribute("opacity",en)}},{key:"appendChildren",value:function appendChildren(en){var tn,nn=_createForOfIteratorHelper(en);try{for(nn.s();!(tn=nn.n()).done;){var rn=tn.value;this.group_.append(rn)}}catch(en){nn.e(en)}finally{nn.f()}}},{key:"getTitleElement",value:function getTitleElement(){for(var en=this.group_.childNodes.length,tn=0;tn<en;++tn){var nn=this.group_.childNodes.item(tn);if("title"===(null==nn?void 0:nn.tagName))return nn}return null}},{key:"setName",value:function setName(en,tn){var nn=this.name_;en=Xs(en);var rn=this.getTitleElement();if(rn){for(;rn.firstChild;)rn.removeChild(rn.firstChild);return rn.textContent=en,this.name_=en,tn&&tn.changeElement(rn,{"#text":nn}),this.name_}return null}},{key:"removeGroup",value:function removeGroup(){var en=this.group_;return this.group_.remove(),this.group_=void 0,en}}],[{key:"isLayer",value:function isLayer(en){return en&&"g"===en.tagName&&Layer.CLASS_REGEX.test(en.getAttribute("class"))}}]),Layer}();
/**
 * Path functionality.
 * @module path
 * @license MIT
 *
 * @copyright 2011 Alexis Deveria, 2011 Jeff Schiller
 */$l.CLASS_NAME="layer",$l.CLASS_REGEX=new RegExp("(\\s|^)"+$l.CLASS_NAME+"(\\s|$)");var Gl=function(){function HistoryRecordingService(en){_classCallCheck$1(this,HistoryRecordingService),this.undoManager_=en,this.currentBatchCommand_=null,this.batchCommandStack_=[]}return _createClass$1(HistoryRecordingService,[{key:"startBatchCommand",value:function startBatchCommand(en){return this.undoManager_?(this.currentBatchCommand_=new HA(en),this.batchCommandStack_.push(this.currentBatchCommand_),this):this}},{key:"endBatchCommand",value:function endBatchCommand(){if(!this.undoManager_)return this;if(this.currentBatchCommand_){var en=this.currentBatchCommand_;this.batchCommandStack_.pop();var tn=this.batchCommandStack_.length;this.currentBatchCommand_=tn?this.batchCommandStack_[tn-1]:null,this.addCommand_(en)}return this}},{key:"moveElement",value:function moveElement(en,tn,nn,rn){return this.undoManager_?(this.addCommand_(new NA(en,tn,nn,rn)),this):this}},{key:"insertElement",value:function insertElement(en,tn){return this.undoManager_?(this.addCommand_(new OA(en,tn)),this):this}},{key:"removeElement",value:function removeElement(en,tn,nn,rn){return this.undoManager_?(this.addCommand_(new MA(en,tn,nn,rn)),this):this}},{key:"changeElement",value:function changeElement(en,tn,nn){return this.undoManager_?(this.addCommand_(new RA(en,tn,nn)),this):this}},{key:"addCommand_",value:function addCommand_(en){if(!this.undoManager_)return this;this.currentBatchCommand_?this.currentBatchCommand_.addSubCommand(en):this.undoManager_.addCommandToHistory(en)}}]),HistoryRecordingService}();Gl.NO_HISTORY=new Gl;var jl=function copyElem(en,tn){var nn=document.createElementNS(en.namespaceURI,en.nodeName);if(Object.values(en.attributes).forEach((function(en){nn.setAttributeNS(en.namespaceURI,en.nodeName,en.value)})),nn.removeAttribute("id"),nn.id=tn(),en.childNodes.forEach((function(en){switch(en.nodeType){case 1:nn.append(jl(en,tn));break;case 3:nn.textContent=en.nodeValue}})),en.dataset.gsvg)nn.dataset.gsvg=nn.firstChild;else if(en.dataset.symbol){var rn=en.dataset.symbol;nn.dataset.ref=rn,nn.dataset.symbol=rn}else"image"===nn.tagName&&kA(nn);return nn},Vl="a,circle,ellipse,foreignObject,g,image,line,path,polygon,polyline,rect,svg,text,tspan,use".split(","),Kl=0,ql=[];
/**
 * Tools for drawing.
 * @module draw
 * @license MIT
 * @copyright 2011 Jeff Schiller
 */function historyRecordingService(en){return en||new Gl(zl.undoMgr)}function findLayerNameInGroup(en){var tn=en.querySelector("title");return tn?tn.textContent:""}function getNewLayerName(en){for(var tn=1;en.includes("Layer "+tn);)tn++;return"Layer "+tn}var zl,Wl=function(){function Drawing(en,tn){if(_classCallCheck$1(this,Drawing),!en||!en.tagName||!en.namespaceURI||"svg"!==en.tagName||en.namespaceURI!==Ts.SVG)throw new Error("Error: svgedit.draw.Drawing instance initialized without a <svg> element");this.svgElem_=en,this.obj_num=0,this.idPrefix=tn||"svg_",this.releasedNums=[],this.all_layers=[],this.layer_map={},this.current_layer=null,this.nonce_="";var nn=this.svgElem_.getAttributeNS(Ts.SE,"nonce");nn&&2!==Kl?this.nonce_=nn:1===Kl&&this.setNonce(Math.floor(100001*Math.random()))}return _createClass$1(Drawing,[{key:"getElem_",value:function getElem_(en){return this.svgElem_.querySelector?this.svgElem_.querySelector("#"+en):this.svgElem_.querySelector("[id="+en+"]")}},{key:"getSvgElem",value:function getSvgElem(){return this.svgElem_}},{key:"getNonce",value:function getNonce(){return this.nonce_}},{key:"setNonce",value:function setNonce(en){this.svgElem_.setAttributeNS(Ts.XMLNS,"xmlns:se",Ts.SE),this.svgElem_.setAttributeNS(Ts.SE,"se:nonce",en),this.nonce_=en}},{key:"clearNonce",value:function clearNonce(){this.nonce_=""}},{key:"getId",value:function getId(){return this.nonce_?this.idPrefix+this.nonce_+"_"+this.obj_num:this.idPrefix+this.obj_num}},{key:"getNextId",value:function getNextId(){var en=this.obj_num,tn=!1;this.releasedNums.length>0?(this.obj_num=this.releasedNums.pop(),tn=!0):this.obj_num++;for(var nn=this.getId();this.getElem_(nn);)tn&&(this.obj_num=en,tn=!1),this.obj_num++,nn=this.getId();return tn&&(this.obj_num=en),nn}},{key:"releaseId",value:function releaseId(en){var tn=this.idPrefix+(this.nonce_?this.nonce_+"_":"");if("string"!=typeof en||!en.startsWith(tn))return!1;var nn=Number.parseInt(en.substr(tn.length));return!("number"!=typeof nn||nn<=0||this.releasedNums.includes(nn)||(this.releasedNums.push(nn),0))}},{key:"getNumLayers",value:function getNumLayers(){return this.all_layers.length}},{key:"hasLayer",value:function hasLayer(en){return void 0!==this.layer_map[en]}},{key:"getLayerName",value:function getLayerName(en){return en>=0&&en<this.getNumLayers()?this.all_layers[en].getName():""}},{key:"getCurrentLayer",value:function getCurrentLayer(){return this.current_layer?this.current_layer.getGroup():null}},{key:"getLayerByName",value:function getLayerByName(en){var tn=this.layer_map[en];return tn?tn.getGroup():null}},{key:"getCurrentLayerName",value:function getCurrentLayerName(){return this.current_layer?this.current_layer.getName():""}},{key:"setCurrentLayerName",value:function setCurrentLayerName(en,tn){var nn=null;if(this.current_layer){var rn=this.current_layer.getName();(nn=this.current_layer.setName(en,tn))&&(delete this.layer_map[rn],this.layer_map[nn]=this.current_layer)}return nn}},{key:"setCurrentLayerPosition",value:function setCurrentLayerPosition(en){var tn=this.getNumLayers();if(!this.current_layer||en<0||en>=tn)return null;var nn=this.indexCurrentLayer();if(-1===nn||nn===en)return null;var rn=this.current_layer.getGroup(),an=rn.nextSibling,sn=null;return en>nn?en<tn-1&&(sn=this.all_layers[en+1].getGroup()):sn=this.all_layers[en].getGroup(),this.svgElem_.insertBefore(rn,sn),this.identifyLayers(),this.setCurrentLayer(this.getLayerName(en)),{currentGroup:rn,oldNextSibling:an}}},{key:"mergeLayer",value:function mergeLayer(en){var tn=this.current_layer.getGroup(),nn=tn.previousElementSibling;if(nn){en.startBatchCommand("Merge Layer");var rn=tn.nextSibling;for(en.removeElement(tn,rn,this.svgElem_);tn.firstChild;){var an=tn.firstChild;if("title"!==an.localName){var sn=an.nextSibling;nn.append(an),en.moveElement(an,sn,tn)}else en.removeElement(an,an.nextSibling,tn),an.remove()}this.current_layer.removeGroup();var An=this.indexCurrentLayer();if(An>0){var cn=this.current_layer.getName();this.current_layer=this.all_layers[An-1],this.all_layers.splice(An,1),delete this.layer_map[cn]}en.endBatchCommand()}}},{key:"mergeAllLayers",value:function mergeAllLayers(en){for(this.current_layer=this.all_layers[this.all_layers.length-1],en.startBatchCommand("Merge all Layers");this.all_layers.length>1;)this.mergeLayer(en);en.endBatchCommand()}},{key:"setCurrentLayer",value:function setCurrentLayer(en){var tn=this.layer_map[en];return!!tn&&(this.current_layer&&this.current_layer.deactivate(),this.current_layer=tn,this.current_layer.activate(),!0)}},{key:"indexCurrentLayer",value:function indexCurrentLayer(){return this.all_layers.indexOf(this.current_layer)}},{key:"deleteCurrentLayer",value:function deleteCurrentLayer(){if(this.current_layer&&this.getNumLayers()>1){var en=this.current_layer.removeGroup();return this.identifyLayers(),en}return null}},{key:"identifyLayers",value:function identifyLayers(){this.all_layers=[],this.layer_map={};for(var en=this.svgElem_.childNodes.length,tn=[],nn=[],rn=null,an=!1,sn=0;sn<en;++sn){var An=this.svgElem_.childNodes.item(sn);if(1===(null==An?void 0:An.nodeType))if("g"===An.tagName){an=!0;var cn=findLayerNameInGroup(An);cn?(nn.push(cn),rn=new $l(cn,An),this.all_layers.push(rn),this.layer_map[cn]=rn):tn.push(An)}else Vl.includes(An.nodeName)&&tn.push(An)}tn.length>0||!an?((rn=new $l(getNewLayerName(nn),null,this.svgElem_)).appendChildren(tn),this.all_layers.push(rn),this.layer_map[name]=rn):rn.activate(),this.current_layer=rn}},{key:"createLayer",value:function createLayer(en,tn){this.current_layer&&this.current_layer.deactivate(),(null==en||""===en||this.layer_map[en])&&(en=getNewLayerName(Object.keys(this.layer_map)));var nn=new $l(en,null,this.svgElem_);return tn&&(tn.startBatchCommand("Create Layer"),tn.insertElement(nn.getGroup()),tn.endBatchCommand()),this.all_layers.push(nn),this.layer_map[en]=nn,this.current_layer=nn,nn.getGroup()}},{key:"cloneLayer",value:function cloneLayer(en,tn){var nn=this;if(!this.current_layer)return null;this.current_layer.deactivate(),(null==en||""===en||this.layer_map[en])&&(en=getNewLayerName(Object.keys(this.layer_map)));var rn=this.current_layer.getGroup(),an=new $l(en,rn,this.svgElem_),sn=an.getGroup();_toConsumableArray(rn.childNodes).forEach((function(en){"title"!==en.localName&&sn.append(nn.copyElem(en))})),tn&&(tn.startBatchCommand("Duplicate Layer"),tn.insertElement(sn),tn.endBatchCommand());var An=this.indexCurrentLayer();return An>=0?this.all_layers.splice(An+1,0,an):this.all_layers.push(an),this.layer_map[en]=an,this.current_layer=an,sn}},{key:"getLayerVisibility",value:function getLayerVisibility(en){var tn=this.layer_map[en];return!!tn&&tn.isVisible()}},{key:"setLayerVisibility",value:function setLayerVisibility(en,tn){if("boolean"!=typeof tn)return null;var nn=this.layer_map[en];return nn?(nn.setVisible(tn),nn.getGroup()):null}},{key:"getLayerOpacity",value:function getLayerOpacity(en){var tn=this.layer_map[en];return tn?tn.getOpacity():null}},{key:"setLayerOpacity",value:function setLayerOpacity(en,tn){if(!("number"!=typeof tn||tn<0||tn>1)){var nn=this.layer_map[en];nn&&nn.setOpacity(tn)}}},{key:"copyElem",value:function copyElem(en){var tn=this;return jl(en,(function(){return tn.getNextId()}))}}]),Drawing}(),Xl=function randomizeIds(en,tn){1!==(Kl=!1===en?2:1)||tn.getNonce()?2===Kl&&tn.getNonce()&&tn.clearNonce():tn.setNonce(Math.floor(100001*Math.random()))},Yl=function identifyLayers(){dc(),zl.getCurrentDrawing().identifyLayers()},Jl=function indexCurrentLayer(){return zl.getCurrentDrawing().indexCurrentLayer()},Zl=function createLayer(en,tn){var nn=zl.getCurrentDrawing().createLayer(en,historyRecordingService(tn));zl.clearSelection(),zl.call("changed",[nn])},tc=function cloneLayer(en,tn){var nn=zl.getCurrentDrawing().cloneLayer(en,historyRecordingService(tn));zl.clearSelection(),dc(),zl.call("changed",[nn])},nc=function deleteCurrentLayer(){var en=zl.history,tn=en.BatchCommand,nn=en.RemoveElementCommand,rn=zl.getCurrentDrawing().getCurrentLayer(),an=rn.nextSibling,sn=rn.parentNode;if(rn=zl.getCurrentDrawing().deleteCurrentLayer()){var An=new tn("Delete Layer");return An.addSubCommand(new nn(rn,an,sn)),zl.addCommandToHistory(An),zl.clearSelection(),zl.call("changed",[sn]),!0}return!1},ic=function setCurrentLayer(en){var tn=zl.getCurrentDrawing().setCurrentLayer(Xs(en));return tn&&zl.clearSelection(),tn},ac=function renameCurrentLayer(en){var tn=zl.getCurrentDrawing(),nn=tn.getCurrentLayer();return!(!nn||!tn.setCurrentLayerName(en,historyRecordingService()))&&(zl.call("changed",[nn]),!0)},oc=function setCurrentLayerPosition(en){var tn=zl.history.MoveElementCommand,nn=zl.getCurrentDrawing().setCurrentLayerPosition(en);return!!nn&&(zl.addCommandToHistory(new tn(nn.currentGroup,nn.oldNextSibling,zl.getSvgContent())),!0)},sc=function setLayerVisibility(en,tn){var nn=zl.history.ChangeElementCommand,rn=zl.getCurrentDrawing(),an=rn.getLayerVisibility(en),sn=rn.setLayerVisibility(en,tn);if(!sn)return!1;var An=an?"inline":"none";return zl.addCommandToHistory(new nn(sn,{display:An},"Layer Visibility")),sn===rn.getCurrentLayer()&&(zl.clearSelection(),zl.pathActions.clear()),!0},cc=function moveSelectedToLayer(en){var tn=zl.history,nn=tn.BatchCommand,rn=tn.MoveElementCommand,an=zl.getCurrentDrawing().getLayerByName(en);if(!an)return!1;for(var sn=new nn("Move Elements to Layer"),An=zl.getSelectedElements(),cn=An.length;cn--;){var un=An[cn];if(un){var hn=un.nextSibling,dn=un.parentNode;an.append(un),sn.addSubCommand(new rn(un,hn,dn))}}return zl.addCommandToHistory(sn),!0},uc=function mergeLayer(en){zl.getCurrentDrawing().mergeLayer(historyRecordingService(en)),zl.clearSelection(),dc(),zl.changeSvgContent()},hc=function mergeAllLayers(en){zl.getCurrentDrawing().mergeAllLayers(historyRecordingService(en)),zl.clearSelection(),dc(),zl.changeSvgContent()},dc=function leaveContext(){var en=ql.length,tn=zl.getDataStorage();if(en){for(var nn=0;nn<en;nn++){var rn=ql[nn],an=tn.get(rn,"orig_opac");1!==an?rn.setAttribute("opacity",an):rn.removeAttribute("opacity"),rn.setAttribute("style","pointer-events: inherit")}ql=[],zl.clearSelection(!0),zl.call("contextset",null)}zl.setCurrentGroup(null)},pc=function setContext(en){var tn=zl.getDataStorage();dc(),"string"==typeof en&&(en=xA(en)),zl.setCurrentGroup(en);var nn=function getParentsUntil(en,tn,nn){for(var rn=[],an=null==tn?void 0:tn.charAt(0),sn=null==nn?void 0:nn.selector.charAt(0);en&&en!==document;en=en.parentNode){if(tn){if("."===an&&en.classList.contains(tn.substr(1)))break;if("#"===an&&en.id===tn.substr(1))break;if("["===an&&en.hasAttribute(tn.substr(1,tn.length-1)))break;if(en.tagName.toLowerCase()===tn)break}nn?("."===sn&&en.classList.contains(nn.substr(1))&&rn.push(en),"#"===sn&&en.id===nn.substr(1)&&rn.push(en),"["===sn&&en.hasAttribute(nn.substr(1,nn.length-1))&&rn.push(en),en.tagName.toLowerCase()===nn&&rn.push(en)):rn.push(en)}return rn.length?rn:null}(en,"#svgcontent"),rn=[];nn.forEach((function(en){Array.prototype.filter.call(en.parentNode.children,(function(tn){return tn!==en})).forEach((function(en){rn.push(en)}))})),rn.forEach((function(en){var nn=en.getAttribute("opacity")||1;tn.put(en,"orig_opac",nn),en.setAttribute("opacity",.33*nn),en.setAttribute("style","pointer-events: none"),ql.push(en)})),zl.clearSelection(),zl.call("contextset",zl.getCurrentGroup())},gc=DA.InsertElementCommand,fc=DA.BatchCommand,mc=null,vc=function pasteElementsMethod(en,tn,nn){var rn=JSON.parse(sessionStorage.getItem(mc.getClipboardID()));if(rn){var an=rn.length;if(an){var sn=[],An=new fc("Paste elements"),cn={};for(rn.forEach((function(en){return checkIDs(en)})),mc.runExtensions("IDsUpdated",{elems:rn,changes:cn},!0).forEach((function(en){en&&"remove"in en&&en.remove.forEach((function(en){rn=rn.filter((function(tn){return tn.attr.id!==en}))}))}));an--;){var un=rn[an];if(un){var hn=mc.addSVGElementsFromJson(un);sn.push(hn),An.addSubCommand(new gc(hn)),mc.restoreRefElements(hn)}}if(mc.selectOnly(sn),"in_place"!==en){var dn,pn;en?"point"===en&&(dn=tn,pn=nn):(dn=mc.getLastClickPoint("x"),pn=mc.getLastClickPoint("y"));var gn=vA(sn),mn=dn-(gn.x+gn.width/2),vn=pn-(gn.y+gn.height/2),yn=[],bn=[];sn.forEach((function(en){yn.push(mn),bn.push(vn)}));var wn=mc.moveSelectedElements(yn,bn,!1);wn&&An.addSubCommand(wn)}mc.addCommandToHistory(An),mc.call("changed",sn)}}function checkIDs(en){var tn;null!==(tn=en.attr)&&void 0!==tn&&tn.id&&(cn[en.attr.id]=mc.getNextId(),en.attr.id=cn[en.attr.id]),en.children&&en.children.forEach((function(en){return checkIDs(en)}))}},yc=function touchHandler(en){en.preventDefault();var tn=en.changedTouches,nn=tn[0],rn="";switch(en.type){case"touchstart":rn="mousedown";break;case"touchmove":rn="mousemove";break;case"touchend":rn="mouseup";break;default:return}var an=nn.screenX,sn=nn.screenY,An=nn.clientX,cn=nn.clientY,un=new MouseEvent(rn,{bubbles:!0,cancelable:!0,view:window,detail:1,screenX:an,screenY:sn,clientX:An,clientY:cn,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null});tn.length<2&&nn.target.dispatchEvent(un)},bc="http://www.w3.org/2000/svg",wc=navigator.userAgent,Cc=wc.includes("AppleWebKit"),xc=wc.includes("Gecko/"),Bc=wc.includes("Chrome/");wc.includes("Macintosh");var _c,Sc=function(){var en=document.createElementNS(bc,"svg"),tn=document.createElementNS(bc,"svg");document.documentElement.append(en),tn.setAttribute("x",5),en.append(tn);var nn=document.createElementNS(bc,"text");nn.textContent="a",tn.append(nn);try{return 0===nn.getStartPositionOfChar(0).x}catch(en){return!1}finally{en.remove()}}(),kc=function isWebkit(){return Cc},Ec=function isGecko(){return xc},Pc=DA.UndoManager,Fc=DA.HistoryEventTypes,Lc=null,Ic=function ffClone(en){if(!Ec())return en;var tn=en.cloneNode(!0);return en.before(tn),en.remove(),Lc.selectorManager.releaseSelector(en),Lc.setSelectedElements(0,tn),Lc.selectorManager.requestSelector(tn).showGrips(!0),tn},Uc=function changeSelectedAttributeNoUndoMethod(en,tn,nn){var rn;if("id"!==en){var an=Lc.getSelectedElements(),sn=Lc.getZoom();"pathedit"===Lc.getCurrentMode()&&Lc.pathActions.moveNode(en,tn);for(var An=(nn=null!==(rn=nn)&&void 0!==rn?rn:an).length,cn=["g","polyline","path"],un=function _loop2(){var rn=nn[An];if(!rn)return"continue";if(("x"===en||"y"===en)&&cn.includes(rn.tagName)){var un=vA([rn]),hn="x"===en?tn-un.x:0,dn="y"===en?tn-un.y:0;return Lc.moveSelectedElements(hn*sn,dn*sn,!0),"continue"}var pn="#text"===en?rn.textContent:rn.getAttribute(en);if(pn||(pn=""),pn!==String(tn)){"#text"===en?(rn.textContent=tn,/rotate/.test(rn.getAttribute("transform"))&&(rn=Ic(rn))):"#href"===en?oA(rn,tn):tn||"number"==typeof tn?rn.setAttribute(en,tn):rn.removeAttribute(en),"textedit"===Lc.getCurrentMode()&&"#text"!==en&&rn.textContent.length&&Lc.textActions.toSelectMode(rn),Ec()&&"text"===rn.nodeName&&/rotate/.test(rn.getAttribute("transform"))&&(String(tn).startsWith("url")||["font-size","font-family","x","y"].includes(en)&&rn.textContent)&&(rn=Ic(rn)),an.includes(rn)&&setTimeout((function(){rn.parentNode&&Lc.selectorManager.requestSelector(rn).resize()}),0);var gn=bA(rn);if(0!==gn&&"transform"!==en)for(var mn,vn=null===(mn=rn.transform)||void 0===mn?void 0:mn.baseVal,yn=vn.numberOfItems;yn--;)if(4===vn.getItem(yn).type){vn.removeItem(yn);var bn=lA(rn),wn=Os(bn.x+bn.width/2,bn.y+bn.height/2,$s(vn).matrix),Cn=wn.x,xn=wn.y,Bn=Lc.getSvgRoot().createSVGTransform();Bn.setRotate(gn,Cn,xn),vn.insertItemBefore(Bn,yn);break}}};An--;)un()}else{var hn=nn[0],dn=hn.id;dn!==tn&&(Lc.clearSelection(),hn.id=tn,Lc.addToSelection([hn],!0),Lc.call("elementRenamed",{elem:hn,oldId:dn,newId:tn}))}},Tc=function changeSelectedAttributeMethod(en,tn,nn){var rn=Lc.getSelectedElements();nn=nn||rn,Lc.undoMgr.beginUndoableChange(en,nn),Uc(en,tn,nn);var an=Lc.undoMgr.finishUndoableChange();an.isEmpty()||Lc.undoMgr.addCommandToHistory(an)},Qc=DA.BatchCommand,Nc=null,Oc=function clearSelectionMethod(en){var tn;Nc.getSelectedElements().forEach((function(en){en&&Nc.selectorManager.releaseSelector(en)})),null!==(tn=Nc)&&void 0!==tn&&tn.setEmptySelectedElements(),en||Nc.call("selected",Nc.getSelectedElements())},Mc=function addToSelectionMethod(en,tn){var nn=Nc.getSelectedElements();if(en.length){for(var rn=0;rn<nn.length&&null!==nn[rn];)++rn;for(var an=en.length;an--;){var sn=en[an];if(sn&&sn.getBBox&&("a"===sn.tagName&&1===sn.childNodes.length&&(sn=sn.firstChild),!nn.includes(sn))){nn[rn]=sn,rn++;var An=Nc.selectorManager.requestSelector(sn);nn.length>1&&An.showGrips(!1)}}if(nn.length)for(Nc.call("selected",nn),1===nn.length&&Nc.selectorManager.requestSelector(nn[0]).showGrips(tn),nn.sort((function(en,tn){return en&&tn&&en.compareDocumentPosition?3-(6&tn.compareDocumentPosition(en)):en?0:1}));!nn[0];)nn.shift(0)}},Rc=function getMouseTargetMethod(en){if(!en)return null;var tn=en.target;if(tn.correspondingUseElement&&(tn=tn.correspondingUseElement),[Ts.MATH,Ts.HTML].includes(tn.namespaceURI)&&"svgcanvas"!==tn.id)for(;"foreignObject"!==tn.nodeName;)if(!(tn=tn.parentNode))return Nc.getSvgRoot();var nn=Nc.getCurrentDrawing().getCurrentLayer();if([Nc.getSvgRoot(),Nc.getDOMContainer(),Nc.getSvgContent(),nn].includes(tn))return Nc.getSvgRoot();if(getClosest(tn.parentNode,"#selectorParentGroup"))return Nc.selectorManager.selectorParentGroup;for(;null===(rn=tn)||void 0===rn||null===(an=rn.parentNode)||void 0===an||!an.isSameNode(Nc.getCurrentGroup()||nn);){var rn,an;tn=tn.parentNode}return tn},Hc=function runExtensionsMethod(en,tn,nn){for(var rn=!!nn&&[],an=0,sn=Object.entries(Nc.getExtensions());an<sn.length;an++){var An=_slicedToArray(sn[an],2),cn=An[0],un=An[1];if("function"==typeof tn&&(tn=tn(cn)),un.eventBased){var hn=new CustomEvent("svgedit",{detail:{action:en,vars:tn}});document.dispatchEvent(hn)}else un[en]&&(nn?rn.push(un[en](tn)):rn=un[en](tn))}return rn},Dc=function getIntersectionListMethod(en){var tn=Nc.getZoom();if(!Nc.getRubberBox())return null;var nn,rn=Nc.getCurrentGroup()||Nc.getCurrentDrawing().getCurrentLayer();if(en)(nn=Nc.getSvgContent().createSVGRect()).x=en.x,nn.y=en.y,nn.width=en.width,nn.height=en.height;else{nn=lA(Nc.getRubberBox());var an=Nc.getSvgContent().createSVGRect();["x","y","width","height","top","right","bottom","left"].forEach((function(en){an[en]=nn[en]/tn})),nn=an}var sn=[];0===Nc.getCurBBoxes().length&&Nc.setCurBBoxes(function(en){en||(en=Nc.getSvgContent().children);var tn=[],nn=en.children;return Array.from(nn).forEach((function(en){en.getBBox&&tn.push({elem:en,bbox:vA([en])})})),tn.reverse()}(rn));for(var An=Nc.getCurBBoxes().length;An--;){var cn=Nc.getCurBBoxes();nn.width&&Vs(nn,cn[An].bbox)&&sn.push(cn[An].elem)}return sn},$c=function groupSvgElem(en){var tn=Nc.getDataStorage(),nn=document.createElementNS(Ts.SVG,"g");en.replaceWith(nn),nn.appendChild(en),tn.put(nn,"gsvg",en),nn.id=Nc.getNextId()},Gc=function prepareSvg(en){Nc.sanitizeSvg(en.documentElement),_toConsumableArray(en.getElementsByTagNameNS(Ts.SVG,"path")).forEach((function(en){var tn=Nc.pathActions.convertPath(en);en.setAttribute("d",tn),Nc.pathActions.fixEnd(en)}))},jc=function setRotationAngle(en,tn){var nn=Nc.getSelectedElements();en=Number.parseFloat(en);var rn=nn[0],an=rn.getAttribute("transform"),sn=lA(rn),An=sn.x+sn.width/2,cn=sn.y+sn.height/2,un=rn.transform.baseVal;if(un.numberOfItems>0&&4===un.getItem(0).type&&un.removeItem(0),0!==en){var hn=Os(An,cn,$s(un).matrix),dn=Nc.getSvgRoot().createSVGTransform();dn.setRotate(en,hn.x,hn.y),un.numberOfItems?un.insertItemBefore(dn,0):un.appendItem(dn)}else 0===un.numberOfItems&&rn.removeAttribute("transform");if(!tn){var pn=rn.getAttribute("transform");if(pn){var gn=pn.split(" "),mn=function(en){return Math.round(Number(en)+Number.EPSILON)}(gn[1]);pn="".concat(gn[0]," ").concat(mn," ").concat(gn[2])}an?rn.setAttribute("transform",an):rn.removeAttribute("transform"),Nc.changeSelectedAttribute("transform",pn,nn),Nc.call("changed",nn)}Nc.selectorManager.requestSelector(nn[0]).resize(),Nc.getSelector().updateGripCursors(en)},Vc=function recalculateAllSelectedDimensions(){var en="none"===Nc.getCurrentResizeMode()?"position":"size",tn=new Qc(en),nn=Nc.getSelectedElements();nn.forEach((function(en){var nn=Nc.recalculateDimensions(en);nn&&tn.addSubCommand(nn)})),tn.isEmpty()||(Nc.addCommandToHistory(tn),Nc.call("changed",nn))},Kc=null,qc=function(){var en,tn,nn,rn,an,sn,An,cn,un,hn,dn=[];function setCursor(en){var An=""===tn.value;if(tn.focus(),!arguments.length)if(An)en=0;else{if(tn.selectionEnd!==tn.selectionStart)return;en=tn.selectionEnd}var cn=dn[en];An||tn.setSelectionRange(en,en),(nn=xA("text_cursor"))||(nn=document.createElementNS(Ts.SVG,"line"),BA(nn,{id:"text_cursor",stroke:"#333","stroke-width":1}),xA("selectorParentGroup").append(nn)),an||(an=setInterval((function(){var en="none"===nn.getAttribute("display");nn.setAttribute("display",en?"inline":"none")}),600));var un=ptToScreen(cn.x,sn.y),hn=ptToScreen(cn.x,sn.y+sn.height);BA(nn,{x1:un.x,y1:un.y,x2:hn.x,y2:hn.y,visibility:"visible",display:"inline"}),rn&&rn.setAttribute("d","")}function setSelection(en,an,An){if(en!==an){An||tn.setSelectionRange(en,an),(rn=xA("text_selectblock"))||(rn=document.createElementNS(Ts.SVG,"path"),BA(rn,{id:"text_selectblock",fill:"green",opacity:.5,style:"pointer-events:none"}),xA("selectorParentGroup").append(rn));var cn=dn[en],un=dn[an];nn.setAttribute("visibility","hidden");var hn=ptToScreen(cn.x,sn.y),pn=ptToScreen(cn.x+(un.x-cn.x),sn.y),gn=ptToScreen(cn.x,sn.y+sn.height),mn=ptToScreen(cn.x+(un.x-cn.x),sn.y+sn.height),vn="M"+hn.x+","+hn.y+" L"+pn.x+","+pn.y+" "+mn.x+","+mn.y+" "+gn.x+","+gn.y+"z";BA(rn,{d:vn,display:"inline"})}else setCursor(an)}function getIndexFromPoint(tn,nn){var rn=Kc.getSvgRoot().createSVGPoint();if(rn.x=tn,rn.y=nn,1===dn.length)return 0;var an=en.getCharNumAtPosition(rn);an<0?(an=dn.length-2,tn<=dn[0].x&&(an=0)):an>=dn.length-2&&(an=dn.length-2);var sn=dn[an];return tn>sn.x+sn.width/2&&an++,an}function setCursorFromPoint(en,tn){setCursor(getIndexFromPoint(en,tn))}function setEndSelectionFromPoint(en,nn,rn){var an=tn.selectionStart,sn=getIndexFromPoint(en,nn);setSelection(Math.min(an,sn),Math.max(an,sn),!rn)}function screenToPt(en,tn){var nn={x:en,y:tn},rn=Kc.getZoom();if(nn.x/=rn,nn.y/=rn,An){var an=Os(nn.x,nn.y,An.inverse());nn.x=an.x,nn.y=an.y}return nn}function ptToScreen(en,tn){var nn={x:en,y:tn};if(An){var rn=Os(nn.x,nn.y,An);nn.x=rn.x,nn.y=rn.y}var an=Kc.getZoom();return nn.x*=an,nn.y*=an,nn}function selectAll(tn){setSelection(0,en.textContent.length),tn.target.removeEventListener("click",selectAll)}function selectWord(tn){if(hn&&en){var nn=Kc.getZoom(),rn=Os(tn.pageX,tn.pageY,Kc.getrootSctm()),an=screenToPt(rn.x*nn,rn.y*nn),sn=getIndexFromPoint(an.x,an.y),An=en.textContent,cn=An.substr(0,sn).replace(/[a-z\d]+$/i,"").length,un=An.substr(sn).match(/^[a-z\d]+/i);setSelection(cn,(un?un[0].length:0)+sn),Kc.$click(tn.target,selectAll),setTimeout((function(){tn.target.removeEventListener("click",selectAll)}),300)}}return{select:function select(tn,nn,rn){en=tn,Kc.textActions.toEditMode(nn,rn)},start:function start(tn){en=tn,Kc.textActions.toEditMode()},mouseDown:function mouseDown(en,nn,rn,an){var sn=screenToPt(rn,an);tn.focus(),setCursorFromPoint(sn.x,sn.y),cn=rn,un=an},mouseMove:function mouseMove(en,tn){var nn=screenToPt(en,tn);setEndSelectionFromPoint(nn.x,nn.y)},mouseUp:function mouseUp(tn,nn,rn){var an=screenToPt(nn,rn);setEndSelectionFromPoint(an.x,an.y,!0),tn.target!==en&&nn<cn+2&&nn>cn-2&&rn<un+2&&rn>un-2&&Kc.textActions.toSelectMode(!0)},setCursor:setCursor,toEditMode:function toEditMode(tn,nn){if(hn=!1,Kc.setCurrentMode("textedit"),Kc.selectorManager.requestSelector(en).showGrips(!1),Kc.selectorManager.requestSelector(en),Kc.textActions.init(),en.style.cursor="text",arguments.length){var rn=screenToPt(tn,nn);setCursorFromPoint(rn.x,rn.y)}else setCursor();setTimeout((function(){hn=!0}),300)},toSelectMode:function toSelectMode(sn){var An;Kc.setCurrentMode("select"),clearInterval(an),an=null,rn&&rn.setAttribute("display","none"),nn&&nn.setAttribute("visibility","hidden"),en.style.cursor="move",sn&&(Kc.clearSelection(),en.style.cursor="move",Kc.call("selected",[en]),Kc.addToSelection([en],!0)),null!==(An=en)&&void 0!==An&&An.textContent.length||Kc.deleteSelectedElements(),tn.blur(),en=!1},setInputElem:function setInputElem(en){tn=en},clear:function clear(){"textedit"===Kc.getCurrentMode()&&Kc.textActions.toSelectMode()},init:function init(nn){if(en){var rn,an;if(!en.parentNode){var cn=Kc.getSelectedElements();en=cn[0],Kc.selectorManager.requestSelector(en).showGrips(!1)}var un=en.textContent.length,hn=en.getAttribute("transform");for(sn=lA(en),An=hn?Gs(en):null,(dn=[]).length=un,tn.focus(),en.removeEventListener("dblclick",selectWord),en.addEventListener("dblclick",selectWord),un||(an={x:sn.x+sn.width/2,width:0}),rn=0;rn<un;rn++){var pn=en.getStartPositionOfChar(rn);if(an=en.getEndPositionOfChar(rn),!Sc){var gn=Kc.getZoom(),mn=Kc.contentW*gn;pn.x-=mn,an.x-=mn,pn.x/=gn,an.x/=gn}dn[rn]={x:pn.x,y:sn.y,width:an.x-pn.x,height:sn.height}}dn.push({x:an.x,width:0}),setSelection(tn.selectionStart,tn.selectionEnd,!0)}}}}(),zc=DA.InsertElementCommand,Wc=null,Xc=function getBsplinePoint(en){var tn={x:0,y:0},nn=Wc.getControllPoint2("x"),rn=Wc.getControllPoint2("y"),an=Wc.getControllPoint1("x"),sn=Wc.getControllPoint1("y"),An=Wc.getStart("x"),cn=Wc.getStart("y"),un=Wc.getEnd("x"),hn=Wc.getEnd("y"),dn=1/6,pn=en*en,gn=pn*en,mn=[[-1,3,-3,1],[3,-6,3,0],[-3,0,3,0],[1,4,1,0]];return tn.x=dn*((nn*mn[0][0]+an*mn[0][1]+An*mn[0][2]+un*mn[0][3])*gn+(nn*mn[1][0]+an*mn[1][1]+An*mn[1][2]+un*mn[1][3])*pn+(nn*mn[2][0]+an*mn[2][1]+An*mn[2][2]+un*mn[2][3])*en+(nn*mn[3][0]+an*mn[3][1]+An*mn[3][2]+un*mn[3][3])),tn.y=dn*((rn*mn[0][0]+sn*mn[0][1]+cn*mn[0][2]+hn*mn[0][3])*gn+(rn*mn[1][0]+sn*mn[1][1]+cn*mn[1][2]+hn*mn[1][3])*pn+(rn*mn[2][0]+sn*mn[2][1]+cn*mn[2][2]+hn*mn[2][3])*en+(rn*mn[3][0]+sn*mn[3][1]+cn*mn[3][2]+hn*mn[3][3])),{x:tn.x,y:tn.y}},Yc=function mouseMoveEvent(en){var tn;if(Wc.getStarted()&&1!==en.button&&!Wc.spaceKey){Wc.textActions.init(),en.preventDefault();var nn,rn,an,sn,An,cn,un,hn,dn,pn,gn=Wc.getSelectedElements(),mn=Wc.getZoom(),vn=Wc.getSvgRoot(),yn=gn[0],bn=Os(en.clientX,en.clientY,Wc.getrootSctm()),wn=bn.x*mn,Cn=bn.y*mn,xn=xA(Wc.getId()),Bn=wn/mn,_n=Bn,Sn=Cn/mn,kn=Sn;switch(Wc.getCurConfig().gridSnapping&&(_n=SA(_n),kn=SA(kn)),Wc.getCurrentMode()){case"select":yn&&(An=_n-Wc.getStartX(),cn=kn-Wc.getStartY(),Wc.getCurConfig().gridSnapping&&(An=SA(An),cn=SA(cn)),(An||cn)&&(gn.forEach((function(en){en&&(function(en,tn,nn,rn){var an,sn=en.createSVGTransform();sn.setTranslate(nn,rn);var An=null===(an=tn.transform)||void 0===an?void 0:an.baseVal;An.numberOfItems?2===An.getItem(0).type?An.replaceItem(sn,0):An.insertItemBefore(sn,0):An.appendItem(sn)}(vn,en,An,cn),Wc.selectorManager.requestSelector(en).resize())})),Wc.call("transition",gn)));break;case"multiselect":Bn*=mn,Sn*=mn,BA(Wc.getRubberBox(),{x:Math.min(Wc.getRStartX(),Bn),y:Math.min(Wc.getRStartY(),Sn),width:Math.abs(Bn-Wc.getRStartX()),height:Math.abs(Sn-Wc.getRStartY())});var En=gn.slice(),Pn=[],Fn=Wc.getIntersectionList();for(un=Fn.length,nn=0;nn<un;++nn){var Ln=Fn[nn];gn.includes(Ln)||Pn.push(Ln);var In=En.indexOf(Ln);-1!==In&&En.splice(In,1)}En.length>0&&Wc.removeFromSelection(En),Pn.length>0&&Wc.addToSelection(Pn);break;case"resize":pn=yn.transform.baseVal;var Un=Hs(pn),Tn=(dn=Un?Wc.getInitBbox():lA(yn)).x,Qn=dn.y,Nn=dn,On=Nn.width,Mn=Nn.height;if(An=_n-Wc.getStartX(),cn=kn-Wc.getStartY(),Wc.getCurConfig().gridSnapping&&(An=SA(An),cn=SA(cn),Mn=SA(Mn),On=SA(On)),hn=bA(yn)){var Rn=Math.sqrt(An*An+cn*cn),Hn=Math.atan2(cn,An)-hn*Math.PI/180;An=Rn*Math.cos(Hn),cn=Rn*Math.sin(Hn)}Wc.getCurrentResizeMode().includes("n")||Wc.getCurrentResizeMode().includes("s")||(cn=0),Wc.getCurrentResizeMode().includes("e")||Wc.getCurrentResizeMode().includes("w")||(An=0);var Dn=0,$n=0,Gn=Mn?(Mn+cn)/Mn:1,jn=On?(On+An)/On:1;Wc.getCurrentResizeMode().includes("n")&&(Gn=Mn?(Mn-cn)/Mn:1,$n=Mn),Wc.getCurrentResizeMode().includes("w")&&(jn=On?(On-An)/On:1,Dn=On);var Vn=vn.createSVGTransform(),Kn=vn.createSVGTransform(),qn=vn.createSVGTransform();if(Wc.getCurConfig().gridSnapping&&(Tn=SA(Tn),Dn=SA(Dn),Qn=SA(Qn),$n=SA($n)),Vn.setTranslate(-(Tn+Dn),-(Qn+$n)),en.shiftKey&&(1===jn?jn=Gn:Gn=jn),Kn.setScale(jn,Gn),qn.setTranslate(Tn+Dn,Qn+$n),Un){var zn=hn?1:0;pn.replaceItem(Vn,2+zn),pn.replaceItem(Kn,1+zn),pn.replaceItem(qn,Number(zn))}else{var Wn=pn.numberOfItems;pn.replaceItem(qn,Wn-3),pn.replaceItem(Kn,Wn-2),pn.replaceItem(Vn,Wn-1)}Wc.selectorManager.requestSelector(yn).resize(),Wc.call("transition",gn);break;case"zoom":Bn*=mn,Sn*=mn,BA(Wc.getRubberBox(),{x:Math.min(Wc.getRStartX()*mn,Bn),y:Math.min(Wc.getRStartY()*mn,Sn),width:Math.abs(Bn-Wc.getRStartX()*mn),height:Math.abs(Sn-Wc.getRStartY()*mn)});break;case"text":BA(xn,{x:_n,y:kn});break;case"line":Wc.getCurConfig().gridSnapping&&(_n=SA(_n),kn=SA(kn));var Xn=_n,Yn=kn;en.shiftKey&&(Xn=(rn=js(Wc.getStartX(),Wc.getStartY(),Xn,Yn)).x,Yn=rn.y),xn.setAttribute("x2",Xn),xn.setAttribute("y2",Yn);break;case"foreignObject":case"square":case"rect":case"image":var Jn,Zn,Ur="square"===Wc.getCurrentMode()||en.shiftKey,Tr=Math.abs(_n-Wc.getStartX()),Qr=Math.abs(kn-Wc.getStartY());Ur?(Tr=Qr=Math.max(Tr,Qr),Jn=Wc.getStartX()<_n?Wc.getStartX():Wc.getStartX()-Tr,Zn=Wc.getStartY()<kn?Wc.getStartY():Wc.getStartY()-Qr):(Jn=Math.min(Wc.getStartX(),_n),Zn=Math.min(Wc.getStartY(),kn)),Wc.getCurConfig().gridSnapping&&(Tr=SA(Tr),Qr=SA(Qr),Jn=SA(Jn),Zn=SA(Zn)),BA(xn,{width:Tr,height:Qr,x:Jn,y:Zn});break;case"circle":an=Number(xn.getAttribute("cx")),sn=Number(xn.getAttribute("cy"));var Rr=Math.sqrt((_n-an)*(_n-an)+(kn-sn)*(kn-sn));Wc.getCurConfig().gridSnapping&&(Rr=SA(Rr)),xn.setAttribute("r",Rr);break;case"ellipse":an=Number(xn.getAttribute("cx")),sn=Number(xn.getAttribute("cy")),Wc.getCurConfig().gridSnapping&&(_n=SA(_n),an=SA(an),kn=SA(kn),sn=SA(sn)),xn.setAttribute("rx",Math.abs(_n-an));var Hr=Math.abs(en.shiftKey?_n-an:kn-sn);xn.setAttribute("ry",Hr);break;case"fhellipse":case"fhrect":Wc.setFreehand("minx",Math.min(Bn,Wc.getFreehand("minx"))),Wc.setFreehand("maxx",Math.max(Bn,Wc.getFreehand("maxx"))),Wc.setFreehand("miny",Math.min(Sn,Wc.getFreehand("miny"))),Wc.setFreehand("maxy",Math.max(Sn,Wc.getFreehand("maxy")));case"fhpath":if(Wc.setEnd("x",Bn),Wc.setEnd("y",Sn),Wc.getControllPoint2("x")&&Wc.getControllPoint2("y"))for(nn=0;nn<Wc.getStepCount()-1;nn++)if(Wc.setParameter(nn/Wc.getStepCount()),Wc.setNextParameter((nn+1)/Wc.getStepCount()),Wc.setbSpline(Xc(Wc.getNextParameter())),Wc.setNextPos({x:Wc.getbSpline("x"),y:Wc.getbSpline("y")}),Wc.setbSpline(Xc(Wc.getParameter())),Wc.setSumDistance(Wc.getSumDistance()+Math.sqrt((Wc.getNextPos("x")-Wc.getbSpline("x"))*(Wc.getNextPos("x")-Wc.getbSpline("x"))+(Wc.getNextPos("y")-Wc.getbSpline("y"))*(Wc.getNextPos("y")-Wc.getbSpline("y")))),Wc.getSumDistance()>Wc.getThreSholdDist()){Wc.setSumDistance(Wc.getSumDistance()-Wc.getThreSholdDist());var Dr=Wc.getSvgContent().createSVGPoint();Dr.x=Wc.getbSpline("x"),Dr.y=Wc.getbSpline("y"),xn.points.appendItem(Dr)}Wc.setControllPoint2("x",Wc.getControllPoint1("x")),Wc.setControllPoint2("y",Wc.getControllPoint1("y")),Wc.setControllPoint1("x",Wc.getStart("x")),Wc.setControllPoint1("y",Wc.getStart("y")),Wc.setStart({x:Wc.getEnd("x"),y:Wc.getEnd("y")});break;case"path":case"pathedit":if(_n*=mn,kn*=mn,Wc.getCurConfig().gridSnapping&&(_n=SA(_n),kn=SA(kn),Wc.setStartX(SA(Wc.getStartX())),Wc.setStartY(SA(Wc.getStartY()))),en.shiftKey){var $r,Gr,Vr,Kr=Dl.path;Kr?(Gr=Kr.dragging?Kr.dragging[0]:Wc.getStartX(),Vr=Kr.dragging?Kr.dragging[1]:Wc.getStartY()):(Gr=Wc.getStartX(),Vr=Wc.getStartY()),_n=($r=rn=js(Gr,Vr,_n,kn)).x,kn=$r.y}"none"!==(null===(tn=Wc.getRubberBox())||void 0===tn?void 0:tn.getAttribute("display"))&&(Bn*=mn,Sn*=mn,BA(Wc.getRubberBox(),{x:Math.min(Wc.getRStartX()*mn,Bn),y:Math.min(Wc.getRStartY()*mn,Sn),width:Math.abs(Bn-Wc.getRStartX()*mn),height:Math.abs(Sn-Wc.getRStartY()*mn)})),Wc.pathActions.mouseMove(_n,kn);break;case"textedit":_n*=mn,kn*=mn,Wc.textActions.mouseMove(wn,Cn);break;case"rotate":an=(dn=lA(yn)).x+dn.width/2,sn=dn.y+dn.height/2;var zr=Gs(yn),Wr=Os(an,sn,zr);if(an=Wr.x,sn=Wr.y,hn=(Math.atan2(sn-kn,an-_n)*(180/Math.PI)-90)%360,Wc.getCurConfig().gridSnapping&&(hn=SA(hn)),en.shiftKey){hn=45*Math.round(hn/45)}Wc.setRotationAngle(hn<-180?360+hn:hn,!0),Wc.call("transition",gn)}Wc.runExtensions("mouseMove",{event:en,mouse_x:wn,mouse_y:Cn,selected:yn})}},Jc=function mouseOutEvent(){var en=Wc.$id;if("select"!==Wc.getCurrentMode()&&Wc.getStarted()){var tn=new Event("mouseup");en("svgcanvas").dispatchEvent(tn)}},Zc=function mouseUpEvent(en){if(2!==en.button&&Wc.getStarted()){Wc.textActions.init();var tn=Wc.getSelectedElements(),nn=Wc.getZoom(),rn=Wc.getJustSelected();Wc.setJustSelected(null);var an,sn=Os(en.clientX,en.clientY,Wc.getrootSctm()),An=sn.x*nn,cn=sn.y*nn,un=An/nn,hn=cn/nn,dn=xA(Wc.getId()),pn=!1,gn=un,mn=hn;switch(Wc.setStarted(!1),Wc.getCurrentMode()){case"resize":case"multiselect":Wc.getRubberBox()&&(Wc.getRubberBox().setAttribute("display","none"),Wc.setCurBBoxes([])),Wc.setCurrentMode("select");case"select":if(tn[0]){if(!tn[1]){var vn=tn[0];switch(vn.tagName){case"g":case"use":case"image":case"foreignObject":break;case"text":Wc.setCurText("font_size",vn.getAttribute("font-size")),Wc.setCurText("font_family",vn.getAttribute("font-family"));default:Wc.setCurProperties("fill",vn.getAttribute("fill")),Wc.setCurProperties("fill_opacity",vn.getAttribute("fill-opacity")),Wc.setCurProperties("stroke",vn.getAttribute("stroke")),Wc.setCurProperties("stroke_opacity",vn.getAttribute("stroke-opacity")),Wc.setCurProperties("stroke_width",vn.getAttribute("stroke-width")),Wc.setCurProperties("stroke_dasharray",vn.getAttribute("stroke-dasharray")),Wc.setCurProperties("stroke_linejoin",vn.getAttribute("stroke-linejoin")),Wc.setCurProperties("stroke_linecap",vn.getAttribute("stroke-linecap"))}Wc.selectorManager.requestSelector(vn).showGrips(!0)}if(Wc.recalculateAllSelectedDimensions(),gn!==Wc.getRStartX()||mn!==Wc.getRStartY())for(var yn=tn.length,bn=0;bn<yn&&tn[bn];++bn)Wc.selectorManager.requestSelector(tn[bn]).resize();else an=en.target,"path"!==tn[0].nodeName||tn[1]?en.shiftKey&&rn!==an&&Wc.removeFromSelection([an]):Wc.pathActions.select(tn[0]);var wn=tn[0];wn&&(wn.removeAttribute("style"),rA(wn,(function(en){en.removeAttribute("style")})))}return;case"zoom":var Cn;null===(Cn=Wc.getRubberBox())||void 0===Cn||Cn.setAttribute("display","none");var xn=en.shiftKey?.5:2;return void Wc.call("zoomed",{x:Math.min(Wc.getRStartX(),gn),y:Math.min(Wc.getRStartY(),mn),width:Math.abs(gn-Wc.getRStartX()),height:Math.abs(mn-Wc.getRStartY()),factor:xn});case"fhpath":Wc.setSumDistance(0),Wc.setControllPoint2("x",0),Wc.setControllPoint2("y",0),Wc.setControllPoint1("x",0),Wc.setControllPoint1("y",0),Wc.setStart({x:0,y:0}),Wc.setEnd("x",0),Wc.setEnd("y",0);var Bn=dn.getAttribute("points"),_n=Bn.indexOf(",");(pn=_n>=0?Bn.includes(",",_n+1):Bn.includes(" ",Bn.indexOf(" ")+1))&&(dn=Wc.pathActions.smoothPolylineIntoPath(dn));break;case"line":var Sn=dn.getAttribute("x1"),kn=dn.getAttribute("y1"),En=dn.getAttribute("x2"),Pn=dn.getAttribute("y2");pn=Sn!==En||kn!==Pn;break;case"foreignObject":case"square":case"rect":case"image":var Fn=dn.getAttribute("width"),Ln=dn.getAttribute("height");pn=Fn||Ln||"image"===Wc.getCurrentMode();break;case"circle":pn="0"!==dn.getAttribute("r");break;case"ellipse":var In=Number(dn.getAttribute("rx")),Un=Number(dn.getAttribute("ry"));pn=In||Un;break;case"fhellipse":Wc.getFreehand("maxx")-Wc.getFreehand("minx")>0&&Wc.getFreehand("maxy")-Wc.getFreehand("miny")>0&&(dn=Wc.addSVGElementsFromJson({element:"ellipse",curStyles:!0,attr:{cx:(Wc.getFreehand("minx")+Wc.getFreehand("maxx"))/2,cy:(Wc.getFreehand("miny")+Wc.getFreehand("maxy"))/2,rx:(Wc.getFreehand("maxx")-Wc.getFreehand("minx"))/2,ry:(Wc.getFreehand("maxy")-Wc.getFreehand("miny"))/2,id:Wc.getId()}}),Wc.call("changed",[dn]),pn=!0);break;case"fhrect":Wc.getFreehand("maxx")-Wc.getFreehand("minx")>0&&Wc.getFreehand("maxy")-Wc.getFreehand("miny")>0&&(dn=Wc.addSVGElementsFromJson({element:"rect",curStyles:!0,attr:{x:Wc.getFreehand("minx"),y:Wc.getFreehand("miny"),width:Wc.getFreehand("maxx")-Wc.getFreehand("minx"),height:Wc.getFreehand("maxy")-Wc.getFreehand("miny"),id:Wc.getId()}}),Wc.call("changed",[dn]),pn=!0);break;case"text":pn=!0,Wc.selectOnly([dn]),Wc.textActions.start(dn);break;case"path":dn=null,Wc.setStarted(!0);var Tn=Wc.pathActions.mouseUp(en,dn,An,cn);dn=Tn.element,pn=Tn.keep;break;case"pathedit":pn=!0,dn=null,Wc.pathActions.mouseUp(en);break;case"textedit":pn=!1,dn=null,Wc.textActions.mouseUp(en,An,cn);break;case"rotate":pn=!0,dn=null,Wc.setCurrentMode("select");var Qn=Wc.undoMgr.finishUndoableChange();Qn.isEmpty()||Wc.addCommandToHistory(Qn),Wc.recalculateAllSelectedDimensions(),Wc.call("changed",tn)}if(Wc.runExtensions("mouseUp",{event:en,mouse_x:An,mouse_y:cn},!0).forEach((function(en){en&&(pn=en.keep||pn,dn=en.element,Wc.setStarted(en.started||Wc.getStarted()))})),!pn&&dn){var Nn;for(Wc.getCurrentDrawing().releaseId(Wc.getId()),dn.remove(),dn=null,an=en.target;"g"===(null===(On=an)||void 0===On||null===(Mn=On.parentNode)||void 0===Mn||null===(Rn=Mn.parentNode)||void 0===Rn?void 0:Rn.tagName);){var On,Mn,Rn;an=an.parentNode}"path"===Wc.getCurrentMode()&&Wc.getDrawnPath()||!an||"selectorParentGroup"===(null===(Nn=an.parentNode)||void 0===Nn?void 0:Nn.id)||"svgcanvas"===an.id||"svgroot"===an.id||(Wc.setMode("select"),Wc.selectOnly([an],!0))}else if(dn){Wc.addedNew=!0;var Hn,Dn=.2,$n=Wc.getStyle(),Gn=Wc.getOpacAni();if(Gn.beginElement&&Number.parseFloat(dn.getAttribute("opacity"))!==$n.opacity){(Hn=Gn.cloneNode(!0)).setAttribute("to",$n.opacity),Hn.setAttribute("dur",Dn),dn.appendChild(Hn);try{Hn.beginElement()}catch(en){}}else Dn=0;setTimeout((function(){Hn&&Hn.remove(),dn.setAttribute("opacity",$n.opacity),dn.setAttribute("style","pointer-events:inherit"),_A(dn),"path"===Wc.getCurrentMode()?Wc.pathActions.toEditMode(dn):Wc.getCurConfig().selectNew&&(-1!==["circle","ellipse","square","rect","fhpath","line","fhellipse","fhrect","star","polygon"].indexOf(Wc.getCurrentMode())&&Wc.setMode("select"),Wc.selectOnly([dn],!0)),Wc.addCommandToHistory(new zc(dn)),Wc.call("changed",[dn])}),1e3*Dn)}Wc.setStartTransform(null)}},eu=function dblClickEvent(en){var tn=Wc.getSelectedElements(),nn=en.target.parentNode,rn=Wc.getMouseTarget(en),an=rn.tagName;if("text"===an&&"textedit"!==Wc.getCurrentMode()){var sn=Os(en.clientX,en.clientY,Wc.getrootSctm());Wc.textActions.select(rn,sn.x,sn.y)}nn!==Wc.getCurrentGroup()&&("g"!==an&&"a"!==an||!bA(rn)||(Wc.pushGroupProperties(rn),rn=tn[0],Wc.clearSelection(!0)),Wc.getCurrentGroup()&&dc(),"g"!==nn.tagName&&"a"!==nn.tagName||nn===Wc.getCurrentDrawing().getCurrentLayer()||rn===Wc.selectorManager.selectorParentGroup||pc(rn))},tu=function mouseDownEvent(en){var tn=Wc.getDataStorage(),nn=Wc.getSelectedElements(),rn=Wc.getZoom(),an=Wc.getStyle(),sn=Wc.getSvgRoot(),An=Wc.$id;if(!Wc.spaceKey&&1!==en.button){var cn=2===en.button;en.altKey&&Wc.cloneSelectedElements(0,0),Wc.setRootSctm(An("svgcontent").querySelector("g").getScreenCTM().inverse());var un=Os(en.clientX,en.clientY,Wc.getrootSctm()),hn=un.x*rn,dn=un.y*rn;if(en.preventDefault(),cn){if("path"===Wc.getCurrentMode())return;Wc.setCurrentMode("select"),Wc.setLastClickPoint(un)}var pn=hn/rn,gn=dn/rn,mn=Wc.getMouseTarget(en);"a"===mn.tagName&&1===mn.childNodes.length&&(mn=mn.firstChild);var vn=pn;Wc.setStartX(pn),Wc.setRStartX(pn);var yn=gn;if(Wc.setStartY(gn),Wc.setRStartY(gn),Wc.getCurConfig().gridSnapping&&(pn=SA(pn),gn=SA(gn),Wc.setStartX(SA(Wc.getStartX())),Wc.setStartY(SA(Wc.getStartY()))),mn===Wc.selectorManager.selectorParentGroup&&nn[0]){var bn=en.target,wn=tn.get(bn,"type");"rotate"===wn?Wc.setCurrentMode("rotate"):"resize"===wn&&(Wc.setCurrentMode("resize"),Wc.setCurrentResizeMode(tn.get(bn,"dir"))),mn=nn[0]}Wc.setStartTransform(mn.getAttribute("transform"));var Cn=mn.transform.baseVal;if(Cn.numberOfItems>1){var xn=Cn.getItem(0);Cn.removeItem(0),Cn.consolidate(),Cn.insertItemBefore(xn,0)}switch(Wc.getCurrentMode()){case"select":if(Wc.setStarted(!0),Wc.setCurrentResizeMode("none"),cn&&Wc.setStarted(!1),mn!==sn){if(nn.includes(mn)||(en.shiftKey||Wc.clearSelection(!0),Wc.addToSelection([mn]),Wc.setJustSelected(mn),Wc.pathActions.clear()),!cn){var Bn,_n=_createForOfIteratorHelper(nn);try{for(_n.s();!(Bn=_n.n()).done;){var Sn,kn=Bn.value;if(kn){var En=null===(Sn=kn.transform)||void 0===Sn?void 0:Sn.baseVal;En.numberOfItems?En.insertItemBefore(sn.createSVGTransform(),0):En.appendItem(sn.createSVGTransform())}}}catch(en){_n.e(en)}finally{_n.f()}}}else cn||(Wc.clearSelection(),Wc.setCurrentMode("multiselect"),Wc.getRubberBox()||Wc.setRubberBox(Wc.selectorManager.getRubberBandBox()),Wc.setRStartX(Wc.getRStartX()*rn),Wc.setRStartY(Wc.getRStartY()*rn),BA(Wc.getRubberBox(),{x:Wc.getRStartX(),y:Wc.getRStartY(),width:0,height:0,display:"inline"}));break;case"zoom":Wc.setStarted(!0),Wc.getRubberBox()||Wc.setRubberBox(Wc.selectorManager.getRubberBandBox()),BA(Wc.getRubberBox(),{x:vn*rn,y:vn*rn,width:0,height:0,display:"inline"});break;case"resize":Wc.setStarted(!0),Wc.setStartX(pn),Wc.setStartY(gn),Wc.setInitBbox(lA(An("selectedBox0")));for(var Pn={},Fn=0,Ln=Object.entries(Wc.getInitBbox());Fn<Ln.length;Fn++){var In=_slicedToArray(Ln[Fn],2),Un=In[0],Tn=In[1];Pn[Un]=Tn/rn}Wc.setInitBbox(Pn);var Qn=bA(mn)?1:0;Hs(Cn)?(Cn.insertItemBefore(sn.createSVGTransform(),Qn),Cn.insertItemBefore(sn.createSVGTransform(),Qn),Cn.insertItemBefore(sn.createSVGTransform(),Qn)):(Cn.appendItem(sn.createSVGTransform()),Cn.appendItem(sn.createSVGTransform()),Cn.appendItem(sn.createSVGTransform()));break;case"fhellipse":case"fhrect":case"fhpath":Wc.setStart({x:vn,y:yn}),Wc.setControllPoint1("x",0),Wc.setControllPoint1("y",0),Wc.setControllPoint2("x",0),Wc.setControllPoint2("y",0),Wc.setStarted(!0),Wc.setDAttr(vn+","+yn+" "),Wc.addSVGElementsFromJson({element:"polyline",curStyles:!0,attr:{points:Wc.getDAttr(),id:Wc.getNextId(),fill:"none",opacity:an.opacity/2,"stroke-linecap":"round",style:"pointer-events:none"}}),Wc.setFreehand("minx",vn),Wc.setFreehand("maxx",vn),Wc.setFreehand("miny",yn),Wc.setFreehand("maxy",yn);break;case"image":Wc.setStarted(!0);var Nn=Wc.addSVGElementsFromJson({element:"image",attr:{x:pn,y:gn,width:0,height:0,id:Wc.getNextId(),opacity:an.opacity/2,style:"pointer-events:inherit"}});oA(Nn,Wc.getLastGoodImgUrl()),kA(Nn);break;case"square":case"rect":Wc.setStarted(!0),Wc.setStartX(pn),Wc.setStartY(gn),Wc.addSVGElementsFromJson({element:"rect",curStyles:!0,attr:{x:pn,y:gn,width:0,height:0,id:Wc.getNextId(),opacity:an.opacity/2}});break;case"line":Wc.setStarted(!0);var On=0===Number(an.stroke_width)?1:an.stroke_width;Wc.addSVGElementsFromJson({element:"line",curStyles:!0,attr:{x1:pn,y1:gn,x2:pn,y2:gn,id:Wc.getNextId(),stroke:an.stroke,"stroke-width":On,"stroke-dasharray":an.stroke_dasharray,"stroke-linejoin":an.stroke_linejoin,"stroke-linecap":an.stroke_linecap,"stroke-opacity":an.stroke_opacity,fill:"none",opacity:an.opacity/2,style:"pointer-events:none"}});break;case"circle":Wc.setStarted(!0),Wc.addSVGElementsFromJson({element:"circle",curStyles:!0,attr:{cx:pn,cy:gn,r:0,id:Wc.getNextId(),opacity:an.opacity/2}});break;case"ellipse":Wc.setStarted(!0),Wc.addSVGElementsFromJson({element:"ellipse",curStyles:!0,attr:{cx:pn,cy:gn,rx:0,ry:0,id:Wc.getNextId(),opacity:an.opacity/2}});break;case"text":Wc.setStarted(!0),Wc.addSVGElementsFromJson({element:"text",curStyles:!0,attr:{x:pn,y:gn,id:Wc.getNextId(),fill:Wc.getCurText("fill"),"stroke-width":Wc.getCurText("stroke_width"),"font-size":Wc.getCurText("font_size"),"font-family":Wc.getCurText("font_family"),"text-anchor":"middle","xml:space":"preserve",opacity:an.opacity}});break;case"path":case"pathedit":Wc.setStartX(Wc.getStartX()*rn),Wc.setStartY(Wc.getStartY()*rn),Wc.pathActions.mouseDown(en,mn,Wc.getStartX(),Wc.getStartY()),Wc.setStarted(!0);break;case"textedit":Wc.setStartX(Wc.getStartX()*rn),Wc.setStartY(Wc.getStartY()*rn),Wc.textActions.mouseDown(en,mn,Wc.getStartX(),Wc.getStartY()),Wc.setStarted(!0);break;case"rotate":Wc.setStarted(!0),Wc.undoMgr.beginUndoableChange("transform",nn)}Wc.runExtensions("mouseDown",{event:en,start_x:Wc.getStartX(),start_y:Wc.getStartY(),selectedElements:nn},!0).forEach((function(en){(null==en?void 0:en.started)&&Wc.setStarted(!0)}))}},nu=function DOMMouseScrollEvent(en){var tn=Wc.getZoom(),nn=Wc.$id;if(en.shiftKey){en.preventDefault(),Wc.setRootSctm(nn("svgcontent").querySelector("g").getScreenCTM().inverse());var rn=document.getElementById("workarea"),an=Wc.getCurConfig().showRulers?16:0,sn=Os(en.clientX,en.clientY,Wc.getrootSctm()),An=parseFloat(getComputedStyle(rn,null).width.replace("px","")),cn=parseFloat(getComputedStyle(rn,null).height.replace("px","")),un=An-15-an,hn=cn-15-an,dn=un*Wc.getrootSctm().a,pn=hn*Wc.getrootSctm().d,gn=function findPos(en){var tn=0,nn=0;if(en.offsetParent){do{tn+=en.offsetLeft,nn+=en.offsetTop}while(en=en.offsetParent);return{left:tn,top:nn}}return{left:tn,top:nn}}(rn),mn=gn.left+an,vn=gn.top+an,yn=en.wheelDelta?en.wheelDelta:en.detail?-en.detail:0;if(yn){var bn,wn,Cn=Math.max(3/4,Math.min(4/3,yn));Cn>1?(bn=Math.ceil(un/dn*Cn*100)/100,wn=Math.ceil(hn/pn*Cn*100)/100):(bn=Math.floor(un/dn*Cn*100)/100,wn=Math.floor(hn/pn*Cn*100)/100);var xn=Math.min(bn,wn);if((xn=Math.min(10,Math.max(.01,xn)))!==tn){Cn=xn/tn;var Bn=Os(mn,vn,Wc.getrootSctm()),_n={x:(sn.x-(sn.x-Bn.x)/Cn)*xn-an+An/2,y:(sn.y-(sn.y-Bn.y)/Cn)*xn-an+cn/2};Wc.setZoom(xn),document.getElementById("zoom").value=(100*xn).toFixed(1),Wc.call("updateCanvas",{center:!1,newCtr:_n}),Wc.call("zoomDone")}}}},ru=null,iu=null,au=function getJsonFromSvgElements(en){if(3===en.nodeType)return en.nodeValue;for(var tn,nn={element:en.tagName,attr:{},children:[]},rn=0;tn=en.attributes[rn];rn++)nn.attr[tn.name]=tn.value;for(var an,sn=0;an=en.childNodes[sn];sn++)nn.children[sn]=getJsonFromSvgElements(an);return nn},ou=function addSVGElementsFromJson(en){if("string"==typeof en)return iu.createTextNode(en);var tn=xA(en.attr.id),nn=ru.getDrawing().getCurrentLayer();if(tn&&en.element!==tn.tagName&&(tn.remove(),tn=null),!tn){var rn=en.namespace||Ts.SVG;tn=iu.createElementNS(rn,en.element),nn&&(ru.getCurrentGroup()||nn).append(tn)}var an=ru.getCurShape();return en.curStyles&&BA(tn,{fill:an.fill,stroke:an.stroke,"stroke-width":an.strokeWidth,"stroke-dasharray":an.stroke_dasharray,"stroke-linejoin":an.stroke_linejoin,"stroke-linecap":an.stroke_linecap,"stroke-opacity":an.stroke_opacity,"fill-opacity":an.fill_opacity,opacity:an.opacity/2,style:"pointer-events:inherit"}),BA(tn,en.attr),_A(tn),en.children&&en.children.forEach((function(en){tn.append(addSVGElementsFromJson(en))})),tn},su=null,Au=function getResolutionMethod(){var en=su.getZoom();return{w:su.getSvgContent().getAttribute("width")/en,h:su.getSvgContent().getAttribute("height")/en,zoom:en}},lu=function getTitleMethod(en){var tn=su.getSelectedElements(),nn=su.getDataStorage();if(en=en||tn[0]){nn.has(en,"gsvg")?en=nn.get(en,"gsvg"):nn.has(en,"symbol")&&(en=nn.get(en,"symbol"));var rn,an=_createForOfIteratorHelper(en.childNodes);try{for(an.s();!(rn=an.n()).done;){var sn=rn.value;if("title"===sn.nodeName)return sn.textContent}}catch(en){an.e(en)}finally{an.f()}return""}},cu=function setGroupTitleMethod(en){var tn=su.history,nn=tn.InsertElementCommand,rn=tn.RemoveElementCommand,an=tn.ChangeElementCommand,sn=tn.BatchCommand,An=su.getSelectedElements(),cn=su.getDataStorage(),un=An[0];cn.has(un,"gsvg")&&(un=cn.get(un,"gsvg"));var hn,dn=un.querySelectorAll("title"),pn=new sn("Set Label");if(0===en.length){var gn=dn.nextSibling;pn.addSubCommand(new rn(dn[0],gn,un)),dn.remove()}else dn.length?(hn=dn[0],pn.addSubCommand(new an(hn,{"#text":hn.textContent})),hn.textContent=en):((hn=su.getDOMDocument().createElementNS(Ts.SVG,"title")).textContent=en,un.insertBefore(hn,un.firstChild),pn.addSubCommand(new nn(hn)));su.addCommandToHistory(pn)},uu=function setDocumentTitleMethod(en){var tn,nn=su.history,rn=nn.ChangeElementCommand,an=nn.BatchCommand,sn=su.getSvgContent().childNodes,An=!1,cn="",un=new an("Change Image Title"),hn=_createForOfIteratorHelper(sn);try{for(hn.s();!(tn=hn.n()).done;){var dn=tn.value;if("title"===dn.nodeName){cn=(An=dn).textContent;break}}}catch(en){hn.e(en)}finally{hn.f()}An||(An=su.getDOMDocument().createElementNS(Ts.SVG,"title"),su.getSvgContent().insertBefore(An,su.getSvgContent().firstChild)),en.length?An.textContent=en:An.remove(),un.addSubCommand(new rn(An,{"#text":cn})),su.addCommandToHistory(un)},hu=function setResolutionMethod(en,tn){var nn,rn=su.history,an=rn.ChangeElementCommand,sn=rn.BatchCommand,An=su.getZoom(),cn=su.getResolution(),un=cn.w,hn=cn.h;if("fit"===en){var dn=vA();if(!dn)return!1;nn=new sn("Fit Canvas to Content");var pn=mA();su.addToSelection(pn);var gn=[],mn=[];pn.forEach((function(en,tn){gn.push(-1*dn.x),mn.push(-1*dn.y)}));var vn=su.moveSelectedElements(gn,mn,!0);nn.addSubCommand(vn),su.clearSelection(),en=Math.round(dn.width),tn=Math.round(dn.height)}return en===un&&tn===hn||(nn||(nn=new sn("Change Image Dimensions")),en=Is("width",en),tn=Is("height",tn),su.getSvgContent().setAttribute("width",en),su.getSvgContent().setAttribute("height",tn),su.contentW=en,su.contentH=tn,nn.addSubCommand(new an(su.getSvgContent(),{width:un,height:hn})),su.getSvgContent().setAttribute("viewBox",[0,0,en/An,tn/An].join(" ")),nn.addSubCommand(new an(su.getSvgContent(),{viewBox:["0 0",un,hn].join(" ")})),su.addCommandToHistory(nn),su.call("changed",[su.getSvgContent()])),!0},du=function getEditorNSMethod(en){return en&&su.getSvgContent().setAttribute("xmlns:se",Ts.SE),Ts.SE},pu=function setBBoxZoomMethod(en,tn,nn){var rn,an=su.getZoom(),sn=su.getSelectedElements(),An=.85,cn=function calcZoom(en){if(!en)return!1;var rn=Math.round(tn/en.width*100*An)/100,an=Math.round(nn/en.height*100*An)/100,sn=Math.min(rn,an);return su.setZoom(sn),{zoom:sn,bbox:en}};if("object"==_typeof$3(en)){if(0===(rn=en).width||0===rn.height){var un=rn.zoom?rn.zoom:an*rn.factor;return su.setZoom(un),{zoom:an,bbox:rn}}return cn(rn)}switch(en){case"selection":if(!sn[0])return;var hn=sn.map((function(en,tn){if(en)return en}));rn=vA(hn);break;case"canvas":var dn=su.getResolution();An=.95,rn={width:dn.w,height:dn.h,x:0,y:0};break;case"content":rn=vA();break;case"layer":rn=vA(mA(su.getCurrentDrawing().getCurrentLayer()));break;default:return}return cn(rn)},gu=function setZoomMethod(en){var tn=su.getSelectedElements(),nn=su.getResolution();su.getSvgContent().setAttribute("viewBox","0 0 "+nn.w/en+" "+nn.h/en),su.setZoom(en),tn.forEach((function(en){en&&su.selectorManager.requestSelector(en).resize()})),su.pathActions.zoomChange(),su.runExtensions("zoomChanged",en)},fu=function setColorMethod(en,tn,nn){var rn=su.getSelectedElements();su.setCurShape(en,tn),su.setCurProperties(en+"_paint",{type:"solidColor"});for(var an=[],sn=function addNonG(en){"g"!==en.nodeName&&an.push(en)},An=rn.length;An--;){var cn=rn[An];cn&&("g"===cn.tagName?rA(cn,sn):"fill"===en?"polyline"!==cn.tagName&&"line"!==cn.tagName&&an.push(cn):an.push(cn))}an.length>0&&(nn?su.changeSelectedAttributeNoUndo(en,tn,an):(su.changeSelectedAttribute(en,tn,an),su.call("changed",an)))},mu=function setGradientMethod(en){if(su.getCurProperties(en+"_paint")&&"solidColor"!==su.getCurProperties(en+"_paint").type){var tn=su[en+"Grad"],nn=vu(tn),rn=sA();nn?tn=nn:(tn=su.getDOMDocument().importNode(tn,!0),rn.append(tn),tn.id=su.getNextId()),su.setColor(en,"url(#"+tn.id+")")}},vu=function findDuplicateGradient(en){for(var tn=sA().querySelectorAll("linearGradient, radialGradient"),nn=tn.length,rn=["r","cx","cy","fx","fy"];nn--;){var an=tn[nn];if("linearGradient"===en.tagName){if(en.getAttribute("x1")!==an.getAttribute("x1")||en.getAttribute("y1")!==an.getAttribute("y1")||en.getAttribute("x2")!==an.getAttribute("x2")||en.getAttribute("y2")!==an.getAttribute("y2"))continue}else{var sn=function(){var tn={r:Number(en.getAttribute("r")),cx:Number(en.getAttribute("cx")),cy:Number(en.getAttribute("cy")),fx:Number(en.getAttribute("fx")),fy:Number(en.getAttribute("fy"))},nn={r:Number(an.getAttribute("r")),cx:Number(an.getAttribute("cx")),cy:Number(an.getAttribute("cy")),fx:Number(an.getAttribute("fx")),fy:Number(an.getAttribute("fy"))},sn=!1;if(rn.forEach((function(en){tn[en]!==nn[en]&&(sn=!0)})),sn)return"continue"}();if("continue"===sn)continue}var An=en.getElementsByTagNameNS(Ts.SVG,"stop"),cn=an.getElementsByTagNameNS(Ts.SVG,"stop");if(An.length===cn.length){for(var un=An.length;un--;){var hn=An[un],dn=cn[un];if(hn.getAttribute("offset")!==dn.getAttribute("offset")||hn.getAttribute("stop-opacity")!==dn.getAttribute("stop-opacity")||hn.getAttribute("stop-color")!==dn.getAttribute("stop-color"))break}if(-1===un)return an}}return null},yu=function setPaintMethod(en,tn){var nn=new vs(tn);switch(su.setPaintOpacity(en,nn.alpha/100,!0),su.setCurProperties(en+"_paint",nn),nn.type){case"solidColor":su.setColor(en,"none"!==nn.solidColor?"#"+nn.solidColor:"none");break;case"linearGradient":case"radialGradient":su.setCanvas(en+"Grad",nn[nn.type]),su.setGradient(en)}},bu=function setStrokeWidthMethod(en){var tn=su.getSelectedElements();if(0===en&&["line","path"].includes(su.getMode()))su.setStrokeWidth(1);else{su.setCurProperties("stroke_width",en);for(var nn=[],rn=function addNonG(en){"g"!==en.nodeName&&nn.push(en)},an=tn.length;an--;){var sn=tn[an];sn&&("g"===sn.tagName?rA(sn,rn):nn.push(sn))}nn.length>0&&(su.changeSelectedAttribute("stroke-width",en,nn),su.call("changed",tn))}},wu=function setStrokeAttrMethod(en,tn){var nn=su.getSelectedElements();su.setCurShape(en.replace("-","_"),tn);for(var rn=[],an=nn.length;an--;){var sn=nn[an];sn&&("g"===sn.tagName?rA(sn,(function(en){"g"!==en.nodeName&&rn.push(en)})):rn.push(sn))}rn.length>0&&(su.changeSelectedAttribute(en,tn,rn),su.call("changed",nn))},Cu=function getBoldMethod(){var en=su.getSelectedElements(),tn=en[0];return"text"===(null==tn?void 0:tn.tagName)&&!en[1]&&"bold"===tn.getAttribute("font-weight")},xu=function setBoldMethod(en){var tn,nn=su.getSelectedElements();"text"!==(null===(tn=nn[0])||void 0===tn?void 0:tn.tagName)||nn[1]||su.changeSelectedAttribute("font-weight",en?"bold":"normal"),nn[0].textContent||su.textActions.setCursor()},Bu=function hasTextDecorationMethod(en){var tn=su.getSelectedElements(),nn=tn[0];return"text"===(null==nn?void 0:nn.tagName)&&!tn[1]&&(nn.getAttribute("text-decoration")||"").includes(en)},_u=function addTextDecorationMethod(en){var tn=su.getSelectedElements(),nn=tn[0];if("text"===(null==nn?void 0:nn.tagName)&&!tn[1]){var rn=nn.getAttribute("text-decoration")||"";su.changeSelectedAttribute("text-decoration",(rn+" "+en).trim())}tn.length>0&&!tn[0].textContent&&su.textActions.setCursor()},Su=function removeTextDecorationMethod(en){var tn=su.getSelectedElements(),nn=tn[0];if("text"===(null==nn?void 0:nn.tagName)&&!tn[1]){var rn=nn.getAttribute("text-decoration")||"";su.changeSelectedAttribute("text-decoration",rn.replace(en,"").trim())}tn.length>0&&!tn[0].textContent&&su.textActions.setCursor()},ku=function getItalicMethod(){var en=su.getSelectedElements(),tn=en[0];return"text"===(null==tn?void 0:tn.tagName)&&!en[1]&&"italic"===tn.getAttribute("font-style")},Eu=function setItalicMethod(en){var tn,nn=su.getSelectedElements();"text"!==(null===(tn=nn[0])||void 0===tn?void 0:tn.tagName)||nn[1]||su.changeSelectedAttribute("font-style",en?"italic":"normal"),nn[0].textContent||su.textActions.setCursor()},Pu=function setTextAnchorMethod(en){var tn,nn=su.getSelectedElements();"text"!==(null===(tn=nn[0])||void 0===tn?void 0:tn.tagName)||nn[1]||su.changeSelectedAttribute("text-anchor",en),nn.length>0&&!nn[0].textContent&&su.textActions.setCursor()},Fu=function setLetterSpacingMethod(en){var tn,nn=su.getSelectedElements();"text"!==(null===(tn=nn[0])||void 0===tn?void 0:tn.tagName)||nn[1]||su.changeSelectedAttribute("letter-spacing",en),nn.length>0&&!nn[0].textContent&&su.textActions.setCursor()},Lu=function setWordSpacingMethod(en){var tn,nn=su.getSelectedElements();"text"!==(null===(tn=nn[0])||void 0===tn?void 0:tn.tagName)||nn[1]||su.changeSelectedAttribute("word-spacing",en),nn.length>0&&!nn[0].textContent&&su.textActions.setCursor()},Iu=function setTextLengthMethod(en){var tn,nn=su.getSelectedElements();"text"!==(null===(tn=nn[0])||void 0===tn?void 0:tn.tagName)||nn[1]||su.changeSelectedAttribute("textLength",en),nn.length>0&&!nn[0].textContent&&su.textActions.setCursor()},Uu=function setLengthAdjustMethod(en){var tn,nn=su.getSelectedElements();"text"!==(null===(tn=nn[0])||void 0===tn?void 0:tn.tagName)||nn[1]||su.changeSelectedAttribute("lengthAdjust",en),nn.length>0&&!nn[0].textContent&&su.textActions.setCursor()},Tu=function getFontFamilyMethod(){return su.getCurText("font_family")},Qu=function setFontFamilyMethod(en){var tn,nn=su.getSelectedElements();su.setCurText("font_family",en),su.changeSelectedAttribute("font-family",en),(null===(tn=nn[0])||void 0===tn?void 0:tn.textContent)||su.textActions.setCursor()},Nu=function setFontColorMethod(en){su.setCurText("fill",en),su.changeSelectedAttribute("fill",en)},Ou=function getFontColorMethod(){return su.getCurText("fill")},Mu=function getFontSizeMethod(){return su.getCurText("font_size")},Ru=function setFontSizeMethod(en){var tn,nn=su.getSelectedElements();su.setCurText("font_size",en),su.changeSelectedAttribute("font-size",en),(null===(tn=nn[0])||void 0===tn?void 0:tn.textContent)||su.textActions.setCursor()},Hu=function getTextMethod(){var en=su.getSelectedElements()[0];return en?en.textContent:""},Du=function setTextContentMethod(en){su.changeSelectedAttribute("#text",en),su.textActions.init(en),su.textActions.setCursor()},$u=function setImageURLMethod(en){var tn=su.history,nn=tn.ChangeElementCommand,rn=tn.BatchCommand,an=su.getSelectedElements()[0];if(an){var sn=an.getAttribute("width"),An=an.getAttribute("height"),cn=!sn||!An,un=aA(an);if(un!==en||cn){var hn=new rn("Change Image URL");oA(an,en),hn.addSubCommand(new nn(an,{"#href":un}));var dn=new Image;dn.onload=function(){var en={width:an.getAttribute("width"),height:an.getAttribute("height")};an.setAttribute("width",this.width),an.setAttribute("height",this.height),su.selectorManager.requestSelector(an).resize(),hn.addSubCommand(new nn(an,en)),su.addCommandToHistory(hn),su.call("changed",[an])},dn.src=en}}},Gu=function setLinkURLMethod(en){var tn=su.history,nn=tn.ChangeElementCommand,rn=tn.BatchCommand,an=su.getSelectedElements()[0];if(an){if("a"!==an.tagName){var sn=getParents(an.parentNode,"a");if(null==sn||!sn.length)return;an=sn[0]}var An=aA(an);if(An!==en){var cn=new rn("Change Link URL");oA(an,en),cn.addSubCommand(new nn(an,{"#href":An})),su.addCommandToHistory(cn)}}},ju=function setRectRadiusMethod(en){var tn=su.history.ChangeElementCommand,nn=su.getSelectedElements()[0];if("rect"===(null==nn?void 0:nn.tagName)){var rn=Number(nn.getAttribute("rx"));rn!==en&&(nn.setAttribute("rx",en),nn.setAttribute("ry",en),su.addCommandToHistory(new tn(nn,{rx:rn,ry:rn},"Radius")),su.call("changed",[nn]))}},Vu=function makeHyperlinkMethod(en){su.groupSelectedElements("a",en)},Ku=function removeHyperlinkMethod(){su.ungroupSelectedElement()},qu=function setSegTypeMethod(en){su.pathActions.setSegType(en)},zu=function setBackgroundMethod(en,tn){var nn=xA("canvasBackground"),rn=nn.querySelector("rect"),an=xA("background_image"),sn=xA("background_pattern");if(rn.setAttribute("fill","chessboard"===en?"#fff":en),"chessboard"===en){if(!sn){sn=su.getDOMDocument().createElementNS(Ts.SVG,"foreignObject"),su.assignAttributes(sn,{id:"background_pattern",width:"100%",height:"100%",preserveAspectRatio:"xMinYMin",style:"pointer-events:none"});var An=document.createElement("div");su.assignAttributes(An,{style:"pointer-events:none;width:100%;height:100%;background-image:url(data:image/gif;base64,R0lGODlhEAAQAIAAAP///9bW1iH5BAAAAAAALAAAAAAQABAAAAIfjG+gq4jM3IFLJgpswNly/XkcBpIiVaInlLJr9FZWAQA7);"}),sn.append(An),nn.append(sn)}}else sn&&sn.remove();tn?(an||(an=su.getDOMDocument().createElementNS(Ts.SVG,"image"),su.assignAttributes(an,{id:"background_image",width:"100%",height:"100%",preserveAspectRatio:"xMinYMin",style:"pointer-events:none"})),oA(an,tn),nn.append(an)):an&&an.remove()},Wu=[0,"z","M","m","L","l","C","c","Q","q","A","a","H","h","V","v","S","s","T","t"],Xu=null,Yu=function remapElement(en,tn,nn){var rn=function remap(en,tn){return Os(en,tn,nn)},an=function scalew(en){return nn.a*en},sn=function scaleh(en){return nn.d*en},An=Xu.getGridSnapping()&&"svg"===en.parentNode.parentNode.localName,cn=function finishUp(){An&&Object.entries(tn).forEach((function(en){var nn=_slicedToArray(en,2),rn=nn[0],an=nn[1];tn[rn]=SA(an)})),BA(en,tn,0,!0)},un=lA(en);["fill","stroke"].forEach((function(tn){var rn=en.getAttribute(tn);if(null!=rn&&rn.startsWith("url(")&&(nn.a<0||nn.d<0)){var an=wA(rn).cloneNode(!0);if(nn.a<0){var sn=an.getAttribute("x1"),An=an.getAttribute("x2");an.setAttribute("x1",-(sn-1)),an.setAttribute("x2",-(An-1))}if(nn.d<0){var cn=an.getAttribute("y1"),un=an.getAttribute("y2");an.setAttribute("y1",-(cn-1)),an.setAttribute("y2",-(un-1))}an.id=Xu.getCurrentDrawing().getNextId(),sA().append(an),en.setAttribute(tn,"url(#"+an.id+")")}}));var hn=en.tagName;if("g"===hn||"text"===hn||"tspan"===hn||"use"===hn)if(1!==nn.a||0!==nn.b||0!==nn.c||1!==nn.d||0===nn.e&&0===nn.f){var dn=en.transform.baseVal,pn=Xu.getSvgRoot().createSVGTransform();pn.setMatrix(Rs($s(dn).matrix,nn)),dn.clear(),dn.appendItem(pn)}else{var gn=$s(en).matrix,mn=Rs(gn.inverse(),nn,gn);tn.x=Number.parseFloat(tn.x)+mn.e,tn.y=Number.parseFloat(tn.y)+mn.f}switch(hn){case"foreignObject":case"rect":case"image":if("image"===hn&&(nn.a<0||nn.d<0)){var vn=en.transform.baseVal,yn=Xu.getSvgRoot().createSVGTransform();yn.setMatrix(Rs($s(vn).matrix,nn)),vn.clear(),vn.appendItem(yn)}else{var bn=rn(tn.x,tn.y);tn.width=an(tn.width),tn.height=sn(tn.height),tn.x=bn.x+Math.min(0,tn.width),tn.y=bn.y+Math.min(0,tn.height),tn.width=Math.abs(tn.width),tn.height=Math.abs(tn.height)}cn();break;case"ellipse":var wn=rn(tn.cx,tn.cy);tn.cx=wn.x,tn.cy=wn.y,tn.rx=an(tn.rx),tn.ry=sn(tn.ry),tn.rx=Math.abs(tn.rx),tn.ry=Math.abs(tn.ry),cn();break;case"circle":var Cn=rn(tn.cx,tn.cy);tn.cx=Cn.x,tn.cy=Cn.y;var xn=Ds(un.x,un.y,un.width,un.height,nn),Bn=xn.tr.x-xn.tl.x,_n=xn.bl.y-xn.tl.y;tn.r=Math.min(Bn/2,_n/2),tn.r&&(tn.r=Math.abs(tn.r)),cn();break;case"line":var Sn=rn(tn.x1,tn.y1),kn=rn(tn.x2,tn.y2);tn.x1=Sn.x,tn.y1=Sn.y,tn.x2=kn.x,tn.y2=kn.y;case"text":case"tspan":case"use":cn();break;case"g":var En=Xu.getDataStorage().get(en,"gsvg");En&&BA(En,tn,0,!0);break;case"polyline":case"polygon":tn.points.forEach((function(en){var tn=rn(en.x,en.y),nn=tn.x,an=tn.y;en.x=nn,en.y=an}));var Pn="";tn.points.forEach((function(en){Pn+=en.x+","+en.y+" "})),en.setAttribute("points",Pn);break;case"path":var Fn=en.pathSegList,Ln=Fn.numberOfItems;tn.d=[];for(var In=0;In<Ln;++In){var Un=Fn.getItem(In);tn.d[In]={type:Un.pathSegType,x:Un.x,y:Un.y,x1:Un.x1,y1:Un.y1,x2:Un.x2,y2:Un.y2,r1:Un.r1,r2:Un.r2,angle:Un.angle,largeArcFlag:Un.largeArcFlag,sweepFlag:Un.sweepFlag}}Ln=tn.d.length;var Tn,Qn=tn.d[0];Ln>0&&(Tn=rn(Qn.x,Qn.y),tn.d[0].x=Tn.x,tn.d[0].y=Tn.y);for(var Nn=1;Nn<Ln;++Nn){var On=tn.d[Nn];if(On.type%2==0){var Mn=void 0!==On.x?On.x:Tn.x,Rn=void 0!==On.y?On.y:Tn.y,Hn=rn(Mn,Rn),Dn=rn(On.x1,On.y1),$n=rn(On.x2,On.y2);On.x=Hn.x,On.y=Hn.y,On.x1=Dn.x,On.y1=Dn.y,On.x2=$n.x,On.y2=$n.y,On.r1=an(On.r1),On.r2=sn(On.r2)}else On.x=an(On.x),On.y=sn(On.y),On.x1=an(On.x1),On.y1=sn(On.y1),On.x2=an(On.x2),On.y2=sn(On.y2),On.r1=an(On.r1),On.r2=sn(On.r2)}var Gn="";tn.d.forEach((function(en){var tn=en.type;switch(Gn+=Wu[tn],tn){case 13:case 12:Gn+=en.x+" ";break;case 15:case 14:Gn+=en.y+" ";break;case 3:case 5:case 19:case 2:case 4:case 18:Gn+=en.x+","+en.y+" ";break;case 7:case 6:Gn+=en.x1+","+en.y1+" "+en.x2+","+en.y2+" "+en.x+","+en.y+" ";break;case 9:case 8:Gn+=en.x1+","+en.y1+" "+en.x+","+en.y+" ";break;case 11:case 10:Gn+=en.r1+","+en.r2+" "+en.angle+" "+Number(en.largeArcFlag)+" "+Number(en.sweepFlag)+" "+en.x+","+en.y+" ";break;case 17:case 16:Gn+=en.x2+","+en.y2+" "+en.x+","+en.y+" "}})),en.setAttribute("d",Gn)}},Ju=function updateClipPath(en,tn,nn){var rn=wA(en).firstChild,an=rn.transform.baseVal,sn=_c.getSvgRoot().createSVGTransform();sn.setTranslate(tn,nn),an.appendItem(sn),Zu(rn)},Zu=function recalculateDimensions(en){var tn;if(!en)return null;var nn=_c.getSvgRoot(),rn=_c.getDataStorage(),an=null===(tn=en.transform)||void 0===tn?void 0:tn.baseVal;if((null==an?void 0:an.numberOfItems)>0){for(var sn=an.numberOfItems,An=sn;sn--;){var cn=an.getItem(sn);if(0===cn.type)an.removeItem(sn);else if(1===cn.type){if(Ms(cn.matrix)){if(1===An)return en.removeAttribute("transform"),null;an.removeItem(sn)}}else 4===cn.type&&0===cn.angle&&an.removeItem(sn)}if(1===an.numberOfItems&&bA(en))return null}if(!an||0===an.numberOfItems)return en.setAttribute("transform",""),en.removeAttribute("transform"),null;if(an){for(var un=[],hn=an.numberOfItems;hn--;){var dn=an.getItem(hn);1===dn.type?un.push([dn.matrix,hn]):un.length&&(un=[])}if(2===un.length){var pn=nn.createSVGTransformFromMatrix(Rs(un[1][0],un[0][0]));an.removeItem(un[0][1]),an.removeItem(un[1][1]),an.insertItemBefore(pn,un[1][1])}if((hn=an.numberOfItems)>=2&&1===an.getItem(hn-2).type&&2===an.getItem(hn-1).type){var gn=nn.createSVGTransform(),mn=Rs(an.getItem(hn-2).matrix,an.getItem(hn-1).matrix);gn.setMatrix(mn),an.removeItem(hn-2),an.removeItem(hn-2),an.appendItem(gn)}}switch(en.tagName){case"line":case"polyline":case"polygon":case"path":break;default:if(1===an.numberOfItems&&1===an.getItem(0).type||2===an.numberOfItems&&1===an.getItem(0).type&&4===an.getItem(0).type)return null}var vn,yn,bn=rn.has(en,"gsvg")?rn.get(en,"gsvg"):void 0,wn=new HA("Transform"),Cn={},xn=null,Bn=[];switch(en.tagName){case"line":Bn=["x1","y1","x2","y2"];break;case"circle":Bn=["cx","cy","r"];break;case"ellipse":Bn=["cx","cy","rx","ry"];break;case"foreignObject":case"rect":case"image":Bn=["width","height","x","y"];break;case"use":case"text":case"tspan":Bn=["x","y"];break;case"polygon":case"polyline":(xn={}).points=en.getAttribute("points");var _n=en.points,Sn=_n.numberOfItems;Cn.points=new Array(Sn);for(var kn=0;kn<Sn;++kn){var En=_n.getItem(kn);Cn.points[kn]={x:En.x,y:En.y}}break;case"path":(xn={}).d=en.getAttribute("d"),Cn.d=en.getAttribute("d")}if(Bn.length?Bn.forEach((function(tn){Cn[tn]=Is(tn,en.getAttribute(tn))})):bn&&(Cn={x:Number(bn.getAttribute("x"))||0,y:Number(bn.getAttribute("y"))||0}),!xn){xn=mergeDeep$1({},Cn);for(var Pn=0,Fn=Object.entries(xn);Pn<Fn.length;Pn++){var Ln=_slicedToArray(Fn[Pn],2),In=Ln[0],Un=Ln[1];xn[In]=Is(In,Un)}}if(xn.transform=_c.getStartTransform()||"","g"===en.tagName&&!bn||"a"===en.tagName){var Tn=lA(en);vn={x:Tn.x+Tn.width/2,y:Tn.y+Tn.height/2},yn=Os(Tn.x+Tn.width/2,Tn.y+Tn.height/2,$s(an).matrix);var Qn=bA(en);if(Qn)for(var Nn=Qn*Math.PI/180,On=Math.abs(Nn)>1e-10?Math.sin(Nn)/(1-Math.cos(Nn)):2/Nn,Mn=0;Mn<an.numberOfItems;++Mn){var Rn=an.getItem(Mn);if(4===Rn.type){var Hn=Rn.matrix;vn.y=(On*Hn.e+Hn.f)/2,vn.x=(Hn.e-On*Hn.f)/2,an.removeItem(Mn);break}}var Dn,$n,Gn=an.numberOfItems,jn=0,Vn=0,Kn=0;if(Gn&&(Dn=an.getItem(0).matrix),Gn>=3&&3===an.getItem(Gn-2).type&&2===an.getItem(Gn-3).type&&2===an.getItem(Gn-1).type){Kn=3;for(var qn=an.getItem(Gn-3).matrix,zn=an.getItem(Gn-2).matrix,Wn=an.getItem(Gn-1).matrix,Xn=en.childNodes,Yn=Xn.length;Yn--;){var Jn=Xn.item(Yn);if(jn=0,Vn=0,1===Jn.nodeType){var Zn=Jn.transform.baseVal;if(!Zn)continue;var Ur=$s(Zn).matrix,Tr=bA(Jn);if($n=_c.getStartTransform(),_c.setStartTransform(Jn.getAttribute("transform")),Tr||Hs(Zn)){var Qr=nn.createSVGTransform();Qr.setMatrix(Rs(qn,zn,Wn,Ur)),Zn.clear(),Zn.appendItem(Qr)}else{var Rr=Rs(Ur.inverse(),Wn,Ur),Hr=nn.createSVGMatrix();Hr.e=-Rr.e,Hr.f=-Rr.f;var Dr=Rs(Hr.inverse(),Ur.inverse(),qn,zn,Wn,Ur,Rr.inverse()),$r=nn.createSVGTransform(),Gr=nn.createSVGTransform(),Vr=nn.createSVGTransform();$r.setTranslate(Rr.e,Rr.f),Gr.setScale(Dr.a,Dr.d),Vr.setTranslate(Hr.e,Hr.f),Zn.appendItem(Vr),Zn.appendItem(Gr),Zn.appendItem($r)}wn.addSubCommand(recalculateDimensions(Jn)),_c.setStartTransform($n)}}an.removeItem(Gn-1),an.removeItem(Gn-2),an.removeItem(Gn-3)}else if(Gn>=3&&1===an.getItem(Gn-1).type){Kn=3;var Kr=$s(an).matrix,zr=nn.createSVGTransform();zr.setMatrix(Kr),an.clear(),an.appendItem(zr)}else if((1===Gn||Gn>1&&3!==an.getItem(1).type)&&2===an.getItem(0).type){Kn=2;var Wr=$s(an).matrix;an.removeItem(0);var Xr=$s(an).matrix.inverse(),Yr=Rs(Xr,Wr);if(jn=Yr.e,Vn=Yr.f,0!==jn||0!==Vn){for(var Jr=en.childNodes,Zr=Jr.length,ei=[];Zr--;){var ti=Jr.item(Zr);if(1===ti.nodeType){var ni;if(ti.getAttribute("clip-path")){var ri=ti.getAttribute("clip-path");ei.includes(ri)||(Ju(ri,jn,Vn),ei.push(ri))}$n=_c.getStartTransform(),_c.setStartTransform(ti.getAttribute("transform"));var ii=null===(ni=ti.transform)||void 0===ni?void 0:ni.baseVal;if(ii){var ai=nn.createSVGTransform();ai.setTranslate(jn,Vn),ii.numberOfItems?ii.insertItemBefore(ai,0):ii.appendItem(ai),wn.addSubCommand(recalculateDimensions(ti));for(var oi=en.getElementsByTagNameNS(Ts.SVG,"use"),si="#"+ti.id,Ai=oi.length;Ai--;){var li=oi.item(Ai);if(si===aA(li)){var ci=nn.createSVGTransform();ci.setTranslate(-jn,-Vn),li.transform.baseVal.insertItemBefore(ci,0),wn.addSubCommand(recalculateDimensions(li))}}_c.setStartTransform($n)}}}_c.setStartTransform($n)}}else{if(1!==Gn||1!==an.getItem(0).type||Qn){if(Qn){var ui=nn.createSVGTransform();ui.setRotate(Qn,yn.x,yn.y),an.numberOfItems?an.insertItemBefore(ui,0):an.appendItem(ui)}return 0===an.numberOfItems&&en.removeAttribute("transform"),null}Kn=1;for(var hi=an.getItem(0).matrix,di=en.childNodes,pi=di.length;pi--;){var gi=di.item(pi);if(1===gi.nodeType){var fi;$n=_c.getStartTransform(),_c.setStartTransform(gi.getAttribute("transform"));var mi=null===(fi=gi.transform)||void 0===fi?void 0:fi.baseVal;if(!mi)continue;var yi=Rs(hi,$s(mi).matrix),bi=nn.createSVGTransform();bi.setMatrix(yi),mi.clear(),mi.appendItem(bi,0),wn.addSubCommand(recalculateDimensions(gi)),_c.setStartTransform($n);var wi=gi.getAttribute("stroke-width");if("none"!==gi.getAttribute("stroke")&&!isNaN(wi)){var xi=(Math.abs(yi.a)+Math.abs(yi.d))/2;gi.setAttribute("stroke-width",wi*xi)}}}an.clear()}if(2===Kn){if(Qn){yn={x:vn.x+Dn.e,y:vn.y+Dn.f};var Bi=nn.createSVGTransform();Bi.setRotate(Qn,yn.x,yn.y),an.numberOfItems?an.insertItemBefore(Bi,0):an.appendItem(Bi)}}else if(3===Kn){var _i=$s(an).matrix,Si=nn.createSVGTransform();Si.setRotate(Qn,vn.x,vn.y);var ki=Si.matrix,Ei=nn.createSVGTransform();Ei.setRotate(Qn,yn.x,yn.y);var Pi=Ei.matrix.inverse(),Fi=_i.inverse(),Li=Rs(Fi,Pi,ki,_i);if(jn=Li.e,Vn=Li.f,0!==jn||0!==Vn)for(var Ii=en.childNodes,Ui=Ii.length;Ui--;){var Ti=Ii.item(Ui);if(1===Ti.nodeType){var Qi;$n=_c.getStartTransform(),_c.setStartTransform(Ti.getAttribute("transform"));var Ni=null===(Qi=Ti.transform)||void 0===Qi?void 0:Qi.baseVal,Oi=nn.createSVGTransform();Oi.setTranslate(jn,Vn),Ni.numberOfItems?Ni.insertItemBefore(Oi,0):Ni.appendItem(Oi),wn.addSubCommand(recalculateDimensions(Ti)),_c.setStartTransform($n)}}Qn&&(an.numberOfItems?an.insertItemBefore(Ei,0):an.appendItem(Ei))}}else{var Mi,Ri=lA(en);if(!Ri&&"path"!==en.tagName)return null;var Hi=bA(en);if(Hi){vn={x:Ri.x+Ri.width/2,y:Ri.y+Ri.height/2},yn=Os(Ri.x+Ri.width/2,Ri.y+Ri.height/2,$s(an).matrix);for(var Di=Hi*Math.PI/180,$i=Math.abs(Di)>1e-10?Math.sin(Di)/(1-Math.cos(Di)):2/Di,Gi=0;Gi<an.numberOfItems;++Gi){var ji=an.getItem(Gi);if(4===ji.type){var Vi=ji.matrix;vn.y=($i*Vi.e+Vi.f)/2,vn.x=(Vi.e-$i*Vi.f)/2,an.removeItem(Gi);break}}}var Ki=0,qi=an.numberOfItems,zi=en.getAttribute("fill");if(null!=zi&&zi.startsWith("url(")){var Wi=wA(zi);if(Wi){var Xi="pattern";if((null==Wi?void 0:Wi.tagName)!==Xi&&(Xi="gradient"),"userSpaceOnUse"===Wi.getAttribute(Xi+"Units")){Mi=$s(an).matrix;var Yi=Wi.transform.baseVal,Ji=$s(Yi).matrix,Zi="matrix("+[(Mi=Rs(Mi,Ji)).a,Mi.b,Mi.c,Mi.d,Mi.e,Mi.f].join(",")+")";Wi.setAttribute(Xi+"Transform",Zi)}}}if(qi>=3&&3===an.getItem(qi-2).type&&2===an.getItem(qi-3).type&&2===an.getItem(qi-1).type)Ki=3,Mi=$s(an,qi-3,qi-1).matrix,an.removeItem(qi-1),an.removeItem(qi-2),an.removeItem(qi-3);else if(4===qi&&1===an.getItem(qi-1).type){Ki=3,Mi=$s(an).matrix;var ea=nn.createSVGTransform();ea.setMatrix(Mi),an.clear(),an.appendItem(ea),Mi=nn.createSVGMatrix()}else if((1===qi||qi>1&&3!==an.getItem(1).type)&&2===an.getItem(0).type){Ki=2;var ta=an.getItem(0).matrix,na=$s(an,1).matrix,ra=na.inverse();Mi=Rs(ra,ta,na),an.removeItem(0)}else{if(1!==qi||1!==an.getItem(0).type||Hi){if(Hi){var ia=nn.createSVGTransform();ia.setRotate(Hi,yn.x,yn.y),an.numberOfItems?an.insertItemBefore(ia,0):an.appendItem(ia)}return 0===an.numberOfItems&&en.removeAttribute("transform"),null}switch(Mi=$s(an).matrix,en.tagName){case"line":Cn={x1:en.getAttribute("x1"),y1:en.getAttribute("y1"),x2:en.getAttribute("x2"),y2:en.getAttribute("y2")};case"polyline":case"polygon":if(Cn.points=en.getAttribute("points"),Cn.points){var aa=en.points,oa=aa.numberOfItems;Cn.points=new Array(oa);for(var sa=0;sa<oa;++sa){var Aa=aa.getItem(sa);Cn.points[sa]={x:Aa.x,y:Aa.y}}}case"path":Cn.d=en.getAttribute("d"),Ki=1,an.clear()}}if(1!==Ki&&2!==Ki&&3!==Ki||Yu(en,Cn,Mi),2===Ki){if(Hi){Hs(an)||(yn={x:vn.x+Mi.e,y:vn.y+Mi.f});var la=nn.createSVGTransform();la.setRotate(Hi,yn.x,yn.y),an.numberOfItems?an.insertItemBefore(la,0):an.appendItem(la)}if("text"===en.tagName)for(var ca=en.childNodes,ua=ca.length;ua--;){var ha=ca.item(ua);if("tspan"===ha.tagName){var da={x:Number(ha.getAttribute("x"))||0,y:Number(ha.getAttribute("y"))||0};Yu(ha,da,Mi)}}}else if(3===Ki&&Hi){var pa=$s(an).matrix,ga=nn.createSVGTransform();ga.setRotate(Hi,vn.x,vn.y);var fa=ga.matrix,ma=nn.createSVGTransform();ma.setRotate(Hi,yn.x,yn.y);var va=ma.matrix.inverse(),ya=pa.inverse(),ba=Rs(ya,va,fa,pa);Yu(en,Cn,ba),Hi&&(an.numberOfItems?an.insertItemBefore(ma,0):an.appendItem(ma))}}return 0===an.numberOfItems&&en.removeAttribute("transform"),wn.addSubCommand(new RA(en,xn)),wn},eh=DA.MoveElementCommand,th=DA.BatchCommand,nh=DA.InsertElementCommand,rh=DA.RemoveElementCommand,ih=DA.ChangeElementCommand,ah=null,oh=function moveToTopSelectedElem(){var en=_slicedToArray(ah.getSelectedElements(),1)[0];if(en){var tn=en,nn=tn.parentNode,rn=tn.nextSibling;tn.parentNode.append(tn),rn!==tn.nextSibling&&(ah.addCommandToHistory(new eh(tn,rn,nn,"top")),ah.call("changed",[tn]))}},sh=function moveToBottomSelectedElem(){var en=_slicedToArray(ah.getSelectedElements(),1)[0];if(en){var tn=en,nn=tn.parentNode,rn=tn.nextSibling,an=tn.parentNode.firstChild;"title"===an.tagName&&(an=an.nextSibling),"defs"===an.tagName&&(an=an.nextSibling),rn!==(tn=tn.parentNode.insertBefore(tn,an)).nextSibling&&(ah.addCommandToHistory(new eh(tn,rn,nn,"bottom")),ah.call("changed",[tn]))}},Ah=function moveUpDownSelected(en){var tn=ah.getSelectedElements()[0];if(tn){var nn,rn;ah.setCurBBoxes([]);var an=ah.getIntersectionList(vA([tn]));if("Down"===en&&an.reverse(),Array.prototype.forEach.call(an,(function(en){return rn?(void 0===nn&&(nn=en),!1):(en===tn&&(rn=!0),!0)})),nn){var sn=tn,An=sn.parentNode,cn=sn.nextSibling;"Down"===en?nn.insertAdjacentElement("beforebegin",sn):nn.insertAdjacentElement("afterend",sn),cn!==sn.nextSibling&&(ah.addCommandToHistory(new eh(sn,cn,An,"Move "+en)),ah.call("changed",[sn]))}}},lh=function moveSelectedElements(en,tn){var nn=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],rn=ah.getSelectedElements(),an=ah.getZoom();Array.isArray(en)||(en/=an,tn/=an);var sn=new th("position");if(rn.forEach((function(nn,rn){if(nn){var an,An=ah.getSvgRoot().createSVGTransform(),cn=null===(an=nn.transform)||void 0===an?void 0:an.baseVal;Array.isArray(en)?An.setTranslate(en[rn],tn[rn]):An.setTranslate(en,tn),cn.numberOfItems?cn.insertItemBefore(An,0):cn.appendItem(An);var un=Zu(nn);un&&sn.addSubCommand(un),ah.gettingSelectorManager().requestSelector(nn).resize()}})),!sn.isEmpty())return nn&&ah.addCommandToHistory(sn),ah.call("changed",rn),sn},ch=function cloneSelectedElements(en,tn){var nn,rn,an=ah.getSelectedElements(),sn=ah.getCurrentGroup(),An=new th("Clone Elements"),cn=an.length,un=function index(en){if(!en)return-1;var tn=0;do{tn++}while(en===en.previousElementSibling);return tn};for(an.sort((function(en,tn){return un(tn)-un(en)})),nn=0;nn<cn&&(rn=an[nn]);++nn);var hn=an.slice(0,nn);ah.clearSelection(!0);var dn=ah.getDrawing();for(nn=hn.length;nn--;)rn=hn[nn]=dn.copyElem(hn[nn]),(sn||dn.getCurrentLayer()).append(rn),An.addSubCommand(new nh(rn));An.isEmpty()||(ah.addToSelection(hn.reverse()),lh(en,tn,!1),ah.addCommandToHistory(An))},uh=function alignSelectedElements(en,tn){var nn,rn,an,sn=ah.getSelectedElements(),An=[],cn=sn.length;if(cn){for(var un=Number.MAX_VALUE,hn=Number.MIN_VALUE,dn=Number.MAX_VALUE,pn=Number.MIN_VALUE,gn=function isHorizontalAlign(en){return["l","c","r","left","center","right"].includes(en)},mn=function isVerticalAlign(en){return["t","m","b","top","middle","bottom"].includes(en)},vn=0;vn<cn&&sn[vn];++vn){var yn=sn[vn];An[vn]=vA([yn])}switch(["smallest","largest"].includes(tn)&&["dh","distrib_horiz","dv","distrib_verti"].includes(en)&&(tn="selected"),tn){case"smallest":if(gn(en)||mn(en)){var bn=An.slice().sort((function(en,tn){return en.width-tn.width})),wn=bn[0];un=wn.x,dn=wn.y,hn=wn.x+wn.width,pn=wn.y+wn.height}break;case"largest":if(gn(en)||mn(en)){var Cn=An.slice().sort((function(en,tn){return en.width-tn.width})),xn=Cn[An.length-1];un=xn.x,dn=xn.y,hn=xn.x+xn.width,pn=xn.y+xn.height}break;case"page":un=0,dn=0,hn=ah.getContentW(),pn=ah.getContentH();break;default:un=Math.min.apply(Math,_toConsumableArray(An.map((function(en){return en.x})))),dn=Math.min.apply(Math,_toConsumableArray(An.map((function(en){return en.y})))),hn=Math.max.apply(Math,_toConsumableArray(An.map((function(en){return en.x+en.width})))),pn=Math.max.apply(Math,_toConsumableArray(An.map((function(en){return en.y+en.height}))))}var Bn=[],_n=[];["dh","distrib_horiz"].includes(en)?(Bn=(nn=_slicedToArray(hh(tn,sn,An,un,hn,dn,pn),2))[0],_n=nn[1]):["dv","distrib_verti"].includes(en)?(Bn=(rn=_slicedToArray(dh(tn,sn,An,un,hn,dn,pn),2))[0],_n=rn[1]):(Bn=(an=_slicedToArray(ph(en,sn,An,un,hn,dn,pn),2))[0],_n=an[1]),lh(Bn,_n)}},hh=function _getDistributeHorizontalDistances(en,tn,nn,rn,an,sn,An){for(var cn=[],un=[],hn=0;hn<tn.length;hn++)un[hn]=0;var dn=nn.slice().sort((function(en,tn){var nn=en.x+en.width,rn=tn.x+tn.width;return nn===rn?0:nn>rn?1:-1}));"page"===en&&(dn.unshift({x:0,y:0,width:0,height:An}),dn.push({x:an,y:0,width:0,height:An}));for(var pn=an-rn,gn=dn.map((function(en){return en.width})).reduce((function(en,tn){return en+tn}),0),mn=(pn-gn)/(dn.length-1),vn=[],yn=0;yn<dn.length;++yn)if(vn[yn]=0,0!==yn){var bn=dn[yn].x;dn[yn].x=dn[yn-1].x+dn[yn-1].width+mn,vn[yn]=dn[yn].x-bn}return dn.forEach((function(en,tn){var rn=nn.findIndex((function(tn){return tn===en}));-1!==rn&&(cn[rn]=vn[tn])})),[cn,un]},dh=function _getDistributeVerticalDistances(en,tn,nn,rn,an,sn,An){for(var cn=[],un=[],hn=0;hn<tn.length;hn++)cn[hn]=0;var dn=nn.slice().sort((function(en,tn){var nn=en.y+en.height,rn=tn.y+tn.height;return nn===rn?0:nn>rn?1:-1}));"page"===en&&(dn.unshift({x:0,y:0,width:an,height:0}),dn.push({x:0,y:An,width:an,height:0}));for(var pn=An-sn,gn=dn.map((function(en){return en.height})).reduce((function(en,tn){return en+tn}),0),mn=(pn-gn)/(dn.length-1),vn=[],yn=0;yn<dn.length;++yn)if(vn[yn]=0,0!==yn){var bn=dn[yn].y;dn[yn].y=dn[yn-1].y+dn[yn-1].height+mn,vn[yn]=dn[yn].y-bn}return dn.forEach((function(en,tn){var rn=nn.findIndex((function(tn){return tn===en}));-1!==rn&&(un[rn]=vn[tn])})),[cn,un]},ph=function _getNormalDistances(en,tn,nn,rn,an,sn,An){for(var cn=tn.length,un=new Array(cn),hn=new Array(cn),dn=0;dn<cn&&tn[dn];++dn){var pn=nn[dn];switch(un[dn]=0,hn[dn]=0,en){case"l":case"left":un[dn]=rn-pn.x;break;case"c":case"center":un[dn]=(rn+an)/2-(pn.x+pn.width/2);break;case"r":case"right":un[dn]=an-(pn.x+pn.width);break;case"t":case"top":hn[dn]=sn-pn.y;break;case"m":case"middle":hn[dn]=(sn+An)/2-(pn.y+pn.height/2);break;case"b":case"bottom":hn[dn]=An-(pn.y+pn.height)}}return[un,hn]},gh=function deleteSelectedElements(){var en=ah.getSelectedElements(),tn=new th("Delete Elements"),nn=[];en.forEach((function(en){if(en){var rn=en.parentNode,an=en;ah.gettingSelectorManager().releaseSelector(an),Tl(an.id),"a"===rn.tagName&&1===rn.childNodes.length&&(an=rn,rn=rn.parentNode);var sn=an.nextSibling;an.remove();var An=an;nn.push(en),tn.addSubCommand(new rh(An,sn,rn))}})),ah.setEmptySelectedElements(),tn.isEmpty()||ah.addCommandToHistory(tn),ah.call("changed",nn),ah.clearSelection()},fh=function copySelectedElements(){var en=ah.getSelectedElements(),tn=JSON.stringify(en.map((function(en){return ah.getJsonFromSvgElements(en)})));sessionStorage.setItem(ah.getClipboardID(),tn),ah.flashStorage(),document.getElementById("se-cmenu_canvas").setAttribute("enablemenuitems","#paste,#paste_in_place")},mh=function groupSelectedElements(en,tn){var nn=ah.getSelectedElements();en||(en="g");var rn,an="";"a"===en?(an="Make hyperlink",rn=tn||""):(en="g",an="Group Elements");var sn=new th(an),An=ah.addSVGElementsFromJson({element:en,attr:{id:ah.getNextId()}});"a"===en&&oA(An,rn),sn.addSubCommand(new nh(An));for(var cn=nn.length;cn--;){var un=nn[cn];if(un){"a"===un.parentNode.tagName&&1===un.parentNode.childNodes.length&&(un=un.parentNode);var hn=un.nextSibling,dn=un.parentNode;An.append(un),sn.addSubCommand(new eh(un,hn,dn))}}sn.isEmpty()||ah.addCommandToHistory(sn),ah.selectOnly([An],!0)},vh=function pushGroupProperty(en,tn){for(var nn,rn,an,sn=en.childNodes,An=sn.length,cn=en.getAttribute("transform"),un=en.transform.baseVal,hn=$s(un).matrix,dn=new th("Push group properties"),pn=bA(en),gn={filter:en.getAttribute("filter"),opacity:en.getAttribute("opacity")},mn=ah.getDrawing(),vn=0;vn<An;vn++){var yn,bn=sn[vn];if(1===bn.nodeType){if(null!==gn.opacity&&1!==gn.opacity){var wn=Math.round((bn.getAttribute("opacity")||1)*gn.opacity*100)/100;ah.changeSelectedAttribute("opacity",wn,[bn])}if(gn.filter){var Cn=ah.getBlur(bn),xn=Cn;if(rn||(rn=ah.getBlur(en)),Cn?Cn=Number(rn)+Number(Cn):0===Cn&&(Cn=rn),xn)nn=wA(bn.getAttribute("filter"));else if(nn){var Bn;nn=mn.copyElem(nn),sA().append(nn);var _n="feGaussianBlur"===(null===(Bn=CA(nn))||void 0===Bn?void 0:Bn.tagName)?"blur":"filter";nn.id=bn.id+"_"+_n,ah.changeSelectedAttribute("filter","url(#"+nn.id+")",[bn])}else nn=wA(gn.filter);var Sn=CA(nn);Cn&&(ah.changeSelectedAttribute("stdDeviation",Cn,[Sn]),ah.setBlurOffsets(nn,Cn))}var kn=null===(yn=bn.transform)||void 0===yn?void 0:yn.baseVal;if(bn.tagName.includes("Gradient")&&(kn=null),kn&&"defs"!==bn.tagName&&un.numberOfItems){if(pn&&1===un.numberOfItems){var En=un.getItem(0).matrix,Pn=ah.getSvgRoot().createSVGMatrix(),Fn=bA(bn);Fn&&(Pn=kn.getItem(0).matrix);var Ln=lA(bn),In=$s(kn).matrix,Un=Os(Ln.x+Ln.width/2,Ln.y+Ln.height/2,In),Tn=pn+Fn,Qn=ah.getSvgRoot().createSVGTransform();Qn.setRotate(Tn,Un.x,Un.y);var Nn=Rs(En,Pn,Qn.matrix.inverse());if(Fn&&kn.removeItem(0),Tn&&(kn.numberOfItems?kn.insertItemBefore(Qn,0):kn.appendItem(Qn)),Nn.e||Nn.f){var On=ah.getSvgRoot().createSVGTransform();On.setTranslate(Nn.e,Nn.f),kn.numberOfItems?kn.insertItemBefore(On,0):kn.appendItem(On)}}else{var Mn=bn.getAttribute("transform");(an={}).transform=Mn||"";var Rn=ah.getSvgRoot().createSVGTransform(),Hn=$s(kn).matrix,Dn=Hn.inverse(),$n=Rs(Dn,hn,Hn);Rn.setMatrix($n),kn.appendItem(Rn)}var Gn=Zu(bn);Gn&&dn.addSubCommand(Gn)}}}if(cn&&((an={}).transform=cn,en.setAttribute("transform",""),en.removeAttribute("transform"),dn.addSubCommand(new ih(en,an))),tn&&!dn.isEmpty())return dn},yh=function convertToGroup(en){var tn=ah.getSelectedElements();en||(en=tn[0]);var nn,rn=en,an=new th,sn=ah.getDataStorage();if(sn.has(rn,"gsvg")){var An=en.firstChild,cn={x:Number(An.getAttribute("x")),y:Number(An.getAttribute("y"))},un=en.firstChild.firstChild;un&&(un.outerHTML=un.innerHTML),sn.remove(en,"gsvg");var hn=en.transform.baseVal,dn=ah.getSvgRoot().createSVGTransform();dn.setTranslate(cn.x,cn.y),hn.appendItem(dn),Zu(en),ah.call("selected",[en])}else if(sn.has(rn,"symbol")){en=sn.get(rn,"symbol"),nn=rn.getAttribute("transform");var pn={x:Number(rn.getAttribute("x")),y:Number(rn.getAttribute("y"))},gn=en.getAttribute("viewBox");if(gn){var mn=gn.split(" ");pn.x-=Number(mn[0]),pn.y-=Number(mn[1])}nn+=" translate("+(pn.x||0)+","+(pn.y||0)+")";var vn=rn.previousElementSibling;an.addSubCommand(new rh(rn,rn.nextElementSibling,rn.parentNode)),rn.remove();var yn,bn=ah.getSvgContent().querySelectorAll("use").length,wn=ah.getDOMDocument().createElementNS(Ts.SVG,"g"),Cn=en.childNodes;for(yn=0;yn<Cn.length;yn++)wn.append(Cn[yn].cloneNode(!0));if(Ec())for(var xn=sA().querySelectorAll("linearGradient,radialGradient,pattern"),Bn=0,_n=xn.length;_n>Bn;Bn++)wn.appendChild(xn[Bn].cloneNode(!0));nn&&wn.setAttribute("transform",nn);var Sn=en.parentNode;if(ah.uniquifyElems(wn),Ec())for(var kn=sA(),En=wn.querySelectorAll("linearGradient,radialGradient,pattern"),Pn=0,Fn=En.length;Fn>Pn;Pn++)kn.appendChild(En[Pn]);if(wn.id=ah.getNextId(),vn.after(wn),Sn){if(!bn){var Ln=en.nextSibling;en.remove(),an.addSubCommand(new rh(en,Ln,Sn))}an.addSubCommand(new nh(wn))}ah.setUseData(wn),Ec()?ah.convertGradients(sA()):ah.convertGradients(wn),function(en,tn){if(1===(null==en?void 0:en.nodeType)){for(var nn=en.childNodes.length;nn--;)rA(en.childNodes.item(nn),tn);tn(en)}}(wn,(function(en){try{Zu(en)}catch(en){console.error(en)}}));var In=wn.querySelectorAll(ah.getVisElems());Array.prototype.forEach.call(In,(function(en){en.id||(en.id=ah.getNextId())})),ah.selectOnly([wn]);var Un=vh(wn,!0);Un&&an.addSubCommand(Un),ah.addCommandToHistory(an)}else console.warn("Unexpected element to ungroup:",en)},bh=function ungroupSelectedElement(){var en=ah.getSelectedElements(),tn=ah.getDataStorage(),nn=en[0];if(nn)if(tn.has(nn,"gsvg")||tn.has(nn,"symbol"))yh(nn);else{if("use"===nn.tagName){var rn=xA(aA(nn).substr(1));return tn.put(nn,"symbol",rn),tn.put(nn,"ref",rn),void yh(nn)}var an=getParents(nn.parentNode,"a");if(null!=an&&an.length&&(nn=an[0]),"g"===nn.tagName||"a"===nn.tagName){var sn=new th("Ungroup Elements"),An=vh(nn,!0);An&&sn.addSubCommand(An);for(var cn=nn.parentNode,un=nn.nextSibling,hn=new Array(nn.childNodes.length),dn=0;nn.firstChild;){var pn=nn.firstChild,gn=pn.nextSibling,mn=pn.parentNode;if("title"!==pn.tagName)hn[dn++]=cn.insertBefore(pn,un),sn.addSubCommand(new eh(pn,gn,mn));else{var vn=pn.nextSibling;sn.addSubCommand(new rh(pn,vn,mn)),pn.remove()}}ah.clearSelection();var yn=nn.nextSibling;nn.remove(),sn.addSubCommand(new rh(nn,yn,cn)),sn.isEmpty()||ah.addCommandToHistory(sn),ah.addToSelection(hn)}}},wh=function updateCanvas(en,tn){ah.getSvgRoot().setAttribute("width",en),ah.getSvgRoot().setAttribute("height",tn);var nn=ah.getZoom(),rn=document.getElementById("canvasBackground"),an=Number(ah.getSvgContent().getAttribute("x")),sn=Number(ah.getSvgContent().getAttribute("y")),An=(en-ah.contentW*nn)/2,cn=(tn-ah.contentH*nn)/2;BA(ah.getSvgContent(),{width:ah.contentW*nn,height:ah.contentH*nn,x:An,y:cn,viewBox:"0 0 "+ah.contentW+" "+ah.contentH}),BA(rn,{width:ah.getSvgContent().getAttribute("width"),height:ah.getSvgContent().getAttribute("height"),x:An,y:cn});var un=xA("background_image");return un&&BA(un,{width:"100%",height:"100%"}),ah.selectorManager.selectorParentGroup.setAttribute("transform","translate("+An+","+cn+")"),ah.runExtensions("canvasUpdated",{new_x:An,new_y:cn,old_x:an,old_y:sn,d_x:An-an,d_y:cn-sn}),{x:An,y:cn,old_x:an,old_y:sn,d_x:An-an,d_y:cn-sn}},Ch=function cycleElement(en){var tn,nn=ah.getSelectedElements(),rn=ah.getCurrentGroup(),an=nn[0],sn=!1,An=mA(rn||ah.getCurrentDrawing().getCurrentLayer());if(An.length){if(an){for(var cn=An.length;cn--;)if(An[cn]===an){(tn=en?cn-1:cn+1)>=An.length?tn=0:tn<0&&(tn=An.length-1),sn=An[tn];break}}else sn=An[tn=en?An.length-1:0];ah.selectOnly([sn],!0),ah.call("selected",nn)}},xh=null,Bh=function setBlurNoUndo(en){var tn=xh.getSelectedElements();if(xh.getFilter())if(0===en)xh.changeSelectedAttributeNoUndo("filter",""),xh.setFilterHidden(!0);else{var nn=tn[0];xh.getFilterHidden()&&xh.changeSelectedAttributeNoUndo("filter","url(#"+nn.id+"_blur)");var rn=xh.getFilter();xh.changeSelectedAttributeNoUndo("stdDeviation",en,[rn.firstChild]),xh.setBlurOffsets(rn,en)}else xh.setBlur(en)};function finishChange(){var en=xh.undoMgr.finishUndoableChange();xh.getCurCommand().addSubCommand(en),xh.addCommandToHistory(xh.getCurCommand()),xh.setCurCommand(null),xh.setFilter(null)}var _h=function setBlurOffsets(en,tn){tn>3?xh.assignAttributes(en,{x:"-50%",y:"-50%",width:"200%",height:"200%"},100):(en.removeAttribute("x"),en.removeAttribute("y"),en.removeAttribute("width"),en.removeAttribute("height"))},kh=function setBlur(en,tn){var nn=xh.history,rn=nn.InsertElementCommand,an=nn.ChangeElementCommand,sn=nn.BatchCommand,An=xh.getSelectedElements();if(xh.getCurCommand())finishChange();else{var cn=An[0],un=cn.id;xh.setFilter(xh.getElement(un+"_blur")),en-=0;var hn=new sn;if(xh.getFilter())0===en&&xh.setFilter(null);else{var dn=xh.addSVGElementsFromJson({element:"feGaussianBlur",attr:{in:"SourceGraphic",stdDeviation:en}});xh.setFilter(xh.addSVGElementsFromJson({element:"filter",attr:{id:un+"_blur"}})),xh.getFilter().append(dn),xh.findDefs().append(xh.getFilter()),hn.addSubCommand(new rn(xh.getFilter()))}var pn={filter:cn.getAttribute("filter")};if(0===en)return cn.removeAttribute("filter"),void hn.addSubCommand(new an(cn,pn));xh.changeSelectedAttribute("filter","url(#"+un+"_blur)"),hn.addSubCommand(new an(cn,pn)),xh.setBlurOffsets(xh.getFilter(),en);var gn=xh.getFilter();xh.setCurCommand(hn),xh.undoMgr.beginUndoableChange("stdDeviation",[gn?gn.firstChild:null]),tn&&(xh.setBlurNoUndo(en),finishChange())}},Eh=Qs(),Ph=["class","id","display","transform","style"],Fh={a:["clip-path","clip-rule","fill","fill-opacity","fill-rule","filter","mask","opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","systemLanguage","xlink:href","xlink:title"],circle:["clip-path","clip-rule","cx","cy","enable-background","fill","fill-opacity","fill-rule","filter","mask","opacity","r","requiredFeatures","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","systemLanguage"],clipPath:["clipPathUnits"],defs:[],desc:[],ellipse:["clip-path","clip-rule","cx","cy","fill","fill-opacity","fill-rule","filter","mask","opacity","requiredFeatures","rx","ry","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","systemLanguage"],feBlend:["in","in2"],feColorMatrix:["in","type","value","result","values"],feComposite:["in","operator","result","in2"],feFlood:["flood-color","in","result","flood-opacity"],feGaussianBlur:["color-interpolation-filters","in","requiredFeatures","stdDeviation","result"],feMerge:[],feMergeNode:["in"],feMorphology:["in","operator","radius"],feOffset:["dx","in","dy","result"],filter:["color-interpolation-filters","filterRes","filterUnits","height","primitiveUnits","requiredFeatures","width","x","xlink:href","y"],foreignObject:["font-size","height","opacity","requiredFeatures","width","x","y"],g:["clip-path","clip-rule","fill","fill-opacity","fill-rule","filter","mask","opacity","requiredFeatures","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","systemLanguage","font-family","font-size","font-style","font-weight","text-anchor"],image:["clip-path","clip-rule","filter","height","mask","opacity","requiredFeatures","systemLanguage","width","x","xlink:href","xlink:title","y"],line:["clip-path","clip-rule","fill","fill-opacity","fill-rule","filter","marker-end","marker-mid","marker-start","mask","opacity","requiredFeatures","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","systemLanguage","x1","x2","y1","y2"],linearGradient:["gradientTransform","gradientUnits","requiredFeatures","spreadMethod","systemLanguage","x1","x2","xlink:href","y1","y2"],marker:["markerHeight","markerUnits","markerWidth","orient","preserveAspectRatio","refX","refY","se_type","systemLanguage","viewBox"],mask:["height","maskContentUnits","maskUnits","width","x","y"],metadata:[],path:["clip-path","clip-rule","d","enable-background","fill","fill-opacity","fill-rule","filter","marker-end","marker-mid","marker-start","mask","opacity","requiredFeatures","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","systemLanguage"],pattern:["height","patternContentUnits","patternTransform","patternUnits","requiredFeatures","systemLanguage","viewBox","width","x","xlink:href","y"],polygon:["clip-path","clip-rule","fill","fill-opacity","fill-rule","filter","marker-end","marker-mid","marker-start","mask","opacity","points","requiredFeatures","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","systemLanguage","sides","shape","edge","point","starRadiusMultiplier","r","radialshift","r2","orient","cx","cy"],polyline:["clip-path","clip-rule","fill","fill-opacity","fill-rule","filter","marker-end","marker-mid","marker-start","mask","opacity","points","requiredFeatures","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","systemLanguage","se:connector"],radialGradient:["cx","cy","fx","fy","gradientTransform","gradientUnits","r","requiredFeatures","spreadMethod","systemLanguage","xlink:href"],rect:["clip-path","clip-rule","fill","fill-opacity","fill-rule","filter","height","mask","opacity","requiredFeatures","rx","ry","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","systemLanguage","width","x","y"],stop:["offset","requiredFeatures","stop-opacity","systemLanguage","stop-color","gradientUnits","gradientTransform"],style:["type"],svg:["clip-path","clip-rule","enable-background","filter","height","mask","preserveAspectRatio","requiredFeatures","systemLanguage","version","viewBox","width","x","xmlns","xmlns:se","xmlns:xlink","xmlns:oi","oi:animations","y","stroke-linejoin","fill-rule","aria-label","stroke-width","fill-rule","xml:space"],switch:["requiredFeatures","systemLanguage"],symbol:["fill","fill-opacity","fill-rule","filter","font-family","font-size","font-style","font-weight","opacity","overflow","preserveAspectRatio","requiredFeatures","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","systemLanguage","viewBox","width","height"],text:["clip-path","clip-rule","fill","fill-opacity","fill-rule","filter","font-family","font-size","font-style","font-weight","mask","opacity","requiredFeatures","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","systemLanguage","text-anchor","letter-spacing","word-spacing","text-decoration","textLength","lengthAdjust","x","xml:space","y"],textPath:["method","requiredFeatures","spacing","startOffset","systemLanguage","xlink:href"],title:[],tspan:["clip-path","clip-rule","dx","dy","fill","fill-opacity","fill-rule","filter","font-family","font-size","font-style","font-weight","mask","opacity","requiredFeatures","rotate","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","systemLanguage","text-anchor","textLength","x","xml:space","y"],use:["clip-path","clip-rule","fill","fill-opacity","fill-rule","filter","height","mask","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","width","x","xlink:href","y","overflow"],annotation:["encoding"],"annotation-xml":["encoding"],maction:["actiontype","other","selection"],math:["xmlns"],menclose:["notation"],merror:[],mfrac:["linethickness"],mi:["mathvariant"],mmultiscripts:[],mn:[],mo:["fence","lspace","maxsize","minsize","rspace","stretchy"],mover:[],mpadded:["lspace","width","height","depth","voffset"],mphantom:[],mprescripts:[],mroot:[],mrow:["xlink:href","xlink:type","xmlns:xlink"],mspace:["depth","height","width"],msqrt:[],mstyle:["displaystyle","mathbackground","mathcolor","mathvariant","scriptlevel"],msub:[],msubsup:[],msup:[],mtable:["align","columnalign","columnlines","columnspacing","displaystyle","equalcolumns","equalrows","frame","rowalign","rowlines","rowspacing","width"],mtd:["columnalign","columnspan","rowalign","rowspan"],mtext:[],mtr:["columnalign","rowalign"],munder:[],munderover:[],none:[],semantics:[]};Object.keys(Fh).forEach((function(en){Fh[en]=[].concat(_toConsumableArray(Fh[en]),Ph)}));var Lh={};Object.entries(Fh).forEach((function(en){var tn=_slicedToArray(en,2),nn=tn[0],rn=tn[1],an={};Object.entries(rn).forEach((function(en){var tn=_slicedToArray(en,2);tn[0];var nn=tn[1];if(nn.includes(":")){var rn=nn.split(":");an[rn[1]]=Ts[rn[0].toUpperCase()]}else an[nn]="xmlns"===nn?Ts.XMLNS:null})),Lh[nn]=an}));var Ih=function sanitizeSvg(en){if(3===en.nodeType&&(en.nodeValue=en.nodeValue.trim(),en.nodeValue.length||en.remove()),1===en.nodeType){var tn=en.ownerDocument,nn=en.parentNode;if(tn&&nn){var rn=Fh[en.nodeName],an=Lh[en.nodeName];if(void 0!==rn){for(var sn=[],An=en.attributes.length;An--;){var cn=en.attributes.item(An),un=cn.nodeName,hn=cn.localName,dn=cn.namespaceURI;if(dn!==an[hn]&&dn!==Ts.XMLNS&&(dn!==Ts.XMLNS||!Eh[cn.value]))if(un.startsWith("se:")||un.startsWith("oi:")||un.startsWith("data-")){var pn=un.startsWith("se:")?Ts.SE:un.startsWith("oi:")?Ts.OI:null;sn.push([un,cn.value,pn])}else console.warn("sanitizeSvg: attribute ".concat(un," in element ").concat(en.nodeName," not in whitelist is removed")),en.removeAttributeNS(dn,hn);if("style"===un){for(var gn=cn.value.split(";"),mn=gn.length;mn--;){var vn=_slicedToArray(gn[mn].split(":"),2),yn=vn[0],bn=vn[1],wn=(yn||"").trim(),Cn=(bn||"").trim();rn.includes(wn)&&en.setAttribute(wn,Cn)}en.removeAttribute("style")}}Object.values(sn).forEach((function(tn){var nn=_slicedToArray(tn,3),rn=nn[0],an=nn[1],sn=nn[2];en.setAttributeNS(sn,rn,an)}));var xn=aA(en);if(xn&&["filter","linearGradient","pattern","radialGradient","textPath","use"].includes(en.nodeName)&&"#"!==xn[0]&&(oA(en,""),console.warn("sanitizeSvg: attribute href in element ".concat(en.nodeName," pointing to a non-local reference (").concat(xn,") is removed")),en.removeAttributeNS(Ts.XLINK,"href")),"use"===en.nodeName&&!aA(en))return console.warn("sanitizeSvg: element ".concat(en.nodeName," without a xlink:href is removed")),void en.remove();for(Object.values(["clip-path","fill","filter","marker-end","marker-mid","marker-start","mask","stroke"],(function(tn){var nn=en.getAttribute(tn);nn&&((nn=iA(nn))&&"#"!==nn[0]&&(en.setAttribute(tn,""),console.warn("sanitizeSvg: attribute ".concat(tn," in element ").concat(en.nodeName," pointing to a non-local reference (").concat(nn,") is removed")),en.removeAttribute(tn)))})),An=en.childNodes.length;An--;)sanitizeSvg(en.childNodes.item(An))}else{console.warn("sanitizeSvg: element ".concat(en.nodeName," not supported is removed"));for(var Bn=[];en.hasChildNodes();)Bn.push(nn.insertBefore(en.firstChild,en));en.remove();for(var _n=Bn.length;_n--;)sanitizeSvg(Bn[_n])}}}};function _typeof$1(en){return _typeof$1="function"==typeof Symbol&&"symbol"==_typeof$3(Symbol.iterator)?function(en){return _typeof$3(en)}:function(en){return en&&"function"==typeof Symbol&&en.constructor===Symbol&&en!==Symbol.prototype?"symbol":_typeof$3(en)},_typeof$1(en)}var Uh=Uint8Array,Th=Uint16Array,Qh=Uint32Array,Nh=new Uh([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Oh=new Uh([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Mh=new Uh([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Rh=function freb(en,tn){for(var nn=new Th(31),rn=0;rn<31;++rn)nn[rn]=tn+=1<<en[rn-1];var an=new Qh(nn[30]);for(rn=1;rn<30;++rn)for(var sn=nn[rn];sn<nn[rn+1];++sn)an[sn]=sn-nn[rn]<<5|rn;return[nn,an]},Hh=Rh(Nh,2),Dh=Hh[0],$h=Hh[1];Dh[28]=258,$h[258]=28;for(var Gh=Rh(Oh,0),jh=Gh[0],Vh=Gh[1],Kh=new Th(32768),qh=0;qh<32768;++qh){var zh=(43690&qh)>>>1|(21845&qh)<<1;zh=(61680&(zh=(52428&zh)>>>2|(13107&zh)<<2))>>>4|(3855&zh)<<4,Kh[qh]=((65280&zh)>>>8|(255&zh)<<8)>>>1}var Wh=function hMap(en,tn,nn){for(var rn=en.length,an=0,sn=new Th(tn);an<rn;++an)++sn[en[an]-1];var An,cn=new Th(tn);for(an=0;an<tn;++an)cn[an]=cn[an-1]+sn[an-1]<<1;if(nn){An=new Th(1<<tn);var un=15-tn;for(an=0;an<rn;++an)if(en[an])for(var hn=an<<4|en[an],dn=tn-en[an],pn=cn[en[an]-1]++<<dn,gn=pn|(1<<dn)-1;pn<=gn;++pn)An[Kh[pn]>>>un]=hn}else for(An=new Th(rn),an=0;an<rn;++an)An[an]=Kh[cn[en[an]-1]++]>>>15-en[an];return An},Xh=new Uh(288);for(qh=0;qh<144;++qh)Xh[qh]=8;for(qh=144;qh<256;++qh)Xh[qh]=9;for(qh=256;qh<280;++qh)Xh[qh]=7;for(qh=280;qh<288;++qh)Xh[qh]=8;var Yh=new Uh(32);for(qh=0;qh<32;++qh)Yh[qh]=5;var Jh=Wh(Xh,9,0),Zh=Wh(Xh,9,1),ed=Wh(Yh,5,0),td=Wh(Yh,5,1),nd=function max$3(en){for(var tn=en[0],nn=1;nn<en.length;++nn)en[nn]>tn&&(tn=en[nn]);return tn},rd=function bits(en,tn,nn){var rn=tn/8>>0;return(en[rn]|en[rn+1]<<8)>>>(7&tn)&nn},id=function bits16(en,tn){var nn=tn/8>>0;return(en[nn]|en[nn+1]<<8|en[nn+2]<<16)>>>(7&tn)},ad=function shft(en){return(en/8>>0)+(7&en&&1)},od=function slc(en,tn,nn){(null==tn||tn<0)&&(tn=0),(null==nn||nn>en.length)&&(nn=en.length);var rn=new(en instanceof Th?Th:en instanceof Qh?Qh:Uh)(nn-tn);return rn.set(en.subarray(tn,nn)),rn},sd=function wbits(en,tn,nn){nn<<=7&tn;var rn=tn/8>>0;en[rn]|=nn,en[rn+1]|=nn>>>8},Ad=function wbits16(en,tn,nn){nn<<=7&tn;var rn=tn/8>>0;en[rn]|=nn,en[rn+1]|=nn>>>8,en[rn+2]|=nn>>>16},ld=function hTree(en,tn){for(var nn=[],rn=0;rn<en.length;++rn)en[rn]&&nn.push({s:rn,f:en[rn]});var an=nn.length,sn=nn.slice();if(!an)return[new Uh(0),0];if(1==an){var An=new Uh(nn[0].s+1);return An[nn[0].s]=1,[An,1]}nn.sort((function(en,tn){return en.f-tn.f})),nn.push({s:-1,f:25001});var cn=nn[0],un=nn[1],hn=0,dn=1,pn=2;for(nn[0]={s:-1,f:cn.f+un.f,l:cn,r:un};dn!=an-1;)cn=nn[nn[hn].f<nn[pn].f?hn++:pn++],un=nn[hn!=dn&&nn[hn].f<nn[pn].f?hn++:pn++],nn[dn++]={s:-1,f:cn.f+un.f,l:cn,r:un};var gn=sn[0].s;for(rn=1;rn<an;++rn)sn[rn].s>gn&&(gn=sn[rn].s);var mn=new Th(gn+1),vn=cd(nn[dn-1],mn,0);if(vn>tn){rn=0;var yn=0,bn=vn-tn,wn=1<<bn;for(sn.sort((function(en,tn){return mn[tn.s]-mn[en.s]||en.f-tn.f}));rn<an;++rn){var Cn=sn[rn].s;if(!(mn[Cn]>tn))break;yn+=wn-(1<<vn-mn[Cn]),mn[Cn]=tn}for(yn>>>=bn;yn>0;){var xn=sn[rn].s;mn[xn]<tn?yn-=1<<tn-mn[xn]++-1:++rn}for(;rn>=0&&yn;--rn){var Bn=sn[rn].s;mn[Bn]==tn&&(--mn[Bn],++yn)}vn=tn}return[new Uh(mn),vn]},cd=function ln(en,tn,nn){return-1==en.s?Math.max(ln(en.l,tn,nn+1),ln(en.r,tn,nn+1)):tn[en.s]=nn},hd=function lc(en){for(var tn=en.length;tn&&!en[--tn];);for(var nn=new Th(++tn),rn=0,an=en[0],sn=1,An=function w(en){nn[rn++]=en},cn=1;cn<=tn;++cn)if(en[cn]==an&&cn!=tn)++sn;else{if(!an&&sn>2){for(;sn>138;sn-=138)An(32754);sn>2&&(An(sn>10?sn-11<<5|28690:sn-3<<5|12305),sn=0)}else if(sn>3){for(An(an),--sn;sn>6;sn-=6)An(8304);sn>2&&(An(sn-3<<5|8208),sn=0)}for(;sn--;)An(an);sn=1,an=en[cn]}return[nn.subarray(0,rn),tn]},dd=function clen(en,tn){for(var nn=0,rn=0;rn<tn.length;++rn)nn+=en[rn]*tn[rn];return nn},pd=function wfblk(en,tn,nn){var rn=nn.length,an=ad(tn+2);en[an]=255&rn,en[an+1]=rn>>>8,en[an+2]=255^en[an],en[an+3]=255^en[an+1];for(var sn=0;sn<rn;++sn)en[an+sn+4]=nn[sn];return 8*(an+4+rn)},gd=function wblk(en,tn,nn,rn,an,sn,An,cn,un,hn,dn){sd(tn,dn++,nn),++an[256];for(var pn=ld(an,15),gn=pn[0],mn=pn[1],vn=ld(sn,15),yn=vn[0],bn=vn[1],wn=hd(gn),Cn=wn[0],xn=wn[1],Bn=hd(yn),_n=Bn[0],Sn=Bn[1],kn=new Th(19),En=0;En<Cn.length;++En)kn[31&Cn[En]]++;for(En=0;En<_n.length;++En)kn[31&_n[En]]++;for(var Pn=ld(kn,7),Fn=Pn[0],Ln=Pn[1],In=19;In>4&&!Fn[Mh[In-1]];--In);var Un,Tn,Qn,Nn,On=hn+5<<3,Mn=dd(an,Xh)+dd(sn,Yh)+An,Rn=dd(an,gn)+dd(sn,yn)+An+14+3*In+dd(kn,Fn)+(2*kn[16]+3*kn[17]+7*kn[18]);if(On<=Mn&&On<=Rn)return pd(tn,dn,en.subarray(un,un+hn));if(sd(tn,dn,1+(Rn<Mn)),dn+=2,Rn<Mn){Un=Wh(gn,mn,0),Tn=gn,Qn=Wh(yn,bn,0),Nn=yn;var Hn=Wh(Fn,Ln,0);for(sd(tn,dn,xn-257),sd(tn,dn+5,Sn-1),sd(tn,dn+10,In-4),dn+=14,En=0;En<In;++En)sd(tn,dn+3*En,Fn[Mh[En]]);dn+=3*In;for(var Dn=[Cn,_n],$n=0;$n<2;++$n){var Gn=Dn[$n];for(En=0;En<Gn.length;++En){var jn=31&Gn[En];sd(tn,dn,Hn[jn]),dn+=Fn[jn],jn>15&&(sd(tn,dn,Gn[En]>>>5&127),dn+=Gn[En]>>>12)}}}else Un=Jh,Tn=Xh,Qn=ed,Nn=Yh;for(En=0;En<cn;++En)if(rn[En]>255){jn=rn[En]>>>18&31,Ad(tn,dn,Un[jn+257]),dn+=Tn[jn+257],jn>7&&(sd(tn,dn,rn[En]>>>23&31),dn+=Nh[jn]);var Vn=31&rn[En];Ad(tn,dn,Qn[Vn]),dn+=Nn[Vn],Vn>3&&(Ad(tn,dn,rn[En]>>>5&8191),dn+=Oh[Vn])}else Ad(tn,dn,Un[rn[En]]),dn+=Tn[rn[En]];return Ad(tn,dn,Un[256]),dn+Tn[256]},md=new Qh([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),vd=new Uh(0);function zlibSync(en,tn){void 0===tn&&(tn={});var nn=function(){var en=1,tn=0;return{p:function p(nn){for(var rn=en,an=tn,sn=nn.length,An=0;An!=sn;){for(var cn=Math.min(An+5552,sn);An<cn;++An)an+=rn+=nn[An];rn%=65521,an%=65521}en=rn,tn=an},d:function d(){return(en>>>8<<16|(255&tn)<<8|tn>>>8)+2*((255&en)<<23)}}}();nn.p(en);var rn=function dopt(en,tn,nn,rn,an){return function(en,tn,nn,rn,an,sn){var An=en.length,cn=new Uh(rn+An+5*(1+Math.floor(An/7e3))+an),un=cn.subarray(rn,cn.length-an),hn=0;if(!tn||An<8)for(var dn=0;dn<=An;dn+=65535){var pn=dn+65535;pn<An?hn=pd(un,hn,en.subarray(dn,pn)):(un[dn]=sn,hn=pd(un,hn,en.subarray(dn,An)))}else{for(var gn=md[tn-1],mn=gn>>>13,vn=8191&gn,yn=(1<<nn)-1,bn=new Th(32768),wn=new Th(yn+1),Cn=Math.ceil(nn/3),xn=2*Cn,Bn=function hsh(tn){return(en[tn]^en[tn+1]<<Cn^en[tn+2]<<xn)&yn},_n=new Qh(25e3),Sn=new Th(288),kn=new Th(32),En=0,Pn=0,Fn=(dn=0,0),Ln=0,In=0;dn<An;++dn){var Un=Bn(dn),Tn=32767&dn,Qn=wn[Un];if(bn[Tn]=Qn,wn[Un]=Tn,Ln<=dn){var Nn=An-dn;if((En>7e3||Fn>24576)&&Nn>423){hn=gd(en,un,0,_n,Sn,kn,Pn,Fn,In,dn-In,hn),Fn=En=Pn=0,In=dn;for(var On=0;On<286;++On)Sn[On]=0;for(On=0;On<30;++On)kn[On]=0}var Mn=2,Rn=0,Hn=vn,Dn=Tn-Qn&32767;if(Nn>2&&Un==Bn(dn-Dn))for(var $n=Math.min(mn,Nn)-1,Gn=Math.min(32767,dn),jn=Math.min(258,Nn);Dn<=Gn&&--Hn&&Tn!=Qn;){if(en[dn+Mn]==en[dn+Mn-Dn]){for(var Vn=0;Vn<jn&&en[dn+Vn]==en[dn+Vn-Dn];++Vn);if(Vn>Mn){if(Mn=Vn,Rn=Dn,Vn>$n)break;var Kn=Math.min(Dn,Vn-2),qn=0;for(On=0;On<Kn;++On){var zn=dn-Dn+On+32768&32767,Wn=zn-bn[zn]+32768&32767;Wn>qn&&(qn=Wn,Qn=zn)}}}Dn+=(Tn=Qn)-(Qn=bn[Tn])+32768&32767}if(Rn){_n[Fn++]=268435456|$h[Mn]<<18|Vh[Rn];var Xn=31&$h[Mn],Yn=31&Vh[Rn];Pn+=Nh[Xn]+Oh[Yn],++Sn[257+Xn],++kn[Yn],Ln=dn+Mn,++En}else _n[Fn++]=en[dn],++Sn[en[dn]]}}hn=gd(en,un,sn,_n,Sn,kn,Pn,Fn,In,dn-In,hn),sn||(hn=pd(un,hn,vd))}return od(cn,0,rn+ad(hn)+an)}(en,null==tn.level?6:tn.level,null==tn.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(en.length)))):12+tn.mem,nn,rn,!an)}(en,tn,2,4);return function(en,tn){var nn=tn.level,rn=0==nn?0:nn<6?1:9==nn?3:2;en[0]=120,en[1]=rn<<6|(rn?32-2*rn:1)}(rn,tn),function(en,tn,nn){for(;nn;++tn)en[tn]=nn,nn>>>=8}(rn,rn.length-4,nn.d()),rn}
/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 2.5.1 Built on 2022-01-28T15:37:57.791Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2021 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2021 yWorks GmbH, http://www.yworks.com
 *               2015-2021 Lukas Holländer <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */
var yd=function(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this}();function i$2(){yd.console&&"function"==typeof yd.console.log&&yd.console.log.apply(yd.console,arguments)}var bd={log:i$2,warn:function warn(en){yd.console&&("function"==typeof yd.console.warn?yd.console.warn.apply(yd.console,arguments):i$2.call(null,arguments))},error:function error(en){yd.console&&("function"==typeof yd.console.error?yd.console.error.apply(yd.console,arguments):i$2(en))}};function o$1(en,tn,nn){var rn=new XMLHttpRequest;rn.open("GET",en),rn.responseType="blob",rn.onload=function(){xd(rn.response,tn,nn)},rn.onerror=function(){bd.error("could not download file")},rn.send()}function s$1(en){var tn=new XMLHttpRequest;tn.open("HEAD",en,!1);try{tn.send()}catch(en){}return tn.status>=200&&tn.status<=299}function c$2(en){try{en.dispatchEvent(new MouseEvent("click"))}catch(nn){var tn=document.createEvent("MouseEvents");tn.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),en.dispatchEvent(tn)}}var wd,Cd,xd=yd.saveAs||("object"!==("undefined"==typeof window?"undefined":_typeof$1(window))||window!==yd?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(en,tn,nn){var rn=yd.URL||yd.webkitURL,an=document.createElement("a");tn=tn||en.name||"download",an.download=tn,an.rel="noopener","string"==typeof en?(an.href=en,an.origin!==location.origin?s$1(an.href)?o$1(en,tn,nn):c$2(an,an.target="_blank"):c$2(an)):(an.href=rn.createObjectURL(en),setTimeout((function(){rn.revokeObjectURL(an.href)}),4e4),setTimeout((function(){c$2(an)}),0))}:"msSaveOrOpenBlob"in navigator?function(en,tn,nn){if(tn=tn||en.name||"download","string"==typeof en)if(s$1(en))o$1(en,tn,nn);else{var rn=document.createElement("a");rn.href=en,rn.target="_blank",setTimeout((function(){c$2(rn)}))}else navigator.msSaveOrOpenBlob(function(en,tn){return void 0===tn?tn={autoBom:!1}:"object"!==_typeof$1(tn)&&(bd.warn("Deprecated: Expected third argument to be a object"),tn={autoBom:!tn}),tn.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(en.type)?new Blob([String.fromCharCode(65279),en],{type:en.type}):en}(en,nn),tn)}:function(en,tn,nn,rn){if((rn=rn||open("","_blank"))&&(rn.document.title=rn.document.body.innerText="downloading..."),"string"==typeof en)return o$1(en,tn,nn);var an="application/octet-stream"===en.type,sn=/constructor/i.test(yd.HTMLElement)||yd.safari,An=/CriOS\/[\d]+/.test(navigator.userAgent);if((An||an&&sn)&&"object"===("undefined"==typeof FileReader?"undefined":_typeof$1(FileReader))){var cn=new FileReader;cn.onloadend=function(){var en=cn.result;en=An?en:en.replace(/^data:[^;]*;/,"data:attachment/file;"),rn?rn.location.href=en:location=en,rn=null},cn.readAsDataURL(en)}else{var un=yd.URL||yd.webkitURL,hn=un.createObjectURL(en);rn?rn.location=hn:location.href=hn,rn=null,setTimeout((function(){un.revokeObjectURL(hn)}),4e4)}});
/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function f$1(en){var tn;en=en||"",this.ok=!1,"#"==en.charAt(0)&&(en=en.substr(1,6)),en={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[en=(en=en.replace(/ /g,"")).toLowerCase()]||en;for(var nn=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function process(en){return[parseInt(en[1]),parseInt(en[2]),parseInt(en[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function process(en){return[parseInt(en[1],16),parseInt(en[2],16),parseInt(en[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function process(en){return[parseInt(en[1]+en[1],16),parseInt(en[2]+en[2],16),parseInt(en[3]+en[3],16)]}}],rn=0;rn<nn.length;rn++){var an=nn[rn].re,sn=nn[rn].process,An=an.exec(en);An&&(tn=sn(An),this.r=tn[0],this.g=tn[1],this.b=tn[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var en=this.r.toString(16),tn=this.g.toString(16),nn=this.b.toString(16);return 1==en.length&&(en="0"+en),1==tn.length&&(tn="0"+tn),1==nn.length&&(nn="0"+nn),"#"+en+tn+nn}}
/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function d(en,tn){var nn=en[0],rn=en[1],an=en[2],sn=en[3];nn=g(nn,rn,an,sn,tn[0],7,-680876936),sn=g(sn,nn,rn,an,tn[1],12,-389564586),an=g(an,sn,nn,rn,tn[2],17,606105819),rn=g(rn,an,sn,nn,tn[3],22,-1044525330),nn=g(nn,rn,an,sn,tn[4],7,-176418897),sn=g(sn,nn,rn,an,tn[5],12,1200080426),an=g(an,sn,nn,rn,tn[6],17,-1473231341),rn=g(rn,an,sn,nn,tn[7],22,-45705983),nn=g(nn,rn,an,sn,tn[8],7,1770035416),sn=g(sn,nn,rn,an,tn[9],12,-1958414417),an=g(an,sn,nn,rn,tn[10],17,-42063),rn=g(rn,an,sn,nn,tn[11],22,-1990404162),nn=g(nn,rn,an,sn,tn[12],7,1804603682),sn=g(sn,nn,rn,an,tn[13],12,-40341101),an=g(an,sn,nn,rn,tn[14],17,-1502002290),nn=m$2(nn,rn=g(rn,an,sn,nn,tn[15],22,1236535329),an,sn,tn[1],5,-165796510),sn=m$2(sn,nn,rn,an,tn[6],9,-1069501632),an=m$2(an,sn,nn,rn,tn[11],14,643717713),rn=m$2(rn,an,sn,nn,tn[0],20,-373897302),nn=m$2(nn,rn,an,sn,tn[5],5,-701558691),sn=m$2(sn,nn,rn,an,tn[10],9,38016083),an=m$2(an,sn,nn,rn,tn[15],14,-660478335),rn=m$2(rn,an,sn,nn,tn[4],20,-405537848),nn=m$2(nn,rn,an,sn,tn[9],5,568446438),sn=m$2(sn,nn,rn,an,tn[14],9,-1019803690),an=m$2(an,sn,nn,rn,tn[3],14,-187363961),rn=m$2(rn,an,sn,nn,tn[8],20,1163531501),nn=m$2(nn,rn,an,sn,tn[13],5,-1444681467),sn=m$2(sn,nn,rn,an,tn[2],9,-51403784),an=m$2(an,sn,nn,rn,tn[7],14,1735328473),nn=v$1(nn,rn=m$2(rn,an,sn,nn,tn[12],20,-1926607734),an,sn,tn[5],4,-378558),sn=v$1(sn,nn,rn,an,tn[8],11,-2022574463),an=v$1(an,sn,nn,rn,tn[11],16,1839030562),rn=v$1(rn,an,sn,nn,tn[14],23,-35309556),nn=v$1(nn,rn,an,sn,tn[1],4,-1530992060),sn=v$1(sn,nn,rn,an,tn[4],11,1272893353),an=v$1(an,sn,nn,rn,tn[7],16,-155497632),rn=v$1(rn,an,sn,nn,tn[10],23,-1094730640),nn=v$1(nn,rn,an,sn,tn[13],4,681279174),sn=v$1(sn,nn,rn,an,tn[0],11,-358537222),an=v$1(an,sn,nn,rn,tn[3],16,-722521979),rn=v$1(rn,an,sn,nn,tn[6],23,76029189),nn=v$1(nn,rn,an,sn,tn[9],4,-640364487),sn=v$1(sn,nn,rn,an,tn[12],11,-421815835),an=v$1(an,sn,nn,rn,tn[15],16,530742520),nn=b(nn,rn=v$1(rn,an,sn,nn,tn[2],23,-995338651),an,sn,tn[0],6,-198630844),sn=b(sn,nn,rn,an,tn[7],10,1126891415),an=b(an,sn,nn,rn,tn[14],15,-1416354905),rn=b(rn,an,sn,nn,tn[5],21,-57434055),nn=b(nn,rn,an,sn,tn[12],6,1700485571),sn=b(sn,nn,rn,an,tn[3],10,-1894986606),an=b(an,sn,nn,rn,tn[10],15,-1051523),rn=b(rn,an,sn,nn,tn[1],21,-2054922799),nn=b(nn,rn,an,sn,tn[8],6,1873313359),sn=b(sn,nn,rn,an,tn[15],10,-30611744),an=b(an,sn,nn,rn,tn[6],15,-1560198380),rn=b(rn,an,sn,nn,tn[13],21,1309151649),nn=b(nn,rn,an,sn,tn[4],6,-145523070),sn=b(sn,nn,rn,an,tn[11],10,-1120210379),an=b(an,sn,nn,rn,tn[2],15,718787259),rn=b(rn,an,sn,nn,tn[9],21,-343485551),en[0]=_$1(nn,en[0]),en[1]=_$1(rn,en[1]),en[2]=_$1(an,en[2]),en[3]=_$1(sn,en[3])}function p$1(en,tn,nn,rn,an,sn){return tn=_$1(_$1(tn,en),_$1(rn,sn)),_$1(tn<<an|tn>>>32-an,nn)}function g(en,tn,nn,rn,an,sn,An){return p$1(tn&nn|~tn&rn,en,tn,an,sn,An)}function m$2(en,tn,nn,rn,an,sn,An){return p$1(tn&rn|nn&~rn,en,tn,an,sn,An)}function v$1(en,tn,nn,rn,an,sn,An){return p$1(tn^nn^rn,en,tn,an,sn,An)}function b(en,tn,nn,rn,an,sn,An){return p$1(nn^(tn|~rn),en,tn,an,sn,An)}function y$1(en){var tn,nn=en.length,rn=[1732584193,-271733879,-1732584194,271733878];for(tn=64;tn<=en.length;tn+=64)d(rn,w(en.substring(tn-64,tn)));en=en.substring(tn-64);var an=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(tn=0;tn<en.length;tn++)an[tn>>2]|=en.charCodeAt(tn)<<(tn%4<<3);if(an[tn>>2]|=128<<(tn%4<<3),tn>55)for(d(rn,an),tn=0;tn<16;tn++)an[tn]=0;return an[14]=8*nn,d(rn,an),rn}function w(en){var tn,nn=[];for(tn=0;tn<64;tn+=4)nn[tn>>2]=en.charCodeAt(tn)+(en.charCodeAt(tn+1)<<8)+(en.charCodeAt(tn+2)<<16)+(en.charCodeAt(tn+3)<<24);return nn}wd=yd.atob.bind(yd),Cd=yd.btoa.bind(yd);var Bd="0123456789abcdef".split("");function L(en){for(var tn="",nn=0;nn<4;nn++)tn+=Bd[en>>8*nn+4&15]+Bd[en>>8*nn&15];return tn}function A(en){return String.fromCharCode((255&en)>>0,(65280&en)>>8,(16711680&en)>>16,(4278190080&en)>>24)}function x(en){return y$1(en).map(A).join("")}var _d="5d41402abc4b2a76b9719d911017c592"!=function(en){for(var tn=0;tn<en.length;tn++)en[tn]=L(en[tn]);return en.join("")}(y$1("hello"));function _$1(en,tn){if(_d){var nn=(65535&en)+(65535&tn);return(en>>16)+(tn>>16)+(nn>>16)<<16|65535&nn}return en+tn&4294967295}
/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function P(en,tn){var nn,rn,an,sn;if(en!==nn){for(var An=(an=en,sn=1+(256/en.length>>0),new Array(sn+1).join(an)),cn=[],un=0;un<256;un++)cn[un]=un;var hn=0;for(un=0;un<256;un++){var dn=cn[un];hn=(hn+dn+An.charCodeAt(un))%256,cn[un]=cn[hn],cn[hn]=dn}nn=en,rn=cn}else cn=rn;var pn=tn.length,gn=0,mn=0,vn="";for(un=0;un<pn;un++)mn=(mn+(dn=cn[gn=(gn+1)%256]))%256,cn[gn]=cn[mn],cn[mn]=dn,An=cn[(cn[gn]+cn[mn])%256],vn+=String.fromCharCode(tn.charCodeAt(un)^An);return vn}
/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Sd={print:4,modify:8,copy:16,"annot-forms":32};function I(en,tn,nn,rn){this.v=1,this.r=2;var an=192;en.forEach((function(en){if(void 0!==Sd.perm)throw new Error("Invalid permission: "+en);an+=Sd[en]})),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var sn=(tn+this.padding).substr(0,32),An=(nn+this.padding).substr(0,32);this.O=this.processOwnerPassword(sn,An),this.P=-(1+(255^an)),this.encryptionKey=x(sn+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(rn)).substr(0,5),this.U=P(this.encryptionKey,this.padding)}function F(en){if(/[^\u0000-\u00ff]/.test(en))throw new Error("Invalid PDF Name Object: "+en+", Only accept ASCII characters.");for(var tn="",nn=en.length,rn=0;rn<nn;rn++){var an=en.charCodeAt(rn);tn+=an<33||35===an||37===an||40===an||41===an||47===an||60===an||62===an||91===an||93===an||123===an||125===an||an>126?"#"+("0"+an.toString(16)).slice(-2):en[rn]}return tn}function C(en){if("object"!==_typeof$1(en))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var tn={};this.subscribe=function(en,nn,rn){if(rn=rn||!1,"string"!=typeof en||"function"!=typeof nn||"boolean"!=typeof rn)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");tn.hasOwnProperty(en)||(tn[en]={});var an=Math.random().toString(35);return tn[en][an]=[nn,!!rn],an},this.unsubscribe=function(en){for(var nn in tn)if(tn[nn][en])return delete tn[nn][en],0===Object.keys(tn[nn]).length&&delete tn[nn],!0;return!1},this.publish=function(nn){if(tn.hasOwnProperty(nn)){var rn=Array.prototype.slice.call(arguments,1),an=[];for(var sn in tn[nn]){var An=tn[nn][sn];try{An[0].apply(en,rn)}catch(nn){yd.console&&bd.error("jsPDF PubSub Error",nn.message,nn)}An[1]&&an.push(sn)}an.length&&an.forEach(this.unsubscribe)}},this.getTopics=function(){return tn}}function j(en){if(!(this instanceof j))return new j(en);var tn="opacity,stroke-opacity".split(",");for(var nn in en)en.hasOwnProperty(nn)&&tn.indexOf(nn)>=0&&(this[nn]=en[nn]);this.id="",this.objectNumber=-1}function O$1(en,tn){this.gState=en,this.matrix=tn,this.id="",this.objectNumber=-1}function B(en,tn,nn,rn,an){if(!(this instanceof B))return new B(en,tn,nn,rn,an);this.type="axial"===en?2:3,this.coords=tn,this.colors=nn,O$1.call(this,rn,an)}function M(en,tn,nn,rn,an){if(!(this instanceof M))return new M(en,tn,nn,rn,an);this.boundingBox=en,this.xStep=tn,this.yStep=nn,this.stream="",this.cloneIndex=0,O$1.call(this,rn,an)}function E(en){var tn,nn="string"==typeof arguments[0]?arguments[0]:"p",rn=arguments[1],an=arguments[2],sn=arguments[3],An=[],cn=1,un=16,hn="S",dn=null;"object"===_typeof$1(en=en||{})&&(nn=en.orientation,rn=en.unit||rn,an=en.format||an,sn=en.compress||en.compressPdf||sn,null!==(dn=en.encryption||null)&&(dn.userPassword=dn.userPassword||"",dn.ownerPassword=dn.ownerPassword||"",dn.userPermissions=dn.userPermissions||[]),cn="number"==typeof en.userUnit?Math.abs(en.userUnit):1,void 0!==en.precision&&(tn=en.precision),void 0!==en.floatPrecision&&(un=en.floatPrecision),hn=en.defaultPathOperation||"S"),An=en.filters||(!0===sn?["FlateEncode"]:An),rn=rn||"mm",nn=(""+(nn||"P")).toLowerCase();var pn=en.putOnlyUsedFonts||!1,gn={},mn={internal:{},__private__:{}};mn.__private__.PubSub=C;var vn="1.3",yn=mn.__private__.getPdfVersion=function(){return vn};mn.__private__.setPdfVersion=function(en){vn=en};var bn={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};mn.__private__.getPageFormats=function(){return bn};var wn=mn.__private__.getPageFormat=function(en){return bn[en]};an=an||"a4";var Cn={COMPAT:"compat",ADVANCED:"advanced"},xn=Cn.COMPAT;function _(){this.saveGraphicsState(),Ur(new yi(Zr,0,0,-Zr,0,po()*Zr).toString()+" cm"),this.setFontSize(this.getFontSize()/Zr),hn="n",xn=Cn.ADVANCED}function P(){this.restoreGraphicsState(),hn="S",xn=Cn.COMPAT}var Bn=mn.__private__.combineFontStyleAndFontWeight=function(en,tn){if("bold"==en&&"normal"==tn||"bold"==en&&400==tn||"normal"==en&&"italic"==tn||"bold"==en&&"italic"==tn)throw new Error("Invalid Combination of fontweight and fontstyle");return tn&&(en=400==tn||"normal"===tn?"italic"===en?"italic":"normal":700!=tn&&"bold"!==tn||"normal"!==en?(700==tn?"bold":tn)+""+en:"bold"),en};mn.advancedAPI=function(en){var tn=xn===Cn.COMPAT;return tn&&_.call(this),"function"!=typeof en||(en(this),tn&&P.call(this)),this},mn.compatAPI=function(en){var tn=xn===Cn.ADVANCED;return tn&&P.call(this),"function"!=typeof en||(en(this),tn&&_.call(this)),this},mn.isAdvancedAPI=function(){return xn===Cn.ADVANCED};var _n,Sn=function q(en){if(xn!==Cn.ADVANCED)throw new Error(en+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},kn=mn.roundToPrecision=mn.__private__.roundToPrecision=function(en,nn){var rn=tn||nn;if(isNaN(en)||isNaN(rn))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return en.toFixed(rn).replace(/0+$/,"")};_n=mn.hpf=mn.__private__.hpf="number"==typeof un?function(en){if(isNaN(en))throw new Error("Invalid argument passed to jsPDF.hpf");return kn(en,un)}:"smart"===un?function(en){if(isNaN(en))throw new Error("Invalid argument passed to jsPDF.hpf");return kn(en,en>-1&&en<1?16:5)}:function(en){if(isNaN(en))throw new Error("Invalid argument passed to jsPDF.hpf");return kn(en,16)};var En=mn.f2=mn.__private__.f2=function(en){if(isNaN(en))throw new Error("Invalid argument passed to jsPDF.f2");return kn(en,2)},Pn=mn.__private__.f3=function(en){if(isNaN(en))throw new Error("Invalid argument passed to jsPDF.f3");return kn(en,3)},Fn=mn.scale=mn.__private__.scale=function(en){if(isNaN(en))throw new Error("Invalid argument passed to jsPDF.scale");return xn===Cn.COMPAT?en*Zr:xn===Cn.ADVANCED?en:void 0},Ln=function z(en){return xn===Cn.COMPAT?po()-en:xn===Cn.ADVANCED?en:void 0},In=function H(en){return Fn(Ln(en))};mn.__private__.setPrecision=mn.setPrecision=function(en){"number"==typeof parseInt(en,10)&&(tn=parseInt(en,10))};var Un,Tn="00000000000000000000000000000000",Qn=mn.__private__.getFileId=function(){return Tn},Nn=mn.__private__.setFileId=function(en){return Tn=void 0!==en&&/^[a-fA-F0-9]{32}$/.test(en)?en.toUpperCase():Tn.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),null!==dn&&(Ca=new I(dn.userPermissions,dn.userPassword,dn.ownerPassword,Tn)),Tn};mn.setFileId=function(en){return Nn(en),this},mn.getFileId=function(){return Qn()};var On=mn.__private__.convertDateToPDFDate=function(en){var tn=en.getTimezoneOffset(),nn=tn<0?"+":"-",rn=Math.floor(Math.abs(tn/60)),an=Math.abs(tn%60),sn=[nn,$n(rn),"'",$n(an),"'"].join("");return["D:",en.getFullYear(),$n(en.getMonth()+1),$n(en.getDate()),$n(en.getHours()),$n(en.getMinutes()),$n(en.getSeconds()),sn].join("")},Mn=mn.__private__.convertPDFDateToDate=function(en){var tn=parseInt(en.substr(2,4),10),nn=parseInt(en.substr(6,2),10)-1,rn=parseInt(en.substr(8,2),10),an=parseInt(en.substr(10,2),10),sn=parseInt(en.substr(12,2),10),An=parseInt(en.substr(14,2),10);return new Date(tn,nn,rn,an,sn,An,0)},Rn=mn.__private__.setCreationDate=function(en){var tn;if(void 0===en&&(en=new Date),en instanceof Date)tn=On(en);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(en))throw new Error("Invalid argument passed to jsPDF.setCreationDate");tn=en}return Un=tn},Hn=mn.__private__.getCreationDate=function(en){var tn=Un;return"jsDate"===en&&(tn=Mn(Un)),tn};mn.setCreationDate=function(en){return Rn(en),this},mn.getCreationDate=function(en){return Hn(en)};var Dn,$n=mn.__private__.padd2=function(en){return("0"+parseInt(en)).slice(-2)},Gn=mn.__private__.padd2Hex=function(en){return("00"+(en=en.toString())).substr(en.length)},jn=0,Vn=[],Kn=[],qn=0,zn=[],Wn=[],Xn=!1,Yn=Kn,Jn=function ut(){jn=0,qn=0,Kn=[],Vn=[],zn=[],Ei=_i(),Pi=_i()};mn.__private__.setCustomOutputDestination=function(en){Xn=!0,Yn=en};var Zn=function ht(en){Xn||(Yn=en)};mn.__private__.resetCustomOutputDestination=function(){Xn=!1,Yn=Kn};var Ur=mn.__private__.out=function(en){return en=en.toString(),qn+=en.length+1,Yn.push(en),Yn},Tr=mn.__private__.write=function(en){return Ur(1===arguments.length?en.toString():Array.prototype.join.call(arguments," "))},Qr=mn.__private__.getArrayBuffer=function(en){for(var tn=en.length,nn=new ArrayBuffer(tn),rn=new Uint8Array(nn);tn--;)rn[tn]=en.charCodeAt(tn);return nn},Rr=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];mn.__private__.getStandardFonts=function(){return Rr};var Hr=en.fontSize||16;mn.__private__.setFontSize=mn.setFontSize=function(en){return Hr=xn===Cn.ADVANCED?en/Zr:en,this};var Dr,$r=mn.__private__.getFontSize=mn.getFontSize=function(){return xn===Cn.COMPAT?Hr:Hr*Zr},Gr=en.R2L||!1;mn.__private__.setR2L=mn.setR2L=function(en){return Gr=en,this},mn.__private__.getR2L=mn.getR2L=function(){return Gr};var Vr,Kr=mn.__private__.setZoomMode=function(en){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(en))Dr=en;else if(isNaN(en)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(en))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+en+'" is not recognized.');Dr=en}else Dr=parseInt(en,10)};mn.__private__.getZoomMode=function(){return Dr};var zr,Wr=mn.__private__.setPageMode=function(en){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(en))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+en+'" is not recognized.');Vr=en};mn.__private__.getPageMode=function(){return Vr};var Xr=mn.__private__.setLayoutMode=function(en){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(en))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+en+'" is not recognized.');zr=en};mn.__private__.getLayoutMode=function(){return zr},mn.__private__.setDisplayMode=mn.setDisplayMode=function(en,tn,nn){return Kr(en),Xr(tn),Wr(nn),this};var Yr={title:"",subject:"",author:"",keywords:"",creator:""};mn.__private__.getDocumentProperty=function(en){if(-1===Object.keys(Yr).indexOf(en))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Yr[en]},mn.__private__.getDocumentProperties=function(){return Yr},mn.__private__.setDocumentProperties=mn.setProperties=mn.setDocumentProperties=function(en){for(var tn in Yr)Yr.hasOwnProperty(tn)&&en[tn]&&(Yr[tn]=en[tn]);return this},mn.__private__.setDocumentProperty=function(en,tn){if(-1===Object.keys(Yr).indexOf(en))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Yr[en]=tn};var Jr,Zr,ei,ti,ni,ri={},ii={},ai=[],oi={},si={},Ai={},li={},ci=null,ui=0,hi=[],di=new C(mn),pi=en.hotfixes||[],gi={},fi={},mi=[],yi=function t(en,tn,nn,rn,an,sn){if(!(this instanceof t))return new t(en,tn,nn,rn,an,sn);isNaN(en)&&(en=1),isNaN(tn)&&(tn=0),isNaN(nn)&&(nn=0),isNaN(rn)&&(rn=1),isNaN(an)&&(an=0),isNaN(sn)&&(sn=0),this._matrix=[en,tn,nn,rn,an,sn]};Object.defineProperty(yi.prototype,"sx",{get:function get(){return this._matrix[0]},set:function set(en){this._matrix[0]=en}}),Object.defineProperty(yi.prototype,"shy",{get:function get(){return this._matrix[1]},set:function set(en){this._matrix[1]=en}}),Object.defineProperty(yi.prototype,"shx",{get:function get(){return this._matrix[2]},set:function set(en){this._matrix[2]=en}}),Object.defineProperty(yi.prototype,"sy",{get:function get(){return this._matrix[3]},set:function set(en){this._matrix[3]=en}}),Object.defineProperty(yi.prototype,"tx",{get:function get(){return this._matrix[4]},set:function set(en){this._matrix[4]=en}}),Object.defineProperty(yi.prototype,"ty",{get:function get(){return this._matrix[5]},set:function set(en){this._matrix[5]=en}}),Object.defineProperty(yi.prototype,"a",{get:function get(){return this._matrix[0]},set:function set(en){this._matrix[0]=en}}),Object.defineProperty(yi.prototype,"b",{get:function get(){return this._matrix[1]},set:function set(en){this._matrix[1]=en}}),Object.defineProperty(yi.prototype,"c",{get:function get(){return this._matrix[2]},set:function set(en){this._matrix[2]=en}}),Object.defineProperty(yi.prototype,"d",{get:function get(){return this._matrix[3]},set:function set(en){this._matrix[3]=en}}),Object.defineProperty(yi.prototype,"e",{get:function get(){return this._matrix[4]},set:function set(en){this._matrix[4]=en}}),Object.defineProperty(yi.prototype,"f",{get:function get(){return this._matrix[5]},set:function set(en){this._matrix[5]=en}}),Object.defineProperty(yi.prototype,"rotation",{get:function get(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(yi.prototype,"scaleX",{get:function get(){return this.decompose().scale.sx}}),Object.defineProperty(yi.prototype,"scaleY",{get:function get(){return this.decompose().scale.sy}}),Object.defineProperty(yi.prototype,"isIdentity",{get:function get(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),yi.prototype.join=function(en){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(_n).join(en)},yi.prototype.multiply=function(en){var tn=en.sx*this.sx+en.shy*this.shx,nn=en.sx*this.shy+en.shy*this.sy,rn=en.shx*this.sx+en.sy*this.shx,an=en.shx*this.shy+en.sy*this.sy,sn=en.tx*this.sx+en.ty*this.shx+this.tx,An=en.tx*this.shy+en.ty*this.sy+this.ty;return new yi(tn,nn,rn,an,sn,An)},yi.prototype.decompose=function(){var en=this.sx,tn=this.shy,nn=this.shx,rn=this.sy,an=this.tx,sn=this.ty,An=Math.sqrt(en*en+tn*tn),cn=(en/=An)*nn+(tn/=An)*rn;nn-=en*cn,rn-=tn*cn;var un=Math.sqrt(nn*nn+rn*rn);return cn/=un,en*(rn/=un)<tn*(nn/=un)&&(en=-en,tn=-tn,cn=-cn,An=-An),{scale:new yi(An,0,0,un,0,0),translate:new yi(1,0,0,1,an,sn),rotate:new yi(en,tn,-tn,en,0,0),skew:new yi(1,0,cn,1,0,0)}},yi.prototype.toString=function(en){return this.join(" ")},yi.prototype.inversed=function(){var en=this.sx,tn=this.shy,nn=this.shx,rn=this.sy,an=this.tx,sn=this.ty,An=1/(en*rn-tn*nn),cn=rn*An,un=-tn*An,hn=-nn*An,dn=en*An;return new yi(cn,un,hn,dn,-cn*an-hn*sn,-un*an-dn*sn)},yi.prototype.applyToPoint=function(en){var tn=en.x*this.sx+en.y*this.shx+this.tx,nn=en.x*this.shy+en.y*this.sy+this.ty;return new ao(tn,nn)},yi.prototype.applyToRectangle=function(en){var tn=this.applyToPoint(en),nn=this.applyToPoint(new ao(en.x+en.w,en.y+en.h));return new oo(tn.x,tn.y,nn.x-tn.x,nn.y-tn.y)},yi.prototype.clone=function(){var en=this.sx,tn=this.shy,nn=this.shx,rn=this.sy,an=this.tx,sn=this.ty;return new yi(en,tn,nn,rn,an,sn)},mn.Matrix=yi;var bi=mn.matrixMult=function(en,tn){return tn.multiply(en)},wi=new yi(1,0,0,1,0,0);mn.unitMatrix=mn.identityMatrix=wi;var xi=function Jt(en,tn){if(!si[en]){var nn=(tn instanceof B?"Sh":"P")+(Object.keys(oi).length+1).toString(10);tn.id=nn,si[en]=nn,oi[nn]=tn,di.publish("addPattern",tn)}};mn.ShadingPattern=B,mn.TilingPattern=M,mn.addShadingPattern=function(en,tn){return Sn("addShadingPattern()"),xi(en,tn),this},mn.beginTilingPattern=function(en){Sn("beginTilingPattern()"),Ao(en.boundingBox[0],en.boundingBox[1],en.boundingBox[2]-en.boundingBox[0],en.boundingBox[3]-en.boundingBox[1],en.matrix)},mn.endTilingPattern=function(en,tn){Sn("endTilingPattern()"),tn.stream=Wn[Dn].join("\n"),xi(en,tn),di.publish("endTilingPattern",tn),mi.pop().restore()};var Bi=mn.__private__.newObject=function(){var en=_i();return Si(en,!0),en},_i=mn.__private__.newObjectDeferred=function(){return jn++,Vn[jn]=function(){return qn},jn},Si=function Zt(en,tn){return tn="boolean"==typeof tn&&tn,Vn[en]=qn,tn&&Ur(en+" 0 obj"),en},ki=mn.__private__.newAdditionalObject=function(){var en={objId:_i(),content:""};return zn.push(en),en},Ei=_i(),Pi=_i(),Fi=mn.__private__.decodeColorString=function(en){var tn=en.split(" ");if(2!==tn.length||"g"!==tn[1]&&"G"!==tn[1])5!==tn.length||"k"!==tn[4]&&"K"!==tn[4]||(tn=[(1-tn[0])*(1-tn[3]),(1-tn[1])*(1-tn[3]),(1-tn[2])*(1-tn[3]),"r"]);else{var nn=parseFloat(tn[0]);tn=[nn,nn,nn,"r"]}for(var rn="#",an=0;an<3;an++)rn+=("0"+Math.floor(255*parseFloat(tn[an])).toString(16)).slice(-2);return rn},Li=mn.__private__.encodeColorString=function(en){var tn;"string"==typeof en&&(en={ch1:en});var nn=en.ch1,rn=en.ch2,an=en.ch3,sn=en.ch4,An="draw"===en.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof nn&&"#"!==nn.charAt(0)){var cn=new f$1(nn);if(cn.ok)nn=cn.toHex();else if(!/^\d*\.?\d*$/.test(nn))throw new Error('Invalid color "'+nn+'" passed to jsPDF.encodeColorString.')}if("string"==typeof nn&&/^#[0-9A-Fa-f]{3}$/.test(nn)&&(nn="#"+nn[1]+nn[1]+nn[2]+nn[2]+nn[3]+nn[3]),"string"==typeof nn&&/^#[0-9A-Fa-f]{6}$/.test(nn)){var un=parseInt(nn.substr(1),16);nn=un>>16&255,rn=un>>8&255,an=255&un}if(void 0===rn||void 0===sn&&nn===rn&&rn===an)tn="string"==typeof nn?nn+" "+An[0]:2===en.precision?En(nn/255)+" "+An[0]:Pn(nn/255)+" "+An[0];else if(void 0===sn||"object"===_typeof$1(sn)){if(sn&&!isNaN(sn.a)&&0===sn.a)return["1.","1.","1.",An[1]].join(" ");tn="string"==typeof nn?[nn,rn,an,An[1]].join(" "):2===en.precision?[En(nn/255),En(rn/255),En(an/255),An[1]].join(" "):[Pn(nn/255),Pn(rn/255),Pn(an/255),An[1]].join(" ")}else tn="string"==typeof nn?[nn,rn,an,sn,An[2]].join(" "):2===en.precision?[En(nn),En(rn),En(an),En(sn),An[2]].join(" "):[Pn(nn),Pn(rn),Pn(an),Pn(sn),An[2]].join(" ");return tn},Ii=mn.__private__.getFilters=function(){return An},Ui=mn.__private__.putStream=function(en){var tn=(en=en||{}).data||"",nn=en.filters||Ii(),rn=en.alreadyAppliedFilters||[],an=en.addLength1||!1,sn=tn.length,An=en.objectId,cn=function s(en){return en};if(null!==dn&&void 0===An)throw new Error("ObjectId must be passed to putStream for file encryption");null!==dn&&(cn=Ca.encryptor(An,0));var un={};!0===nn&&(nn=["FlateEncode"]);var hn=en.additionalKeyValues||[],pn=(un=void 0!==E.API.processDataByFilters?E.API.processDataByFilters(tn,nn):{data:tn,reverseChain:[]}).reverseChain+(Array.isArray(rn)?rn.join(" "):rn.toString());if(0!==un.data.length&&(hn.push({key:"Length",value:un.data.length}),!0===an&&hn.push({key:"Length1",value:sn})),0!=pn.length)if(pn.split("/").length-1==1)hn.push({key:"Filter",value:pn});else{hn.push({key:"Filter",value:"["+pn+"]"});for(var gn=0;gn<hn.length;gn+=1)if("DecodeParms"===hn[gn].key){for(var mn=[],vn=0;vn<un.reverseChain.split("/").length-1;vn+=1)mn.push("null");mn.push(hn[gn].value),hn[gn].value="["+mn.join(" ")+"]"}}Ur("<<");for(var yn=0;yn<hn.length;yn++)Ur("/"+hn[yn].key+" "+hn[yn].value);Ur(">>"),0!==un.data.length&&(Ur("stream"),Ur(cn(un.data)),Ur("endstream"))},Ti=mn.__private__.putPage=function(en){var tn=en.number,nn=en.data,rn=en.objId,an=en.contentsObjId;Si(rn,!0),Ur("<</Type /Page"),Ur("/Parent "+en.rootDictionaryObjId+" 0 R"),Ur("/Resources "+en.resourceDictionaryObjId+" 0 R"),Ur("/MediaBox ["+parseFloat(_n(en.mediaBox.bottomLeftX))+" "+parseFloat(_n(en.mediaBox.bottomLeftY))+" "+_n(en.mediaBox.topRightX)+" "+_n(en.mediaBox.topRightY)+"]"),null!==en.cropBox&&Ur("/CropBox ["+_n(en.cropBox.bottomLeftX)+" "+_n(en.cropBox.bottomLeftY)+" "+_n(en.cropBox.topRightX)+" "+_n(en.cropBox.topRightY)+"]"),null!==en.bleedBox&&Ur("/BleedBox ["+_n(en.bleedBox.bottomLeftX)+" "+_n(en.bleedBox.bottomLeftY)+" "+_n(en.bleedBox.topRightX)+" "+_n(en.bleedBox.topRightY)+"]"),null!==en.trimBox&&Ur("/TrimBox ["+_n(en.trimBox.bottomLeftX)+" "+_n(en.trimBox.bottomLeftY)+" "+_n(en.trimBox.topRightX)+" "+_n(en.trimBox.topRightY)+"]"),null!==en.artBox&&Ur("/ArtBox ["+_n(en.artBox.bottomLeftX)+" "+_n(en.artBox.bottomLeftY)+" "+_n(en.artBox.topRightX)+" "+_n(en.artBox.topRightY)+"]"),"number"==typeof en.userUnit&&1!==en.userUnit&&Ur("/UserUnit "+en.userUnit),di.publish("putPage",{objId:rn,pageContext:hi[tn],pageNumber:tn,page:nn}),Ur("/Contents "+an+" 0 R"),Ur(">>"),Ur("endobj");var sn=nn.join("\n");return xn===Cn.ADVANCED&&(sn+="\nQ"),Si(an,!0),Ui({data:sn,filters:Ii(),objectId:an}),Ur("endobj"),rn},Qi=mn.__private__.putPages=function(){var en,tn,nn=[];for(en=1;en<=ui;en++)hi[en].objId=_i(),hi[en].contentsObjId=_i();for(en=1;en<=ui;en++)nn.push(Ti({number:en,data:Wn[en],objId:hi[en].objId,contentsObjId:hi[en].contentsObjId,mediaBox:hi[en].mediaBox,cropBox:hi[en].cropBox,bleedBox:hi[en].bleedBox,trimBox:hi[en].trimBox,artBox:hi[en].artBox,userUnit:hi[en].userUnit,rootDictionaryObjId:Ei,resourceDictionaryObjId:Pi}));Si(Ei,!0),Ur("<</Type /Pages");var rn="/Kids [";for(tn=0;tn<ui;tn++)rn+=nn[tn]+" 0 R ";Ur(rn+"]"),Ur("/Count "+ui),Ur(">>"),Ur("endobj"),di.publish("postPutPages")},Ni=function se(en){di.publish("putFont",{font:en,out:Ur,newObject:Bi,putStream:Ui}),!0!==en.isAlreadyPutted&&(en.objectNumber=Bi(),Ur("<<"),Ur("/Type /Font"),Ur("/BaseFont /"+F(en.postScriptName)),Ur("/Subtype /Type1"),"string"==typeof en.encoding&&Ur("/Encoding /"+en.encoding),Ur("/FirstChar 32"),Ur("/LastChar 255"),Ur(">>"),Ur("endobj"))},Oi=function ce(){for(var en in ri)ri.hasOwnProperty(en)&&(!1===pn||!0===pn&&gn.hasOwnProperty(en))&&Ni(ri[en])},Mi=function ue(en){en.objectNumber=Bi();var tn=[];tn.push({key:"Type",value:"/XObject"}),tn.push({key:"Subtype",value:"/Form"}),tn.push({key:"BBox",value:"["+[_n(en.x),_n(en.y),_n(en.x+en.width),_n(en.y+en.height)].join(" ")+"]"}),tn.push({key:"Matrix",value:"["+en.matrix.toString()+"]"});var nn=en.pages[1].join("\n");Ui({data:nn,additionalKeyValues:tn,objectId:en.objectNumber}),Ur("endobj")},Ri=function he(){for(var en in gi)gi.hasOwnProperty(en)&&Mi(gi[en])},Hi=function le(en,tn){var nn,rn=[],an=1/(tn-1);for(nn=0;nn<1;nn+=an)rn.push(nn);if(rn.push(1),0!=en[0].offset){var sn={offset:0,color:en[0].color};en.unshift(sn)}if(1!=en[en.length-1].offset){var An={offset:1,color:en[en.length-1].color};en.push(An)}for(var cn="",un=0,hn=0;hn<rn.length;hn++){for(nn=rn[hn];nn>en[un+1].offset;)un++;var dn=en[un].offset,pn=(nn-dn)/(en[un+1].offset-dn),gn=en[un].color,mn=en[un+1].color;cn+=Gn(Math.round((1-pn)*gn[0]+pn*mn[0]).toString(16))+Gn(Math.round((1-pn)*gn[1]+pn*mn[1]).toString(16))+Gn(Math.round((1-pn)*gn[2]+pn*mn[2]).toString(16))}return cn.trim()},Di=function fe(en,tn){tn||(tn=21);var nn=Bi(),rn=Hi(en.colors,tn),an=[];an.push({key:"FunctionType",value:"0"}),an.push({key:"Domain",value:"[0.0 1.0]"}),an.push({key:"Size",value:"["+tn+"]"}),an.push({key:"BitsPerSample",value:"8"}),an.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),an.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ui({data:rn,additionalKeyValues:an,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:nn}),Ur("endobj"),en.objectNumber=Bi(),Ur("<< /ShadingType "+en.type),Ur("/ColorSpace /DeviceRGB");var sn="/Coords ["+_n(parseFloat(en.coords[0]))+" "+_n(parseFloat(en.coords[1]))+" ";2===en.type?sn+=_n(parseFloat(en.coords[2]))+" "+_n(parseFloat(en.coords[3])):sn+=_n(parseFloat(en.coords[2]))+" "+_n(parseFloat(en.coords[3]))+" "+_n(parseFloat(en.coords[4]))+" "+_n(parseFloat(en.coords[5])),Ur(sn+="]"),en.matrix&&Ur("/Matrix ["+en.matrix.toString()+"]"),Ur("/Function "+nn+" 0 R"),Ur("/Extend [true true]"),Ur(">>"),Ur("endobj")},$i=function de(en,tn){var nn=_i(),rn=Bi();tn.push({resourcesOid:nn,objectOid:rn}),en.objectNumber=rn;var an=[];an.push({key:"Type",value:"/Pattern"}),an.push({key:"PatternType",value:"1"}),an.push({key:"PaintType",value:"1"}),an.push({key:"TilingType",value:"1"}),an.push({key:"BBox",value:"["+en.boundingBox.map(_n).join(" ")+"]"}),an.push({key:"XStep",value:_n(en.xStep)}),an.push({key:"YStep",value:_n(en.yStep)}),an.push({key:"Resources",value:nn+" 0 R"}),en.matrix&&an.push({key:"Matrix",value:"["+en.matrix.toString()+"]"}),Ui({data:en.stream,additionalKeyValues:an,objectId:en.objectNumber}),Ur("endobj")},Gi=function pe(en){var tn;for(tn in oi)oi.hasOwnProperty(tn)&&(oi[tn]instanceof B?Di(oi[tn]):oi[tn]instanceof M&&$i(oi[tn],en))},ji=function ge(en){for(var tn in en.objectNumber=Bi(),Ur("<<"),en)switch(tn){case"opacity":Ur("/ca "+En(en[tn]));break;case"stroke-opacity":Ur("/CA "+En(en[tn]))}Ur(">>"),Ur("endobj")},Vi=function me(){var en;for(en in Ai)Ai.hasOwnProperty(en)&&ji(Ai[en])},Ki=function ve(){for(var en in Ur("/XObject <<"),gi)gi.hasOwnProperty(en)&&gi[en].objectNumber>=0&&Ur("/"+en+" "+gi[en].objectNumber+" 0 R");di.publish("putXobjectDict"),Ur(">>")},qi=function be(){Ca.oid=Bi(),Ur("<<"),Ur("/Filter /Standard"),Ur("/V "+Ca.v),Ur("/R "+Ca.r),Ur("/U <"+Ca.toHexString(Ca.U)+">"),Ur("/O <"+Ca.toHexString(Ca.O)+">"),Ur("/P "+Ca.P),Ur(">>"),Ur("endobj")},zi=function ye(){for(var en in Ur("/Font <<"),ri)ri.hasOwnProperty(en)&&(!1===pn||!0===pn&&gn.hasOwnProperty(en))&&Ur("/"+en+" "+ri[en].objectNumber+" 0 R");Ur(">>")},Wi=function we(){if(Object.keys(oi).length>0){for(var en in Ur("/Shading <<"),oi)oi.hasOwnProperty(en)&&oi[en]instanceof B&&oi[en].objectNumber>=0&&Ur("/"+en+" "+oi[en].objectNumber+" 0 R");di.publish("putShadingPatternDict"),Ur(">>")}},Xi=function Ne(en){if(Object.keys(oi).length>0){for(var tn in Ur("/Pattern <<"),oi)oi.hasOwnProperty(tn)&&oi[tn]instanceof mn.TilingPattern&&oi[tn].objectNumber>=0&&oi[tn].objectNumber<en&&Ur("/"+tn+" "+oi[tn].objectNumber+" 0 R");di.publish("putTilingPatternDict"),Ur(">>")}},Yi=function Le(){if(Object.keys(Ai).length>0){var en;for(en in Ur("/ExtGState <<"),Ai)Ai.hasOwnProperty(en)&&Ai[en].objectNumber>=0&&Ur("/"+en+" "+Ai[en].objectNumber+" 0 R");di.publish("putGStateDict"),Ur(">>")}},Ji=function Ae(en){Si(en.resourcesOid,!0),Ur("<<"),Ur("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),zi(),Wi(),Xi(en.objectOid),Yi(),Ki(),Ur(">>"),Ur("endobj")},Zi=function xe(){var en=[];Oi(),Vi(),Ri(),Gi(en),di.publish("putResources"),en.forEach(Ji),Ji({resourcesOid:Pi,objectOid:Number.MAX_SAFE_INTEGER}),di.publish("postPutResources")},ea=function Se(){di.publish("putAdditionalObjects");for(var en=0;en<zn.length;en++){var tn=zn[en];Si(tn.objId,!0),Ur(tn.content),Ur("endobj")}di.publish("postPutAdditionalObjects")},ta=function _e(en){ii[en.fontName]=ii[en.fontName]||{},ii[en.fontName][en.fontStyle]=en.id},na=function Pe(en,tn,nn,rn,an){var sn={id:"F"+(Object.keys(ri).length+1).toString(10),postScriptName:en,fontName:tn,fontStyle:nn,encoding:rn,isStandardFont:an||!1,metadata:{}};return di.publish("addFont",{font:sn,instance:this}),ri[sn.id]=sn,ta(sn),sn.id},ra=function ke(en){for(var tn=0,nn=Rr.length;tn<nn;tn++){var rn=na.call(this,en[tn][0],en[tn][1],en[tn][2],Rr[tn][3],!0);!1===pn&&(gn[rn]=!0);var an=en[tn][0].split("-");ta({id:rn,fontName:an[0],fontStyle:an[1]||""})}di.publish("addFonts",{fonts:ri,dictionary:ii})},ia=function Ie(en){return en.foo=function(){try{return en.apply(this,arguments)}catch(en){var tn=en.stack||"";~tn.indexOf(" at ")&&(tn=tn.split(" at ")[1]);var nn="Error in function "+tn.split("\n")[0].split("<")[0]+": "+en.message;if(!yd.console)throw new Error(nn);yd.console.error(nn,en),yd.alert&&alert(nn)}},en.foo.bar=en,en.foo},aa=function Fe(en,tn){var nn,rn,an,sn,An,cn,un,hn,dn;if(an=(tn=tn||{}).sourceEncoding||"Unicode",An=tn.outputEncoding,(tn.autoencode||An)&&ri[Jr].metadata&&ri[Jr].metadata[an]&&ri[Jr].metadata[an].encoding&&(sn=ri[Jr].metadata[an].encoding,!An&&ri[Jr].encoding&&(An=ri[Jr].encoding),!An&&sn.codePages&&(An=sn.codePages[0]),"string"==typeof An&&(An=sn[An]),An)){for(un=!1,cn=[],nn=0,rn=en.length;nn<rn;nn++)(hn=An[en.charCodeAt(nn)])?cn.push(String.fromCharCode(hn)):cn.push(en[nn]),cn[nn].charCodeAt(0)>>8&&(un=!0);en=cn.join("")}for(nn=en.length;void 0===un&&0!==nn;)en.charCodeAt(nn-1)>>8&&(un=!0),nn--;if(!un)return en;for(cn=tn.noBOM?[]:[254,255],nn=0,rn=en.length;nn<rn;nn++){if((dn=(hn=en.charCodeAt(nn))>>8)>>8)throw new Error("Character at position "+nn+" of string '"+en+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");cn.push(dn),cn.push(hn-(dn<<8))}return String.fromCharCode.apply(void 0,cn)},oa=mn.__private__.pdfEscape=mn.pdfEscape=function(en,tn){return aa(en,tn).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},sa=mn.__private__.beginPage=function(en){Wn[++ui]=[],hi[ui]={objId:0,contentsObjId:0,userUnit:Number(cn),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(en[0]),topRightY:Number(en[1])}},ca(ui),Zn(Wn[Dn])},Aa=function Oe(en,tn){var rn,sn,An;switch(nn=tn||nn,"string"==typeof en&&(rn=wn(en.toLowerCase()),Array.isArray(rn)&&(sn=rn[0],An=rn[1])),Array.isArray(en)&&(sn=en[0]*Zr,An=en[1]*Zr),isNaN(sn)&&(sn=an[0],An=an[1]),(sn>14400||An>14400)&&(bd.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),sn=Math.min(14400,sn),An=Math.min(14400,An)),an=[sn,An],nn.substr(0,1)){case"l":An>sn&&(an=[An,sn]);break;case"p":sn>An&&(an=[An,sn])}sa(an),$a(Ha),Ur(Xa),0!==no&&Ur(no+" J"),0!==ro&&Ur(ro+" j"),di.publish("addPage",{pageNumber:ui})},la=function Be(en){en>0&&en<=ui&&(Wn.splice(en,1),hi.splice(en,1),ui--,Dn>ui&&(Dn=ui),this.setPage(Dn))},ca=function Me(en){en>0&&en<=ui&&(Dn=en)},ua=mn.__private__.getNumberOfPages=mn.getNumberOfPages=function(){return Wn.length-1},ha=function qe(en,tn,nn){var rn,an=void 0;return nn=nn||{},en=void 0!==en?en:ri[Jr].fontName,tn=void 0!==tn?tn:ri[Jr].fontStyle,rn=en.toLowerCase(),void 0!==ii[rn]&&void 0!==ii[rn][tn]?an=ii[rn][tn]:void 0!==ii[en]&&void 0!==ii[en][tn]?an=ii[en][tn]:!1===nn.disableWarning&&bd.warn("Unable to look up font label for font '"+en+"', '"+tn+"'. Refer to getFontList() for available fonts."),an||nn.noFallback||null==(an=ii.times[tn])&&(an=ii.times.normal),an},da=mn.__private__.putInfo=function(){var en=Bi(),tn=function e(en){return en};for(var nn in null!==dn&&(tn=Ca.encryptor(en,0)),Ur("<<"),Ur("/Producer ("+oa(tn("jsPDF "+E.version))+")"),Yr)Yr.hasOwnProperty(nn)&&Yr[nn]&&Ur("/"+nn.substr(0,1).toUpperCase()+nn.substr(1)+" ("+oa(tn(Yr[nn]))+")");Ur("/CreationDate ("+oa(tn(Un))+")"),Ur(">>"),Ur("endobj")},pa=mn.__private__.putCatalog=function(en){var tn=(en=en||{}).rootDictionaryObjId||Ei;switch(Bi(),Ur("<<"),Ur("/Type /Catalog"),Ur("/Pages "+tn+" 0 R"),Dr||(Dr="fullwidth"),Dr){case"fullwidth":Ur("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Ur("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Ur("/OpenAction [3 0 R /Fit]");break;case"original":Ur("/OpenAction [3 0 R /XYZ null null 1]");break;default:var nn=""+Dr;"%"===nn.substr(nn.length-1)&&(Dr=parseInt(Dr)/100),"number"==typeof Dr&&Ur("/OpenAction [3 0 R /XYZ null null "+En(Dr)+"]")}switch(zr||(zr="continuous"),zr){case"continuous":Ur("/PageLayout /OneColumn");break;case"single":Ur("/PageLayout /SinglePage");break;case"two":case"twoleft":Ur("/PageLayout /TwoColumnLeft");break;case"tworight":Ur("/PageLayout /TwoColumnRight")}Vr&&Ur("/PageMode /"+Vr),di.publish("putCatalog"),Ur(">>"),Ur("endobj")},ga=mn.__private__.putTrailer=function(){Ur("trailer"),Ur("<<"),Ur("/Size "+(jn+1)),Ur("/Root "+jn+" 0 R"),Ur("/Info "+(jn-1)+" 0 R"),null!==dn&&Ur("/Encrypt "+Ca.oid+" 0 R"),Ur("/ID [ <"+Tn+"> <"+Tn+"> ]"),Ur(">>")},fa=mn.__private__.putHeader=function(){Ur("%PDF-"+vn),Ur("%ºß¬à")},ma=mn.__private__.putXRef=function(){var en="0000000000";Ur("xref"),Ur("0 "+(jn+1)),Ur("0000000000 65535 f ");for(var tn=1;tn<=jn;tn++)"function"==typeof Vn[tn]?Ur((en+Vn[tn]()).slice(-10)+" 00000 n "):void 0!==Vn[tn]?Ur((en+Vn[tn]).slice(-10)+" 00000 n "):Ur("0000000000 00000 n ")},va=mn.__private__.buildDocument=function(){Jn(),Zn(Kn),di.publish("buildDocument"),fa(),Qi(),ea(),Zi(),null!==dn&&qi(),da(),pa();var en=qn;return ma(),ga(),Ur("startxref"),Ur(""+en),Ur("%%EOF"),Zn(Wn[Dn]),Kn.join("\n")},ya=mn.__private__.getBlob=function(en){return new Blob([Qr(en)],{type:"application/pdf"})},ba=mn.output=mn.__private__.output=ia((function(en,tn){switch("string"==typeof(tn=tn||{})?tn={filename:tn}:tn.filename=tn.filename||"generated.pdf",en){case void 0:return va();case"save":mn.save(tn.filename);break;case"arraybuffer":return Qr(va());case"blob":return ya(va());case"bloburi":case"bloburl":if(void 0!==yd.URL&&"function"==typeof yd.URL.createObjectURL)return yd.URL&&yd.URL.createObjectURL(ya(va()))||void 0;bd.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var nn="",rn=va();try{nn=Cd(rn)}catch(en){nn=Cd(unescape(encodeURIComponent(rn)))}return"data:application/pdf;filename="+tn.filename+";base64,"+nn;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(yd)){var an="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",sn=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';tn.pdfObjectUrl&&(an=tn.pdfObjectUrl,sn="");var An='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+an+'"'+sn+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(tn)+");<\/script></body></html>",cn=yd.open();return null!==cn&&cn.document.write(An),cn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(yd)){var un='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(tn.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+tn.filename+'" width="500px" height="400px" /></body></html>',hn=yd.open();if(null!==hn){hn.document.write(un);var dn=this;hn.document.documentElement.querySelector("#pdfViewer").onload=function(){hn.document.title=tn.filename,hn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(dn.output("bloburl"))}}return hn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(yd))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var pn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",tn)+'"></iframe></body></html>',gn=yd.open();if(null!==gn&&(gn.document.write(pn),gn.document.title=tn.filename),gn||"undefined"==typeof safari)return gn;break;case"datauri":case"dataurl":return yd.document.location.href=this.output("datauristring",tn);default:return null}})),wa=function Ge(en){return!0===Array.isArray(pi)&&pi.indexOf(en)>-1};switch(rn){case"pt":Zr=1;break;case"mm":Zr=72/25.4;break;case"cm":Zr=72/2.54;break;case"in":Zr=72;break;case"px":Zr=1==wa("px_scaling")?.75:96/72;break;case"pc":case"em":Zr=12;break;case"ex":Zr=6;break;default:if("number"!=typeof rn)throw new Error("Invalid unit: "+rn);Zr=rn}var Ca=null;Rn(),Nn();var xa=function Je(en){return null!==dn?Ca.encryptor(en,0):function(en){return en}},Ba=mn.__private__.getPageInfo=mn.getPageInfo=function(en){if(isNaN(en)||en%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:hi[en].objId,pageNumber:en,pageContext:hi[en]}},_a=mn.__private__.getPageInfoByObjId=function(en){if(isNaN(en)||en%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var tn in hi)if(hi[tn].objId===en)break;return Ba(tn)},Sa=mn.__private__.getCurrentPageInfo=mn.getCurrentPageInfo=function(){return{objId:hi[Dn].objId,pageNumber:Dn,pageContext:hi[Dn]}};mn.addPage=function(){return Aa.apply(this,arguments),this},mn.setPage=function(){return ca.apply(this,arguments),Zn.call(this,Wn[Dn]),this},mn.insertPage=function(en){return this.addPage(),this.movePage(Dn,en),this},mn.movePage=function(en,tn){var nn,rn;if(en>tn){nn=Wn[en],rn=hi[en];for(var an=en;an>tn;an--)Wn[an]=Wn[an-1],hi[an]=hi[an-1];Wn[tn]=nn,hi[tn]=rn,this.setPage(tn)}else if(en<tn){nn=Wn[en],rn=hi[en];for(var sn=en;sn<tn;sn++)Wn[sn]=Wn[sn+1],hi[sn]=hi[sn+1];Wn[tn]=nn,hi[tn]=rn,this.setPage(tn)}return this},mn.deletePage=function(){return la.apply(this,arguments),this},mn.__private__.text=mn.text=function(en,tn,nn,rn,an){var sn,An,cn,un,hn,dn,pn,mn,vn,yn=(rn=rn||{}).scope||this;if("number"==typeof en&&"number"==typeof tn&&("string"==typeof nn||Array.isArray(nn))){var bn=nn;nn=tn,tn=en,en=bn}if(arguments[3]instanceof yi==0?(cn=arguments[4],un=arguments[5],"object"===_typeof$1(pn=arguments[3])&&null!==pn||("string"==typeof cn&&(un=cn,cn=null),"string"==typeof pn&&(un=pn,pn=null),"number"==typeof pn&&(cn=pn,pn=null),rn={flags:pn,angle:cn,align:un})):(Sn("The transform parameter of text() with a Matrix value"),vn=an),isNaN(tn)||isNaN(nn)||null==en)throw new Error("Invalid arguments passed to jsPDF.text");if(0===en.length)return yn;var wn="",Bn=!1,kn="number"==typeof rn.lineHeightFactor?rn.lineHeightFactor:Ra,En=yn.internal.scaleFactor;function L(en){return en=en.split("\t").join(Array(rn.TabLen||9).join(" ")),oa(en,pn)}function A(en){for(var tn,nn=en.concat(),rn=[],an=nn.length;an--;)"string"==typeof(tn=nn.shift())?rn.push(tn):Array.isArray(en)&&(1===tn.length||void 0===tn[1]&&void 0===tn[2])?rn.push(tn[0]):rn.push([tn[0],tn[1],tn[2]]);return rn}function _(en,tn){var nn;if("string"==typeof en)nn=tn(en)[0];else if(Array.isArray(en)){for(var rn,an,sn=en.concat(),An=[],cn=sn.length;cn--;)"string"==typeof(rn=sn.shift())?An.push(tn(rn)[0]):Array.isArray(rn)&&"string"==typeof rn[0]&&(an=tn(rn[0],rn[1],rn[2]),An.push([an[0],an[1],an[2]]));nn=An}return nn}var Pn=!1,Ln=!0;if("string"==typeof en)Pn=!0;else if(Array.isArray(en)){var In=en.concat();An=[];for(var Un,Tn=In.length;Tn--;)("string"!=typeof(Un=In.shift())||Array.isArray(Un)&&"string"!=typeof Un[0])&&(Ln=!1);Pn=Ln}if(!1===Pn)throw new Error('Type of text must be string or Array. "'+en+'" is not recognized.');"string"==typeof en&&(en=en.match(/[\r?\n]/)?en.split(/\r\n|\r|\n/g):[en]);var Qn=Hr/yn.internal.scaleFactor,Nn=Qn*(kn-1);switch(rn.baseline){case"bottom":nn-=Nn;break;case"top":nn+=Qn-Nn;break;case"hanging":nn+=Qn-2*Nn;break;case"middle":nn+=Qn/2-Nn}if((dn=rn.maxWidth||0)>0&&("string"==typeof en?en=yn.splitTextToSize(en,dn):"[object Array]"===Object.prototype.toString.call(en)&&(en=en.reduce((function(en,tn){return en.concat(yn.splitTextToSize(tn,dn))}),[]))),sn={text:en,x:tn,y:nn,options:rn,mutex:{pdfEscape:oa,activeFontKey:Jr,fonts:ri,activeFontSize:Hr}},di.publish("preProcessText",sn),en=sn.text,cn=(rn=sn.options).angle,vn instanceof yi==0&&cn&&"number"==typeof cn){cn*=Math.PI/180,0===rn.rotationDirection&&(cn=-cn),xn===Cn.ADVANCED&&(cn=-cn);var On=Math.cos(cn),Mn=Math.sin(cn);vn=new yi(On,Mn,-Mn,On,0,0)}else cn&&cn instanceof yi&&(vn=cn);xn!==Cn.ADVANCED||vn||(vn=wi),void 0!==(hn=rn.charSpace||eo)&&(wn+=_n(Fn(hn))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(mn=rn.horizontalScale)&&(wn+=_n(100*mn)+" Tz\n"),rn.lang;var Rn=-1,Hn=void 0!==rn.renderingMode?rn.renderingMode:rn.stroke,Dn=yn.internal.getCurrentPageInfo().pageContext;switch(Hn){case 0:case!1:case"fill":Rn=0;break;case 1:case!0:case"stroke":Rn=1;break;case 2:case"fillThenStroke":Rn=2;break;case 3:case"invisible":Rn=3;break;case 4:case"fillAndAddForClipping":Rn=4;break;case 5:case"strokeAndAddPathForClipping":Rn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Rn=6;break;case 7:case"addToPathForClipping":Rn=7}var $n=void 0!==Dn.usedRenderingMode?Dn.usedRenderingMode:-1;-1!==Rn?wn+=Rn+" Tr\n":-1!==$n&&(wn+="0 Tr\n"),-1!==Rn&&(Dn.usedRenderingMode=Rn),un=rn.align||"left";var Gn,jn=Hr*kn,Vn=yn.internal.pageSize.getWidth(),Kn=ri[Jr];hn=rn.charSpace||eo,dn=rn.maxWidth||0,pn=Object.assign({autoencode:!0,noBOM:!0},rn.flags);var qn=[];if("[object Array]"===Object.prototype.toString.call(en)){var zn;An=A(en),"left"!==un&&(Gn=An.map((function(en){return yn.getStringUnitWidth(en,{font:Kn,charSpace:hn,fontSize:Hr,doKerning:!1})*Hr/En})));var Wn,Xn=0;if("right"===un){tn-=Gn[0],en=[],Tn=An.length;for(var Yn=0;Yn<Tn;Yn++)0===Yn?(Wn=Ka(tn),zn=qa(nn)):(Wn=Fn(Xn-Gn[Yn]),zn=-jn),en.push([An[Yn],Wn,zn]),Xn=Gn[Yn]}else if("center"===un){tn-=Gn[0]/2,en=[],Tn=An.length;for(var Jn=0;Jn<Tn;Jn++)0===Jn?(Wn=Ka(tn),zn=qa(nn)):(Wn=Fn((Xn-Gn[Jn])/2),zn=-jn),en.push([An[Jn],Wn,zn]),Xn=Gn[Jn]}else if("left"===un){en=[],Tn=An.length;for(var Zn=0;Zn<Tn;Zn++)en.push(An[Zn])}else{if("justify"!==un)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');en=[],Tn=An.length,dn=0!==dn?dn:Vn;for(var Tr=0;Tr<Tn;Tr++)zn=0===Tr?qa(nn):-jn,Wn=0===Tr?Ka(tn):0,Tr<Tn-1?qn.push(_n(Fn((dn-Gn[Tr])/(An[Tr].split(" ").length-1)))):qn.push(0),en.push([An[Tr],Wn,zn])}}var Qr="boolean"==typeof rn.R2L?rn.R2L:Gr;!0===Qr&&(en=_(en,(function(en,tn,nn){return[en.split("").reverse().join(""),tn,nn]}))),sn={text:en,x:tn,y:nn,options:rn,mutex:{pdfEscape:oa,activeFontKey:Jr,fonts:ri,activeFontSize:Hr}},di.publish("postProcessText",sn),en=sn.text,Bn=sn.mutex.isHex||!1;var Rr=ri[Jr].encoding;"WinAnsiEncoding"!==Rr&&"StandardEncoding"!==Rr||(en=_(en,(function(en,tn,nn){return[L(en),tn,nn]}))),An=A(en),en=[];for(var Dr,$r,Vr,Kr=0,zr=1,Wr=Array.isArray(An[0])?zr:Kr,Xr="",Yr=function ht(en,tn,nn){var an="";return nn instanceof yi?(nn="number"==typeof rn.angle?bi(nn,new yi(1,0,0,1,en,tn)):bi(new yi(1,0,0,1,en,tn),nn),xn===Cn.ADVANCED&&(nn=bi(new yi(1,0,0,-1,0,0),nn)),an=nn.join(" ")+" Tm\n"):an=_n(en)+" "+_n(tn)+" Td\n",an},Zr=0;Zr<An.length;Zr++){switch(Xr="",Wr){case zr:Vr=(Bn?"<":"(")+An[Zr][0]+(Bn?">":")"),Dr=parseFloat(An[Zr][1]),$r=parseFloat(An[Zr][2]);break;case Kr:Vr=(Bn?"<":"(")+An[Zr]+(Bn?">":")"),Dr=Ka(tn),$r=qa(nn)}void 0!==qn&&void 0!==qn[Zr]&&(Xr=qn[Zr]+" Tw\n"),0===Zr?en.push(Xr+Yr(Dr,$r,vn)+Vr):Wr===Kr?en.push(Xr+Vr):Wr===zr&&en.push(Xr+Yr(Dr,$r,vn)+Vr)}en=Wr===Kr?en.join(" Tj\nT* "):en.join(" Tj\n"),en+=" Tj\n";var ei="BT\n/";return ei+=Jr+" "+Hr+" Tf\n",ei+=_n(Hr*kn)+" TL\n",ei+=Ja+"\n",ei+=wn,ei+=en,Ur(ei+="ET"),gn[Jr]=!0,yn};var ka=mn.__private__.clip=mn.clip=function(en){return Ur("evenodd"===en?"W*":"W"),this};mn.clipEvenOdd=function(){return ka("evenodd")},mn.__private__.discardPath=mn.discardPath=function(){return Ur("n"),this};var Ea=mn.__private__.isValidStyle=function(en){var tn=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(en)&&(tn=!0),tn};mn.__private__.setDefaultPathOperation=mn.setDefaultPathOperation=function(en){return Ea(en)&&(hn=en),this};var Pa=mn.__private__.getStyle=mn.getStyle=function(en){var tn=hn;switch(en){case"D":case"S":tn="S";break;case"F":tn="f";break;case"FD":case"DF":tn="B";break;case"f":case"f*":case"B":case"B*":tn=en}return tn},Fa=mn.close=function(){return Ur("h"),this};mn.stroke=function(){return Ur("S"),this},mn.fill=function(en){return La("f",en),this},mn.fillEvenOdd=function(en){return La("f*",en),this},mn.fillStroke=function(en){return La("B",en),this},mn.fillStrokeEvenOdd=function(en){return La("B*",en),this};var La=function rr(en,tn){"object"===_typeof$1(tn)?Ua(tn,en):Ur(en)},Ia=function nr(en){null===en||xn===Cn.ADVANCED&&void 0===en||(en=Pa(en),Ur(en))};function ir(en,tn,nn,rn,an){var sn=new M(tn||this.boundingBox,nn||this.xStep,rn||this.yStep,this.gState,an||this.matrix);sn.stream=this.stream;var An=en+"$$"+this.cloneIndex+++"$$";return xi(An,sn),sn}var Ua=function ar(en,tn){var nn=si[en.key],rn=oi[nn];if(rn instanceof B)Ur("q"),Ur(Ta(tn)),rn.gState&&mn.setGState(rn.gState),Ur(en.matrix.toString()+" cm"),Ur("/"+nn+" sh"),Ur("Q");else if(rn instanceof M){var an=new yi(1,0,0,-1,0,po());en.matrix&&(an=an.multiply(en.matrix||wi),nn=ir.call(rn,en.key,en.boundingBox,en.xStep,en.yStep,an).id),Ur("q"),Ur("/Pattern cs"),Ur("/"+nn+" scn"),rn.gState&&mn.setGState(rn.gState),Ur(tn),Ur("Q")}},Ta=function or(en){switch(en){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Qa=mn.moveTo=function(en,tn){return Ur(_n(Fn(en))+" "+_n(In(tn))+" m"),this},Na=mn.lineTo=function(en,tn){return Ur(_n(Fn(en))+" "+_n(In(tn))+" l"),this},Oa=mn.curveTo=function(en,tn,nn,rn,an,sn){return Ur([_n(Fn(en)),_n(In(tn)),_n(Fn(nn)),_n(In(rn)),_n(Fn(an)),_n(In(sn)),"c"].join(" ")),this};mn.__private__.line=mn.line=function(en,tn,nn,rn,an){if(isNaN(en)||isNaN(tn)||isNaN(nn)||isNaN(rn)||!Ea(an))throw new Error("Invalid arguments passed to jsPDF.line");return xn===Cn.COMPAT?this.lines([[nn-en,rn-tn]],en,tn,[1,1],an||"S"):this.lines([[nn-en,rn-tn]],en,tn,[1,1]).stroke()},mn.__private__.lines=mn.lines=function(en,tn,nn,rn,an,sn){var An,cn,un,hn,dn,pn,gn,mn,vn,yn,bn,wn;if("number"==typeof en&&(wn=nn,nn=tn,tn=en,en=wn),rn=rn||[1,1],sn=sn||!1,isNaN(tn)||isNaN(nn)||!Array.isArray(en)||!Array.isArray(rn)||!Ea(an)||"boolean"!=typeof sn)throw new Error("Invalid arguments passed to jsPDF.lines");for(Qa(tn,nn),An=rn[0],cn=rn[1],hn=en.length,yn=tn,bn=nn,un=0;un<hn;un++)2===(dn=en[un]).length?(yn=dn[0]*An+yn,bn=dn[1]*cn+bn,Na(yn,bn)):(pn=dn[0]*An+yn,gn=dn[1]*cn+bn,mn=dn[2]*An+yn,vn=dn[3]*cn+bn,yn=dn[4]*An+yn,bn=dn[5]*cn+bn,Oa(pn,gn,mn,vn,yn,bn));return sn&&Fa(),Ia(an),this},mn.path=function(en){for(var tn=0;tn<en.length;tn++){var nn=en[tn],rn=nn.c;switch(nn.op){case"m":Qa(rn[0],rn[1]);break;case"l":Na(rn[0],rn[1]);break;case"c":Oa.apply(this,rn);break;case"h":Fa()}}return this},mn.__private__.rect=mn.rect=function(en,tn,nn,rn,an){if(isNaN(en)||isNaN(tn)||isNaN(nn)||isNaN(rn)||!Ea(an))throw new Error("Invalid arguments passed to jsPDF.rect");return xn===Cn.COMPAT&&(rn=-rn),Ur([_n(Fn(en)),_n(In(tn)),_n(Fn(nn)),_n(Fn(rn)),"re"].join(" ")),Ia(an),this},mn.__private__.triangle=mn.triangle=function(en,tn,nn,rn,an,sn,An){if(isNaN(en)||isNaN(tn)||isNaN(nn)||isNaN(rn)||isNaN(an)||isNaN(sn)||!Ea(An))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[nn-en,rn-tn],[an-nn,sn-rn],[en-an,tn-sn]],en,tn,[1,1],An,!0),this},mn.__private__.roundedRect=mn.roundedRect=function(en,tn,nn,rn,an,sn,An){if(isNaN(en)||isNaN(tn)||isNaN(nn)||isNaN(rn)||isNaN(an)||isNaN(sn)||!Ea(An))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var cn=4/3*(Math.SQRT2-1);return an=Math.min(an,.5*nn),sn=Math.min(sn,.5*rn),this.lines([[nn-2*an,0],[an*cn,0,an,sn-sn*cn,an,sn],[0,rn-2*sn],[0,sn*cn,-an*cn,sn,-an,sn],[2*an-nn,0],[-an*cn,0,-an,-sn*cn,-an,-sn],[0,2*sn-rn],[0,-sn*cn,an*cn,-sn,an,-sn]],en+an,tn,[1,1],An,!0),this},mn.__private__.ellipse=mn.ellipse=function(en,tn,nn,rn,an){if(isNaN(en)||isNaN(tn)||isNaN(nn)||isNaN(rn)||!Ea(an))throw new Error("Invalid arguments passed to jsPDF.ellipse");var sn=4/3*(Math.SQRT2-1)*nn,An=4/3*(Math.SQRT2-1)*rn;return Qa(en+nn,tn),Oa(en+nn,tn-An,en+sn,tn-rn,en,tn-rn),Oa(en-sn,tn-rn,en-nn,tn-An,en-nn,tn),Oa(en-nn,tn+An,en-sn,tn+rn,en,tn+rn),Oa(en+sn,tn+rn,en+nn,tn+An,en+nn,tn),Ia(an),this},mn.__private__.circle=mn.circle=function(en,tn,nn,rn){if(isNaN(en)||isNaN(tn)||isNaN(nn)||!Ea(rn))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(en,tn,nn,nn,rn)},mn.setFont=function(en,tn,nn){return nn&&(tn=Bn(tn,nn)),Jr=ha(en,tn,{disableWarning:!1}),this};var Ma=mn.__private__.getFont=mn.getFont=function(){return ri[ha.apply(mn,arguments)]};mn.__private__.getFontList=mn.getFontList=function(){var en,tn,nn={};for(en in ii)if(ii.hasOwnProperty(en))for(tn in nn[en]=[],ii[en])ii[en].hasOwnProperty(tn)&&nn[en].push(tn);return nn},mn.addFont=function(en,tn,nn,rn,an){var sn=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==sn.indexOf(arguments[3])?an=arguments[3]:arguments[3]&&-1==sn.indexOf(arguments[3])&&(nn=Bn(nn,rn)),an=an||"Identity-H",na.call(this,en,tn,nn,an)};var Ra,Ha=en.lineWidth||.200025,Da=mn.__private__.getLineWidth=mn.getLineWidth=function(){return Ha},$a=mn.__private__.setLineWidth=mn.setLineWidth=function(en){return Ha=en,Ur(_n(Fn(en))+" w"),this};mn.__private__.setLineDash=E.API.setLineDash=E.API.setLineDashPattern=function(en,tn){if(en=en||[],tn=tn||0,isNaN(tn)||!Array.isArray(en))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return en=en.map((function(en){return _n(Fn(en))})).join(" "),tn=_n(Fn(tn)),Ur("["+en+"] "+tn+" d"),this};var Ga=mn.__private__.getLineHeight=mn.getLineHeight=function(){return Hr*Ra};mn.__private__.getLineHeight=mn.getLineHeight=function(){return Hr*Ra};var ja=mn.__private__.setLineHeightFactor=mn.setLineHeightFactor=function(en){return"number"==typeof(en=en||1.15)&&(Ra=en),this},Va=mn.__private__.getLineHeightFactor=mn.getLineHeightFactor=function(){return Ra};ja(en.lineHeight);var Ka=mn.__private__.getHorizontalCoordinate=function(en){return Fn(en)},qa=mn.__private__.getVerticalCoordinate=function(en){return xn===Cn.ADVANCED?en:hi[Dn].mediaBox.topRightY-hi[Dn].mediaBox.bottomLeftY-Fn(en)},za=mn.__private__.getHorizontalCoordinateString=mn.getHorizontalCoordinateString=function(en){return _n(Ka(en))},Wa=mn.__private__.getVerticalCoordinateString=mn.getVerticalCoordinateString=function(en){return _n(qa(en))},Xa=en.strokeColor||"0 G";mn.__private__.getStrokeColor=mn.getDrawColor=function(){return Fi(Xa)},mn.__private__.setStrokeColor=mn.setDrawColor=function(en,tn,nn,rn){return Xa=Li({ch1:en,ch2:tn,ch3:nn,ch4:rn,pdfColorType:"draw",precision:2}),Ur(Xa),this};var Ya=en.fillColor||"0 g";mn.__private__.getFillColor=mn.getFillColor=function(){return Fi(Ya)},mn.__private__.setFillColor=mn.setFillColor=function(en,tn,nn,rn){return Ya=Li({ch1:en,ch2:tn,ch3:nn,ch4:rn,pdfColorType:"fill",precision:2}),Ur(Ya),this};var Ja=en.textColor||"0 g",Za=mn.__private__.getTextColor=mn.getTextColor=function(){return Fi(Ja)};mn.__private__.setTextColor=mn.setTextColor=function(en,tn,nn,rn){return Ja=Li({ch1:en,ch2:tn,ch3:nn,ch4:rn,pdfColorType:"text",precision:3}),this};var eo=en.charSpace,to=mn.__private__.getCharSpace=mn.getCharSpace=function(){return parseFloat(eo||0)};mn.__private__.setCharSpace=mn.setCharSpace=function(en){if(isNaN(en))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return eo=en,this};var no=0;mn.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},mn.__private__.setLineCap=mn.setLineCap=function(en){var tn=mn.CapJoinStyles[en];if(void 0===tn)throw new Error("Line cap style of '"+en+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return no=tn,Ur(tn+" J"),this};var ro=0;mn.__private__.setLineJoin=mn.setLineJoin=function(en){var tn=mn.CapJoinStyles[en];if(void 0===tn)throw new Error("Line join style of '"+en+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ro=tn,Ur(tn+" j"),this},mn.__private__.setLineMiterLimit=mn.__private__.setMiterLimit=mn.setLineMiterLimit=mn.setMiterLimit=function(en){if(en=en||0,isNaN(en))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Ur(_n(Fn(en))+" M"),this},mn.GState=j,mn.setGState=function(en){(en="string"==typeof en?Ai[li[en]]:io(null,en)).equals(ci)||(Ur("/"+en.id+" gs"),ci=en)};var io=function Fr(en,tn){if(!en||!li[en]){var nn=!1;for(var rn in Ai)if(Ai.hasOwnProperty(rn)&&Ai[rn].equals(tn)){nn=!0;break}if(nn)tn=Ai[rn];else{var an="GS"+(Object.keys(Ai).length+1).toString(10);Ai[an]=tn,tn.id=an}return en&&(li[en]=tn.id),di.publish("addGState",tn),tn}};mn.addGState=function(en,tn){return io(en,tn),this},mn.saveGraphicsState=function(){return Ur("q"),ai.push({key:Jr,size:Hr,color:Ja}),this},mn.restoreGraphicsState=function(){Ur("Q");var en=ai.pop();return Jr=en.key,Hr=en.size,Ja=en.color,ci=null,this},mn.setCurrentTransformationMatrix=function(en){return Ur(en.toString()+" cm"),this},mn.comment=function(en){return Ur("#"+en),this};var ao=function Cr(en,tn){var nn=en||0;Object.defineProperty(this,"x",{enumerable:!0,get:function get(){return nn},set:function set(en){isNaN(en)||(nn=parseFloat(en))}});var rn=tn||0;Object.defineProperty(this,"y",{enumerable:!0,get:function get(){return rn},set:function set(en){isNaN(en)||(rn=parseFloat(en))}});var an="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function get(){return an},set:function set(en){an=en.toString()}}),this},oo=function jr(en,tn,nn,rn){ao.call(this,en,tn),this.type="rect";var an=nn||0;Object.defineProperty(this,"w",{enumerable:!0,get:function get(){return an},set:function set(en){isNaN(en)||(an=parseFloat(en))}});var sn=rn||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function get(){return sn},set:function set(en){isNaN(en)||(sn=parseFloat(en))}}),this},so=function Or(){this.page=ui,this.currentPage=Dn,this.pages=Wn.slice(0),this.pagesContext=hi.slice(0),this.x=ei,this.y=ti,this.matrix=ni,this.width=uo(Dn),this.height=po(Dn),this.outputDestination=Yn,this.id="",this.objectNumber=-1};so.prototype.restore=function(){ui=this.page,Dn=this.currentPage,hi=this.pagesContext,Wn=this.pages,ei=this.x,ti=this.y,ni=this.matrix,ho(Dn,this.width),go(Dn,this.height),Yn=this.outputDestination};var Ao=function Br(en,tn,nn,rn,an){mi.push(new so),ui=Dn=0,Wn=[],ei=en,ti=tn,ni=an,sa([nn,rn])},lo=function Mr(en){if(fi[en])mi.pop().restore();else{var tn=new so,nn="Xo"+(Object.keys(gi).length+1).toString(10);tn.id=nn,fi[en]=nn,gi[nn]=tn,di.publish("addFormObject",tn),mi.pop().restore()}};for(var co in mn.beginFormObject=function(en,tn,nn,rn,an){return Ao(en,tn,nn,rn,an),this},mn.endFormObject=function(en){return lo(en),this},mn.doFormObject=function(en,tn){var nn=gi[fi[en]];return Ur("q"),Ur(tn.toString()+" cm"),Ur("/"+nn.id+" Do"),Ur("Q"),this},mn.getFormObject=function(en){var tn=gi[fi[en]];return{x:tn.x,y:tn.y,width:tn.width,height:tn.height,matrix:tn.matrix}},mn.save=function(en,tn){return en=en||"generated.pdf",(tn=tn||{}).returnPromise=tn.returnPromise||!1,!1===tn.returnPromise?(xd(ya(va()),en),"function"==typeof xd.unload&&yd.setTimeout&&setTimeout(xd.unload,911),this):new Promise((function(tn,nn){try{var rn=xd(ya(va()),en);"function"==typeof xd.unload&&yd.setTimeout&&setTimeout(xd.unload,911),tn(rn)}catch(en){nn(en.message)}}))},E.API)E.API.hasOwnProperty(co)&&("events"===co&&E.API.events.length?function(en,tn){var nn,rn,an;for(an=tn.length-1;-1!==an;an--)nn=tn[an][0],rn=tn[an][1],en.subscribe.apply(en,[nn].concat("function"==typeof rn?[rn]:rn))}(di,E.API.events):mn[co]=E.API[co]);var uo=mn.getPageWidth=function(en){return(hi[en=en||Dn].mediaBox.topRightX-hi[en].mediaBox.bottomLeftX)/Zr},ho=mn.setPageWidth=function(en,tn){hi[en].mediaBox.topRightX=tn*Zr+hi[en].mediaBox.bottomLeftX},po=mn.getPageHeight=function(en){return(hi[en=en||Dn].mediaBox.topRightY-hi[en].mediaBox.bottomLeftY)/Zr},go=mn.setPageHeight=function(en,tn){hi[en].mediaBox.topRightY=tn*Zr+hi[en].mediaBox.bottomLeftY};return mn.internal={pdfEscape:oa,getStyle:Pa,getFont:Ma,getFontSize:$r,getCharSpace:to,getTextColor:Za,getLineHeight:Ga,getLineHeightFactor:Va,getLineWidth:Da,write:Tr,getHorizontalCoordinate:Ka,getVerticalCoordinate:qa,getCoordinateString:za,getVerticalCoordinateString:Wa,collections:{},newObject:Bi,newAdditionalObject:ki,newObjectDeferred:_i,newObjectDeferredBegin:Si,getFilters:Ii,putStream:Ui,events:di,scaleFactor:Zr,pageSize:{getWidth:function getWidth(){return uo(Dn)},setWidth:function setWidth(en){ho(Dn,en)},getHeight:function getHeight(){return po(Dn)},setHeight:function setHeight(en){go(Dn,en)}},encryptionOptions:dn,encryption:Ca,getEncryptor:xa,output:ba,getNumberOfPages:ua,pages:Wn,out:Ur,f2:En,f3:Pn,getPageInfo:Ba,getPageInfoByObjId:_a,getCurrentPageInfo:Sa,getPDFVersion:yn,Point:ao,Rectangle:oo,Matrix:yi,hasHotfix:wa},Object.defineProperty(mn.internal.pageSize,"width",{get:function get(){return uo(Dn)},set:function set(en){ho(Dn,en)},enumerable:!0,configurable:!0}),Object.defineProperty(mn.internal.pageSize,"height",{get:function get(){return po(Dn)},set:function set(en){go(Dn,en)},enumerable:!0,configurable:!0}),ra.call(mn,Rr),Jr="F1",Aa(an,nn),di.publish("initialized"),mn}I.prototype.lsbFirstWord=function(en){return String.fromCharCode(en>>0&255,en>>8&255,en>>16&255,en>>24&255)},I.prototype.toHexString=function(en){return en.split("").map((function(en){return("0"+(255&en.charCodeAt(0)).toString(16)).slice(-2)})).join("")},I.prototype.hexToBytes=function(en){for(var tn=[],nn=0;nn<en.length;nn+=2)tn.push(String.fromCharCode(parseInt(en.substr(nn,2),16)));return tn.join("")},I.prototype.processOwnerPassword=function(en,tn){return P(x(tn).substr(0,5),en)},I.prototype.encryptor=function(en,tn){var nn=x(this.encryptionKey+String.fromCharCode(255&en,en>>8&255,en>>16&255,255&tn,tn>>8&255)).substr(0,10);return function(en){return P(nn,en)}},j.prototype.equals=function(en){var tn,nn="id,objectNumber,equals";if(!en||_typeof$1(en)!==_typeof$1(this))return!1;var rn=0;for(tn in this)if(!(nn.indexOf(tn)>=0)){if(this.hasOwnProperty(tn)&&!en.hasOwnProperty(tn))return!1;if(this[tn]!==en[tn])return!1;rn++}for(tn in en)en.hasOwnProperty(tn)&&nn.indexOf(tn)<0&&rn--;return 0===rn},E.API={events:[]},E.version="2.5.1";var kd=E.API,Ed=1,Pd=function R(en){return en.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Fd=function T$1(en){return en.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ld=function U(en){return en.toFixed(2)},Id=function z(en){return en.toFixed(5)};kd.__acroform__={};var Ud=function H(en,tn){en.prototype=Object.create(tn.prototype),en.prototype.constructor=en},Td=function W(en){return en*Ed},Qd=function V(en){var tn=new Yd,nn=up.internal.getHeight(en)||0,rn=up.internal.getWidth(en)||0;return tn.BBox=[0,0,Number(Ld(rn)),Number(Ld(nn))],tn},Nd=kd.__acroform__.setBit=function(en,tn){if(en=en||0,tn=tn||0,isNaN(en)||isNaN(tn))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return en|1<<tn},Od=kd.__acroform__.clearBit=function(en,tn){if(en=en||0,tn=tn||0,isNaN(en)||isNaN(tn))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return en&~(1<<tn)},Md=kd.__acroform__.getBit=function(en,tn){if(isNaN(en)||isNaN(tn))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(en&1<<tn)?0:1},Rd=kd.__acroform__.getBitForPdf=function(en,tn){if(isNaN(en)||isNaN(tn))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Md(en,tn-1)},Hd=kd.__acroform__.setBitForPdf=function(en,tn){if(isNaN(en)||isNaN(tn))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Nd(en,tn-1)},Dd=kd.__acroform__.clearBitForPdf=function(en,tn){if(isNaN(en)||isNaN(tn))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Od(en,tn-1)},$d=kd.__acroform__.calculateCoordinates=function(en,tn){var nn=tn.internal.getHorizontalCoordinate,rn=tn.internal.getVerticalCoordinate,an=en[0],sn=en[1],An=en[2],cn=en[3],un={};return un.lowerLeft_X=nn(an)||0,un.lowerLeft_Y=rn(sn+cn)||0,un.upperRight_X=nn(an+An)||0,un.upperRight_Y=rn(sn)||0,[Number(Ld(un.lowerLeft_X)),Number(Ld(un.lowerLeft_Y)),Number(Ld(un.upperRight_X)),Number(Ld(un.upperRight_Y))]},Gd=function Q(en){if(en.appearanceStreamContent)return en.appearanceStreamContent;if(en.V||en.DV){var tn=[],nn=en._V||en.DV,rn=jd(en,nn),an=en.scope.internal.getFont(en.fontName,en.fontStyle).id;tn.push("/Tx BMC"),tn.push("q"),tn.push("BT"),tn.push(en.scope.__private__.encodeColorString(en.color)),tn.push("/"+an+" "+Ld(rn.fontSize)+" Tf"),tn.push("1 0 0 1 0 0 Tm"),tn.push(rn.text),tn.push("ET"),tn.push("Q"),tn.push("EMC");var sn=Qd(en);return sn.scope=en.scope,sn.stream=tn.join("\n"),sn}},jd=function tt(en,tn){var nn=0===en.fontSize?en.maxFontSize:en.fontSize,rn={text:"",fontSize:""},an=(tn=")"==(tn="("==tn.substr(0,1)?tn.substr(1):tn).substr(tn.length-1)?tn.substr(0,tn.length-1):tn).split(" ");an=en.multiline?an.map((function(en){return en.split("\n")})):an.map((function(en){return[en]}));var sn=nn,An=up.internal.getHeight(en)||0;An=An<0?-An:An;var cn=up.internal.getWidth(en)||0;cn=cn<0?-cn:cn;var un=function c(tn,nn,rn){if(tn+1<an.length){var sn=nn+" "+an[tn+1][0];return Vd(sn,en,rn).width<=cn-4}return!1};sn++;e:for(;sn>0;){tn="",sn--;var hn,dn,pn=Vd("3",en,sn).height,gn=en.multiline?An-sn:(An-pn)/2,mn=gn+=2,vn=0,yn=0,bn=0;if(sn<=0){tn="(...) Tj\n",tn+="% Width of Text: "+Vd(tn,en,sn=12).width+", FieldWidth:"+cn+"\n";break}for(var wn="",Cn=0,xn=0;xn<an.length;xn++)if(an.hasOwnProperty(xn)){var Bn=!1;if(1!==an[xn].length&&bn!==an[xn].length-1){if((pn+2)*(Cn+2)+2>An)continue e;wn+=an[xn][bn],Bn=!0,yn=xn,xn--}else{wn=" "==(wn+=an[xn][bn]+" ").substr(wn.length-1)?wn.substr(0,wn.length-1):wn;var _n=parseInt(xn),Sn=un(_n,wn,sn),kn=xn>=an.length-1;if(Sn&&!kn){wn+=" ",bn=0;continue}if(Sn||kn){if(kn)yn=_n;else if(en.multiline&&(pn+2)*(Cn+2)+2>An)continue e}else{if(!en.multiline)continue e;if((pn+2)*(Cn+2)+2>An)continue e;yn=_n}}for(var En="",Pn=vn;Pn<=yn;Pn++){var Fn=an[Pn];if(en.multiline){if(Pn===yn){En+=Fn[bn]+" ",bn=(bn+1)%Fn.length;continue}if(Pn===vn){En+=Fn[Fn.length-1]+" ";continue}}En+=Fn[0]+" "}switch(En=" "==En.substr(En.length-1)?En.substr(0,En.length-1):En,dn=Vd(En,en,sn).width,en.textAlign){case"right":hn=cn-dn-2;break;case"center":hn=(cn-dn)/2;break;default:hn=2}tn+=Ld(hn)+" "+Ld(mn)+" Td\n",tn+="("+Pd(En)+") Tj\n",tn+=-Ld(hn)+" 0 Td\n",mn=-(sn+2),dn=0,vn=Bn?yn:yn+1,Cn++,wn=""}break}return rn.text=tn,rn.fontSize=sn,rn},Vd=function et(en,tn,nn){var rn=tn.scope.internal.getFont(tn.fontName,tn.fontStyle),an=tn.scope.getStringUnitWidth(en,{font:rn,fontSize:parseFloat(nn),charSpace:0})*parseFloat(nn);return{height:tn.scope.getStringUnitWidth("3",{font:rn,fontSize:parseFloat(nn),charSpace:0})*parseFloat(nn)*1.5,width:an}},Kd={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},qd=function nt(en,tn){var nn={type:"reference",object:en};void 0===tn.internal.getPageInfo(en.page).pageContext.annotations.find((function(en){return en.type===nn.type&&en.object===nn.object}))&&tn.internal.getPageInfo(en.page).pageContext.annotations.push(nn)},zd=kd.__acroform__.arrayToPdfArray=function(en,tn,nn){var rn=function i(en){return en};if(Array.isArray(en)){for(var an="[",sn=0;sn<en.length;sn++)switch(0!==sn&&(an+=" "),_typeof$1(en[sn])){case"boolean":case"number":case"object":an+=en[sn].toString();break;case"string":"/"!==en[sn].substr(0,1)?(void 0!==tn&&nn&&(rn=nn.internal.getEncryptor(tn)),an+="("+Pd(rn(en[sn].toString()))+")"):an+=en[sn].toString()}return an+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Wd=function st(en,tn,nn){var rn=function n(en){return en};return void 0!==tn&&nn&&(rn=nn.internal.getEncryptor(tn)),(en=en||"").toString(),"("+Pd(rn(en))+")"},Xd=function ct(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function get(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function set(en){this._objId=en}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Xd.prototype.toString=function(){return this.objId+" 0 R"},Xd.prototype.putStream=function(){var en=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:en,objectId:this.objId}),this.scope.internal.out("endobj")},Xd.prototype.getKeyValueListForStream=function(){var en=[],tn=Object.getOwnPropertyNames(this).filter((function(en){return"content"!=en&&"appearanceStreamContent"!=en&&"scope"!=en&&"objId"!=en&&"_"!=en.substring(0,1)}));for(var nn in tn)if(!1===Object.getOwnPropertyDescriptor(this,tn[nn]).configurable){var rn=tn[nn],an=this[rn];an&&(Array.isArray(an)?en.push({key:rn,value:zd(an,this.objId,this.scope)}):an instanceof Xd?(an.scope=this.scope,en.push({key:rn,value:an.objId+" 0 R"})):"function"!=typeof an&&en.push({key:rn,value:an}))}return en};var Yd=function ut(){Xd.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var en,tn=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function get(){return tn},set:function set(en){tn=en}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function set(tn){en=tn.trim()},get:function get(){return en||null}})};Ud(Yd,Xd);var Jd=function ht(){Xd.call(this);var en,tn=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function get(){return tn.length>0?tn:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function get(){return tn}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function get(){if(en){var tn=function e(en){return en};return this.scope&&(tn=this.scope.internal.getEncryptor(this.objId)),"("+Pd(tn(en))+")"}},set:function set(tn){en=tn}})};Ud(Jd,Xd);var Zd=function t(){Xd.call(this);var en=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function get(){return en},set:function set(tn){if(isNaN(tn))throw new Error('Invalid value "'+tn+'" for attribute F supplied.');en=tn}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function get(){return Boolean(Rd(en,3))},set:function set(tn){!0===Boolean(tn)?this.F=Hd(en,3):this.F=Dd(en,3)}});var tn=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function get(){return tn},set:function set(en){if(isNaN(en))throw new Error('Invalid value "'+en+'" for attribute Ff supplied.');tn=en}});var nn=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function get(){if(0!==nn.length)return nn},set:function set(en){nn=void 0!==en?en:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function get(){return!nn||isNaN(nn[0])?0:nn[0]},set:function set(en){nn[0]=en}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function get(){return!nn||isNaN(nn[1])?0:nn[1]},set:function set(en){nn[1]=en}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function get(){return!nn||isNaN(nn[2])?0:nn[2]},set:function set(en){nn[2]=en}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function get(){return!nn||isNaN(nn[3])?0:nn[3]},set:function set(en){nn[3]=en}});var rn="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function get(){return rn},set:function set(en){switch(en){case"/Btn":case"/Tx":case"/Ch":case"/Sig":rn=en;break;default:throw new Error('Invalid value "'+en+'" for attribute FT supplied.')}}});var an=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function get(){if(!an||an.length<1){if(this instanceof sp)return;an="FieldObject"+t.FieldNum++}var en=function e(en){return en};return this.scope&&(en=this.scope.internal.getEncryptor(this.objId)),"("+Pd(en(an))+")"},set:function set(en){an=en.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function get(){return an},set:function set(en){an=en}});var sn="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function get(){return sn},set:function set(en){sn=en}});var An="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function get(){return An},set:function set(en){An=en}});var cn=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function get(){return cn},set:function set(en){cn=en}});var un=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function get(){return void 0===un?50/Ed:un},set:function set(en){un=en}});var hn="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function get(){return hn},set:function set(en){hn=en}});var dn="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function get(){if(!(!dn||this instanceof sp||this instanceof lp))return Wd(dn,this.objId,this.scope)},set:function set(en){en=en.toString(),dn=en}});var pn=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function get(){if(pn)return this instanceof ip==0?Wd(pn,this.objId,this.scope):pn},set:function set(en){en=en.toString(),pn=this instanceof ip==0?"("===en.substr(0,1)?Fd(en.substr(1,en.length-2)):Fd(en):en}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function get(){return this instanceof ip==1?Fd(pn.substr(1,pn.length-1)):pn},set:function set(en){en=en.toString(),pn=this instanceof ip==1?"/"+en:en}});var gn=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function get(){if(gn)return gn},set:function set(en){this.V=en}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function get(){if(gn)return this instanceof ip==0?Wd(gn,this.objId,this.scope):gn},set:function set(en){en=en.toString(),gn=this instanceof ip==0?"("===en.substr(0,1)?Fd(en.substr(1,en.length-2)):Fd(en):en}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function get(){return this instanceof ip==1?Fd(gn.substr(1,gn.length-1)):gn},set:function set(en){en=en.toString(),gn=this instanceof ip==1?"/"+en:en}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function get(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function get(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function get(){return this.hasAnnotation?"/Widget":null}});var mn,vn=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function get(){return vn},set:function set(en){en=Boolean(en),vn=en}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function get(){if(mn)return mn},set:function set(en){mn=en}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function get(){return Boolean(Rd(this.Ff,1))},set:function set(en){!0===Boolean(en)?this.Ff=Hd(this.Ff,1):this.Ff=Dd(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function get(){return Boolean(Rd(this.Ff,2))},set:function set(en){!0===Boolean(en)?this.Ff=Hd(this.Ff,2):this.Ff=Dd(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function get(){return Boolean(Rd(this.Ff,3))},set:function set(en){!0===Boolean(en)?this.Ff=Hd(this.Ff,3):this.Ff=Dd(this.Ff,3)}});var yn=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function get(){if(null!==yn)return yn},set:function set(en){if(-1===[0,1,2].indexOf(en))throw new Error('Invalid value "'+en+'" for attribute Q supplied.');yn=en}}),Object.defineProperty(this,"textAlign",{get:function get(){var en;switch(yn){case 0:default:en="left";break;case 1:en="center";break;case 2:en="right"}return en},configurable:!0,enumerable:!0,set:function set(en){switch(en){case"right":case 2:yn=2;break;case"center":case 1:yn=1;break;default:yn=0}}})};Ud(Zd,Xd);var ep=function ft(){Zd.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var en=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function get(){return en},set:function set(tn){en=tn}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function get(){return en},set:function set(tn){en=tn}});var tn=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function get(){return zd(tn,this.objId,this.scope)},set:function set(en){var nn,rn;rn=[],"string"==typeof(nn=en)&&(rn=function(en,tn,nn){nn||(nn=1);for(var rn,an=[];rn=tn.exec(en);)an.push(rn[nn]);return an}(nn,/\((.*?)\)/g)),tn=rn}}),this.getOptions=function(){return tn},this.setOptions=function(en){tn=en,this.sort&&tn.sort()},this.addOption=function(en){en=(en=en||"").toString(),tn.push(en),this.sort&&tn.sort()},this.removeOption=function(en,nn){for(nn=nn||!1,en=(en=en||"").toString();-1!==tn.indexOf(en)&&(tn.splice(tn.indexOf(en),1),!1!==nn););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function get(){return Boolean(Rd(this.Ff,18))},set:function set(en){!0===Boolean(en)?this.Ff=Hd(this.Ff,18):this.Ff=Dd(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function get(){return Boolean(Rd(this.Ff,19))},set:function set(en){!0===this.combo&&(!0===Boolean(en)?this.Ff=Hd(this.Ff,19):this.Ff=Dd(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function get(){return Boolean(Rd(this.Ff,20))},set:function set(en){!0===Boolean(en)?(this.Ff=Hd(this.Ff,20),tn.sort()):this.Ff=Dd(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function get(){return Boolean(Rd(this.Ff,22))},set:function set(en){!0===Boolean(en)?this.Ff=Hd(this.Ff,22):this.Ff=Dd(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function get(){return Boolean(Rd(this.Ff,23))},set:function set(en){!0===Boolean(en)?this.Ff=Hd(this.Ff,23):this.Ff=Dd(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function get(){return Boolean(Rd(this.Ff,27))},set:function set(en){!0===Boolean(en)?this.Ff=Hd(this.Ff,27):this.Ff=Dd(this.Ff,27)}}),this.hasAppearanceStream=!1};Ud(ep,Zd);var tp=function dt(){ep.call(this),this.fontName="helvetica",this.combo=!1};Ud(tp,ep);var np=function pt(){tp.call(this),this.combo=!0};Ud(np,tp);var rp=function gt(){np.call(this),this.edit=!0};Ud(rp,np);var ip=function mt(){Zd.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function get(){return Boolean(Rd(this.Ff,15))},set:function set(en){!0===Boolean(en)?this.Ff=Hd(this.Ff,15):this.Ff=Dd(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function get(){return Boolean(Rd(this.Ff,16))},set:function set(en){!0===Boolean(en)?this.Ff=Hd(this.Ff,16):this.Ff=Dd(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function get(){return Boolean(Rd(this.Ff,17))},set:function set(en){!0===Boolean(en)?this.Ff=Hd(this.Ff,17):this.Ff=Dd(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function get(){return Boolean(Rd(this.Ff,26))},set:function set(en){!0===Boolean(en)?this.Ff=Hd(this.Ff,26):this.Ff=Dd(this.Ff,26)}});var en,tn={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function get(){var en=function t(en){return en};if(this.scope&&(en=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(tn).length){var nn,rn=[];for(nn in rn.push("<<"),tn)rn.push("/"+nn+" ("+Pd(en(tn[nn]))+")");return rn.push(">>"),rn.join("\n")}},set:function set(en){"object"===_typeof$1(en)&&(tn=en)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function get(){return tn.CA||""},set:function set(en){"string"==typeof en&&(tn.CA=en)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function get(){return en},set:function set(tn){en=tn}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function get(){return en.substr(1,en.length-1)},set:function set(tn){en="/"+tn}})};Ud(ip,Zd);var ap=function vt(){ip.call(this),this.pushButton=!0};Ud(ap,ip);var op=function bt(){ip.call(this),this.radio=!0,this.pushButton=!1;var en=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function get(){return en},set:function set(tn){en=void 0!==tn?tn:[]}})};Ud(op,ip);var sp=function yt(){var en,tn;Zd.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function get(){return en},set:function set(tn){en=tn}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function get(){return tn},set:function set(en){tn=en}});var nn,rn={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function get(){var en=function t(en){return en};this.scope&&(en=this.scope.internal.getEncryptor(this.objId));var tn,nn=[];for(tn in nn.push("<<"),rn)nn.push("/"+tn+" ("+Pd(en(rn[tn]))+")");return nn.push(">>"),nn.join("\n")},set:function set(en){"object"===_typeof$1(en)&&(rn=en)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function get(){return rn.CA||""},set:function set(en){"string"==typeof en&&(rn.CA=en)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function get(){return nn},set:function set(en){nn=en}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function get(){return nn.substr(1,nn.length-1)},set:function set(en){nn="/"+en}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=up.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ud(sp,Zd),op.prototype.setAppearance=function(en){if(!("createAppearanceStream"in en)||!("getCA"in en))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var tn in this.Kids)if(this.Kids.hasOwnProperty(tn)){var nn=this.Kids[tn];nn.appearanceStreamContent=en.createAppearanceStream(nn.optionName),nn.caption=en.getCA()}},op.prototype.createOption=function(en){var tn=new sp;return tn.Parent=this,tn.optionName=en,this.Kids.push(tn),hp.call(this.scope,tn),tn};var Ap=function wt(){ip.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=up.CheckBox.createAppearanceStream()};Ud(Ap,ip);var lp=function Nt(){Zd.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function get(){return Boolean(Rd(this.Ff,13))},set:function set(en){!0===Boolean(en)?this.Ff=Hd(this.Ff,13):this.Ff=Dd(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function get(){return Boolean(Rd(this.Ff,21))},set:function set(en){!0===Boolean(en)?this.Ff=Hd(this.Ff,21):this.Ff=Dd(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function get(){return Boolean(Rd(this.Ff,23))},set:function set(en){!0===Boolean(en)?this.Ff=Hd(this.Ff,23):this.Ff=Dd(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function get(){return Boolean(Rd(this.Ff,24))},set:function set(en){!0===Boolean(en)?this.Ff=Hd(this.Ff,24):this.Ff=Dd(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function get(){return Boolean(Rd(this.Ff,25))},set:function set(en){!0===Boolean(en)?this.Ff=Hd(this.Ff,25):this.Ff=Dd(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function get(){return Boolean(Rd(this.Ff,26))},set:function set(en){!0===Boolean(en)?this.Ff=Hd(this.Ff,26):this.Ff=Dd(this.Ff,26)}});var en=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function get(){return en},set:function set(tn){en=tn}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function get(){return en},set:function set(tn){Number.isInteger(tn)&&(en=tn)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function get(){return this.V||this.DV}})};Ud(lp,Zd);var cp=function Lt(){lp.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function get(){return Boolean(Rd(this.Ff,14))},set:function set(en){!0===Boolean(en)?this.Ff=Hd(this.Ff,14):this.Ff=Dd(this.Ff,14)}}),this.password=!0};Ud(cp,lp);var up={CheckBox:{createAppearanceStream:function createAppearanceStream(){return{N:{On:up.CheckBox.YesNormal},D:{On:up.CheckBox.YesPushDown,Off:up.CheckBox.OffPushDown}}},YesPushDown:function YesPushDown(en){var tn=Qd(en);tn.scope=en.scope;var nn=[],rn=en.scope.internal.getFont(en.fontName,en.fontStyle).id,an=en.scope.__private__.encodeColorString(en.color),sn=jd(en,en.caption);return nn.push("0.749023 g"),nn.push("0 0 "+Ld(up.internal.getWidth(en))+" "+Ld(up.internal.getHeight(en))+" re"),nn.push("f"),nn.push("BMC"),nn.push("q"),nn.push("0 0 1 rg"),nn.push("/"+rn+" "+Ld(sn.fontSize)+" Tf "+an),nn.push("BT"),nn.push(sn.text),nn.push("ET"),nn.push("Q"),nn.push("EMC"),tn.stream=nn.join("\n"),tn},YesNormal:function YesNormal(en){var tn=Qd(en);tn.scope=en.scope;var nn=en.scope.internal.getFont(en.fontName,en.fontStyle).id,rn=en.scope.__private__.encodeColorString(en.color),an=[],sn=up.internal.getHeight(en),An=up.internal.getWidth(en),cn=jd(en,en.caption);return an.push("1 g"),an.push("0 0 "+Ld(An)+" "+Ld(sn)+" re"),an.push("f"),an.push("q"),an.push("0 0 1 rg"),an.push("0 0 "+Ld(An-1)+" "+Ld(sn-1)+" re"),an.push("W"),an.push("n"),an.push("0 g"),an.push("BT"),an.push("/"+nn+" "+Ld(cn.fontSize)+" Tf "+rn),an.push(cn.text),an.push("ET"),an.push("Q"),tn.stream=an.join("\n"),tn},OffPushDown:function OffPushDown(en){var tn=Qd(en);tn.scope=en.scope;var nn=[];return nn.push("0.749023 g"),nn.push("0 0 "+Ld(up.internal.getWidth(en))+" "+Ld(up.internal.getHeight(en))+" re"),nn.push("f"),tn.stream=nn.join("\n"),tn}},RadioButton:{Circle:{createAppearanceStream:function createAppearanceStream(en){var tn={D:{Off:up.RadioButton.Circle.OffPushDown},N:{}};return tn.N[en]=up.RadioButton.Circle.YesNormal,tn.D[en]=up.RadioButton.Circle.YesPushDown,tn},getCA:function getCA(){return"l"},YesNormal:function YesNormal(en){var tn=Qd(en);tn.scope=en.scope;var nn=[],rn=up.internal.getWidth(en)<=up.internal.getHeight(en)?up.internal.getWidth(en)/4:up.internal.getHeight(en)/4;rn=Number((.9*rn).toFixed(5));var an=up.internal.Bezier_C,sn=Number((rn*an).toFixed(5));return nn.push("q"),nn.push("1 0 0 1 "+Id(up.internal.getWidth(en)/2)+" "+Id(up.internal.getHeight(en)/2)+" cm"),nn.push(rn+" 0 m"),nn.push(rn+" "+sn+" "+sn+" "+rn+" 0 "+rn+" c"),nn.push("-"+sn+" "+rn+" -"+rn+" "+sn+" -"+rn+" 0 c"),nn.push("-"+rn+" -"+sn+" -"+sn+" -"+rn+" 0 -"+rn+" c"),nn.push(sn+" -"+rn+" "+rn+" -"+sn+" "+rn+" 0 c"),nn.push("f"),nn.push("Q"),tn.stream=nn.join("\n"),tn},YesPushDown:function YesPushDown(en){var tn=Qd(en);tn.scope=en.scope;var nn=[],rn=up.internal.getWidth(en)<=up.internal.getHeight(en)?up.internal.getWidth(en)/4:up.internal.getHeight(en)/4;rn=Number((.9*rn).toFixed(5));var an=Number((2*rn).toFixed(5)),sn=Number((an*up.internal.Bezier_C).toFixed(5)),An=Number((rn*up.internal.Bezier_C).toFixed(5));return nn.push("0.749023 g"),nn.push("q"),nn.push("1 0 0 1 "+Id(up.internal.getWidth(en)/2)+" "+Id(up.internal.getHeight(en)/2)+" cm"),nn.push(an+" 0 m"),nn.push(an+" "+sn+" "+sn+" "+an+" 0 "+an+" c"),nn.push("-"+sn+" "+an+" -"+an+" "+sn+" -"+an+" 0 c"),nn.push("-"+an+" -"+sn+" -"+sn+" -"+an+" 0 -"+an+" c"),nn.push(sn+" -"+an+" "+an+" -"+sn+" "+an+" 0 c"),nn.push("f"),nn.push("Q"),nn.push("0 g"),nn.push("q"),nn.push("1 0 0 1 "+Id(up.internal.getWidth(en)/2)+" "+Id(up.internal.getHeight(en)/2)+" cm"),nn.push(rn+" 0 m"),nn.push(rn+" "+An+" "+An+" "+rn+" 0 "+rn+" c"),nn.push("-"+An+" "+rn+" -"+rn+" "+An+" -"+rn+" 0 c"),nn.push("-"+rn+" -"+An+" -"+An+" -"+rn+" 0 -"+rn+" c"),nn.push(An+" -"+rn+" "+rn+" -"+An+" "+rn+" 0 c"),nn.push("f"),nn.push("Q"),tn.stream=nn.join("\n"),tn},OffPushDown:function OffPushDown(en){var tn=Qd(en);tn.scope=en.scope;var nn=[],rn=up.internal.getWidth(en)<=up.internal.getHeight(en)?up.internal.getWidth(en)/4:up.internal.getHeight(en)/4;rn=Number((.9*rn).toFixed(5));var an=Number((2*rn).toFixed(5)),sn=Number((an*up.internal.Bezier_C).toFixed(5));return nn.push("0.749023 g"),nn.push("q"),nn.push("1 0 0 1 "+Id(up.internal.getWidth(en)/2)+" "+Id(up.internal.getHeight(en)/2)+" cm"),nn.push(an+" 0 m"),nn.push(an+" "+sn+" "+sn+" "+an+" 0 "+an+" c"),nn.push("-"+sn+" "+an+" -"+an+" "+sn+" -"+an+" 0 c"),nn.push("-"+an+" -"+sn+" -"+sn+" -"+an+" 0 -"+an+" c"),nn.push(sn+" -"+an+" "+an+" -"+sn+" "+an+" 0 c"),nn.push("f"),nn.push("Q"),tn.stream=nn.join("\n"),tn}},Cross:{createAppearanceStream:function createAppearanceStream(en){var tn={D:{Off:up.RadioButton.Cross.OffPushDown},N:{}};return tn.N[en]=up.RadioButton.Cross.YesNormal,tn.D[en]=up.RadioButton.Cross.YesPushDown,tn},getCA:function getCA(){return"8"},YesNormal:function YesNormal(en){var tn=Qd(en);tn.scope=en.scope;var nn=[],rn=up.internal.calculateCross(en);return nn.push("q"),nn.push("1 1 "+Ld(up.internal.getWidth(en)-2)+" "+Ld(up.internal.getHeight(en)-2)+" re"),nn.push("W"),nn.push("n"),nn.push(Ld(rn.x1.x)+" "+Ld(rn.x1.y)+" m"),nn.push(Ld(rn.x2.x)+" "+Ld(rn.x2.y)+" l"),nn.push(Ld(rn.x4.x)+" "+Ld(rn.x4.y)+" m"),nn.push(Ld(rn.x3.x)+" "+Ld(rn.x3.y)+" l"),nn.push("s"),nn.push("Q"),tn.stream=nn.join("\n"),tn},YesPushDown:function YesPushDown(en){var tn=Qd(en);tn.scope=en.scope;var nn=up.internal.calculateCross(en),rn=[];return rn.push("0.749023 g"),rn.push("0 0 "+Ld(up.internal.getWidth(en))+" "+Ld(up.internal.getHeight(en))+" re"),rn.push("f"),rn.push("q"),rn.push("1 1 "+Ld(up.internal.getWidth(en)-2)+" "+Ld(up.internal.getHeight(en)-2)+" re"),rn.push("W"),rn.push("n"),rn.push(Ld(nn.x1.x)+" "+Ld(nn.x1.y)+" m"),rn.push(Ld(nn.x2.x)+" "+Ld(nn.x2.y)+" l"),rn.push(Ld(nn.x4.x)+" "+Ld(nn.x4.y)+" m"),rn.push(Ld(nn.x3.x)+" "+Ld(nn.x3.y)+" l"),rn.push("s"),rn.push("Q"),tn.stream=rn.join("\n"),tn},OffPushDown:function OffPushDown(en){var tn=Qd(en);tn.scope=en.scope;var nn=[];return nn.push("0.749023 g"),nn.push("0 0 "+Ld(up.internal.getWidth(en))+" "+Ld(up.internal.getHeight(en))+" re"),nn.push("f"),tn.stream=nn.join("\n"),tn}}},createDefaultAppearanceStream:function createDefaultAppearanceStream(en){var tn=en.scope.internal.getFont(en.fontName,en.fontStyle).id,nn=en.scope.__private__.encodeColorString(en.color);return"/"+tn+" "+en.fontSize+" Tf "+nn}};up.internal={Bezier_C:.551915024494,calculateCross:function calculateCross(en){var tn=up.internal.getWidth(en),nn=up.internal.getHeight(en),rn=Math.min(tn,nn);return{x1:{x:(tn-rn)/2,y:(nn-rn)/2+rn},x2:{x:(tn-rn)/2+rn,y:(nn-rn)/2},x3:{x:(tn-rn)/2,y:(nn-rn)/2},x4:{x:(tn-rn)/2+rn,y:(nn-rn)/2+rn}}}},up.internal.getWidth=function(en){var tn=0;return"object"===_typeof$1(en)&&(tn=Td(en.Rect[2])),tn},up.internal.getHeight=function(en){var tn=0;return"object"===_typeof$1(en)&&(tn=Td(en.Rect[3])),tn};var hp=kd.addField=function(en){if(function at(en,tn){if(tn.scope=en,void 0!==en.internal&&(void 0===en.internal.acroformPlugin||!1===en.internal.acroformPlugin.isInitialized)){if(Zd.FieldNum=0,en.internal.acroformPlugin=JSON.parse(JSON.stringify(Kd)),en.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ed=en.internal.scaleFactor,en.internal.acroformPlugin.acroFormDictionaryRoot=new Jd,en.internal.acroformPlugin.acroFormDictionaryRoot.scope=en,en.internal.acroformPlugin.acroFormDictionaryRoot._eventID=en.internal.events.subscribe("postPutResources",(function(){!function(en){en.internal.events.unsubscribe(en.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete en.internal.acroformPlugin.acroFormDictionaryRoot._eventID,en.internal.acroformPlugin.printedOut=!0}(en)})),en.internal.events.subscribe("buildDocument",(function(){!function(en){en.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var tn=en.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var nn in tn)if(tn.hasOwnProperty(nn)){var rn=tn[nn];rn.objId=void 0,rn.hasAnnotation&&qd(rn,en)}}(en)})),en.internal.events.subscribe("putCatalog",(function(){!function(en){if(void 0===en.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");en.internal.write("/AcroForm "+en.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(en)})),en.internal.events.subscribe("postPutPages",(function(tn){!function(en,tn){var nn=!en;for(var rn in en||(tn.internal.newObjectDeferredBegin(tn.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),tn.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),en=en||tn.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(en.hasOwnProperty(rn)){var an=en[rn],sn=[],An=an.Rect;if(an.Rect&&(an.Rect=$d(an.Rect,tn)),tn.internal.newObjectDeferredBegin(an.objId,!0),an.DA=up.createDefaultAppearanceStream(an),"object"===_typeof$1(an)&&"function"==typeof an.getKeyValueListForStream&&(sn=an.getKeyValueListForStream()),an.Rect=An,an.hasAppearanceStream&&!an.appearanceStreamContent){var cn=Gd(an);sn.push({key:"AP",value:"<</N "+cn+">>"}),tn.internal.acroformPlugin.xForms.push(cn)}if(an.appearanceStreamContent){var un="";for(var hn in an.appearanceStreamContent)if(an.appearanceStreamContent.hasOwnProperty(hn)){var dn=an.appearanceStreamContent[hn];if(un+="/"+hn+" ",un+="<<",Object.keys(dn).length>=1||Array.isArray(dn)){for(var rn in dn)if(dn.hasOwnProperty(rn)){var pn=dn[rn];"function"==typeof pn&&(pn=pn.call(tn,an)),un+="/"+rn+" "+pn+" ",tn.internal.acroformPlugin.xForms.indexOf(pn)>=0||tn.internal.acroformPlugin.xForms.push(pn)}}else"function"==typeof(pn=dn)&&(pn=pn.call(tn,an)),un+="/"+rn+" "+pn,tn.internal.acroformPlugin.xForms.indexOf(pn)>=0||tn.internal.acroformPlugin.xForms.push(pn);un+=">>"}sn.push({key:"AP",value:"<<\n"+un+">>"})}tn.internal.putStream({additionalKeyValues:sn,objectId:an.objId}),tn.internal.out("endobj")}nn&&function(en,tn){for(var nn in en)if(en.hasOwnProperty(nn)){var rn=nn,an=en[nn];tn.internal.newObjectDeferredBegin(an.objId,!0),"object"===_typeof$1(an)&&"function"==typeof an.putStream&&an.putStream(),delete en[rn]}}(tn.internal.acroformPlugin.xForms,tn)}(tn,en)})),en.internal.acroformPlugin.isInitialized=!0}}(this,en),!(en instanceof Zd))throw new Error("Invalid argument passed to jsPDF.addField.");var tn;return(tn=en).scope.internal.acroformPlugin.printedOut&&(tn.scope.internal.acroformPlugin.printedOut=!1,tn.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),tn.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(tn),en.page=en.scope.internal.getCurrentPageInfo().pageNumber,this};function _t(en){return en.reduce((function(en,tn,nn){return en[tn]=nn,en}),{})}kd.AcroFormChoiceField=ep,kd.AcroFormListBox=tp,kd.AcroFormComboBox=np,kd.AcroFormEditBox=rp,kd.AcroFormButton=ip,kd.AcroFormPushButton=ap,kd.AcroFormRadioButton=op,kd.AcroFormCheckBox=Ap,kd.AcroFormTextField=lp,kd.AcroFormPasswordField=cp,kd.AcroFormAppearance=up,kd.AcroForm={ChoiceField:ep,ListBox:tp,ComboBox:np,EditBox:rp,Button:ip,PushButton:ap,RadioButton:op,CheckBox:Ap,TextField:lp,PasswordField:cp,Appearance:up},E.AcroForm={ChoiceField:ep,ListBox:tp,ComboBox:np,EditBox:rp,Button:ip,PushButton:ap,RadioButton:op,CheckBox:Ap,TextField:lp,PasswordField:cp,Appearance:up},E.AcroForm,function(en){en.__addimage__={};var tn="UNKNOWN",nn={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},rn=en.__addimage__.getImageFileTypeByImageData=function(en,rn){var an,sn,An,cn,un,hn=tn;if("RGBA"===(rn=rn||tn)||void 0!==en.data&&en.data instanceof Uint8ClampedArray&&"height"in en&&"width"in en)return"RGBA";if(Sn(en))for(un in nn)for(An=nn[un],an=0;an<An.length;an+=1){for(cn=!0,sn=0;sn<An[an].length;sn+=1)if(void 0!==An[an][sn]&&An[an][sn]!==en[sn]){cn=!1;break}if(!0===cn){hn=un;break}}else for(un in nn)for(An=nn[un],an=0;an<An.length;an+=1){for(cn=!0,sn=0;sn<An[an].length;sn+=1)if(void 0!==An[an][sn]&&An[an][sn]!==en.charCodeAt(sn)){cn=!1;break}if(!0===cn){hn=un;break}}return hn===tn&&rn!==tn&&(hn=rn),hn},an=function t(en){for(var tn=this.internal.write,nn=this.internal.putStream,rn=(0,this.internal.getFilters)();-1!==rn.indexOf("FlateEncode");)rn.splice(rn.indexOf("FlateEncode"),1);en.objectId=this.internal.newObject();var an=[];if(an.push({key:"Type",value:"/XObject"}),an.push({key:"Subtype",value:"/Image"}),an.push({key:"Width",value:en.width}),an.push({key:"Height",value:en.height}),en.colorSpace===bn.INDEXED?an.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(en.palette.length/3-1)+" "+("sMask"in en&&void 0!==en.sMask?en.objectId+2:en.objectId+1)+" 0 R]"}):(an.push({key:"ColorSpace",value:"/"+en.colorSpace}),en.colorSpace===bn.DEVICE_CMYK&&an.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),an.push({key:"BitsPerComponent",value:en.bitsPerComponent}),"decodeParameters"in en&&void 0!==en.decodeParameters&&an.push({key:"DecodeParms",value:"<<"+en.decodeParameters+">>"}),"transparency"in en&&Array.isArray(en.transparency)){for(var sn="",An=0,cn=en.transparency.length;An<cn;An++)sn+=en.transparency[An]+" "+en.transparency[An]+" ";an.push({key:"Mask",value:"["+sn+"]"})}void 0!==en.sMask&&an.push({key:"SMask",value:en.objectId+1+" 0 R"});var un=void 0!==en.filter?["/"+en.filter]:void 0;if(nn({data:en.data,additionalKeyValues:an,alreadyAppliedFilters:un,objectId:en.objectId}),tn("endobj"),"sMask"in en&&void 0!==en.sMask){var hn="/Predictor "+en.predictor+" /Colors 1 /BitsPerComponent "+en.bitsPerComponent+" /Columns "+en.width,dn={width:en.width,height:en.height,colorSpace:"DeviceGray",bitsPerComponent:en.bitsPerComponent,decodeParameters:hn,data:en.sMask};"filter"in en&&(dn.filter=en.filter),t.call(this,dn)}if(en.colorSpace===bn.INDEXED){var pn=this.internal.newObject();nn({data:En(new Uint8Array(en.palette)),objectId:pn}),tn("endobj")}},sn=function o(){var en=this.internal.collections.addImage_images;for(var tn in en)an.call(this,en[tn])},An=function s(){var en,tn=this.internal.collections.addImage_images,nn=this.internal.write;for(var rn in tn)nn("/I"+(en=tn[rn]).index,en.objectId,"0","R")},cn=function c(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",sn),this.internal.events.subscribe("putXobjectDict",An))},un=function h(){var en=this.internal.collections.addImage_images;return cn.call(this),en},hn=function l(){return Object.keys(this.internal.collections.addImage_images).length},dn=function f(tn){return"function"==typeof en["process"+tn.toUpperCase()]},pn=function d(en){return"object"===_typeof$1(en)&&1===en.nodeType},gn=function p(tn,nn){if("IMG"===tn.nodeName&&tn.hasAttribute("src")){var rn=""+tn.getAttribute("src");if(0===rn.indexOf("data:image/"))return wd(unescape(rn).split("base64,").pop());var an=en.loadFile(rn,!0);if(void 0!==an)return an}if("CANVAS"===tn.nodeName){if(0===tn.width||0===tn.height)throw new Error("Given canvas must have data. Canvas width: "+tn.width+", height: "+tn.height);var sn;switch(nn){case"PNG":sn="image/png";break;case"WEBP":sn="image/webp";break;default:sn="image/jpeg"}return wd(tn.toDataURL(sn,1).split("base64,").pop())}},mn=function g(en){var tn=this.internal.collections.addImage_images;if(tn)for(var nn in tn)if(en===tn[nn].alias)return tn[nn]},vn=function m(en,tn,nn){return en||tn||(en=-96,tn=-96),en<0&&(en=-1*nn.width*72/en/this.internal.scaleFactor),tn<0&&(tn=-1*nn.height*72/tn/this.internal.scaleFactor),0===en&&(en=tn*nn.width/nn.height),0===tn&&(tn=en*nn.height/nn.width),[en,tn]},yn=function v(en,tn,nn,rn,an,sn){var An=vn.call(this,nn,rn,an),cn=this.internal.getCoordinateString,hn=this.internal.getVerticalCoordinateString,dn=un.call(this);if(nn=An[0],rn=An[1],dn[an.index]=an,sn){sn*=Math.PI/180;var pn=Math.cos(sn),gn=Math.sin(sn),mn=function d(en){return en.toFixed(4)},yn=[mn(pn),mn(gn),mn(-1*gn),mn(pn),0,0,"cm"]}this.internal.write("q"),sn?(this.internal.write([1,"0","0",1,cn(en),hn(tn+rn),"cm"].join(" ")),this.internal.write(yn.join(" ")),this.internal.write([cn(nn),"0","0",cn(rn),"0","0","cm"].join(" "))):this.internal.write([cn(nn),"0","0",cn(rn),cn(en),hn(tn+rn),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+an.index+" Do"),this.internal.write("Q")},bn=en.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};en.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var wn=en.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Cn=en.__addimage__.sHashCode=function(en){var tn,nn,rn=0;if("string"==typeof en)for(nn=en.length,tn=0;tn<nn;tn++)rn=(rn<<5)-rn+en.charCodeAt(tn),rn|=0;else if(Sn(en))for(nn=en.byteLength/2,tn=0;tn<nn;tn++)rn=(rn<<5)-rn+en[tn],rn|=0;return rn},xn=en.__addimage__.validateStringAsBase64=function(en){(en=en||"").toString().trim();var tn=!0;return 0===en.length&&(tn=!1),en.length%4!=0&&(tn=!1),!1===/^[A-Za-z0-9+/]+$/.test(en.substr(0,en.length-2))&&(tn=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(en.substr(-2))&&(tn=!1),tn},Bn=en.__addimage__.extractImageFromDataUrl=function(en){var tn=(en=en||"").split("base64,"),nn=null;if(2===tn.length){var rn=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(tn[0]);Array.isArray(rn)&&(nn={mimeType:rn[1],charset:rn[2],data:tn[1]})}return nn},_n=en.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};en.__addimage__.isArrayBuffer=function(en){return _n()&&en instanceof ArrayBuffer};var Sn=en.__addimage__.isArrayBufferView=function(en){return _n()&&"undefined"!=typeof Uint32Array&&(en instanceof Int8Array||en instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&en instanceof Uint8ClampedArray||en instanceof Int16Array||en instanceof Uint16Array||en instanceof Int32Array||en instanceof Uint32Array||en instanceof Float32Array||en instanceof Float64Array)},kn=en.__addimage__.binaryStringToUint8Array=function(en){for(var tn=en.length,nn=new Uint8Array(tn),rn=0;rn<tn;rn++)nn[rn]=en.charCodeAt(rn);return nn},En=en.__addimage__.arrayBufferToBinaryString=function(en){for(var tn="",nn=Sn(en)?en:new Uint8Array(en),rn=0;rn<nn.length;rn+=8192)tn+=String.fromCharCode.apply(null,nn.subarray(rn,rn+8192));return tn};en.addImage=function(){var en,nn,rn,an,sn,An,un,hn,dn;if("number"==typeof arguments[1]?(nn=tn,rn=arguments[1],an=arguments[2],sn=arguments[3],An=arguments[4],un=arguments[5],hn=arguments[6],dn=arguments[7]):(nn=arguments[1],rn=arguments[2],an=arguments[3],sn=arguments[4],An=arguments[5],un=arguments[6],hn=arguments[7],dn=arguments[8]),"object"===_typeof$1(en=arguments[0])&&!pn(en)&&"imageData"in en){var gn=en;en=gn.imageData,nn=gn.format||nn||tn,rn=gn.x||rn||0,an=gn.y||an||0,sn=gn.w||gn.width||sn,An=gn.h||gn.height||An,un=gn.alias||un,hn=gn.compression||hn,dn=gn.rotation||gn.angle||dn}var mn=this.internal.getFilters();if(void 0===hn&&-1!==mn.indexOf("FlateEncode")&&(hn="SLOW"),isNaN(rn)||isNaN(an))throw new Error("Invalid coordinates passed to jsPDF.addImage");cn.call(this);var vn=Pn.call(this,en,nn,un,hn);return yn.call(this,rn,an,sn,An,vn,dn),this};var Pn=function P(nn,an,sn,An){var cn,un,vn;if("string"==typeof nn&&rn(nn)===tn){nn=unescape(nn);var yn=Fn(nn,!1);(""!==yn||void 0!==(yn=en.loadFile(nn,!0)))&&(nn=yn)}if(pn(nn)&&(nn=gn(nn,an)),an=rn(nn,an),!dn(an))throw new Error("addImage does not support files of type '"+an+"', please ensure that a plugin for '"+an+"' support is added.");if((null==(vn=sn)||0===vn.length)&&(sn=function(en){return"string"==typeof en||Sn(en)?Cn(en):Sn(en.data)?Cn(en.data):null}(nn)),(cn=mn.call(this,sn))||(_n()&&(nn instanceof Uint8Array||"RGBA"===an||(un=nn,nn=kn(nn))),cn=this["process"+an.toUpperCase()](nn,hn.call(this),sn,function(tn){return tn&&"string"==typeof tn&&(tn=tn.toUpperCase()),tn in en.image_compression?tn:wn.NONE}(An),un)),!cn)throw new Error("An unknown error occurred whilst processing the image.");return cn},Fn=en.__addimage__.convertBase64ToBinaryString=function(en,tn){var nn;tn="boolean"!=typeof tn||tn;var rn,an="";if("string"==typeof en){rn=null!==(nn=Bn(en))?nn.data:en;try{an=wd(rn)}catch(en){if(tn)throw xn(rn)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+en.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return an};en.getImageProperties=function(nn){var an,sn,An="";if(pn(nn)&&(nn=gn(nn)),"string"==typeof nn&&rn(nn)===tn&&(""===(An=Fn(nn,!1))&&(An=en.loadFile(nn)||""),nn=An),sn=rn(nn),!dn(sn))throw new Error("addImage does not support files of type '"+sn+"', please ensure that a plugin for '"+sn+"' support is added.");if(!_n()||nn instanceof Uint8Array||(nn=kn(nn)),!(an=this["process"+sn.toUpperCase()](nn)))throw new Error("An unknown error occurred whilst processing the image");return an.fileType=sn,an}}(E.API),
/**
 * @license
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(en){var tn=function e(en){if(void 0!==en&&""!=en)return!0};E.API.events.push(["addPage",function(en){this.internal.getPageInfo(en.pageNumber).pageContext.annotations=[]}]),en.events.push(["putPage",function(en){for(var nn,rn,an,sn=this.internal.getCoordinateString,An=this.internal.getVerticalCoordinateString,cn=this.internal.getPageInfoByObjId(en.objId),un=en.pageContext.annotations,hn=!1,dn=0;dn<un.length&&!hn;dn++)switch((nn=un[dn]).type){case"link":(tn(nn.options.url)||tn(nn.options.pageNumber))&&(hn=!0);break;case"reference":case"text":case"freetext":hn=!0}if(0!=hn){this.internal.write("/Annots [");for(var pn=0;pn<un.length;pn++){nn=un[pn];var gn=this.internal.pdfEscape,mn=this.internal.getEncryptor(en.objId);switch(nn.type){case"reference":this.internal.write(" "+nn.object.objId+" 0 R ");break;case"text":var vn=this.internal.newAdditionalObject(),yn=this.internal.newAdditionalObject(),bn=this.internal.getEncryptor(vn.objId),wn=nn.title||"Note";an="<</Type /Annot /Subtype /Text "+(rn="/Rect ["+sn(nn.bounds.x)+" "+An(nn.bounds.y+nn.bounds.h)+" "+sn(nn.bounds.x+nn.bounds.w)+" "+An(nn.bounds.y)+"] ")+"/Contents ("+gn(bn(nn.contents))+")",an+=" /Popup "+yn.objId+" 0 R",an+=" /P "+cn.objId+" 0 R",an+=" /T ("+gn(bn(wn))+") >>",vn.content=an;var Cn=vn.objId+" 0 R";an="<</Type /Annot /Subtype /Popup "+(rn="/Rect ["+sn(nn.bounds.x+30)+" "+An(nn.bounds.y+nn.bounds.h)+" "+sn(nn.bounds.x+nn.bounds.w+30)+" "+An(nn.bounds.y)+"] ")+" /Parent "+Cn,nn.open&&(an+=" /Open true"),an+=" >>",yn.content=an,this.internal.write(vn.objId,"0 R",yn.objId,"0 R");break;case"freetext":rn="/Rect ["+sn(nn.bounds.x)+" "+An(nn.bounds.y)+" "+sn(nn.bounds.x+nn.bounds.w)+" "+An(nn.bounds.y+nn.bounds.h)+"] ";var xn=nn.color||"#000000";an="<</Type /Annot /Subtype /FreeText "+rn+"/Contents ("+gn(mn(nn.contents))+")",an+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+xn+")",an+=" /Border [0 0 0]",an+=" >>",this.internal.write(an);break;case"link":if(nn.options.name){var Bn=this.annotations._nameMap[nn.options.name];nn.options.pageNumber=Bn.page,nn.options.top=Bn.y}else nn.options.top||(nn.options.top=0);if(rn="/Rect ["+nn.finalBounds.x+" "+nn.finalBounds.y+" "+nn.finalBounds.w+" "+nn.finalBounds.h+"] ",an="",nn.options.url)an="<</Type /Annot /Subtype /Link "+rn+"/Border [0 0 0] /A <</S /URI /URI ("+gn(mn(nn.options.url))+") >>";else if(nn.options.pageNumber)switch(an="<</Type /Annot /Subtype /Link "+rn+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(nn.options.pageNumber).objId+" 0 R",nn.options.magFactor=nn.options.magFactor||"XYZ",nn.options.magFactor){case"Fit":an+=" /Fit]";break;case"FitH":an+=" /FitH "+nn.options.top+"]";break;case"FitV":nn.options.left=nn.options.left||0,an+=" /FitV "+nn.options.left+"]";break;default:var _n=An(nn.options.top);nn.options.left=nn.options.left||0,void 0===nn.options.zoom&&(nn.options.zoom=0),an+=" /XYZ "+nn.options.left+" "+_n+" "+nn.options.zoom+"]"}""!=an&&(an+=" >>",this.internal.write(an))}}this.internal.write("]")}}]),en.createAnnotation=function(en){var tn=this.internal.getCurrentPageInfo();switch(en.type){case"link":this.link(en.bounds.x,en.bounds.y,en.bounds.w,en.bounds.h,en);break;case"text":case"freetext":tn.pageContext.annotations.push(en)}},en.link=function(en,tn,nn,rn,an){var sn=this.internal.getCurrentPageInfo(),An=this.internal.getCoordinateString,cn=this.internal.getVerticalCoordinateString;sn.pageContext.annotations.push({finalBounds:{x:An(en),y:cn(tn),w:An(en+nn),h:cn(tn+rn)},options:an,type:"link"})},en.textWithLink=function(en,tn,nn,rn){var an,sn,An=this.getTextWidth(en),cn=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==rn.maxWidth){sn=rn.maxWidth;var un=this.splitTextToSize(en,sn).length;an=Math.ceil(cn*un)}else sn=An,an=cn;return this.text(en,tn,nn,rn),nn+=.2*cn,"center"===rn.align&&(tn-=An/2),"right"===rn.align&&(tn-=An),this.link(tn,nn-cn,sn,an,rn),An},en.getTextWidth=function(en){var tn=this.internal.getFontSize();return this.getStringUnitWidth(en)*tn/this.internal.scaleFactor}}(E.API),
/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(en){var tn={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},nn={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},rn={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},an=[1570,1571,1573,1575];en.__arabicParser__={};var sn=en.__arabicParser__.isInArabicSubstitutionA=function(en){return void 0!==tn[en.charCodeAt(0)]},An=en.__arabicParser__.isArabicLetter=function(en){return"string"==typeof en&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(en)},cn=en.__arabicParser__.isArabicEndLetter=function(en){return An(en)&&sn(en)&&tn[en.charCodeAt(0)].length<=2},un=en.__arabicParser__.isArabicAlfLetter=function(en){return An(en)&&an.indexOf(en.charCodeAt(0))>=0};en.__arabicParser__.arabicLetterHasIsolatedForm=function(en){return An(en)&&sn(en)&&tn[en.charCodeAt(0)].length>=1};var hn=en.__arabicParser__.arabicLetterHasFinalForm=function(en){return An(en)&&sn(en)&&tn[en.charCodeAt(0)].length>=2};en.__arabicParser__.arabicLetterHasInitialForm=function(en){return An(en)&&sn(en)&&tn[en.charCodeAt(0)].length>=3};var dn=en.__arabicParser__.arabicLetterHasMedialForm=function(en){return An(en)&&sn(en)&&4==tn[en.charCodeAt(0)].length},pn=en.__arabicParser__.resolveLigatures=function(en){var tn=0,rn=nn,an="",sn=0;for(tn=0;tn<en.length;tn+=1)void 0!==rn[en.charCodeAt(tn)]?(sn++,"number"==typeof(rn=rn[en.charCodeAt(tn)])&&(an+=String.fromCharCode(rn),rn=nn,sn=0),tn===en.length-1&&(rn=nn,an+=en.charAt(tn-(sn-1)),tn-=sn-1,sn=0)):(rn=nn,an+=en.charAt(tn-sn),tn-=sn,sn=0);return an};en.__arabicParser__.isArabicDiacritic=function(en){return void 0!==en&&void 0!==rn[en.charCodeAt(0)]};var gn=en.__arabicParser__.getCorrectForm=function(en,tn,nn){return An(en)?!1===sn(en)?-1:!hn(en)||!An(tn)&&!An(nn)||!An(nn)&&cn(tn)||cn(en)&&!An(tn)||cn(en)&&un(tn)||cn(en)&&cn(tn)?0:dn(en)&&An(tn)&&!cn(tn)&&An(nn)&&hn(nn)?3:cn(en)||!An(nn)?1:2:-1},mn=function d(en){var nn=0,rn=0,an=0,sn="",cn="",un="",hn=(en=en||"").split("\\s+"),dn=[];for(nn=0;nn<hn.length;nn+=1){for(dn.push(""),rn=0;rn<hn[nn].length;rn+=1)sn=hn[nn][rn],cn=hn[nn][rn-1],un=hn[nn][rn+1],An(sn)?(an=gn(sn,cn,un),dn[nn]+=-1!==an?String.fromCharCode(tn[sn.charCodeAt(0)][an]):sn):dn[nn]+=sn;dn[nn]=pn(dn[nn])}return dn.join(" ")},vn=en.__arabicParser__.processArabic=en.processArabic=function(){var en,tn="string"==typeof arguments[0]?arguments[0]:arguments[0].text,nn=[];if(Array.isArray(tn)){var rn=0;for(nn=[],rn=0;rn<tn.length;rn+=1)Array.isArray(tn[rn])?nn.push([mn(tn[rn][0]),tn[rn][1],tn[rn][2]]):nn.push([mn(tn[rn])]);en=nn}else en=mn(tn);return"string"==typeof arguments[0]?en:(arguments[0].text=en,arguments[0])};en.events.push(["preProcessText",vn])}(E.API),E.API.autoPrint=function(en){var tn;return"javascript"===((en=en||{}).variant=en.variant||"non-conform",en.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",(function(){tn=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+tn+" 0 R")}))),this},
/**
 * @license
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(en){var tn=function e(){var en=void 0;Object.defineProperty(this,"pdf",{get:function get(){return en},set:function set(tn){en=tn}});var tn=150;Object.defineProperty(this,"width",{get:function get(){return tn},set:function set(en){tn=isNaN(en)||!1===Number.isInteger(en)||en<0?150:en,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=tn+1)}});var nn=300;Object.defineProperty(this,"height",{get:function get(){return nn},set:function set(en){nn=isNaN(en)||!1===Number.isInteger(en)||en<0?300:en,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=nn+1)}});var rn=[];Object.defineProperty(this,"childNodes",{get:function get(){return rn},set:function set(en){rn=en}});var an={};Object.defineProperty(this,"style",{get:function get(){return an},set:function set(en){an=en}}),Object.defineProperty(this,"parentNode",{})};tn.prototype.getContext=function(en,tn){var nn;if("2d"!==(en=en||"2d"))return null;for(nn in tn)this.pdf.context2d.hasOwnProperty(nn)&&(this.pdf.context2d[nn]=tn[nn]);return this.pdf.context2d._canvas=this,this.pdf.context2d},tn.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},en.events.push(["initialized",function(){this.canvas=new tn,this.canvas.pdf=this}])}(E.API),function(en){var tn={left:0,top:0,bottom:0,right:0},nn=!1,rn=function i(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},tn),this.internal.__cell__.margins.width=this.getPageWidth(),an.call(this))},an=function a(){this.internal.__cell__.lastCell=new sn,this.internal.__cell__.pages=1},sn=function o(){var en=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function get(){return en},set:function set(tn){en=tn}});var tn=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function get(){return tn},set:function set(en){tn=en}});var nn=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function get(){return nn},set:function set(en){nn=en}});var rn=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function get(){return rn},set:function set(en){rn=en}});var an=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function get(){return an},set:function set(en){an=en}});var sn=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function get(){return sn},set:function set(en){sn=en}});var An=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function get(){return An},set:function set(en){An=en}}),this};sn.prototype.clone=function(){return new sn(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},sn.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},en.setHeaderFunction=function(en){return rn.call(this),this.internal.__cell__.headerFunction="function"==typeof en?en:void 0,this},en.getTextDimensions=function(en,tn){rn.call(this);var nn=(tn=tn||{}).fontSize||this.getFontSize(),an=tn.font||this.getFont(),sn=tn.scaleFactor||this.internal.scaleFactor,An=0,cn=0,un=0,hn=this;if(!Array.isArray(en)&&"string"!=typeof en){if("number"!=typeof en)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");en=String(en)}var dn=tn.maxWidth;dn>0?"string"==typeof en?en=this.splitTextToSize(en,dn):"[object Array]"===Object.prototype.toString.call(en)&&(en=en.reduce((function(en,tn){return en.concat(hn.splitTextToSize(tn,dn))}),[])):en=Array.isArray(en)?en:[en];for(var pn=0;pn<en.length;pn++)An<(un=this.getStringUnitWidth(en[pn],{font:an})*nn)&&(An=un);return 0!==An&&(cn=en.length),{w:An/=sn,h:Math.max((cn*nn*this.getLineHeightFactor()-nn*(this.getLineHeightFactor()-1))/sn,0)}},en.cellAddPage=function(){rn.call(this),this.addPage();var en=this.internal.__cell__.margins||tn;return this.internal.__cell__.lastCell=new sn(en.left,en.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var An=en.cell=function(){var en;en=arguments[0]instanceof sn?arguments[0]:new sn(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),rn.call(this);var an=this.internal.__cell__.lastCell,An=this.internal.__cell__.padding,cn=this.internal.__cell__.margins||tn,un=this.internal.__cell__.tableHeaderRow,hn=this.internal.__cell__.printHeaders;return void 0!==an.lineNumber&&(an.lineNumber===en.lineNumber?(en.x=(an.x||0)+(an.width||0),en.y=an.y||0):an.y+an.height+en.height+cn.bottom>this.getPageHeight()?(this.cellAddPage(),en.y=cn.top,hn&&un&&(this.printHeaderRow(en.lineNumber,!0),en.y+=un[0].height)):en.y=an.y+an.height||en.y),void 0!==en.text[0]&&(this.rect(en.x,en.y,en.width,en.height,!0===nn?"FD":void 0),"right"===en.align?this.text(en.text,en.x+en.width-An,en.y+An,{align:"right",baseline:"top"}):"center"===en.align?this.text(en.text,en.x+en.width/2,en.y+An,{align:"center",baseline:"top",maxWidth:en.width-An-An}):this.text(en.text,en.x+An,en.y+An,{align:"left",baseline:"top",maxWidth:en.width-An-An})),this.internal.__cell__.lastCell=en,this};en.table=function(en,nn,un,hn,dn){if(rn.call(this),!un)throw new Error("No data for PDF table.");var pn,gn,mn,vn,yn=[],bn=[],wn=[],Cn={},xn={},Bn=[],_n=[],Sn=(dn=dn||{}).autoSize||!1,kn=!1!==dn.printHeaders,En=dn.css&&void 0!==dn.css["font-size"]?16*dn.css["font-size"]:dn.fontSize||12,Pn=dn.margins||Object.assign({width:this.getPageWidth()},tn),Fn="number"==typeof dn.padding?dn.padding:3,Ln=dn.headerBackgroundColor||"#c8c8c8",In=dn.headerTextColor||"#000";if(an.call(this),this.internal.__cell__.printHeaders=kn,this.internal.__cell__.margins=Pn,this.internal.__cell__.table_font_size=En,this.internal.__cell__.padding=Fn,this.internal.__cell__.headerBackgroundColor=Ln,this.internal.__cell__.headerTextColor=In,this.setFontSize(En),null==hn)bn=yn=Object.keys(un[0]),wn=yn.map((function(){return"left"}));else if(Array.isArray(hn)&&"object"===_typeof$1(hn[0]))for(yn=hn.map((function(en){return en.name})),bn=hn.map((function(en){return en.prompt||en.name||""})),wn=hn.map((function(en){return en.align||"left"})),pn=0;pn<hn.length;pn+=1)xn[hn[pn].name]=hn[pn].width*(19.049976/25.4);else Array.isArray(hn)&&"string"==typeof hn[0]&&(bn=yn=hn,wn=yn.map((function(){return"left"})));if(Sn||Array.isArray(hn)&&"string"==typeof hn[0])for(pn=0;pn<yn.length;pn+=1){for(Cn[vn=yn[pn]]=un.map((function(en){return en[vn]})),this.setFont(void 0,"bold"),Bn.push(this.getTextDimensions(bn[pn],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),gn=Cn[vn],this.setFont(void 0,"normal"),mn=0;mn<gn.length;mn+=1)Bn.push(this.getTextDimensions(gn[mn],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);xn[vn]=Math.max.apply(null,Bn)+Fn+Fn,Bn=[]}if(kn){var Un={};for(pn=0;pn<yn.length;pn+=1)Un[yn[pn]]={},Un[yn[pn]].text=bn[pn],Un[yn[pn]].align=wn[pn];var Tn=cn.call(this,Un,xn);_n=yn.map((function(tn){return new sn(en,nn,xn[tn],Tn,Un[tn].text,void 0,Un[tn].align)})),this.setTableHeaderRow(_n),this.printHeaderRow(1,!1)}var Qn=hn.reduce((function(en,tn){return en[tn.name]=tn.align,en}),{});for(pn=0;pn<un.length;pn+=1){"rowStart"in dn&&dn.rowStart instanceof Function&&dn.rowStart({row:pn,data:un[pn]},this);var Nn=cn.call(this,un[pn],xn);for(mn=0;mn<yn.length;mn+=1){var On=un[pn][yn[mn]];"cellStart"in dn&&dn.cellStart instanceof Function&&dn.cellStart({row:pn,col:mn,data:On},this),An.call(this,new sn(en,nn,xn[yn[mn]],Nn,On,pn+2,Qn[yn[mn]]))}}return this.internal.__cell__.table_x=en,this.internal.__cell__.table_y=nn,this};var cn=function c(en,tn){var nn=this.internal.__cell__.padding,rn=this.internal.__cell__.table_font_size,an=this.internal.scaleFactor;return Object.keys(en).map((function(rn){var an=en[rn];return this.splitTextToSize(an.hasOwnProperty("text")?an.text:an,tn[rn]-nn-nn)}),this).map((function(en){return this.getLineHeightFactor()*en.length*rn/an+nn+nn}),this).reduce((function(en,tn){return Math.max(en,tn)}),0)};en.setTableHeaderRow=function(en){rn.call(this),this.internal.__cell__.tableHeaderRow=en},en.printHeaderRow=function(en,tn){if(rn.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var an;if(nn=!0,"function"==typeof this.internal.__cell__.headerFunction){var cn=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new sn(cn[0],cn[1],cn[2],cn[3],void 0,-1)}this.setFont(void 0,"bold");for(var un=[],hn=0;hn<this.internal.__cell__.tableHeaderRow.length;hn+=1){an=this.internal.__cell__.tableHeaderRow[hn].clone(),tn&&(an.y=this.internal.__cell__.margins.top||0,un.push(an)),an.lineNumber=en;var dn=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),An.call(this,an),this.setTextColor(dn)}un.length>0&&this.setTableHeaderRow(un),this.setFont(void 0,"normal"),nn=!1}}(E.API);var dp={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},pp=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],gp=_t(pp),fp=[100,200,300,400,500,600,700,800,900],mp=_t(fp);function jt(en){var tn=en.family.replace(/"|'/g,"").toLowerCase(),nn=function(en){return dp[en=en||"normal"]?en:"normal"}(en.style),rn=function(en){return en?"number"==typeof en?en>=100&&en<=900&&en%100==0?en:400:/^\d00$/.test(en)?parseInt(en):"bold"===en?700:400:400}(en.weight),an=function(en){return"number"==typeof gp[en=en||"normal"]?en:"normal"}(en.stretch);return{family:tn,style:nn,weight:rn,stretch:an,src:en.src||[],ref:en.ref||{name:tn,style:[an,nn,rn].join(" ")}}}function Ot(en,tn,nn,rn){var an;for(an=nn;an>=0&&an<tn.length;an+=rn)if(en[tn[an]])return en[tn[an]];for(an=nn;an>=0&&an<tn.length;an-=rn)if(en[tn[an]])return en[tn[an]]}var vp={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},yp={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Et(en){return[en.stretch,en.style,en.weight,en.family].join(" ")}function Dt(en){return en.trimLeft()}function Rt(en,tn){for(var nn=0;nn<en.length;){if(en.charAt(nn)===tn)return[en.substring(0,nn),en.substring(nn+1)];nn+=1}return null}function Tt(en){var tn=en.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===tn?null:[tn[0],en.substring(tn[0].length)]}var bp,wp,Cp,xp=["times"];!function(en){var tn,nn,rn,an,sn,An,cn,un,hn,dn=function d(en){return en=en||{},this.isStrokeTransparent=en.isStrokeTransparent||!1,this.strokeOpacity=en.strokeOpacity||1,this.strokeStyle=en.strokeStyle||"#000000",this.fillStyle=en.fillStyle||"#000000",this.isFillTransparent=en.isFillTransparent||!1,this.fillOpacity=en.fillOpacity||1,this.font=en.font||"10px sans-serif",this.textBaseline=en.textBaseline||"alphabetic",this.textAlign=en.textAlign||"left",this.lineWidth=en.lineWidth||1,this.lineJoin=en.lineJoin||"miter",this.lineCap=en.lineCap||"butt",this.path=en.path||[],this.transform=void 0!==en.transform?en.transform.clone():new un,this.globalCompositeOperation=en.globalCompositeOperation||"normal",this.globalAlpha=en.globalAlpha||1,this.clip_path=en.clip_path||[],this.currentPoint=en.currentPoint||new An,this.miterLimit=en.miterLimit||10,this.lastPoint=en.lastPoint||new An,this.lineDashOffset=en.lineDashOffset||0,this.lineDash=en.lineDash||[],this.margin=en.margin||[0,0,0,0],this.prevPageLastElemOffset=en.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof en.ignoreClearRect||en.ignoreClearRect,this};en.events.push(["initialized",function(){this.context2d=new pn(this),tn=this.internal.f2,nn=this.internal.getCoordinateString,rn=this.internal.getVerticalCoordinateString,an=this.internal.getHorizontalCoordinate,sn=this.internal.getVerticalCoordinate,An=this.internal.Point,cn=this.internal.Rectangle,un=this.internal.Matrix,hn=new dn}]);var pn=function p(en){Object.defineProperty(this,"canvas",{get:function get(){return{parentNode:!1,style:!1}}});var tn=en;Object.defineProperty(this,"pdf",{get:function get(){return tn}});var nn=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function get(){return nn},set:function set(en){nn=Boolean(en)}});var rn=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function get(){return rn},set:function set(en){rn=Boolean(en)}});var an=0;Object.defineProperty(this,"posX",{get:function get(){return an},set:function set(en){isNaN(en)||(an=en)}});var sn=0;Object.defineProperty(this,"posY",{get:function get(){return sn},set:function set(en){isNaN(en)||(sn=en)}}),Object.defineProperty(this,"margin",{get:function get(){return hn.margin},set:function set(en){var tn;"number"==typeof en?tn=[en,en,en,en]:((tn=new Array(4))[0]=en[0],tn[1]=en.length>=2?en[1]:tn[0],tn[2]=en.length>=3?en[2]:tn[0],tn[3]=en.length>=4?en[3]:tn[1]),hn.margin=tn}});var An=!1;Object.defineProperty(this,"autoPaging",{get:function get(){return An},set:function set(en){An=en}});var cn=0;Object.defineProperty(this,"lastBreak",{get:function get(){return cn},set:function set(en){cn=en}});var un=[];Object.defineProperty(this,"pageBreaks",{get:function get(){return un},set:function set(en){un=en}}),Object.defineProperty(this,"ctx",{get:function get(){return hn},set:function set(en){en instanceof dn&&(hn=en)}}),Object.defineProperty(this,"path",{get:function get(){return hn.path},set:function set(en){hn.path=en}});var pn=[];Object.defineProperty(this,"ctxStack",{get:function get(){return pn},set:function set(en){pn=en}}),Object.defineProperty(this,"fillStyle",{get:function get(){return this.ctx.fillStyle},set:function set(en){var tn;tn=gn(en),this.ctx.fillStyle=tn.style,this.ctx.isFillTransparent=0===tn.a,this.ctx.fillOpacity=tn.a,this.pdf.setFillColor(tn.r,tn.g,tn.b,{a:tn.a}),this.pdf.setTextColor(tn.r,tn.g,tn.b,{a:tn.a})}}),Object.defineProperty(this,"strokeStyle",{get:function get(){return this.ctx.strokeStyle},set:function set(en){var tn=gn(en);this.ctx.strokeStyle=tn.style,this.ctx.isStrokeTransparent=0===tn.a,this.ctx.strokeOpacity=tn.a,0===tn.a?this.pdf.setDrawColor(255,255,255):(tn.a,this.pdf.setDrawColor(tn.r,tn.g,tn.b))}}),Object.defineProperty(this,"lineCap",{get:function get(){return this.ctx.lineCap},set:function set(en){-1!==["butt","round","square"].indexOf(en)&&(this.ctx.lineCap=en,this.pdf.setLineCap(en))}}),Object.defineProperty(this,"lineWidth",{get:function get(){return this.ctx.lineWidth},set:function set(en){isNaN(en)||(this.ctx.lineWidth=en,this.pdf.setLineWidth(en))}}),Object.defineProperty(this,"lineJoin",{get:function get(){return this.ctx.lineJoin},set:function set(en){-1!==["bevel","round","miter"].indexOf(en)&&(this.ctx.lineJoin=en,this.pdf.setLineJoin(en))}}),Object.defineProperty(this,"miterLimit",{get:function get(){return this.ctx.miterLimit},set:function set(en){isNaN(en)||(this.ctx.miterLimit=en,this.pdf.setMiterLimit(en))}}),Object.defineProperty(this,"textBaseline",{get:function get(){return this.ctx.textBaseline},set:function set(en){this.ctx.textBaseline=en}}),Object.defineProperty(this,"textAlign",{get:function get(){return this.ctx.textAlign},set:function set(en){-1!==["right","end","center","left","start"].indexOf(en)&&(this.ctx.textAlign=en)}});var mn=null;function f(en,tn){if(null===mn){var nn=function(en){var tn=[];return Object.keys(en).forEach((function(nn){en[nn].forEach((function(en){var rn=null;switch(en){case"bold":rn={family:nn,weight:"bold"};break;case"italic":rn={family:nn,style:"italic"};break;case"bolditalic":rn={family:nn,weight:"bold",style:"italic"};break;case"":case"normal":rn={family:nn}}null!==rn&&(rn.ref={name:nn,style:en},tn.push(rn))}))})),tn}(en.getFontList());mn=function(en){for(var tn={},nn=0;nn<en.length;++nn){var rn=jt(en[nn]),an=rn.family,sn=rn.stretch,An=rn.style,cn=rn.weight;tn[an]=tn[an]||{},tn[an][sn]=tn[an][sn]||{},tn[an][sn][An]=tn[an][sn][An]||{},tn[an][sn][An][cn]=rn}return tn}(nn.concat(tn))}return mn}var vn=null;Object.defineProperty(this,"fontFaces",{get:function get(){return vn},set:function set(en){mn=null,vn=en}}),Object.defineProperty(this,"font",{get:function get(){return this.ctx.font},set:function set(en){var tn;if(this.ctx.font=en,null!==(tn=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(en))){var nn=tn[1],rn=(tn[2],tn[3]),an=tn[4],sn=(tn[5],tn[6]),An=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(an)[2];an="px"===An?Math.floor(parseFloat(an)*this.pdf.internal.scaleFactor):"em"===An?Math.floor(parseFloat(an)*this.pdf.getFontSize()):Math.floor(parseFloat(an)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(an);var cn=function(en){var tn,nn,rn=[],an=en.trim();if(""===an)return xp;if(an in yp)return[yp[an]];for(;""!==an;){switch(nn=null,tn=(an=Dt(an)).charAt(0)){case'"':case"'":nn=Rt(an.substring(1),tn);break;default:nn=Tt(an)}if(null===nn)return xp;if(rn.push(nn[0]),""!==(an=Dt(nn[1]))&&","!==an.charAt(0))return xp;an=an.replace(/^,/,"")}return rn}(sn);if(this.fontFaces){var un=function qt(en,tn,nn){for(var rn=(nn=nn||{}).defaultFontFamily||"times",an=Object.assign({},vp,nn.genericFontFamilies||{}),sn=null,An=null,cn=0;cn<tn.length;++cn)if(an[(sn=jt(tn[cn])).family]&&(sn.family=an[sn.family]),en.hasOwnProperty(sn.family)){An=en[sn.family];break}if(!(An=An||en[rn]))throw new Error("Could not find a font-family for the rule '"+Et(sn)+"' and default family '"+rn+"'.");if(An=function(en,tn){if(tn[en])return tn[en];var nn=gp[en],rn=nn<=gp.normal?-1:1,an=Ot(tn,pp,nn,rn);if(!an)throw new Error("Could not find a matching font-stretch value for "+en);return an}(sn.stretch,An),An=function(en,tn){if(tn[en])return tn[en];for(var nn=dp[en],rn=0;rn<nn.length;++rn)if(tn[nn[rn]])return tn[nn[rn]];throw new Error("Could not find a matching font-style for "+en)}(sn.style,An),!(An=function(en,tn){if(tn[en])return tn[en];if(400===en&&tn[500])return tn[500];if(500===en&&tn[400])return tn[400];var nn=mp[en],rn=Ot(tn,fp,nn,en<400?-1:1);if(!rn)throw new Error("Could not find a matching font-weight for value "+en);return rn}(sn.weight,An)))throw new Error("Failed to resolve a font for the rule '"+Et(sn)+"'.");return An}(f(this.pdf,this.fontFaces),cn.map((function(en){return{family:en,stretch:"normal",weight:rn,style:nn}})));this.pdf.setFont(un.ref.name,un.ref.style)}else{var hn="";("bold"===rn||parseInt(rn,10)>=700||"bold"===nn)&&(hn="bold"),"italic"===nn&&(hn+="italic"),0===hn.length&&(hn="normal");for(var dn="",pn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},gn=0;gn<cn.length;gn++){if(void 0!==this.pdf.internal.getFont(cn[gn],hn,{noFallback:!0,disableWarning:!0})){dn=cn[gn];break}if("bolditalic"===hn&&void 0!==this.pdf.internal.getFont(cn[gn],"bold",{noFallback:!0,disableWarning:!0}))dn=cn[gn],hn="bold";else if(void 0!==this.pdf.internal.getFont(cn[gn],"normal",{noFallback:!0,disableWarning:!0})){dn=cn[gn],hn="normal";break}}if(""===dn)for(var mn=0;mn<cn.length;mn++)if(pn[cn[mn]]){dn=pn[cn[mn]];break}dn=""===dn?"Times":dn,this.pdf.setFont(dn,hn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function get(){return this.ctx.globalCompositeOperation},set:function set(en){this.ctx.globalCompositeOperation=en}}),Object.defineProperty(this,"globalAlpha",{get:function get(){return this.ctx.globalAlpha},set:function set(en){this.ctx.globalAlpha=en}}),Object.defineProperty(this,"lineDashOffset",{get:function get(){return this.ctx.lineDashOffset},set:function set(en){this.ctx.lineDashOffset=en,Dn.call(this)}}),Object.defineProperty(this,"lineDash",{get:function get(){return this.ctx.lineDash},set:function set(en){this.ctx.lineDash=en,Dn.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function get(){return this.ctx.ignoreClearRect},set:function set(en){this.ctx.ignoreClearRect=Boolean(en)}})};pn.prototype.setLineDash=function(en){this.lineDash=en},pn.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},pn.prototype.fill=function(){Bn.call(this,"fill",!1)},pn.prototype.stroke=function(){Bn.call(this,"stroke",!1)},pn.prototype.beginPath=function(){this.path=[{type:"begin"}]},pn.prototype.moveTo=function(en,tn){if(isNaN(en)||isNaN(tn))throw bd.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var nn=this.ctx.transform.applyToPoint(new An(en,tn));this.path.push({type:"mt",x:nn.x,y:nn.y}),this.ctx.lastPoint=new An(en,tn)},pn.prototype.closePath=function(){var en=new An(0,0),tn=0;for(tn=this.path.length-1;-1!==tn;tn--)if("begin"===this.path[tn].type&&"object"===_typeof$1(this.path[tn+1])&&"number"==typeof this.path[tn+1].x){en=new An(this.path[tn+1].x,this.path[tn+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new An(en.x,en.y)},pn.prototype.lineTo=function(en,tn){if(isNaN(en)||isNaN(tn))throw bd.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var nn=this.ctx.transform.applyToPoint(new An(en,tn));this.path.push({type:"lt",x:nn.x,y:nn.y}),this.ctx.lastPoint=new An(nn.x,nn.y)},pn.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Bn.call(this,null,!0)},pn.prototype.quadraticCurveTo=function(en,tn,nn,rn){if(isNaN(nn)||isNaN(rn)||isNaN(en)||isNaN(tn))throw bd.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var an=this.ctx.transform.applyToPoint(new An(nn,rn)),sn=this.ctx.transform.applyToPoint(new An(en,tn));this.path.push({type:"qct",x1:sn.x,y1:sn.y,x:an.x,y:an.y}),this.ctx.lastPoint=new An(an.x,an.y)},pn.prototype.bezierCurveTo=function(en,tn,nn,rn,an,sn){if(isNaN(an)||isNaN(sn)||isNaN(en)||isNaN(tn)||isNaN(nn)||isNaN(rn))throw bd.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var cn=this.ctx.transform.applyToPoint(new An(an,sn)),un=this.ctx.transform.applyToPoint(new An(en,tn)),hn=this.ctx.transform.applyToPoint(new An(nn,rn));this.path.push({type:"bct",x1:un.x,y1:un.y,x2:hn.x,y2:hn.y,x:cn.x,y:cn.y}),this.ctx.lastPoint=new An(cn.x,cn.y)},pn.prototype.arc=function(en,tn,nn,rn,an,sn){if(isNaN(en)||isNaN(tn)||isNaN(nn)||isNaN(rn)||isNaN(an))throw bd.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(sn=Boolean(sn),!this.ctx.transform.isIdentity){var cn=this.ctx.transform.applyToPoint(new An(en,tn));en=cn.x,tn=cn.y;var un=this.ctx.transform.applyToPoint(new An(0,nn)),hn=this.ctx.transform.applyToPoint(new An(0,0));nn=Math.sqrt(Math.pow(un.x-hn.x,2)+Math.pow(un.y-hn.y,2))}Math.abs(an-rn)>=2*Math.PI&&(rn=0,an=2*Math.PI),this.path.push({type:"arc",x:en,y:tn,radius:nn,startAngle:rn,endAngle:an,counterclockwise:sn})},pn.prototype.arcTo=function(en,tn,nn,rn,an){throw new Error("arcTo not implemented.")},pn.prototype.rect=function(en,tn,nn,rn){if(isNaN(en)||isNaN(tn)||isNaN(nn)||isNaN(rn))throw bd.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(en,tn),this.lineTo(en+nn,tn),this.lineTo(en+nn,tn+rn),this.lineTo(en,tn+rn),this.lineTo(en,tn),this.lineTo(en+nn,tn),this.lineTo(en,tn)},pn.prototype.fillRect=function(en,tn,nn,rn){if(isNaN(en)||isNaN(tn)||isNaN(nn)||isNaN(rn))throw bd.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!mn.call(this)){var an={};"butt"!==this.lineCap&&(an.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(an.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(en,tn,nn,rn),this.fill(),an.hasOwnProperty("lineCap")&&(this.lineCap=an.lineCap),an.hasOwnProperty("lineJoin")&&(this.lineJoin=an.lineJoin)}},pn.prototype.strokeRect=function(en,tn,nn,rn){if(isNaN(en)||isNaN(tn)||isNaN(nn)||isNaN(rn))throw bd.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");vn.call(this)||(this.beginPath(),this.rect(en,tn,nn,rn),this.stroke())},pn.prototype.clearRect=function(en,tn,nn,rn){if(isNaN(en)||isNaN(tn)||isNaN(nn)||isNaN(rn))throw bd.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(en,tn,nn,rn))},pn.prototype.save=function(en){en="boolean"!=typeof en||en;for(var tn=this.pdf.internal.getCurrentPageInfo().pageNumber,nn=0;nn<this.pdf.internal.getNumberOfPages();nn++)this.pdf.setPage(nn+1),this.pdf.internal.out("q");if(this.pdf.setPage(tn),en){this.ctx.fontSize=this.pdf.internal.getFontSize();var rn=new dn(this.ctx);this.ctxStack.push(this.ctx),this.ctx=rn}},pn.prototype.restore=function(en){en="boolean"!=typeof en||en;for(var tn=this.pdf.internal.getCurrentPageInfo().pageNumber,nn=0;nn<this.pdf.internal.getNumberOfPages();nn++)this.pdf.setPage(nn+1),this.pdf.internal.out("Q");this.pdf.setPage(tn),en&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},pn.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var gn=function g(en){var tn,nn,rn,an;if(!0===en.isCanvasGradient&&(en=en.getColor()),!en)return{r:0,g:0,b:0,a:0,style:en};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(en))tn=0,nn=0,rn=0,an=0;else{var sn=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(en);if(null!==sn)tn=parseInt(sn[1]),nn=parseInt(sn[2]),rn=parseInt(sn[3]),an=1;else if(null!==(sn=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(en)))tn=parseInt(sn[1]),nn=parseInt(sn[2]),rn=parseInt(sn[3]),an=parseFloat(sn[4]);else{if(an=1,"string"==typeof en&&"#"!==en.charAt(0)){var An=new f$1(en);en=An.ok?An.toHex():"#000000"}4===en.length?(tn=en.substring(1,2),tn+=tn,nn=en.substring(2,3),nn+=nn,rn=en.substring(3,4),rn+=rn):(tn=en.substring(1,3),nn=en.substring(3,5),rn=en.substring(5,7)),tn=parseInt(tn,16),nn=parseInt(nn,16),rn=parseInt(rn,16)}}return{r:tn,g:nn,b:rn,a:an,style:en}},mn=function m(){return this.ctx.isFillTransparent||0==this.globalAlpha},vn=function v(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};pn.prototype.fillText=function(en,tn,nn,rn){if(isNaN(tn)||isNaN(nn)||"string"!=typeof en)throw bd.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(rn=isNaN(rn)?void 0:rn,!mn.call(this)){var an=Mn(this.ctx.transform.rotation),sn=this.ctx.transform.scaleX;In.call(this,{text:en,x:tn,y:nn,scale:sn,angle:an,align:this.textAlign,maxWidth:rn})}},pn.prototype.strokeText=function(en,tn,nn,rn){if(isNaN(tn)||isNaN(nn)||"string"!=typeof en)throw bd.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!vn.call(this)){rn=isNaN(rn)?void 0:rn;var an=Mn(this.ctx.transform.rotation),sn=this.ctx.transform.scaleX;In.call(this,{text:en,x:tn,y:nn,scale:sn,renderingMode:"stroke",angle:an,align:this.textAlign,maxWidth:rn})}},pn.prototype.measureText=function(en){if("string"!=typeof en)throw bd.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var tn=this.pdf,nn=this.pdf.internal.scaleFactor,rn=tn.internal.getFontSize(),an=tn.getStringUnitWidth(en)*rn/tn.internal.scaleFactor,sn=function o(en){var tn=(en=en||{}).width||0;return Object.defineProperty(this,"width",{get:function get(){return tn}}),this};return new sn({width:an*=Math.round(96*nn/72*1e4)/1e4})},pn.prototype.scale=function(en,tn){if(isNaN(en)||isNaN(tn))throw bd.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var nn=new un(en,0,0,tn,0,0);this.ctx.transform=this.ctx.transform.multiply(nn)},pn.prototype.rotate=function(en){if(isNaN(en))throw bd.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var tn=new un(Math.cos(en),Math.sin(en),-Math.sin(en),Math.cos(en),0,0);this.ctx.transform=this.ctx.transform.multiply(tn)},pn.prototype.translate=function(en,tn){if(isNaN(en)||isNaN(tn))throw bd.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var nn=new un(1,0,0,1,en,tn);this.ctx.transform=this.ctx.transform.multiply(nn)},pn.prototype.transform=function(en,tn,nn,rn,an,sn){if(isNaN(en)||isNaN(tn)||isNaN(nn)||isNaN(rn)||isNaN(an)||isNaN(sn))throw bd.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var An=new un(en,tn,nn,rn,an,sn);this.ctx.transform=this.ctx.transform.multiply(An)},pn.prototype.setTransform=function(en,tn,nn,rn,an,sn){en=isNaN(en)?1:en,tn=isNaN(tn)?0:tn,nn=isNaN(nn)?0:nn,rn=isNaN(rn)?1:rn,an=isNaN(an)?0:an,sn=isNaN(sn)?0:sn,this.ctx.transform=new un(en,tn,nn,rn,an,sn)};var yn=function b(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};pn.prototype.drawImage=function(en,tn,nn,rn,an,sn,An,hn,dn){var pn=this.pdf.getImageProperties(en),gn=1,mn=1,vn=1,wn=1;void 0!==rn&&void 0!==hn&&(vn=hn/rn,wn=dn/an,gn=pn.width/rn*hn/rn,mn=pn.height/an*dn/an),void 0===sn&&(sn=tn,An=nn,tn=0,nn=0),void 0!==rn&&void 0===hn&&(hn=rn,dn=an),void 0===rn&&void 0===hn&&(hn=pn.width,dn=pn.height);for(var Bn,Sn=this.ctx.transform.decompose(),kn=Mn(Sn.rotate.shx),En=new un,Pn=(En=(En=(En=En.multiply(Sn.translate)).multiply(Sn.skew)).multiply(Sn.scale)).applyToRectangle(new cn(sn-tn*vn,An-nn*wn,rn*gn,an*mn)),Fn=bn.call(this,Pn),Ln=[],In=0;In<Fn.length;In+=1)-1===Ln.indexOf(Fn[In])&&Ln.push(Fn[In]);if(xn(Ln),this.autoPaging)for(var Un=Ln[0],Tn=Ln[Ln.length-1],Qn=Un;Qn<Tn+1;Qn++){this.pdf.setPage(Qn);var Nn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],On=1===Qn?this.posY+this.margin[0]:this.margin[0],Rn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Hn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Dn=1===Qn?0:Rn+(Qn-2)*Hn;if(0!==this.ctx.clip_path.length){var $n=this.path;Bn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Cn(Bn,this.posX+this.margin[3],-Dn+On+this.ctx.prevPageLastElemOffset),_n.call(this,"fill",!0),this.path=$n}var Gn=JSON.parse(JSON.stringify(Pn));Gn=Cn([Gn],this.posX+this.margin[3],-Dn+On+this.ctx.prevPageLastElemOffset)[0];var jn=(Qn>Un||Qn<Tn)&&yn.call(this);jn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nn,Hn,null).clip().discardPath()),this.pdf.addImage(en,"JPEG",Gn.x,Gn.y,Gn.w,Gn.h,null,null,kn),jn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(en,"JPEG",Pn.x,Pn.y,Pn.w,Pn.h,null,null,kn)};var bn=function y(en,tn,nn){var rn=[];tn=tn||this.pdf.internal.pageSize.width,nn=nn||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var an=this.posY+this.ctx.prevPageLastElemOffset;switch(en.type){default:case"mt":case"lt":rn.push(Math.floor((en.y+an)/nn)+1);break;case"arc":rn.push(Math.floor((en.y+an-en.radius)/nn)+1),rn.push(Math.floor((en.y+an+en.radius)/nn)+1);break;case"qct":var sn=Rn(this.ctx.lastPoint.x,this.ctx.lastPoint.y,en.x1,en.y1,en.x,en.y);rn.push(Math.floor((sn.y+an)/nn)+1),rn.push(Math.floor((sn.y+sn.h+an)/nn)+1);break;case"bct":var An=Hn(this.ctx.lastPoint.x,this.ctx.lastPoint.y,en.x1,en.y1,en.x2,en.y2,en.x,en.y);rn.push(Math.floor((An.y+an)/nn)+1),rn.push(Math.floor((An.y+An.h+an)/nn)+1);break;case"rect":rn.push(Math.floor((en.y+an)/nn)+1),rn.push(Math.floor((en.y+en.h+an)/nn)+1)}for(var cn=0;cn<rn.length;cn+=1)for(;this.pdf.internal.getNumberOfPages()<rn[cn];)wn.call(this);return rn},wn=function w(){var en=this.fillStyle,tn=this.strokeStyle,nn=this.font,rn=this.lineCap,an=this.lineWidth,sn=this.lineJoin;this.pdf.addPage(),this.fillStyle=en,this.strokeStyle=tn,this.font=nn,this.lineCap=rn,this.lineWidth=an,this.lineJoin=sn},Cn=function N(en,tn,nn){for(var rn=0;rn<en.length;rn++)switch(en[rn].type){case"bct":en[rn].x2+=tn,en[rn].y2+=nn;case"qct":en[rn].x1+=tn,en[rn].y1+=nn;default:en[rn].x+=tn,en[rn].y+=nn}return en},xn=function L(en){return en.sort((function(en,tn){return en-tn}))},Bn=function A(en,tn){for(var nn,rn,an=this.fillStyle,sn=this.strokeStyle,An=this.lineCap,cn=this.lineWidth,un=Math.abs(cn*this.ctx.transform.scaleX),hn=this.lineJoin,dn=JSON.parse(JSON.stringify(this.path)),pn=JSON.parse(JSON.stringify(this.path)),gn=[],mn=0;mn<pn.length;mn++)if(void 0!==pn[mn].x)for(var vn=bn.call(this,pn[mn]),Bn=0;Bn<vn.length;Bn+=1)-1===gn.indexOf(vn[Bn])&&gn.push(vn[Bn]);for(var Sn=0;Sn<gn.length;Sn++)for(;this.pdf.internal.getNumberOfPages()<gn[Sn];)wn.call(this);if(xn(gn),this.autoPaging)for(var kn=gn[0],En=gn[gn.length-1],Pn=kn;Pn<En+1;Pn++){this.pdf.setPage(Pn),this.fillStyle=an,this.strokeStyle=sn,this.lineCap=An,this.lineWidth=un,this.lineJoin=hn;var Fn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ln=1===Pn?this.posY+this.margin[0]:this.margin[0],In=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Un=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Tn=1===Pn?0:In+(Pn-2)*Un;if(0!==this.ctx.clip_path.length){var Qn=this.path;nn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Cn(nn,this.posX+this.margin[3],-Tn+Ln+this.ctx.prevPageLastElemOffset),_n.call(this,en,!0),this.path=Qn}if(rn=JSON.parse(JSON.stringify(dn)),this.path=Cn(rn,this.posX+this.margin[3],-Tn+Ln+this.ctx.prevPageLastElemOffset),!1===tn||0===Pn){var Nn=(Pn>kn||Pn<En)&&yn.call(this);Nn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fn,Un,null).clip().discardPath()),_n.call(this,en,tn),Nn&&this.pdf.restoreGraphicsState()}this.lineWidth=cn}else this.lineWidth=un,_n.call(this,en,tn),this.lineWidth=cn;this.path=dn},_n=function x(en,tn){if(("stroke"!==en||tn||!vn.call(this))&&("stroke"===en||tn||!mn.call(this))){for(var nn,rn,an=[],sn=this.path,An=0;An<sn.length;An++){var cn=sn[An];switch(cn.type){case"begin":an.push({begin:!0});break;case"close":an.push({close:!0});break;case"mt":an.push({start:cn,deltas:[],abs:[]});break;case"lt":var un=an.length;if(sn[An-1]&&!isNaN(sn[An-1].x)&&(nn=[cn.x-sn[An-1].x,cn.y-sn[An-1].y],un>0))for(;un>=0;un--)if(!0!==an[un-1].close&&!0!==an[un-1].begin){an[un-1].deltas.push(nn),an[un-1].abs.push(cn);break}break;case"bct":nn=[cn.x1-sn[An-1].x,cn.y1-sn[An-1].y,cn.x2-sn[An-1].x,cn.y2-sn[An-1].y,cn.x-sn[An-1].x,cn.y-sn[An-1].y],an[an.length-1].deltas.push(nn);break;case"qct":var hn=sn[An-1].x+2/3*(cn.x1-sn[An-1].x),dn=sn[An-1].y+2/3*(cn.y1-sn[An-1].y),pn=cn.x+2/3*(cn.x1-cn.x),gn=cn.y+2/3*(cn.y1-cn.y),yn=cn.x,bn=cn.y;nn=[hn-sn[An-1].x,dn-sn[An-1].y,pn-sn[An-1].x,gn-sn[An-1].y,yn-sn[An-1].x,bn-sn[An-1].y],an[an.length-1].deltas.push(nn);break;case"arc":an.push({deltas:[],abs:[],arc:!0}),Array.isArray(an[an.length-1].abs)&&an[an.length-1].abs.push(cn)}}rn=tn?null:"stroke"===en?"stroke":"fill";for(var wn=!1,Cn=0;Cn<an.length;Cn++)if(an[Cn].arc)for(var xn=an[Cn].abs,Bn=0;Bn<xn.length;Bn++){var _n=xn[Bn];"arc"===_n.type?En.call(this,_n.x,_n.y,_n.radius,_n.startAngle,_n.endAngle,_n.counterclockwise,void 0,tn,!wn):Un.call(this,_n.x,_n.y),wn=!0}else if(!0===an[Cn].close)this.pdf.internal.out("h"),wn=!1;else if(!0!==an[Cn].begin){var Sn=an[Cn].start.x,kn=an[Cn].start.y;Tn.call(this,an[Cn].deltas,Sn,kn),wn=!0}rn&&Pn.call(this,rn),tn&&Fn.call(this)}},Sn=function S(en){var tn=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,nn=tn*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return en-nn;case"top":return en+tn-nn;case"hanging":return en+tn-2*nn;case"middle":return en+tn/2-nn;default:return en}},kn=function _(en){return en+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};pn.prototype.createLinearGradient=function(){var en=function t(){};return en.colorStops=[],en.addColorStop=function(en,tn){this.colorStops.push([en,tn])},en.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},en.isCanvasGradient=!0,en},pn.prototype.createPattern=function(){return this.createLinearGradient()},pn.prototype.createRadialGradient=function(){return this.createLinearGradient()};var En=function P(en,tn,nn,rn,an,sn,An,cn,un){for(var hn=Nn.call(this,nn,rn,an,sn),dn=0;dn<hn.length;dn++){var pn=hn[dn];0===dn&&(un?Ln.call(this,pn.x1+en,pn.y1+tn):Un.call(this,pn.x1+en,pn.y1+tn)),Qn.call(this,en,tn,pn.x2,pn.y2,pn.x3,pn.y3,pn.x4,pn.y4)}cn?Fn.call(this):Pn.call(this,An)},Pn=function k(en){switch(en){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Fn=function I(){this.pdf.clip(),this.pdf.discardPath()},Ln=function F(en,tn){this.pdf.internal.out(nn(en)+" "+rn(tn)+" m")},In=function C(en){var tn;switch(en.align){case"right":case"end":tn="right";break;case"center":tn="center";break;default:tn="left"}var nn=this.pdf.getTextDimensions(en.text),rn=Sn.call(this,en.y),an=kn.call(this,rn)-nn.h,sn=this.ctx.transform.applyToPoint(new An(en.x,rn)),hn=this.ctx.transform.decompose(),dn=new un;dn=(dn=(dn=dn.multiply(hn.translate)).multiply(hn.skew)).multiply(hn.scale);for(var pn,gn,mn,vn=this.ctx.transform.applyToRectangle(new cn(en.x,rn,nn.w,nn.h)),wn=dn.applyToRectangle(new cn(en.x,an,nn.w,nn.h)),Bn=bn.call(this,wn),En=[],Pn=0;Pn<Bn.length;Pn+=1)-1===En.indexOf(Bn[Pn])&&En.push(Bn[Pn]);if(xn(En),this.autoPaging)for(var Fn=En[0],Ln=En[En.length-1],In=Fn;In<Ln+1;In++){this.pdf.setPage(In);var Un=1===In?this.posY+this.margin[0]:this.margin[0],Tn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qn=this.pdf.internal.pageSize.height-this.margin[2],Nn=Qn-this.margin[0],On=this.pdf.internal.pageSize.width-this.margin[1],Mn=On-this.margin[3],Rn=1===In?0:Tn+(In-2)*Nn;if(0!==this.ctx.clip_path.length){var Hn=this.path;pn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Cn(pn,this.posX+this.margin[3],-1*Rn+Un),_n.call(this,"fill",!0),this.path=Hn}var Dn=Cn([JSON.parse(JSON.stringify(wn))],this.posX+this.margin[3],-Rn+Un+this.ctx.prevPageLastElemOffset)[0];en.scale>=.01&&(gn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(gn*en.scale),mn=this.lineWidth,this.lineWidth=mn*en.scale);var $n="text"!==this.autoPaging;if($n||Dn.y+Dn.h<=Qn){if($n||Dn.y>=Un&&Dn.x<=On){var Gn=$n?en.text:this.pdf.splitTextToSize(en.text,en.maxWidth||On-Dn.x)[0],jn=Cn([JSON.parse(JSON.stringify(vn))],this.posX+this.margin[3],-Rn+Un+this.ctx.prevPageLastElemOffset)[0],Vn=$n&&(In>Fn||In<Ln)&&yn.call(this);Vn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mn,Nn,null).clip().discardPath()),this.pdf.text(Gn,jn.x,jn.y,{angle:en.angle,align:tn,renderingMode:en.renderingMode}),Vn&&this.pdf.restoreGraphicsState()}}else Dn.y<Qn&&(this.ctx.prevPageLastElemOffset+=Qn-Dn.y);en.scale>=.01&&(this.pdf.setFontSize(gn),this.lineWidth=mn)}else en.scale>=.01&&(gn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(gn*en.scale),mn=this.lineWidth,this.lineWidth=mn*en.scale),this.pdf.text(en.text,sn.x+this.posX,sn.y+this.posY,{angle:en.angle,align:tn,renderingMode:en.renderingMode,maxWidth:en.maxWidth}),en.scale>=.01&&(this.pdf.setFontSize(gn),this.lineWidth=mn)},Un=function j(en,tn,an,sn){an=an||0,sn=sn||0,this.pdf.internal.out(nn(en+an)+" "+rn(tn+sn)+" l")},Tn=function O(en,tn,nn){return this.pdf.lines(en,tn,nn,null,null)},Qn=function B(en,nn,rn,An,cn,un,hn,dn){this.pdf.internal.out([tn(an(rn+en)),tn(sn(An+nn)),tn(an(cn+en)),tn(sn(un+nn)),tn(an(hn+en)),tn(sn(dn+nn)),"c"].join(" "))},Nn=function M(en,tn,nn,rn){for(var an=2*Math.PI,sn=Math.PI/2;tn>nn;)tn-=an;var An=Math.abs(nn-tn);An<an&&rn&&(An=an-An);for(var cn=[],un=rn?-1:1,hn=tn;An>1e-5;){var dn=hn+un*Math.min(An,sn);cn.push(On.call(this,en,hn,dn)),An-=Math.abs(dn-hn),hn=dn}return cn},On=function E(en,tn,nn){var rn=(nn-tn)/2,an=en*Math.cos(rn),sn=en*Math.sin(rn),An=an,cn=-sn,un=An*An+cn*cn,hn=un+An*an+cn*sn,dn=4/3*(Math.sqrt(2*un*hn)-hn)/(An*sn-cn*an),pn=An-dn*cn,gn=cn+dn*An,mn=pn,vn=-gn,yn=rn+tn,bn=Math.cos(yn),wn=Math.sin(yn);return{x1:en*Math.cos(tn),y1:en*Math.sin(tn),x2:pn*bn-gn*wn,y2:pn*wn+gn*bn,x3:mn*bn-vn*wn,y3:mn*wn+vn*bn,x4:en*Math.cos(nn),y4:en*Math.sin(nn)}},Mn=function q(en){return 180*en/Math.PI},Rn=function D(en,tn,nn,rn,an,sn){var An=en+.5*(nn-en),un=tn+.5*(rn-tn),hn=an+.5*(nn-an),dn=sn+.5*(rn-sn),pn=Math.min(en,an,An,hn),gn=Math.max(en,an,An,hn),mn=Math.min(tn,sn,un,dn),vn=Math.max(tn,sn,un,dn);return new cn(pn,mn,gn-pn,vn-mn)},Hn=function R(en,tn,nn,rn,an,sn,An,un){var hn,dn,pn,gn,mn,vn,yn,bn,wn,Cn,xn,Bn,_n,Sn,kn=nn-en,En=rn-tn,Pn=an-nn,Fn=sn-rn,Ln=An-an,In=un-sn;for(dn=0;dn<41;dn++)wn=(yn=(pn=en+(hn=dn/40)*kn)+hn*((mn=nn+hn*Pn)-pn))+hn*(mn+hn*(an+hn*Ln-mn)-yn),Cn=(bn=(gn=tn+hn*En)+hn*((vn=rn+hn*Fn)-gn))+hn*(vn+hn*(sn+hn*In-vn)-bn),0==dn?(xn=wn,Bn=Cn,_n=wn,Sn=Cn):(xn=Math.min(xn,wn),Bn=Math.min(Bn,Cn),_n=Math.max(_n,wn),Sn=Math.max(Sn,Cn));return new cn(Math.round(xn),Math.round(Bn),Math.round(_n-xn),Math.round(Sn-Bn))},Dn=function T(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var en,tn,nn=(en=this.ctx.lineDash,tn=this.ctx.lineDashOffset,JSON.stringify({lineDash:en,lineDashOffset:tn}));this.prevLineDash!==nn&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=nn)}}}(E.API),
/**
 * @license
 * jsPDF filters PlugIn
 * Copyright (c) 2014 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(en){var tn=function r(en){var tn,nn,rn,an,sn,An,cn,un,hn,dn;for(/[^\x00-\xFF]/.test(en),nn=[],rn=0,an=(en+=tn="\0\0\0\0".slice(en.length%4||4)).length;an>rn;rn+=4)0!==(sn=(en.charCodeAt(rn)<<24)+(en.charCodeAt(rn+1)<<16)+(en.charCodeAt(rn+2)<<8)+en.charCodeAt(rn+3))?(An=(sn=((sn=((sn=((sn=(sn-(dn=sn%85))/85)-(hn=sn%85))/85)-(un=sn%85))/85)-(cn=sn%85))/85)%85,nn.push(An+33,cn+33,un+33,hn+33,dn+33)):nn.push(122);return function(en,tn){for(var nn=tn;nn>0;nn--)en.pop()}(nn,tn.length),String.fromCharCode.apply(String,nn)+"~>"},nn=function n(en){var tn,nn,rn,an,sn,An=String,cn="length",un=255,hn="charCodeAt",dn="slice",pn="replace";for(en[dn](-2),en=en[dn](0,-2)[pn](/\s/g,"")[pn]("z","!!!!!"),rn=[],an=0,sn=(en+=tn="uuuuu"[dn](en[cn]%5||5))[cn];sn>an;an+=5)nn=52200625*(en[hn](an)-33)+614125*(en[hn](an+1)-33)+7225*(en[hn](an+2)-33)+85*(en[hn](an+3)-33)+(en[hn](an+4)-33),rn.push(un&nn>>24,un&nn>>16,un&nn>>8,un&nn);return function(en,tn){for(var nn=tn;nn>0;nn--)en.pop()}(rn,tn[cn]),An.fromCharCode.apply(An,rn)},rn=function i(en){var tn=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(en=en.replace(/\s/g,"")).indexOf(">")&&(en=en.substr(0,en.indexOf(">"))),en.length%2&&(en+="0"),!1===tn.test(en))return"";for(var nn="",rn=0;rn<en.length;rn+=2)nn+=String.fromCharCode("0x"+(en[rn]+en[rn+1]));return nn},an=function a(en){for(var tn=new Uint8Array(en.length),nn=en.length;nn--;)tn[nn]=en.charCodeAt(nn);return(tn=zlibSync(tn)).reduce((function(en,tn){return en+String.fromCharCode(tn)}),"")};en.processDataByFilters=function(en,sn){var An=0,cn=en||"",un=[];for("string"==typeof(sn=sn||[])&&(sn=[sn]),An=0;An<sn.length;An+=1)switch(sn[An]){case"ASCII85Decode":case"/ASCII85Decode":cn=nn(cn),un.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":cn=tn(cn),un.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":cn=rn(cn),un.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":cn=cn.split("").map((function(en){return("0"+en.charCodeAt().toString(16)).slice(-2)})).join("")+">",un.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":cn=an(cn),un.push("/FlateDecode");break;default:throw new Error('The filter: "'+sn[An]+'" is not implemented')}return{data:cn,reverseChain:un.reverse().join(" ")}}}(E.API),
/**
 * @license
 * jsPDF fileloading PlugIn
 * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(en){en.loadFile=function(en,tn,nn){return function(en,tn,nn){tn=!1!==tn,nn="function"==typeof nn?nn:function(){};var rn=void 0;try{rn=function(en,tn,nn){var rn=new XMLHttpRequest,an=0,sn=function a(en){var tn=en.length,nn=[],rn=String.fromCharCode;for(an=0;an<tn;an+=1)nn.push(rn(255&en.charCodeAt(an)));return nn.join("")};if(rn.open("GET",en,!tn),rn.overrideMimeType("text/plain; charset=x-user-defined"),!1===tn&&(rn.onload=function(){200===rn.status?nn(sn(this.responseText)):nn(void 0)}),rn.send(null),tn&&200===rn.status)return sn(rn.responseText)}(en,tn,nn)}catch(en){}return rn}(en,tn,nn)},en.loadImageFile=en.loadFile}(E.API),function(en){function r(){return(yd.html2canvas?Promise.resolve(yd.html2canvas):Promise.resolve().then((function(){return Sf}))).catch((function(en){return Promise.reject(new Error("Could not load html2canvas: "+en))})).then((function(en){return en.default?en.default:en}))}function i(){return(yd.DOMPurify?Promise.resolve(yd.DOMPurify):Promise.resolve().then((function(){return tm}))).catch((function(en){return Promise.reject(new Error("Could not load dompurify: "+en))})).then((function(en){return en.default?en.default:en}))}var tn=function a(en){var tn=_typeof$1(en);return"undefined"===tn?"undefined":"string"===tn||en instanceof String?"string":"number"===tn||en instanceof Number?"number":"function"===tn||en instanceof Function?"function":en&&en.constructor===Array?"array":en&&1===en.nodeType?"element":"object"===tn?"object":"unknown"},nn=function o(en,tn){var nn=document.createElement(en);for(var rn in tn.className&&(nn.className=tn.className),tn.innerHTML&&tn.dompurify&&(nn.innerHTML=tn.dompurify.sanitize(tn.innerHTML)),tn.style)nn.style[rn]=tn.style[rn];return nn},rn=function t(en){var tn=Object.assign(t.convert(Promise.resolve()),JSON.parse(JSON.stringify(t.template))),nn=t.convert(Promise.resolve(),tn);return(nn=nn.setProgress(1,t,1,[t])).set(en)};(rn.prototype=Object.create(Promise.prototype)).constructor=rn,rn.convert=function(en,tn){return en.__proto__=tn||rn.prototype,en},rn.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function callback(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},rn.prototype.from=function(en,rn){return this.then((function(){switch(rn=rn||function(en){switch(tn(en)){case"string":return"string";case"element":return"canvas"===en.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(en)){case"string":return this.then(i).then((function(tn){return this.set({src:nn("div",{innerHTML:en,dompurify:tn})})}));case"element":return this.set({src:en});case"canvas":return this.set({canvas:en});case"img":return this.set({img:en});default:return this.error("Unknown source type.")}}))},rn.prototype.to=function(en){switch(en){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},rn.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var en={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},tn=function t(en,tn){for(var nn=3===en.nodeType?document.createTextNode(en.nodeValue):en.cloneNode(!1),rn=en.firstChild;rn;rn=rn.nextSibling)!0!==tn&&1===rn.nodeType&&"SCRIPT"===rn.nodeName||nn.appendChild(t(rn,tn));return 1===en.nodeType&&("CANVAS"===en.nodeName?(nn.width=en.width,nn.height=en.height,nn.getContext("2d").drawImage(en,0,0)):"TEXTAREA"!==en.nodeName&&"SELECT"!==en.nodeName||(nn.value=en.value),nn.addEventListener("load",(function(){nn.scrollTop=en.scrollTop,nn.scrollLeft=en.scrollLeft}),!0)),nn}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===tn.tagName&&(en.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=nn("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=nn("div",{className:"html2pdf__container",style:en}),this.prop.container.appendChild(tn),this.prop.container.firstChild.appendChild(nn("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},rn.prototype.toCanvas=function(){var en=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(en).then(r).then((function(en){var tn=Object.assign({},this.opt.html2canvas);return delete tn.onrendered,en(this.prop.container,tn)})).then((function(en){(this.opt.html2canvas.onrendered||function(){})(en),this.prop.canvas=en,document.body.removeChild(this.prop.overlay)}))},rn.prototype.toContext2d=function(){var en=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(en).then(r).then((function(en){var tn=this.opt.jsPDF,nn=this.opt.fontFaces,rn="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,an=Object.assign({async:!0,allowTaint:!0,scale:rn,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete an.onrendered,tn.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,tn.context2d.posX=this.opt.x,tn.context2d.posY=this.opt.y,tn.context2d.margin=this.opt.margin,tn.context2d.fontFaces=nn,nn)for(var sn=0;sn<nn.length;++sn){var An=nn[sn],cn=An.src.find((function(en){return"truetype"===en.format}));cn&&tn.addFont(cn.url,An.ref.name,An.ref.style)}return an.windowHeight=an.windowHeight||0,an.windowHeight=0==an.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):an.windowHeight,tn.context2d.save(!0),en(this.prop.container,an)})).then((function(en){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(en),this.prop.canvas=en,document.body.removeChild(this.prop.overlay)}))},rn.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var en=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=en}))},rn.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},rn.prototype.output=function(en,tn,nn){return"img"===(nn=nn||"pdf").toLowerCase()||"image"===nn.toLowerCase()?this.outputImg(en,tn):this.outputPdf(en,tn)},rn.prototype.outputPdf=function(en,tn){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(en,tn)}))},rn.prototype.outputImg=function(en){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(en){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+en+'" is not supported.'}}))},rn.prototype.save=function(en){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(en?{filename:en}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},rn.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},rn.prototype.set=function(en){if("object"!==tn(en))return this;var nn=Object.keys(en||{}).map((function(tn){if(tn in rn.template.prop)return function(){this.prop[tn]=en[tn]};switch(tn){case"margin":return this.setMargin.bind(this,en.margin);case"jsPDF":return function(){return this.opt.jsPDF=en.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,en.pageSize);default:return function(){this.opt[tn]=en[tn]}}}),this);return this.then((function(){return this.thenList(nn)}))},rn.prototype.get=function(en,tn){return this.then((function(){var nn=en in rn.template.prop?this.prop[en]:this.opt[en];return tn?tn(nn):nn}))},rn.prototype.setMargin=function(en){return this.then((function(){switch(tn(en)){case"number":en=[en,en,en,en];case"array":if(2===en.length&&(en=[en[0],en[1],en[0],en[1]]),4===en.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=en})).then(this.setPageSize)},rn.prototype.setPageSize=function(en){function e(en,tn){return Math.floor(en*tn/72*96)}return this.then((function(){(en=en||E.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(en.inner={width:en.width-this.opt.margin[1]-this.opt.margin[3],height:en.height-this.opt.margin[0]-this.opt.margin[2]},en.inner.px={width:e(en.inner.width,en.k),height:e(en.inner.height,en.k)},en.inner.ratio=en.inner.height/en.inner.width),this.prop.pageSize=en}))},rn.prototype.setProgress=function(en,tn,nn,rn){return null!=en&&(this.progress.val=en),null!=tn&&(this.progress.state=tn),null!=nn&&(this.progress.n=nn),null!=rn&&(this.progress.stack=rn),this.progress.ratio=this.progress.val/this.progress.state,this},rn.prototype.updateProgress=function(en,tn,nn,rn){return this.setProgress(en?this.progress.val+en:null,tn||null,nn?this.progress.n+nn:null,rn?this.progress.stack.concat(rn):null)},rn.prototype.then=function(en,tn){var nn=this;return this.thenCore(en,tn,(function(en,tn){return nn.updateProgress(null,null,1,[en]),Promise.prototype.then.call(this,(function(tn){return nn.updateProgress(null,en),tn})).then(en,tn).then((function(en){return nn.updateProgress(1),en}))}))},rn.prototype.thenCore=function(en,tn,nn){nn=nn||Promise.prototype.then,en&&(en=en.bind(this)),tn&&(tn=tn.bind(this));var an=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:rn.convert(Object.assign({},this),Promise.prototype),sn=nn.call(an,en,tn);return rn.convert(sn,this.__proto__)},rn.prototype.thenExternal=function(en,tn){return Promise.prototype.then.call(this,en,tn)},rn.prototype.thenList=function(en){var tn=this;return en.forEach((function(en){tn=tn.thenCore(en)})),tn},rn.prototype.catch=function(en){en&&(en=en.bind(this));var tn=Promise.prototype.catch.call(this,en);return rn.convert(tn,this)},rn.prototype.catchExternal=function(en){return Promise.prototype.catch.call(this,en)},rn.prototype.error=function(en){return this.then((function(){throw new Error(en)}))},rn.prototype.using=rn.prototype.set,rn.prototype.saveAs=rn.prototype.save,rn.prototype.export=rn.prototype.output,rn.prototype.run=rn.prototype.then,E.getPageSize=function(en,tn,nn){if("object"===_typeof$1(en)){var rn=en;en=rn.orientation,tn=rn.unit||tn,nn=rn.format||nn}tn=tn||"mm",nn=nn||"a4",en=(""+(en||"P")).toLowerCase();var an,sn=(""+nn).toLowerCase(),An={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(tn){case"pt":an=1;break;case"mm":an=72/25.4;break;case"cm":an=72/2.54;break;case"in":an=72;break;case"px":an=.75;break;case"pc":case"em":an=12;break;case"ex":an=6;break;default:throw"Invalid unit: "+tn}var cn,un=0,hn=0;if(An.hasOwnProperty(sn))un=An[sn][1]/an,hn=An[sn][0]/an;else try{un=nn[1],hn=nn[0]}catch(en){throw new Error("Invalid format: "+nn)}if("p"===en||"portrait"===en)en="p",hn>un&&(cn=hn,hn=un,un=cn);else{if("l"!==en&&"landscape"!==en)throw"Invalid orientation: "+en;en="l",un>hn&&(cn=hn,hn=un,un=cn)}return{width:hn,height:un,unit:tn,k:an,orientation:en}},en.html=function(en,tn){(tn=tn||{}).callback=tn.callback||function(){},tn.html2canvas=tn.html2canvas||{},tn.html2canvas.canvas=tn.html2canvas.canvas||this.canvas,tn.jsPDF=tn.jsPDF||this,tn.fontFaces=tn.fontFaces?tn.fontFaces.map(jt):null;var nn=new rn(tn);return tn.worker?nn:nn.from(en).doCallback()}}(E.API),E.API.addJS=function(en){return Cp=en,this.internal.events.subscribe("postPutResources",(function(){bp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(bp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),wp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Cp+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){void 0!==bp&&void 0!==wp&&this.internal.out("/Names <</JavaScript "+bp+" 0 R>>")})),this},
/**
 * @license
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(en){var tn;en.events.push(["postPutResources",function(){var en=this,nn=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var rn=en.outline.render().split(/\r\n/),an=0;an<rn.length;an++){var sn=rn[an],An=nn.exec(sn);if(null!=An){var cn=An[1];en.internal.newObjectDeferredBegin(cn,!1)}en.internal.write(sn)}if(this.outline.createNamedDestinations){var un=this.internal.pages.length,hn=[];for(an=0;an<un;an++){var dn=en.internal.newObject();hn.push(dn);var pn=en.internal.getPageInfo(an+1);en.internal.write("<< /D["+pn.objId+" 0 R /XYZ null null null]>> endobj")}var gn=en.internal.newObject();for(en.internal.write("<< /Names [ "),an=0;an<hn.length;an++)en.internal.write("(page_"+(an+1)+")"+hn[an]+" 0 R");en.internal.write(" ] >>","endobj"),tn=en.internal.newObject(),en.internal.write("<< /Dests "+gn+" 0 R"),en.internal.write(">>","endobj")}}]),en.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+tn+" 0 R"))}]),en.events.push(["initialized",function(){var en=this;en.outline={createNamedDestinations:!1,root:{children:[]}},en.outline.add=function(en,tn,nn){var rn={title:tn,options:nn,children:[]};return null==en&&(en=this.root),en.children.push(rn),rn},en.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=en,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},en.outline.genIds_r=function(tn){tn.id=en.internal.newObjectDeferred();for(var nn=0;nn<tn.children.length;nn++)this.genIds_r(tn.children[nn])},en.outline.renderRoot=function(en){this.objStart(en),this.line("/Type /Outlines"),en.children.length>0&&(this.line("/First "+this.makeRef(en.children[0])),this.line("/Last "+this.makeRef(en.children[en.children.length-1]))),this.line("/Count "+this.count_r({count:0},en)),this.objEnd()},en.outline.renderItems=function(tn){for(var nn=this.ctx.pdf.internal.getVerticalCoordinateString,rn=0;rn<tn.children.length;rn++){var an=tn.children[rn];this.objStart(an),this.line("/Title "+this.makeString(an.title)),this.line("/Parent "+this.makeRef(tn)),rn>0&&this.line("/Prev "+this.makeRef(tn.children[rn-1])),rn<tn.children.length-1&&this.line("/Next "+this.makeRef(tn.children[rn+1])),an.children.length>0&&(this.line("/First "+this.makeRef(an.children[0])),this.line("/Last "+this.makeRef(an.children[an.children.length-1])));var sn=this.count=this.count_r({count:0},an);if(sn>0&&this.line("/Count "+sn),an.options&&an.options.pageNumber){var An=en.internal.getPageInfo(an.options.pageNumber);this.line("/Dest ["+An.objId+" 0 R /XYZ 0 "+nn(0)+" 0]")}this.objEnd()}for(var cn=0;cn<tn.children.length;cn++)this.renderItems(tn.children[cn])},en.outline.line=function(en){this.ctx.val+=en+"\r\n"},en.outline.makeRef=function(en){return en.id+" 0 R"},en.outline.makeString=function(tn){return"("+en.internal.pdfEscape(tn)+")"},en.outline.objStart=function(en){this.ctx.val+="\r\n"+en.id+" 0 obj\r\n<<\r\n"},en.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},en.outline.count_r=function(en,tn){for(var nn=0;nn<tn.children.length;nn++)en.count++,this.count_r(en,tn.children[nn]);return en.count}}])}(E.API),
/**
 * @license
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(en){var tn=[192,193,194,195,196,197,198,199];en.processJPEG=function(en,nn,rn,an,sn,An){var cn,un=this.decode.DCT_DECODE,hn=null;if("string"==typeof en||this.__addimage__.isArrayBuffer(en)||this.__addimage__.isArrayBufferView(en)){switch(en=sn||en,en=this.__addimage__.isArrayBuffer(en)?new Uint8Array(en):en,(cn=function(en){for(var nn,rn=256*en.charCodeAt(4)+en.charCodeAt(5),an=en.length,sn={width:0,height:0,numcomponents:1},An=4;An<an;An+=2){if(An+=rn,-1!==tn.indexOf(en.charCodeAt(An+1))){nn=256*en.charCodeAt(An+5)+en.charCodeAt(An+6),sn={width:256*en.charCodeAt(An+7)+en.charCodeAt(An+8),height:nn,numcomponents:en.charCodeAt(An+9)};break}rn=256*en.charCodeAt(An+2)+en.charCodeAt(An+3)}return sn}(en=this.__addimage__.isArrayBufferView(en)?this.__addimage__.arrayBufferToBinaryString(en):en)).numcomponents){case 1:An=this.color_spaces.DEVICE_GRAY;break;case 4:An=this.color_spaces.DEVICE_CMYK;break;case 3:An=this.color_spaces.DEVICE_RGB}hn={data:en,width:cn.width,height:cn.height,colorSpace:An,bitsPerComponent:8,filter:un,index:nn,alias:rn}}return hn}}(E.API);var Bp,_p,Sp,kp,Ep,Pp=function(){var en,tn,nn;function a(en){var tn,nn,rn,an,sn,An,cn,un,hn,dn,pn,gn,mn,vn;for(this.data=en,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},An=null;;){switch(tn=this.readUInt32(),hn=function(){var en,tn;for(tn=[],en=0;en<4;++en)tn.push(String.fromCharCode(this.data[this.pos++]));return tn}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(tn);break;case"fcTL":An&&this.animation.frames.push(An),this.pos+=4,An={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},sn=this.readUInt16(),an=this.readUInt16()||100,An.delay=1e3*sn/an,An.disposeOp=this.data[this.pos++],An.blendOp=this.data[this.pos++],An.data=[];break;case"IDAT":case"fdAT":for("fdAT"===hn&&(this.pos+=4,tn-=4),en=(null!=An?An.data:void 0)||this.imgData,gn=0;0<=tn?gn<tn:gn>tn;0<=tn?++gn:--gn)en.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(rn=this.palette.length/3,this.transparency.indexed=this.read(tn),this.transparency.indexed.length>rn)throw new Error("More transparent colors than palette size");if((dn=rn-this.transparency.indexed.length)>0)for(mn=0;0<=dn?mn<dn:mn>dn;0<=dn?++mn:--mn)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(tn)[0];break;case 2:this.transparency.rgb=this.read(tn)}break;case"tEXt":cn=(pn=this.read(tn)).indexOf(0),un=String.fromCharCode.apply(String,pn.slice(0,cn)),this.text[un]=String.fromCharCode.apply(String,pn.slice(cn+1));break;case"IEND":return An&&this.animation.frames.push(An),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(vn=this.colorType)||6===vn,nn=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*nn,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=tn}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}a.prototype.read=function(en){var tn,nn;for(nn=[],tn=0;0<=en?tn<en:tn>en;0<=en?++tn:--tn)nn.push(this.data[this.pos++]);return nn},a.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},a.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},a.prototype.decodePixels=function(en){var tn=this.pixelBitlength/8,nn=new Uint8Array(this.width*this.height*tn),rn=0,an=this;if(null==en&&(en=this.imgData),0===en.length)return new Uint8Array(0);function o(sn,An,cn,un){var hn,dn,pn,gn,mn,vn,yn,bn,wn,Cn,xn,Bn,_n,Sn,kn,En,Pn,Fn,Ln,In,Un,Tn=Math.ceil((an.width-sn)/cn),Qn=Math.ceil((an.height-An)/un),Nn=an.width==Tn&&an.height==Qn;for(Sn=tn*Tn,Bn=Nn?nn:new Uint8Array(Sn*Qn),vn=en.length,_n=0,dn=0;_n<Qn&&rn<vn;){switch(en[rn++]){case 0:for(gn=Pn=0;Pn<Sn;gn=Pn+=1)Bn[dn++]=en[rn++];break;case 1:for(gn=Fn=0;Fn<Sn;gn=Fn+=1)hn=en[rn++],mn=gn<tn?0:Bn[dn-tn],Bn[dn++]=(hn+mn)%256;break;case 2:for(gn=Ln=0;Ln<Sn;gn=Ln+=1)hn=en[rn++],pn=(gn-gn%tn)/tn,kn=_n&&Bn[(_n-1)*Sn+pn*tn+gn%tn],Bn[dn++]=(kn+hn)%256;break;case 3:for(gn=In=0;In<Sn;gn=In+=1)hn=en[rn++],pn=(gn-gn%tn)/tn,mn=gn<tn?0:Bn[dn-tn],kn=_n&&Bn[(_n-1)*Sn+pn*tn+gn%tn],Bn[dn++]=(hn+Math.floor((mn+kn)/2))%256;break;case 4:for(gn=Un=0;Un<Sn;gn=Un+=1)hn=en[rn++],pn=(gn-gn%tn)/tn,mn=gn<tn?0:Bn[dn-tn],0===_n?kn=En=0:(kn=Bn[(_n-1)*Sn+pn*tn+gn%tn],En=pn&&Bn[(_n-1)*Sn+(pn-1)*tn+gn%tn]),yn=mn+kn-En,bn=Math.abs(yn-mn),Cn=Math.abs(yn-kn),xn=Math.abs(yn-En),wn=bn<=Cn&&bn<=xn?mn:Cn<=xn?kn:En,Bn[dn++]=(hn+wn)%256;break;default:throw new Error("Invalid filter algorithm: "+en[rn-1])}if(!Nn){var On=((An+_n*un)*an.width+sn)*tn,Mn=_n*Sn;for(gn=0;gn<Tn;gn+=1){for(var Rn=0;Rn<tn;Rn+=1)nn[On++]=Bn[Mn++];On+=(cn-1)*tn}}_n++}}return en=function unzlibSync(en,tn){return function(en,tn,nn){var rn=en.length,an=!tn||nn,sn=!nn||nn.i;nn||(nn={}),tn||(tn=new Uh(3*rn));var An=function cbuf(en){var nn=tn.length;if(en>nn){var rn=new Uh(Math.max(2*nn,en));rn.set(tn),tn=rn}},cn=nn.f||0,un=nn.p||0,hn=nn.b||0,dn=nn.l,pn=nn.d,gn=nn.m,mn=nn.n,vn=8*rn;do{if(!dn){nn.f=cn=rd(en,un,1);var yn=rd(en,un+1,3);if(un+=3,!yn){var bn=en[(Ln=ad(un)+4)-4]|en[Ln-3]<<8,wn=Ln+bn;if(wn>rn){if(sn)throw"unexpected EOF";break}an&&An(hn+bn),tn.set(en.subarray(Ln,wn),hn),nn.b=hn+=bn,nn.p=un=8*wn;continue}if(1==yn)dn=Zh,pn=td,gn=9,mn=5;else{if(2!=yn)throw"invalid block type";var Cn=rd(en,un,31)+257,xn=rd(en,un+10,15)+4,Bn=Cn+rd(en,un+5,31)+1;un+=14;for(var _n=new Uh(Bn),Sn=new Uh(19),kn=0;kn<xn;++kn)Sn[Mh[kn]]=rd(en,un+3*kn,7);un+=3*xn;var En=nd(Sn),Pn=(1<<En)-1;if(!sn&&un+Bn*(En+7)>vn)break;var Fn=Wh(Sn,En,1);for(kn=0;kn<Bn;){var Ln,In=Fn[rd(en,un,Pn)];if(un+=15&In,(Ln=In>>>4)<16)_n[kn++]=Ln;else{var Un=0,Tn=0;for(16==Ln?(Tn=3+rd(en,un,3),un+=2,Un=_n[kn-1]):17==Ln?(Tn=3+rd(en,un,7),un+=3):18==Ln&&(Tn=11+rd(en,un,127),un+=7);Tn--;)_n[kn++]=Un}}var Qn=_n.subarray(0,Cn),Nn=_n.subarray(Cn);gn=nd(Qn),mn=nd(Nn),dn=Wh(Qn,gn,1),pn=Wh(Nn,mn,1)}if(un>vn)throw"unexpected EOF"}an&&An(hn+131072);for(var On=(1<<gn)-1,Mn=(1<<mn)-1,Rn=gn+mn+18;sn||un+Rn<vn;){var Hn=(Un=dn[id(en,un)&On])>>>4;if((un+=15&Un)>vn)throw"unexpected EOF";if(!Un)throw"invalid length/literal";if(Hn<256)tn[hn++]=Hn;else{if(256==Hn){dn=null;break}var Dn=Hn-254;if(Hn>264){var $n=Nh[kn=Hn-257];Dn=rd(en,un,(1<<$n)-1)+Dh[kn],un+=$n}var Gn=pn[id(en,un)&Mn],jn=Gn>>>4;if(!Gn)throw"invalid distance";if(un+=15&Gn,Nn=jh[jn],jn>3&&($n=Oh[jn],Nn+=id(en,un)&(1<<$n)-1,un+=$n),un>vn)throw"unexpected EOF";an&&An(hn+131072);for(var Vn=hn+Dn;hn<Vn;hn+=4)tn[hn]=tn[hn-Nn],tn[hn+1]=tn[hn+1-Nn],tn[hn+2]=tn[hn+2-Nn],tn[hn+3]=tn[hn+3-Nn];hn=Vn}}nn.l=dn,nn.p=un,nn.b=hn,dn&&(cn=1,nn.m=gn,nn.d=pn,nn.n=mn)}while(!cn);return hn==tn.length?tn:od(tn,0,hn)}((function(en){if(8!=(15&en[0])||en[0]>>>4>7||(en[0]<<8|en[1])%31)throw"invalid zlib data";if(32&en[1])throw"invalid zlib data: preset dictionaries not supported"}(en),en.subarray(2,-4)),tn)}(en),1==an.interlaceMethod?(o(0,0,8,8),o(4,0,8,8),o(0,4,4,8),o(2,0,4,4),o(0,2,2,4),o(1,0,2,2),o(0,1,1,2)):o(0,0,1,1),nn},a.prototype.decodePalette=function(){var en,tn,nn,rn,an,sn,An,cn,un;for(nn=this.palette,sn=this.transparency.indexed||[],an=new Uint8Array((sn.length||0)+nn.length),rn=0,en=0,tn=An=0,cn=nn.length;An<cn;tn=An+=3)an[rn++]=nn[tn],an[rn++]=nn[tn+1],an[rn++]=nn[tn+2],an[rn++]=null!=(un=sn[en++])?un:255;return an},a.prototype.copyToImageData=function(en,tn){var nn,rn,an,sn,An,cn,un,hn,dn,pn,gn;if(rn=this.colors,dn=null,nn=this.hasAlphaChannel,this.palette.length&&(dn=null!=(gn=this._decodedPalette)?gn:this._decodedPalette=this.decodePalette(),rn=4,nn=!0),hn=(an=en.data||en).length,An=dn||tn,sn=cn=0,1===rn)for(;sn<hn;)un=dn?4*tn[sn/4]:cn,pn=An[un++],an[sn++]=pn,an[sn++]=pn,an[sn++]=pn,an[sn++]=nn?An[un++]:255,cn=un;else for(;sn<hn;)un=dn?4*tn[sn/4]:cn,an[sn++]=An[un++],an[sn++]=An[un++],an[sn++]=An[un++],an[sn++]=nn?An[un++]:255,cn=un},a.prototype.decode=function(){var en;return en=new Uint8Array(this.width*this.height*4),this.copyToImageData(en,this.decodePixels()),en};var rn=function o(){if("[object Window]"===Object.prototype.toString.call(yd)){try{tn=yd.document.createElement("canvas"),nn=tn.getContext("2d")}catch(en){return!1}return!0}return!1};return rn(),en=function tA(en){var an;if(!0===rn())return nn.width=en.width,nn.height=en.height,nn.clearRect(0,0,en.width,en.height),nn.putImageData(en,0,0),(an=new Image).src=tn.toDataURL(),an;throw new Error("This method requires a Browser with Canvas-capability.")},a.prototype.decodeFrames=function(tn){var nn,rn,an,sn,An,cn,un,hn;if(this.animation){for(hn=[],rn=An=0,cn=(un=this.animation.frames).length;An<cn;rn=++An)nn=un[rn],an=tn.createImageData(nn.width,nn.height),sn=this.decodePixels(new Uint8Array(nn.data)),this.copyToImageData(an,sn),nn.imageData=an,hn.push(nn.image=en(an));return hn}},a.prototype.renderFrame=function(en,tn){var nn,rn,an;return nn=(rn=this.animation.frames)[tn],an=rn[tn-1],0===tn&&en.clearRect(0,0,this.width,this.height),1===(null!=an?an.disposeOp:void 0)?en.clearRect(an.xOffset,an.yOffset,an.width,an.height):2===(null!=an?an.disposeOp:void 0)&&en.putImageData(an.imageData,an.xOffset,an.yOffset),0===nn.blendOp&&en.clearRect(nn.xOffset,nn.yOffset,nn.width,nn.height),en.drawImage(nn.image,nn.xOffset,nn.yOffset)},a.prototype.animate=function(en){var tn,nn,rn,an,sn,An,cn=this;return nn=0,An=this.animation,an=An.numFrames,rn=An.frames,sn=An.numPlays,(tn=function eA(){var An,un;if(An=nn++%an,un=rn[An],cn.renderFrame(en,An),an>1&&nn/an<sn)return cn.animation._timeout=setTimeout(tn,un.delay)})()},a.prototype.stopAnimation=function(){var en;return clearTimeout(null!=(en=this.animation)?en._timeout:void 0)},a.prototype.render=function(en){var tn,nn;return en._png&&en._png.stopAnimation(),en._png=this,en.width=this.width,en.height=this.height,tn=en.getContext("2d"),this.animation?(this.decodeFrames(tn),this.animate(tn)):(nn=tn.createImageData(this.width,this.height),this.copyToImageData(nn,this.decodePixels()),tn.putImageData(nn,0,0))},a}();
/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
/**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Zt(en){var tn=0;if(71!==en[tn++]||73!==en[tn++]||70!==en[tn++]||56!==en[tn++]||56!=(en[tn++]+1&253)||97!==en[tn++])throw new Error("Invalid GIF 87a/89a header.");var nn=en[tn++]|en[tn++]<<8,rn=en[tn++]|en[tn++]<<8,an=en[tn++],sn=an>>7,An=1<<1+(7&an);en[tn++],en[tn++];var cn=null,un=null;sn&&(cn=tn,un=An,tn+=3*An);var hn=!0,dn=[],pn=0,gn=null,mn=0,vn=null;for(this.width=nn,this.height=rn;hn&&tn<en.length;)switch(en[tn++]){case 33:switch(en[tn++]){case 255:if(11!==en[tn]||78==en[tn+1]&&69==en[tn+2]&&84==en[tn+3]&&83==en[tn+4]&&67==en[tn+5]&&65==en[tn+6]&&80==en[tn+7]&&69==en[tn+8]&&50==en[tn+9]&&46==en[tn+10]&&48==en[tn+11]&&3==en[tn+12]&&1==en[tn+13]&&0==en[tn+16])tn+=14,vn=en[tn++]|en[tn++]<<8,tn++;else for(tn+=12;;){if(!((Ln=en[tn++])>=0))throw Error("Invalid block size");if(0===Ln)break;tn+=Ln}break;case 249:if(4!==en[tn++]||0!==en[tn+4])throw new Error("Invalid graphics extension block.");var yn=en[tn++];pn=en[tn++]|en[tn++]<<8,gn=en[tn++],0==(1&yn)&&(gn=null),mn=yn>>2&7,tn++;break;case 254:for(;;){if(!((Ln=en[tn++])>=0))throw Error("Invalid block size");if(0===Ln)break;tn+=Ln}break;default:throw new Error("Unknown graphic control label: 0x"+en[tn-1].toString(16))}break;case 44:var bn=en[tn++]|en[tn++]<<8,wn=en[tn++]|en[tn++]<<8,Cn=en[tn++]|en[tn++]<<8,xn=en[tn++]|en[tn++]<<8,Bn=en[tn++],_n=Bn>>6&1,Sn=1<<1+(7&Bn),kn=cn,En=un,Pn=!1;Bn>>7&&(Pn=!0,kn=tn,En=Sn,tn+=3*Sn);var Fn=tn;for(tn++;;){var Ln;if(!((Ln=en[tn++])>=0))throw Error("Invalid block size");if(0===Ln)break;tn+=Ln}dn.push({x:bn,y:wn,width:Cn,height:xn,has_local_palette:Pn,palette_offset:kn,palette_size:En,data_offset:Fn,data_length:tn-Fn,transparent_index:gn,interlaced:!!_n,delay:pn,disposal:mn});break;case 59:hn=!1;break;default:throw new Error("Unknown gif block: 0x"+en[tn-1].toString(16))}this.numFrames=function(){return dn.length},this.loopCount=function(){return vn},this.frameInfo=function(en){if(en<0||en>=dn.length)throw new Error("Frame index out of range.");return dn[en]},this.decodeAndBlitFrameBGRA=function(tn,rn){var an=this.frameInfo(tn),sn=an.width*an.height,An=new Uint8Array(sn);$t(en,an.data_offset,An,sn);var cn=an.palette_offset,un=an.transparent_index;null===un&&(un=256);var hn=an.width,dn=nn-hn,pn=hn,gn=4*(an.y*nn+an.x),mn=4*((an.y+an.height)*nn+an.x),vn=gn,yn=4*dn;!0===an.interlaced&&(yn+=4*nn*7);for(var bn=8,wn=0,Cn=An.length;wn<Cn;++wn){var xn=An[wn];if(0===pn&&(pn=hn,(vn+=yn)>=mn&&(yn=4*dn+4*nn*(bn-1),vn=gn+(hn+dn)*(bn<<1),bn>>=1)),xn===un)vn+=4;else{var Bn=en[cn+3*xn],_n=en[cn+3*xn+1],Sn=en[cn+3*xn+2];rn[vn++]=Sn,rn[vn++]=_n,rn[vn++]=Bn,rn[vn++]=255}--pn}},this.decodeAndBlitFrameRGBA=function(tn,rn){var an=this.frameInfo(tn),sn=an.width*an.height,An=new Uint8Array(sn);$t(en,an.data_offset,An,sn);var cn=an.palette_offset,un=an.transparent_index;null===un&&(un=256);var hn=an.width,dn=nn-hn,pn=hn,gn=4*(an.y*nn+an.x),mn=4*((an.y+an.height)*nn+an.x),vn=gn,yn=4*dn;!0===an.interlaced&&(yn+=4*nn*7);for(var bn=8,wn=0,Cn=An.length;wn<Cn;++wn){var xn=An[wn];if(0===pn&&(pn=hn,(vn+=yn)>=mn&&(yn=4*dn+4*nn*(bn-1),vn=gn+(hn+dn)*(bn<<1),bn>>=1)),xn===un)vn+=4;else{var Bn=en[cn+3*xn],_n=en[cn+3*xn+1],Sn=en[cn+3*xn+2];rn[vn++]=Bn,rn[vn++]=_n,rn[vn++]=Sn,rn[vn++]=255}--pn}}}function $t(en,tn,nn,rn){for(var an=en[tn++],sn=1<<an,An=sn+1,cn=An+1,un=an+1,hn=(1<<un)-1,dn=0,pn=0,gn=0,mn=en[tn++],vn=new Int32Array(4096),yn=null;;){for(;dn<16&&0!==mn;)pn|=en[tn++]<<dn,dn+=8,1===mn?mn=en[tn++]:--mn;if(dn<un)break;var bn=pn&hn;if(pn>>=un,dn-=un,bn!==sn){if(bn===An)break;for(var wn=bn<cn?bn:yn,Cn=0,xn=wn;xn>sn;)xn=vn[xn]>>8,++Cn;var Bn=xn;if(gn+Cn+(wn!==bn?1:0)>rn)return void bd.log("Warning, gif stream longer than expected.");nn[gn++]=Bn;var _n=gn+=Cn;for(wn!==bn&&(nn[gn++]=Bn),xn=wn;Cn--;)xn=vn[xn],nn[--_n]=255&xn,xn>>=8;null!==yn&&cn<4096&&(vn[cn++]=yn<<8|Bn,cn>=hn+1&&un<12&&(++un,hn=hn<<1|1)),yn=bn}else cn=An+1,hn=(1<<(un=an+1))-1,yn=null}return gn!==rn&&bd.log("Warning, gif stream shorter than expected."),nn;
/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/}function Qt(en){var tn,nn,rn,an,sn,An=Math.floor,cn=new Array(64),un=new Array(64),hn=new Array(64),dn=new Array(64),pn=new Array(65535),gn=new Array(65535),mn=new Array(64),vn=new Array(64),yn=[],bn=0,wn=7,Cn=new Array(64),xn=new Array(64),Bn=new Array(64),_n=new Array(256),Sn=new Array(2048),kn=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],En=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Pn=[0,1,2,3,4,5,6,7,8,9,10,11],Fn=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Ln=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],In=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Un=[0,1,2,3,4,5,6,7,8,9,10,11],Tn=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Qn=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function j(en,tn){for(var nn=0,rn=0,an=new Array,sn=1;sn<=16;sn++){for(var An=1;An<=en[sn];An++)an[tn[rn]]=[],an[tn[rn]][0]=nn,an[tn[rn]][1]=sn,rn++,nn++;nn*=2}return an}function O(en){for(var tn=en[0],nn=en[1]-1;nn>=0;)tn&1<<nn&&(bn|=1<<wn),nn--,--wn<0&&(255==bn?(B(255),B(0)):B(bn),wn=7,bn=0)}function B(en){yn.push(en)}function M(en){B(en>>8&255),B(255&en)}function E(en,tn,nn,rn,an){for(var sn,An=an[0],cn=an[240],un=function(en,tn){var nn,rn,an,sn,An,cn,un,hn,dn,pn,gn=0;for(dn=0;dn<8;++dn){nn=en[gn],rn=en[gn+1],an=en[gn+2],sn=en[gn+3],An=en[gn+4],cn=en[gn+5],un=en[gn+6];var vn=nn+(hn=en[gn+7]),yn=nn-hn,bn=rn+un,wn=rn-un,Cn=an+cn,xn=an-cn,Bn=sn+An,_n=sn-An,Sn=vn+Bn,kn=vn-Bn,En=bn+Cn,Pn=bn-Cn;en[gn]=Sn+En,en[gn+4]=Sn-En;var Fn=.707106781*(Pn+kn);en[gn+2]=kn+Fn,en[gn+6]=kn-Fn;var Ln=.382683433*((Sn=_n+xn)-(Pn=wn+yn)),In=.5411961*Sn+Ln,Un=1.306562965*Pn+Ln,Tn=.707106781*(En=xn+wn),Qn=yn+Tn,Nn=yn-Tn;en[gn+5]=Nn+In,en[gn+3]=Nn-In,en[gn+1]=Qn+Un,en[gn+7]=Qn-Un,gn+=8}for(gn=0,dn=0;dn<8;++dn){nn=en[gn],rn=en[gn+8],an=en[gn+16],sn=en[gn+24],An=en[gn+32],cn=en[gn+40],un=en[gn+48];var On=nn+(hn=en[gn+56]),Mn=nn-hn,Rn=rn+un,Hn=rn-un,Dn=an+cn,$n=an-cn,Gn=sn+An,jn=sn-An,Vn=On+Gn,Kn=On-Gn,qn=Rn+Dn,zn=Rn-Dn;en[gn]=Vn+qn,en[gn+32]=Vn-qn;var Wn=.707106781*(zn+Kn);en[gn+16]=Kn+Wn,en[gn+48]=Kn-Wn;var Xn=.382683433*((Vn=jn+$n)-(zn=Hn+Mn)),Yn=.5411961*Vn+Xn,Jn=1.306562965*zn+Xn,Zn=.707106781*(qn=$n+Hn),Ur=Mn+Zn,Tr=Mn-Zn;en[gn+40]=Tr+Yn,en[gn+24]=Tr-Yn,en[gn+8]=Ur+Jn,en[gn+56]=Ur-Jn,gn++}for(dn=0;dn<64;++dn)pn=en[dn]*tn[dn],mn[dn]=pn>0?pn+.5|0:pn-.5|0;return mn}(en,tn),hn=0;hn<64;++hn)vn[kn[hn]]=un[hn];var dn=vn[0]-nn;nn=vn[0],0==dn?O(rn[0]):(O(rn[gn[sn=32767+dn]]),O(pn[sn]));for(var yn=63;yn>0&&0==vn[yn];)yn--;if(0==yn)return O(An),nn;for(var bn,wn=1;wn<=yn;){for(var Cn=wn;0==vn[wn]&&wn<=yn;)++wn;var xn=wn-Cn;if(xn>=16){bn=xn>>4;for(var Bn=1;Bn<=bn;++Bn)O(cn);xn&=15}sn=32767+vn[wn],O(an[(xn<<4)+gn[sn]]),O(pn[sn]),wn++}return 63!=yn&&O(An),nn}function q(en){en=Math.min(Math.max(en,1),100),sn!=en&&(function(en){for(var tn=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],nn=0;nn<64;nn++){var rn=An((tn[nn]*en+50)/100);rn=Math.min(Math.max(rn,1),255),cn[kn[nn]]=rn}for(var an=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],sn=0;sn<64;sn++){var pn=An((an[sn]*en+50)/100);pn=Math.min(Math.max(pn,1),255),un[kn[sn]]=pn}for(var gn=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],mn=0,vn=0;vn<8;vn++)for(var yn=0;yn<8;yn++)hn[mn]=1/(cn[kn[mn]]*gn[vn]*gn[yn]*8),dn[mn]=1/(un[kn[mn]]*gn[vn]*gn[yn]*8),mn++}(en<50?Math.floor(5e3/en):Math.floor(200-2*en)),sn=en)}this.encode=function(en,sn){sn&&q(sn),yn=new Array,bn=0,wn=7,M(65496),M(65504),M(16),B(74),B(70),B(73),B(70),B(0),B(1),B(1),B(0),M(1),M(1),B(0),B(0),function(){M(65499),M(132),B(0);for(var en=0;en<64;en++)B(cn[en]);B(1);for(var tn=0;tn<64;tn++)B(un[tn])}(),function(en,tn){M(65472),M(17),B(8),M(tn),M(en),B(3),B(1),B(17),B(0),B(2),B(17),B(1),B(3),B(17),B(1)}(en.width,en.height),function(){M(65476),M(418),B(0);for(var en=0;en<16;en++)B(En[en+1]);for(var tn=0;tn<=11;tn++)B(Pn[tn]);B(16);for(var nn=0;nn<16;nn++)B(Fn[nn+1]);for(var rn=0;rn<=161;rn++)B(Ln[rn]);B(1);for(var an=0;an<16;an++)B(In[an+1]);for(var sn=0;sn<=11;sn++)B(Un[sn]);B(17);for(var An=0;An<16;An++)B(Tn[An+1]);for(var cn=0;cn<=161;cn++)B(Qn[cn])}(),M(65498),M(12),B(3),B(1),B(0),B(2),B(17),B(3),B(17),B(0),B(63),B(0);var An=0,pn=0,gn=0;bn=0,wn=7,this.encode.displayName="_encode_";for(var mn,vn,_n,kn,Nn,On,Mn,Rn,Hn,Dn=en.data,$n=en.width,Gn=en.height,jn=4*$n,Vn=0;Vn<Gn;){for(mn=0;mn<jn;){for(Nn=jn*Vn+mn,Mn=-1,Rn=0,Hn=0;Hn<64;Hn++)On=Nn+(Rn=Hn>>3)*jn+(Mn=4*(7&Hn)),Vn+Rn>=Gn&&(On-=jn*(Vn+1+Rn-Gn)),mn+Mn>=jn&&(On-=mn+Mn-jn+4),vn=Dn[On++],_n=Dn[On++],kn=Dn[On++],Cn[Hn]=(Sn[vn]+Sn[_n+256>>0]+Sn[kn+512>>0]>>16)-128,xn[Hn]=(Sn[vn+768>>0]+Sn[_n+1024>>0]+Sn[kn+1280>>0]>>16)-128,Bn[Hn]=(Sn[vn+1280>>0]+Sn[_n+1536>>0]+Sn[kn+1792>>0]>>16)-128;An=E(Cn,hn,An,tn,rn),pn=E(xn,dn,pn,nn,an),gn=E(Bn,dn,gn,nn,an),mn+=32}Vn+=8}if(wn>=0){var Kn=[];Kn[1]=wn+1,Kn[0]=(1<<wn+1)-1,O(Kn)}return M(65497),new Uint8Array(yn)},en=en||50,function(){for(var en=String.fromCharCode,tn=0;tn<256;tn++)_n[tn]=en(tn)}(),tn=j(En,Pn),nn=j(In,Un),rn=j(Fn,Ln),an=j(Tn,Qn),function(){for(var en=1,tn=2,nn=1;nn<=15;nn++){for(var rn=en;rn<tn;rn++)gn[32767+rn]=nn,pn[32767+rn]=[],pn[32767+rn][1]=nn,pn[32767+rn][0]=rn;for(var an=-(tn-1);an<=-en;an++)gn[32767+an]=nn,pn[32767+an]=[],pn[32767+an][1]=nn,pn[32767+an][0]=tn-1+an;en<<=1,tn<<=1}}(),function(){for(var en=0;en<256;en++)Sn[en]=19595*en,Sn[en+256>>0]=38470*en,Sn[en+512>>0]=7471*en+32768,Sn[en+768>>0]=-11059*en,Sn[en+1024>>0]=-21709*en,Sn[en+1280>>0]=32768*en+8421375,Sn[en+1536>>0]=-27439*en,Sn[en+1792>>0]=-5329*en}(),q(en)}
/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function te(en,tn){if(this.pos=0,this.buffer=en,this.datav=new DataView(en.buffer),this.is_with_alpha=!!tn,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ee(en){function e(en){if(!en)throw Error("assert :P")}function r(en,tn,nn){for(var rn=0;4>rn;rn++)if(en[tn+rn]!=nn.charCodeAt(rn))return!0;return!1}function n(en,tn,nn,rn,an){for(var sn=0;sn<an;sn++)en[tn+sn]=nn[rn+sn]}function i(en,tn,nn,rn){for(var an=0;an<rn;an++)en[tn+an]=nn}function a(en){return new Int32Array(en)}function o(en,tn){for(var nn=[],rn=0;rn<en;rn++)nn.push(new tn);return nn}function s(en,tn){var nn=[];return function t(en,nn,rn){for(var an=rn[nn],sn=0;sn<an&&(en.push(rn.length>nn+1?[]:new tn),!(rn.length<nn+1));sn++)t(en[sn],nn+1,rn)}(nn,0,en),nn}var tn=function c(){var en=this;function c(en,tn){for(var nn=1<<tn-1>>>0;en&nn;)nn>>>=1;return nn?(en&nn-1)+nn:en}function u(en,tn,nn,rn,an){e(!(rn%nn));do{en[tn+(rn-=nn)]=an}while(0<rn)}function h(en,tn,nn,rn,an){if(e(2328>=an),512>=an)var sn=a(512);else if(null==(sn=a(an)))return 0;return function(en,tn,nn,rn,an,sn){var An,cn,un=tn,hn=1<<nn,dn=a(16),pn=a(16);for(e(0!=an),e(null!=rn),e(null!=en),e(0<nn),cn=0;cn<an;++cn){if(15<rn[cn])return 0;++dn[rn[cn]]}if(dn[0]==an)return 0;for(pn[1]=0,An=1;15>An;++An){if(dn[An]>1<<An)return 0;pn[An+1]=pn[An]+dn[An]}for(cn=0;cn<an;++cn)An=rn[cn],0<rn[cn]&&(sn[pn[An]++]=cn);if(1==pn[15])return(rn=new l).g=0,rn.value=sn[0],u(en,un,1,hn,rn),hn;var gn,mn=-1,vn=hn-1,yn=0,bn=1,wn=1,Cn=1<<nn;for(cn=0,An=1,an=2;An<=nn;++An,an<<=1){if(bn+=wn<<=1,0>(wn-=dn[An]))return 0;for(;0<dn[An];--dn[An])(rn=new l).g=An,rn.value=sn[cn++],u(en,un+yn,an,Cn,rn),yn=c(yn,An)}for(An=nn+1,an=2;15>=An;++An,an<<=1){if(bn+=wn<<=1,0>(wn-=dn[An]))return 0;for(;0<dn[An];--dn[An]){if(rn=new l,(yn&vn)!=mn){for(un+=Cn,gn=1<<(mn=An)-nn;15>mn&&!(0>=(gn-=dn[mn]));)++mn,gn<<=1;hn+=Cn=1<<(gn=mn-nn),en[tn+(mn=yn&vn)].g=gn+nn,en[tn+mn].value=un-tn-mn}rn.g=An-nn,rn.value=sn[cn++],u(en,un+(yn>>nn),an,Cn,rn),yn=c(yn,An)}}return bn!=2*pn[15]-1?0:hn}(en,tn,nn,rn,an,sn)}function l(){this.value=this.g=0}function f(){this.value=this.g=0}function d(){this.G=o(5,l),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(tn,f)}function p(en,tn,nn,rn){e(null!=en),e(null!=tn),e(2147483648>rn),en.Ca=254,en.I=0,en.b=-8,en.Ka=0,en.oa=tn,en.pa=nn,en.Jd=tn,en.Yc=nn+rn,en.Zc=4<=rn?nn+rn-4+1:nn,_(en)}function g(en,tn){for(var nn=0;0<tn--;)nn|=k(en,128)<<tn;return nn}function m(en,tn){var nn=g(en,tn);return P(en)?-nn:nn}function v(en,tn,nn,rn){var an,sn=0;for(e(null!=en),e(null!=tn),e(4294967288>rn),en.Sb=rn,en.Ra=0,en.u=0,en.h=0,4<rn&&(rn=4),an=0;an<rn;++an)sn+=tn[nn+an]<<8*an;en.Ra=sn,en.bb=rn,en.oa=tn,en.pa=nn}function b(en){for(;8<=en.u&&en.bb<en.Sb;)en.Ra>>>=8,en.Ra+=en.oa[en.pa+en.bb]<<an-8>>>0,++en.bb,en.u-=8;A(en)&&(en.h=1,en.u=0)}function y(en,tn){if(e(0<=tn),!en.h&&tn<=rn){var an=L(en)&nn[tn];return en.u+=tn,b(en),an}return en.h=1,en.u=0}function w(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function N(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function L(en){return en.Ra>>>(en.u&an-1)>>>0}function A(en){return e(en.bb<=en.Sb),en.h||en.bb==en.Sb&&en.u>an}function x(en,tn){en.u=tn,en.h=A(en)}function S(en){en.u>=sn&&(e(en.u>=sn),b(en))}function _(en){e(null!=en&&null!=en.oa),en.pa<en.Zc?(en.I=(en.oa[en.pa++]|en.I<<8)>>>0,en.b+=8):(e(null!=en&&null!=en.oa),en.pa<en.Yc?(en.b+=8,en.I=en.oa[en.pa++]|en.I<<8):en.Ka?en.b=0:(en.I<<=8,en.b+=8,en.Ka=1))}function P(en){return g(en,1)}function k(en,tn){var nn=en.Ca;0>en.b&&_(en);var rn=en.b,an=nn*tn>>>8,sn=(en.I>>>rn>an)+0;for(sn?(nn-=an,en.I-=an+1<<rn>>>0):nn=an+1,rn=nn,an=0;256<=rn;)an+=8,rn>>=8;return rn=7^an+An[rn],en.b-=rn,en.Ca=(nn<<rn)-1,sn}function I(en,tn,nn){en[tn+0]=nn>>24&255,en[tn+1]=nn>>16&255,en[tn+2]=nn>>8&255,en[tn+3]=nn>>0&255}function F(en,tn){return en[tn+0]<<0|en[tn+1]<<8}function C(en,tn){return F(en,tn)|en[tn+2]<<16}function j(en,tn){return F(en,tn)|F(en,tn+2)<<16}function O(en,tn){var nn=1<<tn;return e(null!=en),e(0<tn),en.X=a(nn),null==en.X?0:(en.Mb=32-tn,en.Xa=tn,1)}function B(en,tn){e(null!=en),e(null!=tn),e(en.Xa==tn.Xa),n(tn.X,0,en.X,0,1<<tn.Xa)}function M(){this.X=[],this.Xa=this.Mb=0}function E(en,tn,nn,rn){e(null!=nn),e(null!=rn);var an=nn[0],sn=rn[0];return 0==an&&(an=(en*sn+tn/2)/tn),0==sn&&(sn=(tn*an+en/2)/en),0>=an||0>=sn?0:(nn[0]=an,rn[0]=sn,1)}function q(en,tn){return en+(1<<tn)-1>>>tn}function D(en,tn){return((4278255360&en)+(4278255360&tn)>>>0&4278255360)+((16711935&en)+(16711935&tn)>>>0&16711935)>>>0}function R(tn,nn){en[nn]=function(nn,rn,an,sn,An,cn,un){var hn;for(hn=0;hn<An;++hn){var dn=en[tn](cn[un+hn-1],an,sn+hn);cn[un+hn]=D(nn[rn+hn],dn)}}}function T(){this.ud=this.hd=this.jd=0}function U(en,tn){return((4278124286&(en^tn))>>>1)+(en&tn)>>>0}function z(en){return 0<=en&&256>en?en:0>en?0:255<en?255:void 0}function H(en,tn){return z(en+(en-tn+.5>>1))}function W(en,tn,nn){return Math.abs(tn-nn)-Math.abs(en-nn)}function V(en,tn,nn,rn,an,sn,An){for(rn=sn[An-1],nn=0;nn<an;++nn)sn[An+nn]=rn=D(en[tn+nn],rn)}function G(en,tn,nn,rn,an){var sn;for(sn=0;sn<nn;++sn){var An=en[tn+sn],cn=An>>8&255,un=16711935&(un=(un=16711935&An)+((cn<<16)+cn));rn[an+sn]=(4278255360&An)+un>>>0}}function Y(en,tn){tn.jd=en>>0&255,tn.hd=en>>8&255,tn.ud=en>>16&255}function J(en,tn,nn,rn,an,sn){var An;for(An=0;An<rn;++An){var cn=tn[nn+An],un=cn>>>8,hn=cn,dn=255&(dn=(dn=cn>>>16)+((en.jd<<24>>24)*(un<<24>>24)>>>5));hn=255&(hn=(hn+=(en.hd<<24>>24)*(un<<24>>24)>>>5)+((en.ud<<24>>24)*(dn<<24>>24)>>>5)),an[sn+An]=(4278255360&cn)+(dn<<16)+hn}}function X(tn,nn,rn,an,sn){en[nn]=function(en,tn,nn,rn,An,cn,un,hn,dn){for(rn=un;rn<hn;++rn)for(un=0;un<dn;++un)An[cn++]=sn(nn[an(en[tn++])])},en[tn]=function(tn,nn,An,cn,un,hn,dn){var pn=8>>tn.b,gn=tn.Ea,mn=tn.K[0],vn=tn.w;if(8>pn)for(tn=(1<<tn.b)-1,vn=(1<<pn)-1;nn<An;++nn){var yn,bn=0;for(yn=0;yn<gn;++yn)yn&tn||(bn=an(cn[un++])),hn[dn++]=sn(mn[bn&vn]),bn>>=pn}else en["VP8LMapColor"+rn](cn,un,mn,vn,hn,dn,nn,An,gn)}}function K(en,tn,nn,rn,an){for(nn=tn+nn;tn<nn;){var sn=en[tn++];rn[an++]=sn>>16&255,rn[an++]=sn>>8&255,rn[an++]=sn>>0&255}}function Z(en,tn,nn,rn,an){for(nn=tn+nn;tn<nn;){var sn=en[tn++];rn[an++]=sn>>16&255,rn[an++]=sn>>8&255,rn[an++]=sn>>0&255,rn[an++]=sn>>24&255}}function $(en,tn,nn,rn,an){for(nn=tn+nn;tn<nn;){var sn=(An=en[tn++])>>16&240|An>>12&15,An=An>>0&240|An>>28&15;rn[an++]=sn,rn[an++]=An}}function Q(en,tn,nn,rn,an){for(nn=tn+nn;tn<nn;){var sn=(An=en[tn++])>>16&248|An>>13&7,An=An>>5&224|An>>3&31;rn[an++]=sn,rn[an++]=An}}function tt(en,tn,nn,rn,an){for(nn=tn+nn;tn<nn;){var sn=en[tn++];rn[an++]=sn>>0&255,rn[an++]=sn>>8&255,rn[an++]=sn>>16&255}}function et(en,tn,nn,rn,an,sn){if(0==sn)for(nn=tn+nn;tn<nn;)I(rn,((sn=en[tn++])[0]>>24|sn[1]>>8&65280|sn[2]<<8&16711680|sn[3]<<24)>>>0),an+=32;else n(rn,an,en,tn,nn)}function rt(tn,nn){en[nn][0]=en[tn+"0"],en[nn][1]=en[tn+"1"],en[nn][2]=en[tn+"2"],en[nn][3]=en[tn+"3"],en[nn][4]=en[tn+"4"],en[nn][5]=en[tn+"5"],en[nn][6]=en[tn+"6"],en[nn][7]=en[tn+"7"],en[nn][8]=en[tn+"8"],en[nn][9]=en[tn+"9"],en[nn][10]=en[tn+"10"],en[nn][11]=en[tn+"11"],en[nn][12]=en[tn+"12"],en[nn][13]=en[tn+"13"],en[nn][14]=en[tn+"0"],en[nn][15]=en[tn+"0"]}function nt(en){return en==Kr||en==zr||en==Wr||en==Xr}function it(){this.eb=[],this.size=this.A=this.fb=0}function at(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ot(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new it,this.f.kb=new at,this.sd=null}function st(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ct(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ut(en){return alert("todo:WebPSamplerProcessPlane"),en.T}function ht(en,tn){var nn=en.T,rn=tn.ba.f.RGBA,an=rn.eb,sn=rn.fb+en.ka*rn.A,An=xi[tn.ba.S],cn=en.y,un=en.O,hn=en.f,dn=en.N,pn=en.ea,gn=en.W,mn=tn.cc,vn=tn.dc,yn=tn.Mc,bn=tn.Nc,wn=en.ka,Cn=en.ka+en.T,xn=en.U,Bn=xn+1>>1;for(0==wn?An(cn,un,null,null,hn,dn,pn,gn,hn,dn,pn,gn,an,sn,null,null,xn):(An(tn.ec,tn.fc,cn,un,mn,vn,yn,bn,hn,dn,pn,gn,an,sn-rn.A,an,sn,xn),++nn);wn+2<Cn;wn+=2)mn=hn,vn=dn,yn=pn,bn=gn,dn+=en.Rc,gn+=en.Rc,sn+=2*rn.A,An(cn,(un+=2*en.fa)-en.fa,cn,un,mn,vn,yn,bn,hn,dn,pn,gn,an,sn-rn.A,an,sn,xn);return un+=en.fa,en.j+Cn<en.o?(n(tn.ec,tn.fc,cn,un,xn),n(tn.cc,tn.dc,hn,dn,Bn),n(tn.Mc,tn.Nc,pn,gn,Bn),nn--):1&Cn||An(cn,un,null,null,hn,dn,pn,gn,hn,dn,pn,gn,an,sn+rn.A,null,null,xn),nn}function lt(en,tn,nn){var rn=en.F,an=[en.J];if(null!=rn){var sn=en.U,An=tn.ba.S,cn=An==$r||An==Wr;tn=tn.ba.f.RGBA;var un=[0],hn=en.ka;un[0]=en.T,en.Kb&&(0==hn?--un[0]:(--hn,an[0]-=en.width),en.j+en.ka+en.T==en.o&&(un[0]=en.o-en.j-hn));var dn=tn.eb;hn=tn.fb+hn*tn.A,en=Vn(rn,an[0],en.width,sn,un,dn,hn+(cn?0:3),tn.A),e(nn==un),en&&nt(An)&&Gn(dn,hn,cn,sn,un,tn.A)}return 0}function ft(en){var tn=en.ma,nn=tn.ba.S,rn=11>nn,an=nn==Rr||nn==Dr||nn==$r||nn==Gr||12==nn||nt(nn);if(tn.memory=null,tn.Ib=null,tn.Jb=null,tn.Nd=null,!Mr(tn.Oa,en,an?11:12))return 0;if(an&&nt(nn)&&br(),en.da)alert("todo:use_scaling");else{if(rn){if(tn.Ib=ut,en.Kb){if(nn=en.U+1>>1,tn.memory=a(en.U+2*nn),null==tn.memory)return 0;tn.ec=tn.memory,tn.fc=0,tn.cc=tn.ec,tn.dc=tn.fc+en.U,tn.Mc=tn.cc,tn.Nc=tn.dc+nn,tn.Ib=ht,br()}}else alert("todo:EmitYUV");an&&(tn.Jb=lt,rn&&mr())}if(rn&&!Oi){for(en=0;256>en;++en)Mi[en]=89858*(en-128)+Ii>>Li,Di[en]=-22014*(en-128)+Ii,Hi[en]=-45773*(en-128),Ri[en]=113618*(en-128)+Ii>>Li;for(en=Ui;en<Ti;++en)tn=76283*(en-16)+Ii>>Li,$i[en-Ui]=Vt(tn,255),Gi[en-Ui]=Vt(tn+8>>4,15);Oi=1}return 1}function dt(en){var tn=en.ma,nn=en.U,rn=en.T;return e(!(1&en.ka)),0>=nn||0>=rn?0:(nn=tn.Ib(en,tn),null!=tn.Jb&&tn.Jb(en,tn,nn),tn.Dc+=nn,1)}function pt(en){en.ma.memory=null}function gt(en,tn,nn,rn){return 47!=y(en,8)?0:(tn[0]=y(en,14)+1,nn[0]=y(en,14)+1,rn[0]=y(en,1),0!=y(en,3)?0:!en.h)}function mt(en,tn){if(4>en)return en+1;var nn=en-2>>1;return(2+(1&en)<<nn)+y(tn,nn)+1}function vt(en,tn){return 120<tn?tn-120:1<=(nn=((nn=ni[tn-1])>>4)*en+(8-(15&nn)))?nn:1;var nn}function bt(en,tn,nn){var rn=L(nn),an=en[tn+=255&rn].g-8;return 0<an&&(x(nn,nn.u+8),rn=L(nn),tn+=en[tn].value,tn+=rn&(1<<an)-1),x(nn,nn.u+en[tn].g),en[tn].value}function yt(en,tn,nn){return nn.g+=en.g,nn.value+=en.value<<tn>>>0,e(8>=nn.g),en.g}function wt(en,tn,nn){var rn=en.xc;return e((tn=0==rn?0:en.vc[en.md*(nn>>rn)+(tn>>rn)])<en.Wb),en.Ya[tn]}function Nt(en,tn,nn,rn){var an=en.ab,sn=en.c*tn,An=en.C;tn=An+tn;var pn=nn,gn=rn;for(rn=en.Ta,nn=en.Ua;0<an--;){var mn=en.gc[an],bn=An,wn=tn,Cn=pn,xn=gn,Bn=(gn=rn,pn=nn,mn.Ea);switch(e(bn<wn),e(wn<=mn.nc),mn.hc){case 2:hn(Cn,xn,(wn-bn)*Bn,gn,pn);break;case 0:var _n=bn,Sn=wn,kn=gn,En=pn,Pn=(Tn=mn).Ea;0==_n&&(cn(Cn,xn,null,null,1,kn,En),V(Cn,xn+1,0,0,Pn-1,kn,En+1),xn+=Pn,En+=Pn,++_n);for(var Fn=1<<Tn.b,Ln=Fn-1,In=q(Pn,Tn.b),Un=Tn.K,Tn=Tn.w+(_n>>Tn.b)*In;_n<Sn;){var Qn=Un,Nn=Tn,On=1;for(un(Cn,xn,kn,En-Pn,1,kn,En);On<Pn;){var Mn=(On&~Ln)+Fn;Mn>Pn&&(Mn=Pn),(0,vn[Qn[Nn++]>>8&15])(Cn,xn+ +On,kn,En+On-Pn,Mn-On,kn,En+On),On=Mn}xn+=Pn,En+=Pn,++_n&Ln||(Tn+=In)}wn!=mn.nc&&n(gn,pn-Bn,gn,pn+(wn-bn-1)*Bn,Bn);break;case 1:for(Bn=Cn,Sn=xn,Pn=(Cn=mn.Ea)-(En=Cn&~(kn=(xn=1<<mn.b)-1)),_n=q(Cn,mn.b),Fn=mn.K,mn=mn.w+(bn>>mn.b)*_n;bn<wn;){for(Ln=Fn,In=mn,Un=new T,Tn=Sn+En,Qn=Sn+Cn;Sn<Tn;)Y(Ln[In++],Un),yn(Un,Bn,Sn,xn,gn,pn),Sn+=xn,pn+=xn;Sn<Qn&&(Y(Ln[In++],Un),yn(Un,Bn,Sn,Pn,gn,pn),Sn+=Pn,pn+=Pn),++bn&kn||(mn+=_n)}break;case 3:if(Cn==gn&&xn==pn&&0<mn.b){for(Sn=gn,Cn=Bn=pn+(wn-bn)*Bn-(En=(wn-bn)*q(mn.Ea,mn.b)),xn=gn,kn=pn,_n=[],En=(Pn=En)-1;0<=En;--En)_n[En]=xn[kn+En];for(En=Pn-1;0<=En;--En)Sn[Cn+En]=_n[En];dn(mn,bn,wn,gn,Bn,gn,pn)}else dn(mn,bn,wn,Cn,xn,gn,pn)}pn=rn,gn=nn}gn!=nn&&n(rn,nn,pn,gn,sn)}function Lt(en,tn){var nn=en.V,rn=en.Ba+en.c*en.C,an=tn-en.C;if(e(tn<=en.l.o),e(16>=an),0<an){var sn=en.l,An=en.Ta,cn=en.Ua,un=sn.width;if(Nt(en,an,nn,rn),an=cn=[cn],e((nn=en.C)<(rn=tn)),e(sn.v<sn.va),rn>sn.o&&(rn=sn.o),nn<sn.j){var hn=sn.j-nn;nn=sn.j,an[0]+=hn*un}if(nn>=rn?nn=0:(an[0]+=4*sn.v,sn.ka=nn-sn.j,sn.U=sn.va-sn.v,sn.T=rn-nn,nn=1),nn){if(cn=cn[0],11>(nn=en.ca).S){var dn=nn.f.RGBA,pn=(rn=nn.S,an=sn.U,sn=sn.T,hn=dn.eb,dn.A),gn=sn;for(dn=dn.fb+en.Ma*dn.A;0<gn--;){var mn=An,vn=cn,yn=an,_n=hn,Sn=dn;switch(rn){case Qr:bn(mn,vn,yn,_n,Sn);break;case Rr:wn(mn,vn,yn,_n,Sn);break;case Kr:wn(mn,vn,yn,_n,Sn),Gn(_n,Sn,0,yn,1,0);break;case Hr:Bn(mn,vn,yn,_n,Sn);break;case Dr:et(mn,vn,yn,_n,Sn,1);break;case zr:et(mn,vn,yn,_n,Sn,1),Gn(_n,Sn,0,yn,1,0);break;case $r:et(mn,vn,yn,_n,Sn,0);break;case Wr:et(mn,vn,yn,_n,Sn,0),Gn(_n,Sn,1,yn,1,0);break;case Gr:Cn(mn,vn,yn,_n,Sn);break;case Xr:Cn(mn,vn,yn,_n,Sn),jn(_n,Sn,yn,1,0);break;case Vr:xn(mn,vn,yn,_n,Sn);break;default:e(0)}cn+=un,dn+=pn}en.Ma+=sn}else alert("todo:EmitRescaledRowsYUVA");e(en.Ma<=nn.height)}}en.C=tn,e(en.C<=en.i)}function At(en){var tn;if(0<en.ua)return 0;for(tn=0;tn<en.Wb;++tn){var nn=en.Ya[tn].G,rn=en.Ya[tn].H;if(0<nn[1][rn[1]+0].g||0<nn[2][rn[2]+0].g||0<nn[3][rn[3]+0].g)return 0}return 1}function xt(en,tn,nn,rn,an,sn){if(0!=en.Z){var An=en.qd,cn=en.rd;for(e(null!=wi[en.Z]);tn<nn;++tn)wi[en.Z](An,cn,rn,an,rn,an,sn),An=rn,cn=an,an+=sn;en.qd=An,en.rd=cn}}function St(en,tn){var nn=en.l.ma,rn=0==nn.Z||1==nn.Z?en.l.j:en.C;if(rn=en.C<rn?rn:en.C,e(tn<=en.l.o),tn>rn){var an=en.l.width,sn=nn.ca,An=nn.tb+an*rn,cn=en.V,un=en.Ba+en.c*rn,hn=en.gc;e(1==en.ab),e(3==hn[0].hc),gn(hn[0],rn,tn,cn,un,sn,An),xt(nn,rn,tn,sn,An,an)}en.C=en.Ma=tn}function _t(en,nn,rn,an,sn,An,cn){var un=en.$/an,hn=en.$%an,dn=en.m,pn=en.s,gn=rn+en.$,mn=gn;sn=rn+an*sn;var vn=rn+an*An,yn=280+pn.ua,bn=en.Pb?un:16777216,wn=0<pn.ua?pn.Wa:null,Cn=pn.wc,xn=gn<vn?wt(pn,hn,un):null;e(en.C<An),e(vn<=sn);var Bn=!1;e:for(;;){for(;Bn||gn<vn;){var _n=0;if(un>=bn){var Sn=gn-rn;e((bn=en).Pb),bn.wd=bn.m,bn.xd=Sn,0<bn.s.ua&&B(bn.s.Wa,bn.s.vb),bn=un+ii}if(hn&Cn||(xn=wt(pn,hn,un)),e(null!=xn),xn.Qb&&(nn[gn]=xn.qb,Bn=!0),!Bn)if(S(dn),xn.jc){_n=dn,Sn=nn;var kn=gn,En=xn.pd[L(_n)&tn-1];e(xn.jc),256>En.g?(x(_n,_n.u+En.g),Sn[kn]=En.value,_n=0):(x(_n,_n.u+En.g-256),e(256<=En.value),_n=En.value),0==_n&&(Bn=!0)}else _n=bt(xn.G[0],xn.H[0],dn);if(dn.h)break;if(Bn||256>_n){if(!Bn)if(xn.nd)nn[gn]=(xn.qb|_n<<8)>>>0;else{if(S(dn),Bn=bt(xn.G[1],xn.H[1],dn),S(dn),Sn=bt(xn.G[2],xn.H[2],dn),kn=bt(xn.G[3],xn.H[3],dn),dn.h)break;nn[gn]=(kn<<24|Bn<<16|_n<<8|Sn)>>>0}if(Bn=!1,++gn,++hn>=an&&(hn=0,++un,null!=cn&&un<=An&&!(un%16)&&cn(en,un),null!=wn))for(;mn<gn;)_n=nn[mn++],wn.X[(506832829*_n&4294967295)>>>wn.Mb]=_n}else if(280>_n){if(_n=mt(_n-256,dn),Sn=bt(xn.G[4],xn.H[4],dn),S(dn),Sn=vt(an,Sn=mt(Sn,dn)),dn.h)break;if(gn-rn<Sn||sn-gn<_n)break e;for(kn=0;kn<_n;++kn)nn[gn+kn]=nn[gn+kn-Sn];for(gn+=_n,hn+=_n;hn>=an;)hn-=an,++un,null!=cn&&un<=An&&!(un%16)&&cn(en,un);if(e(gn<=sn),hn&Cn&&(xn=wt(pn,hn,un)),null!=wn)for(;mn<gn;)_n=nn[mn++],wn.X[(506832829*_n&4294967295)>>>wn.Mb]=_n}else{if(!(_n<yn))break e;for(Bn=_n-280,e(null!=wn);mn<gn;)_n=nn[mn++],wn.X[(506832829*_n&4294967295)>>>wn.Mb]=_n;_n=gn,e(!(Bn>>>(Sn=wn).Xa)),nn[_n]=Sn.X[Bn],Bn=!0}Bn||e(dn.h==A(dn))}if(en.Pb&&dn.h&&gn<sn)e(en.m.h),en.a=5,en.m=en.wd,en.$=en.xd,0<en.s.ua&&B(en.s.vb,en.s.Wa);else{if(dn.h)break e;null!=cn&&cn(en,un>An?An:un),en.a=0,en.$=gn-rn}return 1}return en.a=3,0}function Pt(en){e(null!=en),en.vc=null,en.yc=null,en.Ya=null;var tn=en.Wa;null!=tn&&(tn.X=null),en.vb=null,e(null!=en)}function kt(){var tn=new or;return null==tn?null:(tn.a=0,tn.xb=bi,rt("Predictor","VP8LPredictors"),rt("Predictor","VP8LPredictors_C"),rt("PredictorAdd","VP8LPredictorsAdd"),rt("PredictorAdd","VP8LPredictorsAdd_C"),hn=G,yn=J,bn=K,wn=Z,Cn=$,xn=Q,Bn=tt,en.VP8LMapColor32b=pn,en.VP8LMapColor8b=mn,tn)}function It(en,nn,rn,an,sn){var An=1,cn=[en],un=[nn],hn=an.m,dn=an.s,pn=null,gn=0;e:for(;;){if(rn)for(;An&&y(hn,1);){var mn=cn,vn=un,yn=an,bn=1,wn=yn.m,Cn=yn.gc[yn.ab],xn=y(wn,2);if(yn.Oc&1<<xn)An=0;else{switch(yn.Oc|=1<<xn,Cn.hc=xn,Cn.Ea=mn[0],Cn.nc=vn[0],Cn.K=[null],++yn.ab,e(4>=yn.ab),xn){case 0:case 1:Cn.b=y(wn,3)+2,bn=It(q(Cn.Ea,Cn.b),q(Cn.nc,Cn.b),0,yn,Cn.K),Cn.K=Cn.K[0];break;case 3:var Bn,_n=y(wn,8)+1,Sn=16<_n?0:4<_n?1:2<_n?2:3;if(mn[0]=q(Cn.Ea,Sn),Cn.b=Sn,Bn=bn=It(_n,1,0,yn,Cn.K)){var kn,En=_n,Pn=Cn,Fn=1<<(8>>Pn.b),Ln=a(Fn);if(null==Ln)Bn=0;else{var In=Pn.K[0],Un=Pn.w;for(Ln[0]=Pn.K[0][0],kn=1;kn<1*En;++kn)Ln[kn]=D(In[Un+kn],Ln[kn-1]);for(;kn<4*Fn;++kn)Ln[kn]=0;Pn.K[0]=null,Pn.K[0]=Ln,Bn=1}}bn=Bn;break;case 2:break;default:e(0)}An=bn}}if(cn=cn[0],un=un[0],An&&y(hn,1)&&!(An=1<=(gn=y(hn,4))&&11>=gn)){an.a=3;break e}var Tn;if(Tn=An)t:{var Qn,Nn,On,Mn=an,Rn=cn,Hn=un,Dn=gn,$n=rn,Gn=Mn.m,jn=Mn.s,Vn=[null],Kn=1,qn=0,zn=ri[Dn];n:for(;;){if($n&&y(Gn,1)){var Wn=y(Gn,3)+2,Xn=q(Rn,Wn),Yn=q(Hn,Wn),Jn=Xn*Yn;if(!It(Xn,Yn,0,Mn,Vn))break n;for(Vn=Vn[0],jn.xc=Wn,Qn=0;Qn<Jn;++Qn){var Zn=Vn[Qn]>>8&65535;Vn[Qn]=Zn,Zn>=Kn&&(Kn=Zn+1)}}if(Gn.h)break n;for(Nn=0;5>Nn;++Nn){var Ur=Zr[Nn];!Nn&&0<Dn&&(Ur+=1<<Dn),qn<Ur&&(qn=Ur)}var Tr=o(Kn*zn,l),Qr=Kn,Rr=o(Qr,d);if(null==Rr)var Hr=null;else e(65536>=Qr),Hr=Rr;var Dr=a(qn);if(null==Hr||null==Dr||null==Tr){Mn.a=1;break n}var $r=Tr;for(Qn=On=0;Qn<Kn;++Qn){var Gr=Hr[Qn],Vr=Gr.G,Kr=Gr.H,zr=0,Wr=1,Xr=0;for(Nn=0;5>Nn;++Nn){Ur=Zr[Nn],Vr[Nn]=$r,Kr[Nn]=On,!Nn&&0<Dn&&(Ur+=1<<Dn);r:{var ni,ii=Ur,ai=Mn,oi=Dr,si=$r,Ai=On,li=0,ci=ai.m,ui=y(ci,1);if(i(oi,0,0,ii),ui){var hi=y(ci,1)+1,di=y(ci,1),pi=y(ci,0==di?1:8);oi[pi]=1,2==hi&&(oi[pi=y(ci,8)]=1);var gi=1}else{var fi=a(19),mi=y(ci,4)+4;if(19<mi){ai.a=3;var bi=0;break r}for(ni=0;ni<mi;++ni)fi[ti[ni]]=y(ci,3);var wi=void 0,xi=void 0,Bi=ai,_i=fi,Si=ii,ki=oi,Ei=0,Pi=Bi.m,Fi=8,Li=o(128,l);i:for(;h(Li,0,7,_i,19);){if(y(Pi,1)){var Ii=2+2*y(Pi,3);if((wi=2+y(Pi,Ii))>Si)break i}else wi=Si;for(xi=0;xi<Si&&wi--;){S(Pi);var Ui=Li[0+(127&L(Pi))];x(Pi,Pi.u+Ui.g);var Ti=Ui.value;if(16>Ti)ki[xi++]=Ti,0!=Ti&&(Fi=Ti);else{var Qi=16==Ti,Ni=Ti-16,Oi=Jr[Ni],Mi=y(Pi,Yr[Ni])+Oi;if(xi+Mi>Si)break i;for(var Ri=Qi?Fi:0;0<Mi--;)ki[xi++]=Ri}}Ei=1;break i}Ei||(Bi.a=3),gi=Ei}(gi=gi&&!ci.h)&&(li=h(si,Ai,8,oi,ii)),gi&&0!=li?bi=li:(ai.a=3,bi=0)}if(0==bi)break n;if(Wr&&1==ei[Nn]&&(Wr=0==$r[On].g),zr+=$r[On].g,On+=bi,3>=Nn){var Hi,Di=Dr[0];for(Hi=1;Hi<Ur;++Hi)Dr[Hi]>Di&&(Di=Dr[Hi]);Xr+=Di}}if(Gr.nd=Wr,Gr.Qb=0,Wr&&(Gr.qb=(Vr[3][Kr[3]+0].value<<24|Vr[1][Kr[1]+0].value<<16|Vr[2][Kr[2]+0].value)>>>0,0==zr&&256>Vr[0][Kr[0]+0].value&&(Gr.Qb=1,Gr.qb+=Vr[0][Kr[0]+0].value<<8)),Gr.jc=!Gr.Qb&&6>Xr,Gr.jc){var $i,Gi=Gr;for($i=0;$i<tn;++$i){var ji=$i,Vi=Gi.pd[ji],Ki=Gi.G[0][Gi.H[0]+ji];256<=Ki.value?(Vi.g=Ki.g+256,Vi.value=Ki.value):(Vi.g=0,Vi.value=0,ji>>=yt(Ki,8,Vi),ji>>=yt(Gi.G[1][Gi.H[1]+ji],16,Vi),ji>>=yt(Gi.G[2][Gi.H[2]+ji],0,Vi),yt(Gi.G[3][Gi.H[3]+ji],24,Vi))}}}jn.vc=Vn,jn.Wb=Kn,jn.Ya=Hr,jn.yc=Tr,Tn=1;break t}Tn=0}if(!(An=Tn)){an.a=3;break e}if(0<gn){if(dn.ua=1<<gn,!O(dn.Wa,gn)){an.a=1,An=0;break e}}else dn.ua=0;var qi=an,zi=cn,Wi=un,Xi=qi.s,Yi=Xi.xc;if(qi.c=zi,qi.i=Wi,Xi.md=q(zi,Yi),Xi.wc=0==Yi?-1:(1<<Yi)-1,rn){an.xb=yi;break e}if(null==(pn=a(cn*un))){an.a=1,An=0;break e}An=(An=_t(an,pn,0,cn,un,un,null))&&!hn.h;break e}return An?(null!=sn?sn[0]=pn:(e(null==pn),e(rn)),an.$=0,rn||Pt(dn)):Pt(dn),An}function Ft(en,tn){var nn=en.c*en.i,rn=nn+tn+16*tn;return e(en.c<=tn),en.V=a(rn),null==en.V?(en.Ta=null,en.Ua=0,en.a=1,0):(en.Ta=en.V,en.Ua=en.Ba+nn+tn,1)}function Ct(en,tn){var nn=en.C,rn=tn-nn,an=en.V,sn=en.Ba+en.c*nn;for(e(tn<=en.l.o);0<rn;){var An=16<rn?16:rn,cn=en.l.ma,un=en.l.width,hn=un*An,dn=cn.ca,pn=cn.tb+un*nn,gn=en.Ta,mn=en.Ua;Nt(en,An,an,sn),Kn(gn,mn,dn,pn,hn),xt(cn,nn,nn+An,dn,pn,un),rn-=An,an+=An*en.c,nn+=An}e(nn==tn),en.C=en.Ma=tn}function jt(){this.ub=this.yd=this.td=this.Rb=0}function Ot(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Bt(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Mt(){this.Yb=function(){var en=[];return function t(en,tn,nn){for(var rn=nn[tn],an=0;an<rn&&(en.push(nn.length>tn+1?[]:0),!(nn.length<tn+1));an++)t(en[an],tn+1,nn)}(en,0,[3,11]),en}()}function Et(){this.jb=a(3),this.Wc=s([4,8],Mt),this.Xc=s([4,17],Mt)}function qt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Dt(){this.ld=this.La=this.dd=this.tc=0}function Rt(){this.Na=this.la=0}function Tt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ut(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function zt(){this.uc=this.M=this.Nb=0,this.wa=Array(new Dt),this.Y=0,this.ya=Array(new Ut),this.aa=0,this.l=new Gt}function Ht(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Wt(){this.cb=this.a=0,this.sc="",this.m=new w,this.Od=new jt,this.Kc=new Ot,this.ed=new qt,this.Qa=new Bt,this.Ic=this.$c=this.Aa=0,this.D=new zt,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,w),this.ia=0,this.pb=o(4,Tt),this.Pa=new Et,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ht),this.Hd=0,this.rb=Array(new Rt),this.sb=0,this.wa=Array(new Dt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ut),this.L=this.aa=0,this.gd=s([4,2],Dt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Vt(en,tn){return 0>en?0:en>tn?tn:en}function Gt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Yt(){var en=new Wt;return null!=en&&(en.a=0,en.sc="OK",en.cb=0,en.Xb=0,si||(si=Zt)),en}function Jt(en,tn,nn){return 0==en.a&&(en.a=tn,en.sc=nn,en.cb=0),0}function Xt(en,tn,nn){return 3<=nn&&157==en[tn+0]&&1==en[tn+1]&&42==en[tn+2]}function Kt(en,tn){if(null==en)return 0;if(en.a=0,en.sc="OK",null==tn)return Jt(en,2,"null VP8Io passed to VP8GetHeaders()");var nn=tn.data,rn=tn.w,an=tn.ha;if(4>an)return Jt(en,7,"Truncated header.");var sn=nn[rn+0]|nn[rn+1]<<8|nn[rn+2]<<16,An=en.Od;if(An.Rb=!(1&sn),An.td=sn>>1&7,An.yd=sn>>4&1,An.ub=sn>>5,3<An.td)return Jt(en,3,"Incorrect keyframe parameters.");if(!An.yd)return Jt(en,4,"Frame not displayable.");rn+=3,an-=3;var cn=en.Kc;if(An.Rb){if(7>an)return Jt(en,7,"cannot parse picture header");if(!Xt(nn,rn,an))return Jt(en,3,"Bad code word");cn.c=16383&(nn[rn+4]<<8|nn[rn+3]),cn.Td=nn[rn+4]>>6,cn.i=16383&(nn[rn+6]<<8|nn[rn+5]),cn.Ud=nn[rn+6]>>6,rn+=7,an-=7,en.za=cn.c+15>>4,en.Ub=cn.i+15>>4,tn.width=cn.c,tn.height=cn.i,tn.Da=0,tn.j=0,tn.v=0,tn.va=tn.width,tn.o=tn.height,tn.da=0,tn.ib=tn.width,tn.hb=tn.height,tn.U=tn.width,tn.T=tn.height,i((sn=en.Pa).jb,0,255,sn.jb.length),e(null!=(sn=en.Qa)),sn.Cb=0,sn.Bb=0,sn.Fb=1,i(sn.Zb,0,0,sn.Zb.length),i(sn.Lb,0,0,sn.Lb)}if(An.ub>an)return Jt(en,7,"bad partition length");p(sn=en.m,nn,rn,An.ub),rn+=An.ub,an-=An.ub,An.Rb&&(cn.Ld=P(sn),cn.Kd=P(sn)),cn=en.Qa;var un,hn=en.Pa;if(e(null!=sn),e(null!=cn),cn.Cb=P(sn),cn.Cb){if(cn.Bb=P(sn),P(sn)){for(cn.Fb=P(sn),un=0;4>un;++un)cn.Zb[un]=P(sn)?m(sn,7):0;for(un=0;4>un;++un)cn.Lb[un]=P(sn)?m(sn,6):0}if(cn.Bb)for(un=0;3>un;++un)hn.jb[un]=P(sn)?g(sn,8):255}else cn.Bb=0;if(sn.Ka)return Jt(en,3,"cannot parse segment header");if((cn=en.ed).zd=P(sn),cn.Tb=g(sn,6),cn.wb=g(sn,3),cn.Pc=P(sn),cn.Pc&&P(sn)){for(hn=0;4>hn;++hn)P(sn)&&(cn.vd[hn]=m(sn,6));for(hn=0;4>hn;++hn)P(sn)&&(cn.od[hn]=m(sn,6))}if(en.L=0==cn.Tb?0:cn.zd?1:2,sn.Ka)return Jt(en,3,"cannot parse filter header");var dn=an;if(an=un=rn,rn=un+dn,cn=dn,en.Xb=(1<<g(en.m,2))-1,dn<3*(hn=en.Xb))nn=7;else{for(un+=3*hn,cn-=3*hn,dn=0;dn<hn;++dn){var pn=nn[an+0]|nn[an+1]<<8|nn[an+2]<<16;pn>cn&&(pn=cn),p(en.Jc[+dn],nn,un,pn),un+=pn,cn-=pn,an+=3}p(en.Jc[+hn],nn,un,cn),nn=un<rn?0:5}if(0!=nn)return Jt(en,nn,"cannot parse partitions");for(nn=g(un=en.m,7),an=P(un)?m(un,4):0,rn=P(un)?m(un,4):0,cn=P(un)?m(un,4):0,hn=P(un)?m(un,4):0,un=P(un)?m(un,4):0,dn=en.Qa,pn=0;4>pn;++pn){if(dn.Cb){var gn=dn.Zb[pn];dn.Fb||(gn+=nn)}else{if(0<pn){en.pb[pn]=en.pb[0];continue}gn=nn}var mn=en.pb[pn];mn.Sc[0]=ai[Vt(gn+an,127)],mn.Sc[1]=oi[Vt(gn+0,127)],mn.Eb[0]=2*ai[Vt(gn+rn,127)],mn.Eb[1]=101581*oi[Vt(gn+cn,127)]>>16,8>mn.Eb[1]&&(mn.Eb[1]=8),mn.Qc[0]=ai[Vt(gn+hn,117)],mn.Qc[1]=oi[Vt(gn+un,127)],mn.lc=gn+un}if(!An.Rb)return Jt(en,4,"Not a key frame.");for(P(sn),An=en.Pa,nn=0;4>nn;++nn){for(an=0;8>an;++an)for(rn=0;3>rn;++rn)for(cn=0;11>cn;++cn)hn=k(sn,di[nn][an][rn][cn])?g(sn,8):ui[nn][an][rn][cn],An.Wc[nn][an].Yb[rn][cn]=hn;for(an=0;17>an;++an)An.Xc[nn][an]=An.Wc[nn][pi[an]]}return en.kc=P(sn),en.kc&&(en.Bd=g(sn,8)),en.cb=1}function Zt(en,tn,nn,rn,an,sn,An){var cn=tn[an].Yb[nn];for(nn=0;16>an;++an){if(!k(en,cn[nn+0]))return an;for(;!k(en,cn[nn+1]);)if(cn=tn[++an].Yb[0],nn=0,16==an)return 16;var un=tn[an+1].Yb;if(k(en,cn[nn+2])){var hn=en,dn=0;if(k(hn,(gn=cn)[(pn=nn)+3]))if(k(hn,gn[pn+6])){for(cn=0,pn=2*(dn=k(hn,gn[pn+8]))+(gn=k(hn,gn[pn+9+dn])),dn=0,gn=Ai[pn];gn[cn];++cn)dn+=dn+k(hn,gn[cn]);dn+=3+(8<<pn)}else k(hn,gn[pn+7])?(dn=7+2*k(hn,165),dn+=k(hn,145)):dn=5+k(hn,159);else dn=k(hn,gn[pn+4])?3+k(hn,gn[pn+5]):2;cn=un[2]}else dn=1,cn=un[1];un=An+li[an],0>(hn=en).b&&_(hn);var pn,gn=hn.b,mn=(pn=hn.Ca>>1)-(hn.I>>gn)>>31;--hn.b,hn.Ca+=mn,hn.Ca|=1,hn.I-=(pn+1&mn)<<gn,sn[un]=((dn^mn)-mn)*rn[(0<an)+0]}return 16}function $t(en){var tn=en.rb[en.sb-1];tn.la=0,tn.Na=0,i(en.zc,0,0,en.zc.length),en.ja=0}function te(en,tn,nn,rn,an){an=en[tn+nn+32*rn]+(an>>3),en[tn+nn+32*rn]=-256&an?0>an?0:255:an}function ee(en,tn,nn,rn,an,sn){te(en,tn,0,nn,rn+an),te(en,tn,1,nn,rn+sn),te(en,tn,2,nn,rn-sn),te(en,tn,3,nn,rn-an)}function re(en){return(20091*en>>16)+en}function ne(en,tn,nn,rn){var an,sn=0,An=a(16);for(an=0;4>an;++an){var cn=en[tn+0]+en[tn+8],un=en[tn+0]-en[tn+8],hn=(35468*en[tn+4]>>16)-re(en[tn+12]),dn=re(en[tn+4])+(35468*en[tn+12]>>16);An[sn+0]=cn+dn,An[sn+1]=un+hn,An[sn+2]=un-hn,An[sn+3]=cn-dn,sn+=4,tn++}for(an=sn=0;4>an;++an)cn=(en=An[sn+0]+4)+An[sn+8],un=en-An[sn+8],hn=(35468*An[sn+4]>>16)-re(An[sn+12]),te(nn,rn,0,0,cn+(dn=re(An[sn+4])+(35468*An[sn+12]>>16))),te(nn,rn,1,0,un+hn),te(nn,rn,2,0,un-hn),te(nn,rn,3,0,cn-dn),sn++,rn+=32}function ie(en,tn,nn,rn){var an=en[tn+0]+4,sn=35468*en[tn+4]>>16,An=re(en[tn+4]),cn=35468*en[tn+1]>>16;ee(nn,rn,0,an+An,en=re(en[tn+1]),cn),ee(nn,rn,1,an+sn,en,cn),ee(nn,rn,2,an-sn,en,cn),ee(nn,rn,3,an-An,en,cn)}function ae(en,tn,nn,rn,an){ne(en,tn,nn,rn),an&&ne(en,tn+16,nn,rn+4)}function oe(en,tn,nn,rn){Sn(en,tn+0,nn,rn,1),Sn(en,tn+32,nn,rn+128,1)}function se(en,tn,nn,rn){var an;for(en=en[tn+0]+4,an=0;4>an;++an)for(tn=0;4>tn;++tn)te(nn,rn,tn,an,en)}function ce(en,tn,nn,rn){en[tn+0]&&Pn(en,tn+0,nn,rn),en[tn+16]&&Pn(en,tn+16,nn,rn+4),en[tn+32]&&Pn(en,tn+32,nn,rn+128),en[tn+48]&&Pn(en,tn+48,nn,rn+128+4)}function ue(en,tn,nn,rn){var an,sn=a(16);for(an=0;4>an;++an){var An=en[tn+0+an]+en[tn+12+an],cn=en[tn+4+an]+en[tn+8+an],un=en[tn+4+an]-en[tn+8+an],hn=en[tn+0+an]-en[tn+12+an];sn[0+an]=An+cn,sn[8+an]=An-cn,sn[4+an]=hn+un,sn[12+an]=hn-un}for(an=0;4>an;++an)An=(en=sn[0+4*an]+3)+sn[3+4*an],cn=sn[1+4*an]+sn[2+4*an],un=sn[1+4*an]-sn[2+4*an],hn=en-sn[3+4*an],nn[rn+0]=An+cn>>3,nn[rn+16]=hn+un>>3,nn[rn+32]=An-cn>>3,nn[rn+48]=hn-un>>3,rn+=64}function he(en,tn,nn){var rn,an=tn-32,sn=Ur,An=255-en[an-1];for(rn=0;rn<nn;++rn){var cn,un=sn,hn=An+en[tn-1];for(cn=0;cn<nn;++cn)en[tn+cn]=un[hn+en[an+cn]];tn+=32}}function le(en,tn){he(en,tn,4)}function fe(en,tn){he(en,tn,8)}function de(en,tn){he(en,tn,16)}function pe(en,tn){var nn;for(nn=0;16>nn;++nn)n(en,tn+32*nn,en,tn-32,16)}function ge(en,tn){var nn;for(nn=16;0<nn;--nn)i(en,tn,en[tn-1],16),tn+=32}function me(en,tn,nn){var rn;for(rn=0;16>rn;++rn)i(tn,nn+32*rn,en,16)}function ve(en,tn){var nn,rn=16;for(nn=0;16>nn;++nn)rn+=en[tn-1+32*nn]+en[tn+nn-32];me(rn>>5,en,tn)}function be(en,tn){var nn,rn=8;for(nn=0;16>nn;++nn)rn+=en[tn-1+32*nn];me(rn>>4,en,tn)}function ye(en,tn){var nn,rn=8;for(nn=0;16>nn;++nn)rn+=en[tn+nn-32];me(rn>>4,en,tn)}function we(en,tn){me(128,en,tn)}function Ne(en,tn,nn){return en+2*tn+nn+2>>2}function Le(en,tn){var nn,rn=tn-32;for(rn=new Uint8Array([Ne(en[rn-1],en[rn+0],en[rn+1]),Ne(en[rn+0],en[rn+1],en[rn+2]),Ne(en[rn+1],en[rn+2],en[rn+3]),Ne(en[rn+2],en[rn+3],en[rn+4])]),nn=0;4>nn;++nn)n(en,tn+32*nn,rn,0,rn.length)}function Ae(en,tn){var nn=en[tn-1],rn=en[tn-1+32],an=en[tn-1+64],sn=en[tn-1+96];I(en,tn+0,16843009*Ne(en[tn-1-32],nn,rn)),I(en,tn+32,16843009*Ne(nn,rn,an)),I(en,tn+64,16843009*Ne(rn,an,sn)),I(en,tn+96,16843009*Ne(an,sn,sn))}function xe(en,tn){var nn,rn=4;for(nn=0;4>nn;++nn)rn+=en[tn+nn-32]+en[tn-1+32*nn];for(rn>>=3,nn=0;4>nn;++nn)i(en,tn+32*nn,rn,4)}function Se(en,tn){var nn=en[tn-1+0],rn=en[tn-1+32],an=en[tn-1+64],sn=en[tn-1-32],An=en[tn+0-32],cn=en[tn+1-32],un=en[tn+2-32],hn=en[tn+3-32];en[tn+0+96]=Ne(rn,an,en[tn-1+96]),en[tn+1+96]=en[tn+0+64]=Ne(nn,rn,an),en[tn+2+96]=en[tn+1+64]=en[tn+0+32]=Ne(sn,nn,rn),en[tn+3+96]=en[tn+2+64]=en[tn+1+32]=en[tn+0+0]=Ne(An,sn,nn),en[tn+3+64]=en[tn+2+32]=en[tn+1+0]=Ne(cn,An,sn),en[tn+3+32]=en[tn+2+0]=Ne(un,cn,An),en[tn+3+0]=Ne(hn,un,cn)}function _e(en,tn){var nn=en[tn+1-32],rn=en[tn+2-32],an=en[tn+3-32],sn=en[tn+4-32],An=en[tn+5-32],cn=en[tn+6-32],un=en[tn+7-32];en[tn+0+0]=Ne(en[tn+0-32],nn,rn),en[tn+1+0]=en[tn+0+32]=Ne(nn,rn,an),en[tn+2+0]=en[tn+1+32]=en[tn+0+64]=Ne(rn,an,sn),en[tn+3+0]=en[tn+2+32]=en[tn+1+64]=en[tn+0+96]=Ne(an,sn,An),en[tn+3+32]=en[tn+2+64]=en[tn+1+96]=Ne(sn,An,cn),en[tn+3+64]=en[tn+2+96]=Ne(An,cn,un),en[tn+3+96]=Ne(cn,un,un)}function Pe(en,tn){var nn=en[tn-1+0],rn=en[tn-1+32],an=en[tn-1+64],sn=en[tn-1-32],An=en[tn+0-32],cn=en[tn+1-32],un=en[tn+2-32],hn=en[tn+3-32];en[tn+0+0]=en[tn+1+64]=sn+An+1>>1,en[tn+1+0]=en[tn+2+64]=An+cn+1>>1,en[tn+2+0]=en[tn+3+64]=cn+un+1>>1,en[tn+3+0]=un+hn+1>>1,en[tn+0+96]=Ne(an,rn,nn),en[tn+0+64]=Ne(rn,nn,sn),en[tn+0+32]=en[tn+1+96]=Ne(nn,sn,An),en[tn+1+32]=en[tn+2+96]=Ne(sn,An,cn),en[tn+2+32]=en[tn+3+96]=Ne(An,cn,un),en[tn+3+32]=Ne(cn,un,hn)}function ke(en,tn){var nn=en[tn+0-32],rn=en[tn+1-32],an=en[tn+2-32],sn=en[tn+3-32],An=en[tn+4-32],cn=en[tn+5-32],un=en[tn+6-32],hn=en[tn+7-32];en[tn+0+0]=nn+rn+1>>1,en[tn+1+0]=en[tn+0+64]=rn+an+1>>1,en[tn+2+0]=en[tn+1+64]=an+sn+1>>1,en[tn+3+0]=en[tn+2+64]=sn+An+1>>1,en[tn+0+32]=Ne(nn,rn,an),en[tn+1+32]=en[tn+0+96]=Ne(rn,an,sn),en[tn+2+32]=en[tn+1+96]=Ne(an,sn,An),en[tn+3+32]=en[tn+2+96]=Ne(sn,An,cn),en[tn+3+64]=Ne(An,cn,un),en[tn+3+96]=Ne(cn,un,hn)}function Ie(en,tn){var nn=en[tn-1+0],rn=en[tn-1+32],an=en[tn-1+64],sn=en[tn-1+96];en[tn+0+0]=nn+rn+1>>1,en[tn+2+0]=en[tn+0+32]=rn+an+1>>1,en[tn+2+32]=en[tn+0+64]=an+sn+1>>1,en[tn+1+0]=Ne(nn,rn,an),en[tn+3+0]=en[tn+1+32]=Ne(rn,an,sn),en[tn+3+32]=en[tn+1+64]=Ne(an,sn,sn),en[tn+3+64]=en[tn+2+64]=en[tn+0+96]=en[tn+1+96]=en[tn+2+96]=en[tn+3+96]=sn}function Fe(en,tn){var nn=en[tn-1+0],rn=en[tn-1+32],an=en[tn-1+64],sn=en[tn-1+96],An=en[tn-1-32],cn=en[tn+0-32],un=en[tn+1-32],hn=en[tn+2-32];en[tn+0+0]=en[tn+2+32]=nn+An+1>>1,en[tn+0+32]=en[tn+2+64]=rn+nn+1>>1,en[tn+0+64]=en[tn+2+96]=an+rn+1>>1,en[tn+0+96]=sn+an+1>>1,en[tn+3+0]=Ne(cn,un,hn),en[tn+2+0]=Ne(An,cn,un),en[tn+1+0]=en[tn+3+32]=Ne(nn,An,cn),en[tn+1+32]=en[tn+3+64]=Ne(rn,nn,An),en[tn+1+64]=en[tn+3+96]=Ne(an,rn,nn),en[tn+1+96]=Ne(sn,an,rn)}function Ce(en,tn){var nn;for(nn=0;8>nn;++nn)n(en,tn+32*nn,en,tn-32,8)}function je(en,tn){var nn;for(nn=0;8>nn;++nn)i(en,tn,en[tn-1],8),tn+=32}function Oe(en,tn,nn){var rn;for(rn=0;8>rn;++rn)i(tn,nn+32*rn,en,8)}function Be(en,tn){var nn,rn=8;for(nn=0;8>nn;++nn)rn+=en[tn+nn-32]+en[tn-1+32*nn];Oe(rn>>4,en,tn)}function Me(en,tn){var nn,rn=4;for(nn=0;8>nn;++nn)rn+=en[tn+nn-32];Oe(rn>>3,en,tn)}function Ee(en,tn){var nn,rn=4;for(nn=0;8>nn;++nn)rn+=en[tn-1+32*nn];Oe(rn>>3,en,tn)}function qe(en,tn){Oe(128,en,tn)}function De(en,tn,nn){var rn=en[tn-nn],an=en[tn+0],sn=3*(an-rn)+Jn[1020+en[tn-2*nn]-en[tn+nn]],An=Zn[112+(sn+4>>3)];en[tn-nn]=Ur[255+rn+Zn[112+(sn+3>>3)]],en[tn+0]=Ur[255+an-An]}function Re(en,tn,nn,rn){var an=en[tn+0],sn=en[tn+nn];return Tr[255+en[tn-2*nn]-en[tn-nn]]>rn||Tr[255+sn-an]>rn}function Te(en,tn,nn,rn){return 4*Tr[255+en[tn-nn]-en[tn+0]]+Tr[255+en[tn-2*nn]-en[tn+nn]]<=rn}function Ue(en,tn,nn,rn,an){var sn=en[tn-3*nn],An=en[tn-2*nn],cn=en[tn-nn],un=en[tn+0],hn=en[tn+nn],dn=en[tn+2*nn],pn=en[tn+3*nn];return 4*Tr[255+cn-un]+Tr[255+An-hn]>rn?0:Tr[255+en[tn-4*nn]-sn]<=an&&Tr[255+sn-An]<=an&&Tr[255+An-cn]<=an&&Tr[255+pn-dn]<=an&&Tr[255+dn-hn]<=an&&Tr[255+hn-un]<=an}function ze(en,tn,nn,rn){var an=2*rn+1;for(rn=0;16>rn;++rn)Te(en,tn+rn,nn,an)&&De(en,tn+rn,nn)}function He(en,tn,nn,rn){var an=2*rn+1;for(rn=0;16>rn;++rn)Te(en,tn+rn*nn,1,an)&&De(en,tn+rn*nn,1)}function We(en,tn,nn,rn){var an;for(an=3;0<an;--an)ze(en,tn+=4*nn,nn,rn)}function Ve(en,tn,nn,rn){var an;for(an=3;0<an;--an)He(en,tn+=4,nn,rn)}function Ge(en,tn,nn,rn,an,sn,An,cn){for(sn=2*sn+1;0<an--;){if(Ue(en,tn,nn,sn,An))if(Re(en,tn,nn,cn))De(en,tn,nn);else{var un=en,hn=tn,dn=nn,pn=un[hn-2*dn],gn=un[hn-dn],mn=un[hn+0],vn=un[hn+dn],yn=un[hn+2*dn],bn=27*(Cn=Jn[1020+3*(mn-gn)+Jn[1020+pn-vn]])+63>>7,wn=18*Cn+63>>7,Cn=9*Cn+63>>7;un[hn-3*dn]=Ur[255+un[hn-3*dn]+Cn],un[hn-2*dn]=Ur[255+pn+wn],un[hn-dn]=Ur[255+gn+bn],un[hn+0]=Ur[255+mn-bn],un[hn+dn]=Ur[255+vn-wn],un[hn+2*dn]=Ur[255+yn-Cn]}tn+=rn}}function Ye(en,tn,nn,rn,an,sn,An,cn){for(sn=2*sn+1;0<an--;){if(Ue(en,tn,nn,sn,An))if(Re(en,tn,nn,cn))De(en,tn,nn);else{var un=en,hn=tn,dn=nn,pn=un[hn-dn],gn=un[hn+0],mn=un[hn+dn],vn=Zn[112+(4+(yn=3*(gn-pn))>>3)],yn=Zn[112+(yn+3>>3)],bn=vn+1>>1;un[hn-2*dn]=Ur[255+un[hn-2*dn]+bn],un[hn-dn]=Ur[255+pn+yn],un[hn+0]=Ur[255+gn-vn],un[hn+dn]=Ur[255+mn-bn]}tn+=rn}}function Je(en,tn,nn,rn,an,sn){Ge(en,tn,nn,1,16,rn,an,sn)}function Xe(en,tn,nn,rn,an,sn){Ge(en,tn,1,nn,16,rn,an,sn)}function Ke(en,tn,nn,rn,an,sn){var An;for(An=3;0<An;--An)Ye(en,tn+=4*nn,nn,1,16,rn,an,sn)}function Ze(en,tn,nn,rn,an,sn){var An;for(An=3;0<An;--An)Ye(en,tn+=4,1,nn,16,rn,an,sn)}function $e(en,tn,nn,rn,an,sn,An,cn){Ge(en,tn,an,1,8,sn,An,cn),Ge(nn,rn,an,1,8,sn,An,cn)}function Qe(en,tn,nn,rn,an,sn,An,cn){Ge(en,tn,1,an,8,sn,An,cn),Ge(nn,rn,1,an,8,sn,An,cn)}function tr(en,tn,nn,rn,an,sn,An,cn){Ye(en,tn+4*an,an,1,8,sn,An,cn),Ye(nn,rn+4*an,an,1,8,sn,An,cn)}function er(en,tn,nn,rn,an,sn,An,cn){Ye(en,tn+4,1,an,8,sn,An,cn),Ye(nn,rn+4,1,an,8,sn,An,cn)}function rr(){this.ba=new ot,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ct,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ir(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ar(){this.ua=0,this.Wa=new M,this.vb=new M,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new d,this.yc=new l}function or(){this.xb=this.a=0,this.l=new Gt,this.ca=new ot,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new N,this.Pb=0,this.wd=new N,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ar,this.ab=0,this.gc=o(4,ir),this.Oc=0}function sr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Gt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cr(en,tn,nn,rn,an,sn,An){for(en=null==en?0:en[tn+0],tn=0;tn<An;++tn)an[sn+tn]=en+nn[rn+tn]&255,en=an[sn+tn]}function ur(en,tn,nn,rn,an,sn,An){var cn;if(null==en)cr(null,null,nn,rn,an,sn,An);else for(cn=0;cn<An;++cn)an[sn+cn]=en[tn+cn]+nn[rn+cn]&255}function hr(en,tn,nn,rn,an,sn,An){if(null==en)cr(null,null,nn,rn,an,sn,An);else{var cn,un=en[tn+0],hn=un,dn=un;for(cn=0;cn<An;++cn)hn=dn+(un=en[tn+cn])-hn,dn=nn[rn+cn]+(-256&hn?0>hn?0:255:hn)&255,hn=un,an[sn+cn]=dn}}function lr(en,tn,nn,rn){var an=tn.width,sn=tn.o;if(e(null!=en&&null!=tn),0>nn||0>=rn||nn+rn>sn)return null;if(!en.Cc){if(null==en.ga){var An;if(en.ga=new sr,(An=null==en.ga)||(An=tn.width*tn.o,e(0==en.Gb.length),en.Gb=a(An),en.Uc=0,null==en.Gb?An=0:(en.mb=en.Gb,en.nb=en.Uc,en.rc=null,An=1),An=!An),!An){An=en.ga;var cn=en.Fa,un=en.P,hn=en.qc,dn=en.mb,pn=en.nb,gn=un+1,mn=hn-1,vn=An.l;if(e(null!=cn&&null!=dn&&null!=tn),wi[0]=null,wi[1]=cr,wi[2]=ur,wi[3]=hr,An.ca=dn,An.tb=pn,An.c=tn.width,An.i=tn.height,e(0<An.c&&0<An.i),1>=hn)tn=0;else if(An.$a=cn[un+0]>>0&3,An.Z=cn[un+0]>>2&3,An.Lc=cn[un+0]>>4&3,un=cn[un+0]>>6&3,0>An.$a||1<An.$a||4<=An.Z||1<An.Lc||un)tn=0;else if(vn.put=dt,vn.ac=ft,vn.bc=pt,vn.ma=An,vn.width=tn.width,vn.height=tn.height,vn.Da=tn.Da,vn.v=tn.v,vn.va=tn.va,vn.j=tn.j,vn.o=tn.o,An.$a)e:{e(1==An.$a),tn=kt();t:for(;;){if(null==tn){tn=0;break e}if(e(null!=An),An.mc=tn,tn.c=An.c,tn.i=An.i,tn.l=An.l,tn.l.ma=An,tn.l.width=An.c,tn.l.height=An.i,tn.a=0,v(tn.m,cn,gn,mn),!It(An.c,An.i,1,tn,null))break t;if(1==tn.ab&&3==tn.gc[0].hc&&At(tn.s)?(An.ic=1,cn=tn.c*tn.i,tn.Ta=null,tn.Ua=0,tn.V=a(cn),tn.Ba=0,null==tn.V?(tn.a=1,tn=0):tn=1):(An.ic=0,tn=Ft(tn,An.c)),!tn)break t;tn=1;break e}An.mc=null,tn=0}else tn=mn>=An.c*An.i;An=!tn}if(An)return null;1!=en.ga.Lc?en.Ga=0:rn=sn-nn}e(null!=en.ga),e(nn+rn<=sn);e:{if(tn=(cn=en.ga).c,sn=cn.l.o,0==cn.$a){if(gn=en.rc,mn=en.Vc,vn=en.Fa,un=en.P+1+nn*tn,hn=en.mb,dn=en.nb+nn*tn,e(un<=en.P+en.qc),0!=cn.Z)for(e(null!=wi[cn.Z]),An=0;An<rn;++An)wi[cn.Z](gn,mn,vn,un,hn,dn,tn),gn=hn,mn=dn,dn+=tn,un+=tn;else for(An=0;An<rn;++An)n(hn,dn,vn,un,tn),gn=hn,mn=dn,dn+=tn,un+=tn;en.rc=gn,en.Vc=mn}else{if(e(null!=cn.mc),tn=nn+rn,e(null!=(An=cn.mc)),e(tn<=An.i),An.C>=tn)tn=1;else if(cn.ic||mr(),cn.ic){cn=An.V,gn=An.Ba,mn=An.c;var yn=An.i,bn=(vn=1,un=An.$/mn,hn=An.$%mn,dn=An.m,pn=An.s,An.$),wn=mn*yn,Cn=mn*tn,xn=pn.wc,Bn=bn<Cn?wt(pn,hn,un):null;e(bn<=wn),e(tn<=yn),e(At(pn));t:for(;;){for(;!dn.h&&bn<Cn;){if(hn&xn||(Bn=wt(pn,hn,un)),e(null!=Bn),S(dn),256>(yn=bt(Bn.G[0],Bn.H[0],dn)))cn[gn+bn]=yn,++bn,++hn>=mn&&(hn=0,++un<=tn&&!(un%16)&&St(An,un));else{if(!(280>yn)){vn=0;break t}yn=mt(yn-256,dn);var _n,Sn=bt(Bn.G[4],Bn.H[4],dn);if(S(dn),!(bn>=(Sn=vt(mn,Sn=mt(Sn,dn)))&&wn-bn>=yn)){vn=0;break t}for(_n=0;_n<yn;++_n)cn[gn+bn+_n]=cn[gn+bn+_n-Sn];for(bn+=yn,hn+=yn;hn>=mn;)hn-=mn,++un<=tn&&!(un%16)&&St(An,un);bn<Cn&&hn&xn&&(Bn=wt(pn,hn,un))}e(dn.h==A(dn))}St(An,un>tn?tn:un);break t}!vn||dn.h&&bn<wn?(vn=0,An.a=dn.h?5:3):An.$=bn,tn=vn}else tn=_t(An,An.V,An.Ba,An.c,An.i,tn,Ct);if(!tn){rn=0;break e}}nn+rn>=sn&&(en.Cc=1),rn=1}if(!rn)return null;if(en.Cc&&(null!=(rn=en.ga)&&(rn.mc=null),en.ga=null,0<en.Ga))return alert("todo:WebPDequantizeLevels"),null}return en.nb+nn*an}function fr(en,tn,nn,rn,an,sn){for(;0<an--;){var An,cn=en,un=tn+(nn?1:0),hn=en,dn=tn+(nn?0:3);for(An=0;An<rn;++An){var pn=hn[dn+4*An];255!=pn&&(pn*=32897,cn[un+4*An+0]=cn[un+4*An+0]*pn>>23,cn[un+4*An+1]=cn[un+4*An+1]*pn>>23,cn[un+4*An+2]=cn[un+4*An+2]*pn>>23)}tn+=sn}}function dr(en,tn,nn,rn,an){for(;0<rn--;){var sn;for(sn=0;sn<nn;++sn){var An=en[tn+2*sn+0],cn=15&(hn=en[tn+2*sn+1]),un=4369*cn,hn=(240&hn|hn>>4)*un>>16;en[tn+2*sn+0]=(240&An|An>>4)*un>>16&240|(15&An|An<<4)*un>>16>>4&15,en[tn+2*sn+1]=240&hn|cn}tn+=an}}function pr(en,tn,nn,rn,an,sn,An,cn){var un,hn,dn=255;for(hn=0;hn<an;++hn){for(un=0;un<rn;++un){var pn=en[tn+un];sn[An+4*un]=pn,dn&=pn}tn+=nn,An+=cn}return 255!=dn}function gr(en,tn,nn,rn,an){var sn;for(sn=0;sn<an;++sn)nn[rn+sn]=en[tn+sn]>>8}function mr(){Gn=fr,jn=dr,Vn=pr,Kn=gr}function vr(tn,nn,rn){en[tn]=function(en,tn,an,sn,An,cn,un,hn,dn,pn,gn,mn,vn,yn,bn,wn,Cn){var xn,Bn=Cn-1>>1,_n=An[cn+0]|un[hn+0]<<16,Sn=dn[pn+0]|gn[mn+0]<<16;e(null!=en);var kn=3*_n+Sn+131074>>2;for(nn(en[tn+0],255&kn,kn>>16,vn,yn),null!=an&&(kn=3*Sn+_n+131074>>2,nn(an[sn+0],255&kn,kn>>16,bn,wn)),xn=1;xn<=Bn;++xn){var En=An[cn+xn]|un[hn+xn]<<16,Pn=dn[pn+xn]|gn[mn+xn]<<16,Fn=_n+En+Sn+Pn+524296,Ln=Fn+2*(En+Sn)>>3;kn=Ln+_n>>1,_n=(Fn=Fn+2*(_n+Pn)>>3)+En>>1,nn(en[tn+2*xn-1],255&kn,kn>>16,vn,yn+(2*xn-1)*rn),nn(en[tn+2*xn-0],255&_n,_n>>16,vn,yn+(2*xn-0)*rn),null!=an&&(kn=Fn+Sn>>1,_n=Ln+Pn>>1,nn(an[sn+2*xn-1],255&kn,kn>>16,bn,wn+(2*xn-1)*rn),nn(an[sn+2*xn+0],255&_n,_n>>16,bn,wn+(2*xn+0)*rn)),_n=En,Sn=Pn}1&Cn||(kn=3*_n+Sn+131074>>2,nn(en[tn+Cn-1],255&kn,kn>>16,vn,yn+(Cn-1)*rn),null!=an&&(kn=3*Sn+_n+131074>>2,nn(an[sn+Cn-1],255&kn,kn>>16,bn,wn+(Cn-1)*rn)))}}function br(){xi[Qr]=Bi,xi[Rr]=Si,xi[Hr]=_i,xi[Dr]=ki,xi[$r]=Ei,xi[Gr]=Pi,xi[Vr]=Fi,xi[Kr]=Si,xi[zr]=ki,xi[Wr]=Ei,xi[Xr]=Pi}function yr(en){return en&~Ni?0>en?0:255:en>>Qi}function wr(en,tn){return yr((19077*en>>8)+(26149*tn>>8)-14234)}function Nr(en,tn,nn){return yr((19077*en>>8)-(6419*tn>>8)-(13320*nn>>8)+8708)}function Lr(en,tn){return yr((19077*en>>8)+(33050*tn>>8)-17685)}function Ar(en,tn,nn,rn,an){rn[an+0]=wr(en,nn),rn[an+1]=Nr(en,tn,nn),rn[an+2]=Lr(en,tn)}function xr(en,tn,nn,rn,an){rn[an+0]=Lr(en,tn),rn[an+1]=Nr(en,tn,nn),rn[an+2]=wr(en,nn)}function Sr(en,tn,nn,rn,an){var sn=Nr(en,tn,nn);tn=sn<<3&224|Lr(en,tn)>>3,rn[an+0]=248&wr(en,nn)|sn>>5,rn[an+1]=tn}function _r(en,tn,nn,rn,an){var sn=240&Lr(en,tn)|15;rn[an+0]=240&wr(en,nn)|Nr(en,tn,nn)>>4,rn[an+1]=sn}function Pr(en,tn,nn,rn,an){rn[an+0]=255,Ar(en,tn,nn,rn,an+1)}function kr(en,tn,nn,rn,an){xr(en,tn,nn,rn,an),rn[an+3]=255}function Ir(en,tn,nn,rn,an){Ar(en,tn,nn,rn,an),rn[an+3]=255}function Vt(en,tn){return 0>en?0:en>tn?tn:en}function Fr(tn,nn,rn){en[tn]=function(en,tn,an,sn,An,cn,un,hn,dn){for(var pn=hn+(-2&dn)*rn;hn!=pn;)nn(en[tn+0],an[sn+0],An[cn+0],un,hn),nn(en[tn+1],an[sn+0],An[cn+0],un,hn+rn),tn+=2,++sn,++cn,hn+=2*rn;1&dn&&nn(en[tn+0],an[sn+0],An[cn+0],un,hn)}}function Cr(en,tn,nn){return 0==nn?0==en?0==tn?6:5:0==tn?4:0:nn}function jr(en,tn,nn,rn,an){switch(en>>>30){case 3:Sn(tn,nn,rn,an,0);break;case 2:kn(tn,nn,rn,an);break;case 1:Pn(tn,nn,rn,an)}}function Or(en,tn){var nn,rn,an=tn.M,sn=tn.Nb,An=en.oc,cn=en.pc+40,un=en.oc,hn=en.pc+584,dn=en.oc,pn=en.pc+600;for(nn=0;16>nn;++nn)An[cn+32*nn-1]=129;for(nn=0;8>nn;++nn)un[hn+32*nn-1]=129,dn[pn+32*nn-1]=129;for(0<an?An[cn-1-32]=un[hn-1-32]=dn[pn-1-32]=129:(i(An,cn-32-1,127,21),i(un,hn-32-1,127,9),i(dn,pn-32-1,127,9)),rn=0;rn<en.za;++rn){var gn=tn.ya[tn.aa+rn];if(0<rn){for(nn=-1;16>nn;++nn)n(An,cn+32*nn-4,An,cn+32*nn+12,4);for(nn=-1;8>nn;++nn)n(un,hn+32*nn-4,un,hn+32*nn+4,4),n(dn,pn+32*nn-4,dn,pn+32*nn+4,4)}var mn=en.Gd,vn=en.Hd+rn,yn=gn.ad,bn=gn.Hc;if(0<an&&(n(An,cn-32,mn[vn].y,0,16),n(un,hn-32,mn[vn].f,0,8),n(dn,pn-32,mn[vn].ea,0,8)),gn.Za){var wn=An,Cn=cn-32+16;for(0<an&&(rn>=en.za-1?i(wn,Cn,mn[vn].y[15],4):n(wn,Cn,mn[vn+1].y,0,4)),nn=0;4>nn;nn++)wn[Cn+128+nn]=wn[Cn+256+nn]=wn[Cn+384+nn]=wn[Cn+0+nn];for(nn=0;16>nn;++nn,bn<<=2)wn=An,Cn=cn+ji[nn],fi[gn.Ob[nn]](wn,Cn),jr(bn,yn,16*+nn,wn,Cn)}else if(wn=Cr(rn,an,gn.Ob[0]),gi[wn](An,cn),0!=bn)for(nn=0;16>nn;++nn,bn<<=2)jr(bn,yn,16*+nn,An,cn+ji[nn]);for(nn=gn.Gc,wn=Cr(rn,an,gn.Dd),mi[wn](un,hn),mi[wn](dn,pn),bn=yn,wn=un,Cn=hn,255&(gn=nn>>0)&&(170&gn?En(bn,256,wn,Cn):Fn(bn,256,wn,Cn)),gn=dn,bn=pn,255&(nn>>=8)&&(170&nn?En(yn,320,gn,bn):Fn(yn,320,gn,bn)),an<en.Ub-1&&(n(mn[vn].y,0,An,cn+480,16),n(mn[vn].f,0,un,hn+224,8),n(mn[vn].ea,0,dn,pn+224,8)),nn=8*sn*en.B,mn=en.sa,vn=en.ta+16*rn+16*sn*en.R,yn=en.qa,gn=en.ra+8*rn+nn,bn=en.Ha,wn=en.Ia+8*rn+nn,nn=0;16>nn;++nn)n(mn,vn+nn*en.R,An,cn+32*nn,16);for(nn=0;8>nn;++nn)n(yn,gn+nn*en.B,un,hn+32*nn,8),n(bn,wn+nn*en.B,dn,pn+32*nn,8)}}function Br(en,tn,nn,rn,an,sn,An,cn,un){var hn=[0],dn=[0],pn=0,gn=null!=un?un.kd:0,mn=null!=un?un:new nr;if(null==en||12>nn)return 7;mn.data=en,mn.w=tn,mn.ha=nn,tn=[tn],nn=[nn],mn.gb=[mn.gb];e:{var vn=tn,yn=nn,bn=mn.gb;if(e(null!=en),e(null!=yn),e(null!=bn),bn[0]=0,12<=yn[0]&&!r(en,vn[0],"RIFF")){if(r(en,vn[0]+8,"WEBP")){bn=3;break e}var wn=j(en,vn[0]+4);if(12>wn||4294967286<wn){bn=3;break e}if(gn&&wn>yn[0]-8){bn=7;break e}bn[0]=wn,vn[0]+=12,yn[0]-=12}bn=0}if(0!=bn)return bn;for(wn=0<mn.gb[0],nn=nn[0];;){e:{var Cn=en;yn=tn,bn=nn;var xn=hn,Bn=dn,_n=vn=[0];if((En=pn=[pn])[0]=0,8>bn[0])bn=7;else{if(!r(Cn,yn[0],"VP8X")){if(10!=j(Cn,yn[0]+4)){bn=3;break e}if(18>bn[0]){bn=7;break e}var Sn=j(Cn,yn[0]+8),kn=1+C(Cn,yn[0]+12);if(2147483648<=kn*(Cn=1+C(Cn,yn[0]+15))){bn=3;break e}null!=_n&&(_n[0]=Sn),null!=xn&&(xn[0]=kn),null!=Bn&&(Bn[0]=Cn),yn[0]+=18,bn[0]-=18,En[0]=1}bn=0}}if(pn=pn[0],vn=vn[0],0!=bn)return bn;if(yn=!!(2&vn),!wn&&pn)return 3;if(null!=sn&&(sn[0]=!!(16&vn)),null!=An&&(An[0]=yn),null!=cn&&(cn[0]=0),An=hn[0],vn=dn[0],pn&&yn&&null==un){bn=0;break}if(4>nn){bn=7;break}if(wn&&pn||!wn&&!pn&&!r(en,tn[0],"ALPH")){nn=[nn],mn.na=[mn.na],mn.P=[mn.P],mn.Sa=[mn.Sa];e:{Sn=en,bn=tn,wn=nn;var En=mn.gb;xn=mn.na,Bn=mn.P,_n=mn.Sa,kn=22,e(null!=Sn),e(null!=wn),Cn=bn[0];var Pn=wn[0];for(e(null!=xn),e(null!=_n),xn[0]=null,Bn[0]=null,_n[0]=0;;){if(bn[0]=Cn,wn[0]=Pn,8>Pn){bn=7;break e}var Fn=j(Sn,Cn+4);if(4294967286<Fn){bn=3;break e}var Ln=8+Fn+1&-2;if(kn+=Ln,0<En&&kn>En){bn=3;break e}if(!r(Sn,Cn,"VP8 ")||!r(Sn,Cn,"VP8L")){bn=0;break e}if(Pn[0]<Ln){bn=7;break e}r(Sn,Cn,"ALPH")||(xn[0]=Sn,Bn[0]=Cn+8,_n[0]=Fn),Cn+=Ln,Pn-=Ln}}if(nn=nn[0],mn.na=mn.na[0],mn.P=mn.P[0],mn.Sa=mn.Sa[0],0!=bn)break}nn=[nn],mn.Ja=[mn.Ja],mn.xa=[mn.xa];e:if(En=en,bn=tn,wn=nn,xn=mn.gb[0],Bn=mn.Ja,_n=mn.xa,Sn=bn[0],Cn=!r(En,Sn,"VP8 "),kn=!r(En,Sn,"VP8L"),e(null!=En),e(null!=wn),e(null!=Bn),e(null!=_n),8>wn[0])bn=7;else{if(Cn||kn){if(En=j(En,Sn+4),12<=xn&&En>xn-12){bn=3;break e}if(gn&&En>wn[0]-8){bn=7;break e}Bn[0]=En,bn[0]+=8,wn[0]-=8,_n[0]=kn}else _n[0]=5<=wn[0]&&47==En[Sn+0]&&!(En[Sn+4]>>5),Bn[0]=wn[0];bn=0}if(nn=nn[0],mn.Ja=mn.Ja[0],mn.xa=mn.xa[0],tn=tn[0],0!=bn)break;if(4294967286<mn.Ja)return 3;if(null==cn||yn||(cn[0]=mn.xa?2:1),An=[An],vn=[vn],mn.xa){if(5>nn){bn=7;break}cn=An,gn=vn,yn=sn,null==en||5>nn?en=0:5<=nn&&47==en[tn+0]&&!(en[tn+4]>>5)?(wn=[0],En=[0],xn=[0],v(Bn=new N,en,tn,nn),gt(Bn,wn,En,xn)?(null!=cn&&(cn[0]=wn[0]),null!=gn&&(gn[0]=En[0]),null!=yn&&(yn[0]=xn[0]),en=1):en=0):en=0}else{if(10>nn){bn=7;break}cn=vn,null==en||10>nn||!Xt(en,tn+3,nn-3)?en=0:(gn=en[tn+0]|en[tn+1]<<8|en[tn+2]<<16,yn=16383&(en[tn+7]<<8|en[tn+6]),en=16383&(en[tn+9]<<8|en[tn+8]),1&gn||3<(gn>>1&7)||!(gn>>4&1)||gn>>5>=mn.Ja||!yn||!en?en=0:(An&&(An[0]=yn),cn&&(cn[0]=en),en=1))}if(!en)return 3;if(An=An[0],vn=vn[0],pn&&(hn[0]!=An||dn[0]!=vn))return 3;null!=un&&(un[0]=mn,un.offset=tn-un.w,e(4294967286>tn-un.w),e(un.offset==un.ha-nn));break}return 0==bn||7==bn&&pn&&null==un?(null!=sn&&(sn[0]|=null!=mn.na&&0<mn.na.length),null!=rn&&(rn[0]=An),null!=an&&(an[0]=vn),0):bn}function Mr(en,tn,nn){var rn=tn.width,an=tn.height,sn=0,An=0,cn=rn,un=an;if(tn.Da=null!=en&&0<en.Da,tn.Da&&(cn=en.cd,un=en.bd,sn=en.v,An=en.j,11>nn||(sn&=-2,An&=-2),0>sn||0>An||0>=cn||0>=un||sn+cn>rn||An+un>an))return 0;if(tn.v=sn,tn.j=An,tn.va=sn+cn,tn.o=An+un,tn.U=cn,tn.T=un,tn.da=null!=en&&0<en.da,tn.da){if(!E(cn,un,nn=[en.ib],sn=[en.hb]))return 0;tn.ib=nn[0],tn.hb=sn[0]}return tn.ob=null!=en&&en.ob,tn.Kb=null==en||!en.Sd,tn.da&&(tn.ob=tn.ib<3*rn/4&&tn.hb<3*an/4,tn.Kb=0),1}function Er(en){if(null==en)return 2;if(11>en.S){var tn=en.f.RGBA;tn.fb+=(en.height-1)*tn.A,tn.A=-tn.A}else tn=en.f.kb,en=en.height,tn.O+=(en-1)*tn.fa,tn.fa=-tn.fa,tn.N+=(en-1>>1)*tn.Ab,tn.Ab=-tn.Ab,tn.W+=(en-1>>1)*tn.Db,tn.Db=-tn.Db,null!=tn.F&&(tn.J+=(en-1)*tn.lb,tn.lb=-tn.lb);return 0}function qr(en,tn,nn,rn){if(null==rn||0>=en||0>=tn)return 2;if(null!=nn){if(nn.Da){var an=nn.cd,sn=nn.bd,An=-2&nn.v,cn=-2&nn.j;if(0>An||0>cn||0>=an||0>=sn||An+an>en||cn+sn>tn)return 2;en=an,tn=sn}if(nn.da){if(!E(en,tn,an=[nn.ib],sn=[nn.hb]))return 2;en=an[0],tn=sn[0]}}rn.width=en,rn.height=tn;e:{var un=rn.width,hn=rn.height;if(en=rn.S,0>=un||0>=hn||!(en>=Qr&&13>en))en=2;else{if(0>=rn.Rd&&null==rn.sd){An=sn=an=tn=0;var dn=(cn=un*zi[en])*hn;if(11>en||(sn=(hn+1)/2*(tn=(un+1)/2),12==en&&(An=(an=un)*hn)),null==(hn=a(dn+2*sn+An))){en=1;break e}rn.sd=hn,11>en?((un=rn.f.RGBA).eb=hn,un.fb=0,un.A=cn,un.size=dn):((un=rn.f.kb).y=hn,un.O=0,un.fa=cn,un.Fd=dn,un.f=hn,un.N=0+dn,un.Ab=tn,un.Cd=sn,un.ea=hn,un.W=0+dn+sn,un.Db=tn,un.Ed=sn,12==en&&(un.F=hn,un.J=0+dn+2*sn),un.Tc=An,un.lb=an)}if(tn=1,an=rn.S,sn=rn.width,An=rn.height,an>=Qr&&13>an)if(11>an)en=rn.f.RGBA,tn&=(cn=Math.abs(en.A))*(An-1)+sn<=en.size,tn&=cn>=sn*zi[an],tn&=null!=en.eb;else{en=rn.f.kb,cn=(sn+1)/2,dn=(An+1)/2,un=Math.abs(en.fa),hn=Math.abs(en.Ab);var pn=Math.abs(en.Db),gn=Math.abs(en.lb),mn=gn*(An-1)+sn;tn&=un*(An-1)+sn<=en.Fd,tn&=hn*(dn-1)+cn<=en.Cd,tn=(tn&=pn*(dn-1)+cn<=en.Ed)&un>=sn&hn>=cn&pn>=cn,tn&=null!=en.y,tn&=null!=en.f,tn&=null!=en.ea,12==an&&(tn&=gn>=sn,tn&=mn<=en.Tc,tn&=null!=en.F)}else tn=0;en=tn?0:2}}return 0!=en||null!=nn&&nn.fd&&(en=Er(rn)),en}var tn=64,nn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],rn=24,an=32,sn=8,An=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];R("Predictor0","PredictorAdd0"),en.Predictor0=function(){return 4278190080},en.Predictor1=function(en){return en},en.Predictor2=function(en,tn,nn){return tn[nn+0]},en.Predictor3=function(en,tn,nn){return tn[nn+1]},en.Predictor4=function(en,tn,nn){return tn[nn-1]},en.Predictor5=function(en,tn,nn){return U(U(en,tn[nn+1]),tn[nn+0])},en.Predictor6=function(en,tn,nn){return U(en,tn[nn-1])},en.Predictor7=function(en,tn,nn){return U(en,tn[nn+0])},en.Predictor8=function(en,tn,nn){return U(tn[nn-1],tn[nn+0])},en.Predictor9=function(en,tn,nn){return U(tn[nn+0],tn[nn+1])},en.Predictor10=function(en,tn,nn){return U(U(en,tn[nn-1]),U(tn[nn+0],tn[nn+1]))},en.Predictor11=function(en,tn,nn){var rn=tn[nn+0];return 0>=W(rn>>24&255,en>>24&255,(tn=tn[nn-1])>>24&255)+W(rn>>16&255,en>>16&255,tn>>16&255)+W(rn>>8&255,en>>8&255,tn>>8&255)+W(255&rn,255&en,255&tn)?rn:en},en.Predictor12=function(en,tn,nn){var rn=tn[nn+0];return(z((en>>24&255)+(rn>>24&255)-((tn=tn[nn-1])>>24&255))<<24|z((en>>16&255)+(rn>>16&255)-(tn>>16&255))<<16|z((en>>8&255)+(rn>>8&255)-(tn>>8&255))<<8|z((255&en)+(255&rn)-(255&tn)))>>>0},en.Predictor13=function(en,tn,nn){var rn=tn[nn-1];return(H((en=U(en,tn[nn+0]))>>24&255,rn>>24&255)<<24|H(en>>16&255,rn>>16&255)<<16|H(en>>8&255,rn>>8&255)<<8|H(en>>0&255,rn>>0&255))>>>0};var cn=en.PredictorAdd0;en.PredictorAdd1=V,R("Predictor2","PredictorAdd2"),R("Predictor3","PredictorAdd3"),R("Predictor4","PredictorAdd4"),R("Predictor5","PredictorAdd5"),R("Predictor6","PredictorAdd6"),R("Predictor7","PredictorAdd7"),R("Predictor8","PredictorAdd8"),R("Predictor9","PredictorAdd9"),R("Predictor10","PredictorAdd10"),R("Predictor11","PredictorAdd11"),R("Predictor12","PredictorAdd12"),R("Predictor13","PredictorAdd13");var un=en.PredictorAdd2;X("ColorIndexInverseTransform","MapARGB","32b",(function(en){return en>>8&255}),(function(en){return en})),X("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(en){return en}),(function(en){return en>>8&255}));var hn,dn=en.ColorIndexInverseTransform,pn=en.MapARGB,gn=en.VP8LColorIndexInverseTransformAlpha,mn=en.MapAlpha,vn=en.VP8LPredictorsAdd=[];vn.length=16,(en.VP8LPredictors=[]).length=16,(en.VP8LPredictorsAdd_C=[]).length=16,(en.VP8LPredictors_C=[]).length=16;var yn,bn,wn,Cn,xn,Bn,_n,Sn,kn,En,Pn,Fn,Ln,In,Un,Tn,Qn,Nn,On,Mn,Rn,Hn,Dn,$n,Gn,jn,Vn,Kn,qn=a(511),zn=a(2041),Wn=a(225),Xn=a(767),Yn=0,Jn=zn,Zn=Wn,Ur=Xn,Tr=qn,Qr=0,Rr=1,Hr=2,Dr=3,$r=4,Gr=5,Vr=6,Kr=7,zr=8,Wr=9,Xr=10,Yr=[2,3,7],Jr=[3,3,11],Zr=[280,256,256,256,40],ei=[0,1,1,1,0],ti=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ni=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ri=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ii=8,ai=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],oi=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],si=null,Ai=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],li=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ci=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ui=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],hi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],di=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],pi=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],gi=[],fi=[],mi=[],yi=1,bi=2,wi=[],xi=[];vr("UpsampleRgbLinePair",Ar,3),vr("UpsampleBgrLinePair",xr,3),vr("UpsampleRgbaLinePair",Ir,4),vr("UpsampleBgraLinePair",kr,4),vr("UpsampleArgbLinePair",Pr,4),vr("UpsampleRgba4444LinePair",_r,2),vr("UpsampleRgb565LinePair",Sr,2);var Bi=en.UpsampleRgbLinePair,_i=en.UpsampleBgrLinePair,Si=en.UpsampleRgbaLinePair,ki=en.UpsampleBgraLinePair,Ei=en.UpsampleArgbLinePair,Pi=en.UpsampleRgba4444LinePair,Fi=en.UpsampleRgb565LinePair,Li=16,Ii=1<<Li-1,Ui=-227,Ti=482,Qi=6,Ni=(256<<Qi)-1,Oi=0,Mi=a(256),Ri=a(256),Hi=a(256),Di=a(256),$i=a(Ti-Ui),Gi=a(Ti-Ui);Fr("YuvToRgbRow",Ar,3),Fr("YuvToBgrRow",xr,3),Fr("YuvToRgbaRow",Ir,4),Fr("YuvToBgraRow",kr,4),Fr("YuvToArgbRow",Pr,4),Fr("YuvToRgba4444Row",_r,2),Fr("YuvToRgb565Row",Sr,2);var ji=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Vi=[0,2,8],Ki=[8,7,6,4,4,2,2,2,1,1,1,1],qi=1;this.WebPDecodeRGBA=function(en,tn,nn,rn,an){var sn=Rr,An=new rr,cn=new ot;An.ba=cn,cn.S=sn,cn.width=[cn.width],cn.height=[cn.height];var un=cn.width,hn=cn.height,dn=new st;if(null==dn||null==en)var pn=2;else e(null!=dn),pn=Br(en,tn,nn,dn.width,dn.height,dn.Pd,dn.Qd,dn.format,null);if(0!=pn?un=0:(null!=un&&(un[0]=dn.width[0]),null!=hn&&(hn[0]=dn.height[0]),un=1),un){cn.width=cn.width[0],cn.height=cn.height[0],null!=rn&&(rn[0]=cn.width),null!=an&&(an[0]=cn.height);e:{if(rn=new Gt,(an=new nr).data=en,an.w=tn,an.ha=nn,an.kd=1,tn=[0],e(null!=an),(0==(en=Br(an.data,an.w,an.ha,null,null,null,tn,null,an))||7==en)&&tn[0]&&(en=4),0==(tn=en)){if(e(null!=An),rn.data=an.data,rn.w=an.w+an.offset,rn.ha=an.ha-an.offset,rn.put=dt,rn.ac=ft,rn.bc=pt,rn.ma=An,an.xa){if(null==(en=kt())){An=1;break e}if(function(en,tn){var nn=[0],rn=[0],an=[0];t:for(;;){if(null==en)return 0;if(null==tn)return en.a=2,0;if(en.l=tn,en.a=0,v(en.m,tn.data,tn.w,tn.ha),!gt(en.m,nn,rn,an)){en.a=3;break t}if(en.xb=bi,tn.width=nn[0],tn.height=rn[0],!It(nn[0],rn[0],1,en,null))break t;return 1}return e(0!=en.a),0}(en,rn)){if(rn=0==(tn=qr(rn.width,rn.height,An.Oa,An.ba))){t:{rn=en;n:for(;;){if(null==rn){rn=0;break t}if(e(null!=rn.s.yc),e(null!=rn.s.Ya),e(0<rn.s.Wb),e(null!=(nn=rn.l)),e(null!=(an=nn.ma)),0!=rn.xb){if(rn.ca=an.ba,rn.tb=an.tb,e(null!=rn.ca),!Mr(an.Oa,nn,Dr)){rn.a=2;break n}if(!Ft(rn,nn.width))break n;if(nn.da)break n;if((nn.da||nt(rn.ca.S))&&mr(),11>rn.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=rn.ca.f.kb.F&&mr()),rn.Pb&&0<rn.s.ua&&null==rn.s.vb.X&&!O(rn.s.vb,rn.s.Wa.Xa)){rn.a=1;break n}rn.xb=0}if(!_t(rn,rn.V,rn.Ba,rn.c,rn.i,nn.o,Lt))break n;an.Dc=rn.Ma,rn=1;break t}e(0!=rn.a),rn=0}rn=!rn}rn&&(tn=en.a)}else tn=en.a}else{if(null==(en=new Yt)){An=1;break e}if(en.Fa=an.na,en.P=an.P,en.qc=an.Sa,Kt(en,rn)){if(0==(tn=qr(rn.width,rn.height,An.Oa,An.ba))){if(en.Aa=0,nn=An.Oa,e(null!=(an=en)),null!=nn){if(0<(un=0>(un=nn.Md)?0:100<un?255:255*un/100)){for(hn=dn=0;4>hn;++hn)12>(pn=an.pb[hn]).lc&&(pn.ia=un*Ki[0>pn.lc?0:pn.lc]>>3),dn|=pn.ia;dn&&(alert("todo:VP8InitRandom"),an.ia=1)}an.Ga=nn.Id,100<an.Ga?an.Ga=100:0>an.Ga&&(an.Ga=0)}(function Qt(en,tn){if(null==en)return 0;if(null==tn)return Jt(en,2,"NULL VP8Io parameter in VP8Decode().");if(!en.cb&&!Kt(en,tn))return 0;if(e(en.cb),null==tn.ac||tn.ac(tn)){tn.ob&&(en.L=0);var nn=Vi[en.L];if(2==en.L?(en.yb=0,en.zb=0):(en.yb=tn.v-nn>>4,en.zb=tn.j-nn>>4,0>en.yb&&(en.yb=0),0>en.zb&&(en.zb=0)),en.Va=tn.o+15+nn>>4,en.Hb=tn.va+15+nn>>4,en.Hb>en.za&&(en.Hb=en.za),en.Va>en.Ub&&(en.Va=en.Ub),0<en.L){var rn=en.ed;for(nn=0;4>nn;++nn){var an;if(en.Qa.Cb){var sn=en.Qa.Lb[nn];en.Qa.Fb||(sn+=rn.Tb)}else sn=rn.Tb;for(an=0;1>=an;++an){var An=en.gd[nn][an],cn=sn;if(rn.Pc&&(cn+=rn.vd[0],an&&(cn+=rn.od[0])),0<(cn=0>cn?0:63<cn?63:cn)){var un=cn;0<rn.wb&&(un=4<rn.wb?un>>2:un>>1)>9-rn.wb&&(un=9-rn.wb),1>un&&(un=1),An.dd=un,An.tc=2*cn+un,An.ld=40<=cn?2:15<=cn?1:0}else An.tc=0;An.La=an}}}nn=0}else Jt(en,6,"Frame setup failed"),nn=en.a;if(nn=0==nn){if(nn){en.$c=0,0<en.Aa||(en.Ic=qi);t:{nn=en.Ic,rn=4*(un=en.za);var hn=32*un,dn=un+1,pn=0<en.L?un*(0<en.Aa?2:1):0,gn=(2==en.Aa?2:1)*un;if((An=rn+832+(an=3*(16*nn+Vi[en.L])/2*hn)+(sn=null!=en.Fa&&0<en.Fa.length?en.Kc.c*en.Kc.i:0))!=An)nn=0;else{if(An>en.Vb){if(en.Vb=0,en.Ec=a(An),en.Fc=0,null==en.Ec){nn=Jt(en,1,"no memory during frame initialization.");break t}en.Vb=An}An=en.Ec,cn=en.Fc,en.Ac=An,en.Bc=cn,cn+=rn,en.Gd=o(hn,Ht),en.Hd=0,en.rb=o(dn+1,Rt),en.sb=1,en.wa=pn?o(pn,Dt):null,en.Y=0,en.D.Nb=0,en.D.wa=en.wa,en.D.Y=en.Y,0<en.Aa&&(en.D.Y+=un),e(!0),en.oc=An,en.pc=cn,cn+=832,en.ya=o(gn,Ut),en.aa=0,en.D.ya=en.ya,en.D.aa=en.aa,2==en.Aa&&(en.D.aa+=un),en.R=16*un,en.B=8*un,un=(hn=Vi[en.L])*en.R,hn=hn/2*en.B,en.sa=An,en.ta=cn+un,en.qa=en.sa,en.ra=en.ta+16*nn*en.R+hn,en.Ha=en.qa,en.Ia=en.ra+8*nn*en.B+hn,en.$c=0,cn+=an,en.mb=sn?An:null,en.nb=sn?cn:null,e(cn+sn<=en.Fc+en.Vb),$t(en),i(en.Ac,en.Bc,0,rn),nn=1}}if(nn){if(tn.ka=0,tn.y=en.sa,tn.O=en.ta,tn.f=en.qa,tn.N=en.ra,tn.ea=en.Ha,tn.Vd=en.Ia,tn.fa=en.R,tn.Rc=en.B,tn.F=null,tn.J=0,!Yn){for(nn=-255;255>=nn;++nn)qn[255+nn]=0>nn?-nn:nn;for(nn=-1020;1020>=nn;++nn)zn[1020+nn]=-128>nn?-128:127<nn?127:nn;for(nn=-112;112>=nn;++nn)Wn[112+nn]=-16>nn?-16:15<nn?15:nn;for(nn=-255;510>=nn;++nn)Xn[255+nn]=0>nn?0:255<nn?255:nn;Yn=1}_n=ue,Sn=ae,En=oe,Pn=se,Fn=ce,kn=ie,Ln=Je,In=Xe,Un=$e,Tn=Qe,Qn=Ke,Nn=Ze,On=tr,Mn=er,Rn=ze,Hn=He,Dn=We,$n=Ve,fi[0]=xe,fi[1]=le,fi[2]=Le,fi[3]=Ae,fi[4]=Se,fi[5]=Pe,fi[6]=_e,fi[7]=ke,fi[8]=Fe,fi[9]=Ie,gi[0]=ve,gi[1]=de,gi[2]=pe,gi[3]=ge,gi[4]=be,gi[5]=ye,gi[6]=we,mi[0]=Be,mi[1]=fe,mi[2]=Ce,mi[3]=je,mi[4]=Ee,mi[5]=Me,mi[6]=qe,nn=1}else nn=0}nn&&(nn=function(en,tn){for(en.M=0;en.M<en.Va;++en.M){var nn,rn=en.Jc[en.M&en.Xb],an=en.m,sn=en;for(nn=0;nn<sn.za;++nn){var An=an,cn=sn,un=cn.Ac,hn=cn.Bc+4*nn,dn=cn.zc,pn=cn.ya[cn.aa+nn];if(cn.Qa.Bb?pn.$b=k(An,cn.Pa.jb[0])?2+k(An,cn.Pa.jb[2]):k(An,cn.Pa.jb[1]):pn.$b=0,cn.kc&&(pn.Ad=k(An,cn.Bd)),pn.Za=!k(An,145)+0,pn.Za){var gn=pn.Ob,mn=0;for(cn=0;4>cn;++cn){var vn,yn=dn[0+cn];for(vn=0;4>vn;++vn){yn=hi[un[hn+vn]][yn];for(var bn=ci[k(An,yn[0])];0<bn;)bn=ci[2*bn+k(An,yn[bn])];yn=-bn,un[hn+vn]=yn}n(gn,mn,un,hn,4),mn+=4,dn[0+cn]=yn}}else yn=k(An,156)?k(An,128)?1:3:k(An,163)?2:0,pn.Ob[0]=yn,i(un,hn,yn,4),i(dn,0,yn,4);pn.Dd=k(An,142)?k(An,114)?k(An,183)?1:3:2:0}if(sn.m.Ka)return Jt(en,7,"Premature end-of-partition0 encountered.");for(;en.ja<en.za;++en.ja){if(sn=rn,An=(an=en).rb[an.sb-1],un=an.rb[an.sb+an.ja],nn=an.ya[an.aa+an.ja],hn=an.kc?nn.Ad:0)An.la=un.la=0,nn.Za||(An.Na=un.Na=0),nn.Hc=0,nn.Gc=0,nn.ia=0;else{var wn,Cn;if(An=un,un=sn,hn=an.Pa.Xc,dn=an.ya[an.aa+an.ja],pn=an.pb[dn.$b],cn=dn.ad,gn=0,mn=an.rb[an.sb-1],yn=vn=0,i(cn,gn,0,384),dn.Za)var xn=0,Bn=hn[3];else{bn=a(16);var Sn=An.Na+mn.Na;if(Sn=si(un,hn[1],Sn,pn.Eb,0,bn,0),An.Na=mn.Na=(0<Sn)+0,1<Sn)_n(bn,0,cn,gn);else{var kn=bn[0]+3>>3;for(bn=0;256>bn;bn+=16)cn[gn+bn]=kn}xn=1,Bn=hn[0]}var En=15&An.la,Pn=15&mn.la;for(bn=0;4>bn;++bn){var Fn=1&Pn;for(kn=Cn=0;4>kn;++kn)En=En>>1|(Fn=(Sn=si(un,Bn,Sn=Fn+(1&En),pn.Sc,xn,cn,gn))>xn)<<7,Cn=Cn<<2|(3<Sn?3:1<Sn?2:0!=cn[gn+0]),gn+=16;En>>=4,Pn=Pn>>1|Fn<<7,vn=(vn<<8|Cn)>>>0}for(Bn=En,xn=Pn>>4,wn=0;4>wn;wn+=2){for(Cn=0,En=An.la>>4+wn,Pn=mn.la>>4+wn,bn=0;2>bn;++bn){for(Fn=1&Pn,kn=0;2>kn;++kn)Sn=Fn+(1&En),En=En>>1|(Fn=0<(Sn=si(un,hn[2],Sn,pn.Qc,0,cn,gn)))<<3,Cn=Cn<<2|(3<Sn?3:1<Sn?2:0!=cn[gn+0]),gn+=16;En>>=2,Pn=Pn>>1|Fn<<5}yn|=Cn<<4*wn,Bn|=En<<4<<wn,xn|=(240&Pn)<<wn}An.la=Bn,mn.la=xn,dn.Hc=vn,dn.Gc=yn,dn.ia=43690&yn?0:pn.ia,hn=!(vn|yn)}if(0<an.L&&(an.wa[an.Y+an.ja]=an.gd[nn.$b][nn.Za],an.wa[an.Y+an.ja].La|=!hn),sn.Ka)return Jt(en,7,"Premature end-of-file encountered.")}if($t(en),an=tn,sn=1,nn=(rn=en).D,An=0<rn.L&&rn.M>=rn.zb&&rn.M<=rn.Va,0==rn.Aa)t:{if(nn.M=rn.M,nn.uc=An,Or(rn,nn),sn=1,nn=(Cn=rn.D).Nb,An=(yn=Vi[rn.L])*rn.R,un=yn/2*rn.B,bn=16*nn*rn.R,kn=8*nn*rn.B,hn=rn.sa,dn=rn.ta-An+bn,pn=rn.qa,cn=rn.ra-un+kn,gn=rn.Ha,mn=rn.Ia-un+kn,Pn=0==(En=Cn.M),vn=En>=rn.Va-1,2==rn.Aa&&Or(rn,Cn),Cn.uc)for(Fn=(Sn=rn).D.M,e(Sn.D.uc),Cn=Sn.yb;Cn<Sn.Hb;++Cn){xn=Cn,Bn=Fn;var Gn=(jn=(Zn=Sn).D).Nb;wn=Zn.R;var jn=jn.wa[jn.Y+xn],Vn=Zn.sa,Kn=Zn.ta+16*Gn*wn+16*xn,qn=jn.dd,zn=jn.tc;if(0!=zn)if(e(3<=zn),1==Zn.L)0<xn&&Hn(Vn,Kn,wn,zn+4),jn.La&&$n(Vn,Kn,wn,zn),0<Bn&&Rn(Vn,Kn,wn,zn+4),jn.La&&Dn(Vn,Kn,wn,zn);else{var Wn=Zn.B,Xn=Zn.qa,Yn=Zn.ra+8*Gn*Wn+8*xn,Jn=Zn.Ha,Zn=Zn.Ia+8*Gn*Wn+8*xn;Gn=jn.ld,0<xn&&(In(Vn,Kn,wn,zn+4,qn,Gn),Tn(Xn,Yn,Jn,Zn,Wn,zn+4,qn,Gn)),jn.La&&(Nn(Vn,Kn,wn,zn,qn,Gn),Mn(Xn,Yn,Jn,Zn,Wn,zn,qn,Gn)),0<Bn&&(Ln(Vn,Kn,wn,zn+4,qn,Gn),Un(Xn,Yn,Jn,Zn,Wn,zn+4,qn,Gn)),jn.La&&(Qn(Vn,Kn,wn,zn,qn,Gn),On(Xn,Yn,Jn,Zn,Wn,zn,qn,Gn))}}if(rn.ia&&alert("todo:DitherRow"),null!=an.put){if(Cn=16*En,En=16*(En+1),Pn?(an.y=rn.sa,an.O=rn.ta+bn,an.f=rn.qa,an.N=rn.ra+kn,an.ea=rn.Ha,an.W=rn.Ia+kn):(Cn-=yn,an.y=hn,an.O=dn,an.f=pn,an.N=cn,an.ea=gn,an.W=mn),vn||(En-=yn),En>an.o&&(En=an.o),an.F=null,an.J=null,null!=rn.Fa&&0<rn.Fa.length&&Cn<En&&(an.J=lr(rn,an,Cn,En-Cn),an.F=rn.mb,null==an.F&&0==an.F.length)){sn=Jt(rn,3,"Could not decode alpha data.");break t}Cn<an.j&&(yn=an.j-Cn,Cn=an.j,e(!(1&yn)),an.O+=rn.R*yn,an.N+=rn.B*(yn>>1),an.W+=rn.B*(yn>>1),null!=an.F&&(an.J+=an.width*yn)),Cn<En&&(an.O+=an.v,an.N+=an.v>>1,an.W+=an.v>>1,null!=an.F&&(an.J+=an.v),an.ka=Cn-an.j,an.U=an.va-an.v,an.T=En-Cn,sn=an.put(an))}nn+1!=rn.Ic||vn||(n(rn.sa,rn.ta-An,hn,dn+16*rn.R,An),n(rn.qa,rn.ra-un,pn,cn+8*rn.B,un),n(rn.Ha,rn.Ia-un,gn,mn+8*rn.B,un))}if(!sn)return Jt(en,6,"Output aborted.")}return 1}(en,tn)),null!=tn.bc&&tn.bc(tn),nn&=1}return nn?(en.cb=0,nn):0})(en,rn)||(tn=en.a)}}else tn=en.a}0==tn&&null!=An.Oa&&An.Oa.fd&&(tn=Er(An.ba))}An=tn}sn=0!=An?null:11>sn?cn.f.RGBA.eb:cn.f.kb.y}else sn=null;return sn};var zi=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(en,tn){for(var nn="",rn=0;rn<4;rn++)nn+=String.fromCharCode(en[tn++]);return nn}function h(en,tn){return(en[tn+0]<<0|en[tn+1]<<8|en[tn+2]<<16)>>>0}function l(en,tn){return(en[tn+0]<<0|en[tn+1]<<8|en[tn+2]<<16|en[tn+3]<<24)>>>0}new tn;var nn=[0],rn=[0],an=[],sn=new tn,An=en,cn=function(en,tn){var nn={},rn=0,an=!1,sn=0,An=0;if(nn.frames=[],!
/** @license
       * Copyright (c) 2017 Dominik Homberger
      Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
      The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
      THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
      https://webpjs.appspot.com
      WebPRiffParser dominikhlbg@gmail.com
      */
function(en,tn,nn,rn){for(var an=0;an<4;an++)if(en[tn+an]!="RIFF".charCodeAt(an))return!0;return!1}(en,tn)){var cn,un;for(l(en,tn+=4),tn+=8;tn<en.length;){var hn=u(en,tn),dn=l(en,tn+=4);tn+=4;var pn=dn+(1&dn);switch(hn){case"VP8 ":case"VP8L":void 0===nn.frames[rn]&&(nn.frames[rn]={}),(vn=nn.frames[rn]).src_off=an?An:tn-8,vn.src_size=sn+dn+8,rn++,an&&(an=!1,sn=0,An=0);break;case"VP8X":(vn=nn.header={}).feature_flags=en[tn];var gn=tn+4;vn.canvas_width=1+h(en,gn),gn+=3,vn.canvas_height=1+h(en,gn),gn+=3;break;case"ALPH":an=!0,sn=pn+8,An=tn-8;break;case"ANIM":(vn=nn.header).bgcolor=l(en,tn),gn=tn+4,vn.loop_count=(cn=en)[(un=gn)+0]<<0|cn[un+1]<<8,gn+=2;break;case"ANMF":var mn,vn;(vn=nn.frames[rn]={}).offset_x=2*h(en,tn),tn+=3,vn.offset_y=2*h(en,tn),tn+=3,vn.width=1+h(en,tn),tn+=3,vn.height=1+h(en,tn),tn+=3,vn.duration=h(en,tn),tn+=3,mn=en[tn++],vn.dispose=1&mn,vn.blend=mn>>1&1}"ANMF"!=hn&&(tn+=pn)}return nn}}(An,0);cn.response=An,cn.rgbaoutput=!0,cn.dataurl=!1;var un=cn.header?cn.header:null,hn=cn.frames?cn.frames:null;if(un){un.loop_counter=un.loop_count,nn=[un.canvas_height],rn=[un.canvas_width];for(var dn=0;dn<hn.length&&0!=hn[dn].blend;dn++);}var pn=hn[0],gn=sn.WebPDecodeRGBA(An,pn.src_off,pn.src_size,rn,nn);pn.rgba=gn,pn.imgwidth=rn[0],pn.imgheight=nn[0];for(var mn=0;mn<rn[0]*nn[0]*4;mn++)an[mn]=gn[mn];return this.width=rn,this.height=nn,this.data=an,this}!function(en){var tn=function n(tn,rn,un,hn){var dn=4,pn=sn;switch(hn){case en.image_compression.FAST:dn=1,pn=an;break;case en.image_compression.MEDIUM:dn=6,pn=An;break;case en.image_compression.SLOW:dn=9,pn=cn}var gn=zlibSync(tn=nn(tn,rn,un,pn),{level:dn});return en.__addimage__.arrayBufferToBinaryString(gn)},nn=function i(en,tn,nn,rn){for(var an,sn,An,cn=en.length/tn,un=new Uint8Array(en.length+cn),pn=hn(),gn=0;gn<cn;gn+=1){if(An=gn*tn,an=en.subarray(An,An+tn),rn)un.set(rn(an,nn,sn),An+gn);else{for(var mn,vn=pn.length,yn=[];mn<vn;mn+=1)yn[mn]=pn[mn](an,nn,sn);var bn=dn(yn.concat());un.set(yn[bn],An+gn)}sn=an}return un},rn=function a(en){var tn=Array.apply([],en);return tn.unshift(0),tn},an=function o(en,tn){var nn,rn=[],an=en.length;rn[0]=1;for(var sn=0;sn<an;sn+=1)nn=en[sn-tn]||0,rn[sn+1]=en[sn]-nn+256&255;return rn},sn=function s(en,tn,nn){var rn,an=[],sn=en.length;an[0]=2;for(var An=0;An<sn;An+=1)rn=nn&&nn[An]||0,an[An+1]=en[An]-rn+256&255;return an},An=function c(en,tn,nn){var rn,an,sn=[],An=en.length;sn[0]=3;for(var cn=0;cn<An;cn+=1)rn=en[cn-tn]||0,an=nn&&nn[cn]||0,sn[cn+1]=en[cn]+256-(rn+an>>>1)&255;return sn},cn=function u(en,tn,nn){var rn,an,sn,An,cn=[],hn=en.length;cn[0]=4;for(var dn=0;dn<hn;dn+=1)rn=en[dn-tn]||0,an=nn&&nn[dn]||0,sn=nn&&nn[dn-tn]||0,An=un(rn,an,sn),cn[dn+1]=en[dn]-An+256&255;return cn},un=function h(en,tn,nn){if(en===tn&&tn===nn)return en;var rn=Math.abs(tn-nn),an=Math.abs(en-nn),sn=Math.abs(en+tn-nn-nn);return rn<=an&&rn<=sn?en:an<=sn?tn:nn},hn=function l(){return[rn,an,sn,An,cn]},dn=function f(en){var tn=en.map((function(en){return en.reduce((function(en,tn){return en+Math.abs(tn)}),0)}));return tn.indexOf(Math.min.apply(null,tn))};en.processPNG=function(nn,rn,an,sn){var An,cn,un,hn,dn,pn,gn,mn,vn,yn,bn,wn,Cn,xn,Bn,_n=this.decode.FLATE_DECODE,Sn="";if(this.__addimage__.isArrayBuffer(nn)&&(nn=new Uint8Array(nn)),this.__addimage__.isArrayBufferView(nn)){if(nn=(un=new Pp(nn)).imgData,cn=un.bits,An=un.colorSpace,dn=un.colors,-1!==[4,6].indexOf(un.colorType)){if(8===un.bits){vn=(mn=32==un.pixelBitlength?new Uint32Array(un.decodePixels().buffer):16==un.pixelBitlength?new Uint16Array(un.decodePixels().buffer):new Uint8Array(un.decodePixels().buffer)).length,bn=new Uint8Array(vn*un.colors),yn=new Uint8Array(vn);var kn,En=un.pixelBitlength-un.bits;for(xn=0,Bn=0;xn<vn;xn++){for(Cn=mn[xn],kn=0;kn<En;)bn[Bn++]=Cn>>>kn&255,kn+=un.bits;yn[xn]=Cn>>>kn&255}}if(16===un.bits){vn=(mn=new Uint32Array(un.decodePixels().buffer)).length,bn=new Uint8Array(vn*(32/un.pixelBitlength)*un.colors),yn=new Uint8Array(vn*(32/un.pixelBitlength)),wn=un.colors>1,xn=0,Bn=0;for(var Pn=0;xn<vn;)Cn=mn[xn++],bn[Bn++]=Cn>>>0&255,wn&&(bn[Bn++]=Cn>>>16&255,Cn=mn[xn++],bn[Bn++]=Cn>>>0&255),yn[Pn++]=Cn>>>16&255;cn=8}sn!==en.image_compression.NONE?(nn=tn(bn,un.width*un.colors,un.colors,sn),gn=tn(yn,un.width,1,sn)):(nn=bn,gn=yn,_n=void 0)}if(3===un.colorType&&(An=this.color_spaces.INDEXED,pn=un.palette,un.transparency.indexed)){var Fn=un.transparency.indexed,Ln=0;for(xn=0,vn=Fn.length;xn<vn;++xn)Ln+=Fn[xn];if((Ln/=255)==vn-1&&-1!==Fn.indexOf(0))hn=[Fn.indexOf(0)];else if(Ln!==vn){for(mn=un.decodePixels(),yn=new Uint8Array(mn.length),xn=0,vn=mn.length;xn<vn;xn++)yn[xn]=Fn[mn[xn]];gn=tn(yn,un.width,1)}}var In=function(tn){var nn;switch(tn){case en.image_compression.FAST:nn=11;break;case en.image_compression.MEDIUM:nn=13;break;case en.image_compression.SLOW:nn=14;break;default:nn=12}return nn}(sn);return _n===this.decode.FLATE_DECODE&&(Sn="/Predictor "+In+" "),Sn+="/Colors "+dn+" /BitsPerComponent "+cn+" /Columns "+un.width,(this.__addimage__.isArrayBuffer(nn)||this.__addimage__.isArrayBufferView(nn))&&(nn=this.__addimage__.arrayBufferToBinaryString(nn)),(gn&&this.__addimage__.isArrayBuffer(gn)||this.__addimage__.isArrayBufferView(gn))&&(gn=this.__addimage__.arrayBufferToBinaryString(gn)),{alias:an,data:nn,index:rn,filter:_n,decodeParameters:Sn,transparency:hn,palette:pn,sMask:gn,predictor:In,width:un.width,height:un.height,bitsPerComponent:cn,colorSpace:An}}}}(E.API),function(en){en.processGIF89A=function(tn,nn,rn,an){var sn=new Zt(tn),An=sn.width,cn=sn.height,un=[];sn.decodeAndBlitFrameRGBA(0,un);var hn={data:un,width:An,height:cn},dn=new Qt(100).encode(hn,100);return en.processJPEG.call(this,dn,nn,rn,an)},en.processGIF87A=en.processGIF89A}(E.API),te.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var en=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(en);for(var tn=0;tn<en;tn++){var nn=this.datav.getUint8(this.pos++,!0),rn=this.datav.getUint8(this.pos++,!0),an=this.datav.getUint8(this.pos++,!0),sn=this.datav.getUint8(this.pos++,!0);this.palette[tn]={red:an,green:rn,blue:nn,quad:sn}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},te.prototype.parseBGR=function(){this.pos=this.offset;try{var en="bit"+this.bitPP,tn=this.width*this.height*4;this.data=new Uint8Array(tn),this[en]()}catch(en){bd.log("bit decode error:"+en)}},te.prototype.bit1=function(){var en,tn=Math.ceil(this.width/8),nn=tn%4;for(en=this.height-1;en>=0;en--){for(var rn=this.bottom_up?en:this.height-1-en,an=0;an<tn;an++)for(var sn=this.datav.getUint8(this.pos++,!0),An=rn*this.width*4+8*an*4,cn=0;cn<8&&8*an+cn<this.width;cn++){var un=this.palette[sn>>7-cn&1];this.data[An+4*cn]=un.blue,this.data[An+4*cn+1]=un.green,this.data[An+4*cn+2]=un.red,this.data[An+4*cn+3]=255}0!==nn&&(this.pos+=4-nn)}},te.prototype.bit4=function(){for(var en=Math.ceil(this.width/2),tn=en%4,nn=this.height-1;nn>=0;nn--){for(var rn=this.bottom_up?nn:this.height-1-nn,an=0;an<en;an++){var sn=this.datav.getUint8(this.pos++,!0),An=rn*this.width*4+2*an*4,cn=sn>>4,un=15&sn,hn=this.palette[cn];if(this.data[An]=hn.blue,this.data[An+1]=hn.green,this.data[An+2]=hn.red,this.data[An+3]=255,2*an+1>=this.width)break;hn=this.palette[un],this.data[An+4]=hn.blue,this.data[An+4+1]=hn.green,this.data[An+4+2]=hn.red,this.data[An+4+3]=255}0!==tn&&(this.pos+=4-tn)}},te.prototype.bit8=function(){for(var en=this.width%4,tn=this.height-1;tn>=0;tn--){for(var nn=this.bottom_up?tn:this.height-1-tn,rn=0;rn<this.width;rn++){var an=this.datav.getUint8(this.pos++,!0),sn=nn*this.width*4+4*rn;if(an<this.palette.length){var An=this.palette[an];this.data[sn]=An.red,this.data[sn+1]=An.green,this.data[sn+2]=An.blue,this.data[sn+3]=255}else this.data[sn]=255,this.data[sn+1]=255,this.data[sn+2]=255,this.data[sn+3]=255}0!==en&&(this.pos+=4-en)}},te.prototype.bit15=function(){for(var en=this.width%3,tn=parseInt("11111",2),nn=this.height-1;nn>=0;nn--){for(var rn=this.bottom_up?nn:this.height-1-nn,an=0;an<this.width;an++){var sn=this.datav.getUint16(this.pos,!0);this.pos+=2;var An=(sn&tn)/tn*255|0,cn=(sn>>5&tn)/tn*255|0,un=(sn>>10&tn)/tn*255|0,hn=sn>>15?255:0,dn=rn*this.width*4+4*an;this.data[dn]=un,this.data[dn+1]=cn,this.data[dn+2]=An,this.data[dn+3]=hn}this.pos+=en}},te.prototype.bit16=function(){for(var en=this.width%3,tn=parseInt("11111",2),nn=parseInt("111111",2),rn=this.height-1;rn>=0;rn--){for(var an=this.bottom_up?rn:this.height-1-rn,sn=0;sn<this.width;sn++){var An=this.datav.getUint16(this.pos,!0);this.pos+=2;var cn=(An&tn)/tn*255|0,un=(An>>5&nn)/nn*255|0,hn=(An>>11)/tn*255|0,dn=an*this.width*4+4*sn;this.data[dn]=hn,this.data[dn+1]=un,this.data[dn+2]=cn,this.data[dn+3]=255}this.pos+=en}},te.prototype.bit24=function(){for(var en=this.height-1;en>=0;en--){for(var tn=this.bottom_up?en:this.height-1-en,nn=0;nn<this.width;nn++){var rn=this.datav.getUint8(this.pos++,!0),an=this.datav.getUint8(this.pos++,!0),sn=this.datav.getUint8(this.pos++,!0),An=tn*this.width*4+4*nn;this.data[An]=sn,this.data[An+1]=an,this.data[An+2]=rn,this.data[An+3]=255}this.pos+=this.width%4}},te.prototype.bit32=function(){for(var en=this.height-1;en>=0;en--)for(var tn=this.bottom_up?en:this.height-1-en,nn=0;nn<this.width;nn++){var rn=this.datav.getUint8(this.pos++,!0),an=this.datav.getUint8(this.pos++,!0),sn=this.datav.getUint8(this.pos++,!0),An=this.datav.getUint8(this.pos++,!0),cn=tn*this.width*4+4*nn;this.data[cn]=sn,this.data[cn+1]=an,this.data[cn+2]=rn,this.data[cn+3]=An}},te.prototype.getData=function(){return this.data},
/**
 * @license
 * Copyright (c) 2018 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(en){en.processBMP=function(tn,nn,rn,an){var sn=new te(tn,!1),An=sn.width,cn=sn.height,un={data:sn.getData(),width:An,height:cn},hn=new Qt(100).encode(un,100);return en.processJPEG.call(this,hn,nn,rn,an)}}(E.API),ee.prototype.getData=function(){return this.data},
/**
 * @license
 * Copyright (c) 2019 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(en){en.processWEBP=function(tn,nn,rn,an){var sn=new ee(tn),An=sn.width,cn=sn.height,un={data:sn.getData(),width:An,height:cn},hn=new Qt(100).encode(un,100);return en.processJPEG.call(this,hn,nn,rn,an)}}(E.API),E.API.processRGBA=function(en,tn,nn){for(var rn=en.data,an=rn.length,sn=new Uint8Array(an/4*3),An=new Uint8Array(an/4),cn=0,un=0,hn=0;hn<an;hn+=4){var dn=rn[hn],pn=rn[hn+1],gn=rn[hn+2],mn=rn[hn+3];sn[cn++]=dn,sn[cn++]=pn,sn[cn++]=gn,An[un++]=mn}var vn=this.__addimage__.arrayBufferToBinaryString(sn);return{alpha:this.__addimage__.arrayBufferToBinaryString(An),data:vn,index:tn,alias:nn,colorSpace:"DeviceRGB",bitsPerComponent:8,width:en.width,height:en.height}},E.API.setLanguage=function(en){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[en]&&(this.internal.languageSettings.languageCode=en,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},Bp=E.API,_p=Bp.getCharWidthsArray=function(en,tn){var nn,rn,an=(tn=tn||{}).font||this.internal.getFont(),sn=tn.fontSize||this.internal.getFontSize(),An=tn.charSpace||this.internal.getCharSpace(),cn=tn.widths?tn.widths:an.metadata.Unicode.widths,un=cn.fof?cn.fof:1,hn=tn.kerning?tn.kerning:an.metadata.Unicode.kerning,dn=hn.fof?hn.fof:1,pn=!1!==tn.doKerning,gn=0,mn=en.length,vn=0,yn=cn[0]||un,bn=[];for(nn=0;nn<mn;nn++)rn=en.charCodeAt(nn),"function"==typeof an.metadata.widthOfString?bn.push((an.metadata.widthOfGlyph(an.metadata.characterToGlyph(rn))+An*(1e3/sn)||0)/1e3):(gn=pn&&"object"===_typeof$1(hn[rn])&&!isNaN(parseInt(hn[rn][vn],10))?hn[rn][vn]/dn:0,bn.push((cn[rn]||yn)/un+gn)),vn=rn;return bn},Sp=Bp.getStringUnitWidth=function(en,tn){var nn=(tn=tn||{}).fontSize||this.internal.getFontSize(),rn=tn.font||this.internal.getFont(),an=tn.charSpace||this.internal.getCharSpace();return Bp.processArabic&&(en=Bp.processArabic(en)),"function"==typeof rn.metadata.widthOfString?rn.metadata.widthOfString(en,nn,an)/nn:_p.apply(this,arguments).reduce((function(en,tn){return en+tn}),0)},kp=function vi(en,tn,nn,rn){for(var an=[],sn=0,An=en.length,cn=0;sn!==An&&cn+tn[sn]<nn;)cn+=tn[sn],sn++;an.push(en.slice(0,sn));var un=sn;for(cn=0;sn!==An;)cn+tn[sn]>rn&&(an.push(en.slice(un,sn)),cn=0,un=sn),cn+=tn[sn],sn++;return un!==sn&&an.push(en.slice(un,sn)),an},Ep=function Ci(en,tn,nn){nn||(nn={});var rn,an,sn,An,cn,un,hn,dn=[],pn=[dn],gn=nn.textIndent||0,mn=0,vn=0,yn=en.split(" "),bn=_p.apply(this,[" ",nn])[0];if(un=-1===nn.lineIndent?yn[0].length+2:nn.lineIndent||0){var wn=Array(un).join(" "),Cn=[];yn.map((function(en){(en=en.split(/\s*\n/)).length>1?Cn=Cn.concat(en.map((function(en,tn){return(tn&&en.length?"\n":"")+en}))):Cn.push(en[0])})),yn=Cn,un=Sp.apply(this,[wn,nn])}for(sn=0,An=yn.length;sn<An;sn++){var xn=0;if(rn=yn[sn],un&&"\n"==rn[0]&&(rn=rn.substr(1),xn=1),gn+mn+(vn=(an=_p.apply(this,[rn,nn])).reduce((function(en,tn){return en+tn}),0))>tn||xn){if(vn>tn){for(cn=kp.apply(this,[rn,an,tn-(gn+mn),tn]),dn.push(cn.shift()),dn=[cn.pop()];cn.length;)pn.push([cn.shift()]);vn=an.slice(rn.length-(dn[0]?dn[0].length:0)).reduce((function(en,tn){return en+tn}),0)}else dn=[rn];pn.push(dn),gn=vn+un,mn=bn}else dn.push(rn),gn+=mn+vn,mn=bn}return hn=un?function(en,tn){return(tn?wn:"")+en.join(" ")}:function(en){return en.join(" ")},pn.map(hn)},Bp.splitTextToSize=function(en,tn,nn){var rn,an=(nn=nn||{}).fontSize||this.internal.getFontSize(),sn=function(en){if(en.widths&&en.kerning)return{widths:en.widths,kerning:en.kerning};var tn=this.internal.getFont(en.fontName,en.fontStyle);return tn.metadata.Unicode?{widths:tn.metadata.Unicode.widths||{0:1},kerning:tn.metadata.Unicode.kerning||{}}:{font:tn.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,nn);rn=Array.isArray(en)?en:String(en).split(/\r?\n/);var An=1*this.internal.scaleFactor*tn/an;sn.textIndent=nn.textIndent?1*nn.textIndent*this.internal.scaleFactor/an:0,sn.lineIndent=nn.lineIndent;var cn,un,hn=[];for(cn=0,un=rn.length;cn<un;cn++)hn=hn.concat(Ep.apply(this,[rn[cn],An,sn]));return hn},function(en){en.__fontmetrics__=en.__fontmetrics__||{};for(var tn="klmnopqrstuvwxyz",nn={},rn={},an=0;an<tn.length;an++)nn[tn[an]]="0123456789abcdef"[an],rn["0123456789abcdef"[an]]=tn[an];var sn=function o(en){return"0x"+parseInt(en,10).toString(16)},An=en.__fontmetrics__.compress=function(en){var tn,nn,an,cn,un=["{"];for(var hn in en){if(tn=en[hn],isNaN(parseInt(hn,10))?nn="'"+hn+"'":(hn=parseInt(hn,10),nn=(nn=sn(hn).slice(2)).slice(0,-1)+rn[nn.slice(-1)]),"number"==typeof tn)tn<0?(an=sn(tn).slice(3),cn="-"):(an=sn(tn).slice(2),cn=""),an=cn+an.slice(0,-1)+rn[an.slice(-1)];else{if("object"!==_typeof$1(tn))throw new Error("Don't know what to do with value type "+_typeof$1(tn)+".");an=An(tn)}un.push(nn+an)}return un.push("}"),un.join("")},cn=en.__fontmetrics__.uncompress=function(en){if("string"!=typeof en)throw new Error("Invalid argument passed to uncompress.");for(var tn,rn,an,sn,An={},cn=1,un=An,hn=[],dn="",pn="",gn=en.length-1,mn=1;mn<gn;mn+=1)"'"==(sn=en[mn])?tn?(an=tn.join(""),tn=void 0):tn=[]:tn?tn.push(sn):"{"==sn?(hn.push([un,an]),un={},an=void 0):"}"==sn?((rn=hn.pop())[0][rn[1]]=un,an=void 0,un=rn[0]):"-"==sn?cn=-1:void 0===an?nn.hasOwnProperty(sn)?(dn+=nn[sn],an=parseInt(dn,16)*cn,cn=1,dn=""):dn+=sn:nn.hasOwnProperty(sn)?(pn+=nn[sn],un[an]=parseInt(pn,16)*cn,cn=1,an=void 0,pn=""):pn+=sn;return An},un={codePages:["WinAnsiEncoding"],WinAnsiEncoding:cn("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},hn={Unicode:{Courier:un,"Courier-Bold":un,"Courier-BoldOblique":un,"Courier-Oblique":un,Helvetica:un,"Helvetica-Bold":un,"Helvetica-BoldOblique":un,"Helvetica-Oblique":un,"Times-Roman":un,"Times-Bold":un,"Times-BoldItalic":un,"Times-Italic":un}},dn={Unicode:{"Courier-Oblique":cn("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":cn("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":cn("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:cn("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":cn("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":cn("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:cn("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:cn("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":cn("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:cn("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":cn("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":cn("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":cn("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":cn("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};en.events.push(["addFont",function(en){var tn=en.font,nn=dn.Unicode[tn.postScriptName];nn&&(tn.metadata.Unicode={},tn.metadata.Unicode.widths=nn.widths,tn.metadata.Unicode.kerning=nn.kerning);var rn=hn.Unicode[tn.postScriptName];rn&&(tn.metadata.Unicode.encoding=rn,tn.encoding=rn.codePages[0])}])}(E.API),
/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(en){var tn=function e(en){for(var tn=en.length,nn=new Uint8Array(tn),rn=0;rn<tn;rn++)nn[rn]=en.charCodeAt(rn);return nn};en.API.events.push(["addFont",function(nn){var rn=void 0,an=nn.font,sn=nn.instance;if(!an.isStandardFont){if(void 0===sn)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+an.postScriptName+"').");if("string"!=typeof(rn=!1===sn.existsFileInVFS(an.postScriptName)?sn.loadFile(an.postScriptName):sn.getFileFromVFS(an.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+an.postScriptName+"').");!function(nn,rn){rn=/^\x00\x01\x00\x00/.test(rn)?tn(rn):tn(wd(rn)),nn.metadata=en.API.TTFFont.open(rn),nn.metadata.Unicode=nn.metadata.Unicode||{encoding:{},kerning:{},widths:[]},nn.metadata.glyIdsUsed=[0]}(an,rn)}}])}(E),
/** @license
 * Copyright (c) 2012 Willow Systems Corporation, https://github.com/willowsystems
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
function(en){function e(){return(yd.canvg?Promise.resolve(yd.canvg):Promise.resolve().then((function(){return yT}))).catch((function(en){return Promise.reject(new Error("Could not load canvg: "+en))})).then((function(en){return en.default?en.default:en}))}E.API.addSvgAsImage=function(en,tn,nn,rn,an,sn,An,cn){if(isNaN(tn)||isNaN(nn))throw bd.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(rn)||isNaN(an))throw bd.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var un=document.createElement("canvas");un.width=rn,un.height=an;var hn=un.getContext("2d");hn.fillStyle="#fff",hn.fillRect(0,0,un.width,un.height);var dn={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},pn=this;return e().then((function(tn){return tn.fromString(hn,en,dn)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(en){return en.render(dn)})).then((function(){pn.addImage(un.toDataURL("image/jpeg",1),tn,nn,rn,an,An,cn)}))}}(),E.API.putTotalPages=function(en){var tn,nn=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(tn=new RegExp(en,"g"),nn=this.internal.getNumberOfPages()):(tn=new RegExp(this.pdfEscape16(en,this.internal.getFont()),"g"),nn=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var rn=1;rn<=this.internal.getNumberOfPages();rn++)for(var an=0;an<this.internal.pages[rn].length;an++)this.internal.pages[rn][an]=this.internal.pages[rn][an].replace(tn,nn);return this},E.API.viewerPreferences=function(en,tn){var nn;en=en||{},tn=tn||!1;var rn,an,sn,An={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},cn=Object.keys(An),un=[],hn=0,dn=0,pn=0;function d(en,tn){var nn,rn=!1;for(nn=0;nn<en.length;nn+=1)en[nn]===tn&&(rn=!0);return rn}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(An)),this.internal.viewerpreferences.isSubscribed=!1),nn=this.internal.viewerpreferences.configuration,"reset"===en||!0===tn){var gn=cn.length;for(pn=0;pn<gn;pn+=1)nn[cn[pn]].value=nn[cn[pn]].defaultValue,nn[cn[pn]].explicitSet=!1}if("object"===_typeof$1(en))for(an in en)if(sn=en[an],d(cn,an)&&void 0!==sn){if("boolean"===nn[an].type&&"boolean"==typeof sn)nn[an].value=sn;else if("name"===nn[an].type&&d(nn[an].valueSet,sn))nn[an].value=sn;else if("integer"===nn[an].type&&Number.isInteger(sn))nn[an].value=sn;else if("array"===nn[an].type){for(hn=0;hn<sn.length;hn+=1)if(rn=!0,1===sn[hn].length&&"number"==typeof sn[hn][0])un.push(String(sn[hn]-1));else if(sn[hn].length>1){for(dn=0;dn<sn[hn].length;dn+=1)"number"!=typeof sn[hn][dn]&&(rn=!1);!0===rn&&un.push([sn[hn][0]-1,sn[hn][1]-1].join(" "))}nn[an].value="["+un.join(" ")+"]"}else nn[an].value=nn[an].defaultValue;nn[an].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){var en,tn=[];for(en in nn)!0===nn[en].explicitSet&&("name"===nn[en].type?tn.push("/"+en+" /"+nn[en].value):tn.push("/"+en+" "+nn[en].value));0!==tn.length&&this.internal.write("/ViewerPreferences\n<<\n"+tn.join("\n")+"\n>>")})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=nn,this},
/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
function(en){var tn=function e(){var en='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',tn=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),nn=unescape(encodeURIComponent(en)),rn=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),an=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),sn=unescape(encodeURIComponent("</x:xmpmeta>")),An=nn.length+rn.length+an.length+tn.length+sn.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+An+" >>"),this.internal.write("stream"),this.internal.write(tn+nn+rn+an+sn),this.internal.write("endstream"),this.internal.write("endobj")},nn=function r(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};en.addMetadata=function(en,rn){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:en,namespaceuri:rn||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",nn),this.internal.events.subscribe("postPutResources",tn)),this}}(E.API),function(en){var tn=en.API,nn=tn.pdfEscape16=function(en,tn){for(var nn,rn=tn.metadata.Unicode.widths,an=["","0","00","000","0000"],sn=[""],An=0,cn=en.length;An<cn;++An){if(nn=tn.metadata.characterToGlyph(en.charCodeAt(An)),tn.metadata.glyIdsUsed.push(nn),tn.metadata.toUnicode[nn]=en.charCodeAt(An),-1==rn.indexOf(nn)&&(rn.push(nn),rn.push([parseInt(tn.metadata.widthOfGlyph(nn),10)])),"0"==nn)return sn.join("");nn=nn.toString(16),sn.push(an[4-nn.length],nn)}return sn.join("")},rn=function n(en){var tn,nn,rn,an,sn,An,cn;for(sn="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",rn=[],An=0,cn=(nn=Object.keys(en).sort((function(en,tn){return en-tn}))).length;An<cn;An++)tn=nn[An],rn.length>=100&&(sn+="\n"+rn.length+" beginbfchar\n"+rn.join("\n")+"\nendbfchar",rn=[]),void 0!==en[tn]&&null!==en[tn]&&"function"==typeof en[tn].toString&&(an=("0000"+en[tn].toString(16)).slice(-4),tn=("0000"+(+tn).toString(16)).slice(-4),rn.push("<"+tn+"><"+an+">"));return rn.length&&(sn+="\n"+rn.length+" beginbfchar\n"+rn.join("\n")+"\nendbfchar\n"),sn+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};tn.events.push(["putFont",function(tn){!function(tn){var nn=tn.font,an=tn.out,sn=tn.newObject,An=tn.putStream;if(nn.metadata instanceof en.API.TTFFont&&"Identity-H"===nn.encoding){for(var cn=nn.metadata.Unicode.widths,un=nn.metadata.subset.encode(nn.metadata.glyIdsUsed,1),hn="",dn=0;dn<un.length;dn++)hn+=String.fromCharCode(un[dn]);var pn=sn();An({data:hn,addLength1:!0,objectId:pn}),an("endobj");var gn=sn();An({data:rn(nn.metadata.toUnicode),addLength1:!0,objectId:gn}),an("endobj");var mn=sn();an("<<"),an("/Type /FontDescriptor"),an("/FontName /"+F(nn.fontName)),an("/FontFile2 "+pn+" 0 R"),an("/FontBBox "+en.API.PDFObject.convert(nn.metadata.bbox)),an("/Flags "+nn.metadata.flags),an("/StemV "+nn.metadata.stemV),an("/ItalicAngle "+nn.metadata.italicAngle),an("/Ascent "+nn.metadata.ascender),an("/Descent "+nn.metadata.decender),an("/CapHeight "+nn.metadata.capHeight),an(">>"),an("endobj");var vn=sn();an("<<"),an("/Type /Font"),an("/BaseFont /"+F(nn.fontName)),an("/FontDescriptor "+mn+" 0 R"),an("/W "+en.API.PDFObject.convert(cn)),an("/CIDToGIDMap /Identity"),an("/DW 1000"),an("/Subtype /CIDFontType2"),an("/CIDSystemInfo"),an("<<"),an("/Supplement 0"),an("/Registry (Adobe)"),an("/Ordering ("+nn.encoding+")"),an(">>"),an(">>"),an("endobj"),nn.objectNumber=sn(),an("<<"),an("/Type /Font"),an("/Subtype /Type0"),an("/ToUnicode "+gn+" 0 R"),an("/BaseFont /"+F(nn.fontName)),an("/Encoding /"+nn.encoding),an("/DescendantFonts ["+vn+" 0 R]"),an(">>"),an("endobj"),nn.isAlreadyPutted=!0}}(tn)}]),tn.events.push(["putFont",function(tn){!function(tn){var nn=tn.font,an=tn.out,sn=tn.newObject,An=tn.putStream;if(nn.metadata instanceof en.API.TTFFont&&"WinAnsiEncoding"===nn.encoding){for(var cn=nn.metadata.rawData,un="",hn=0;hn<cn.length;hn++)un+=String.fromCharCode(cn[hn]);var dn=sn();An({data:un,addLength1:!0,objectId:dn}),an("endobj");var pn=sn();An({data:rn(nn.metadata.toUnicode),addLength1:!0,objectId:pn}),an("endobj");var gn=sn();an("<<"),an("/Descent "+nn.metadata.decender),an("/CapHeight "+nn.metadata.capHeight),an("/StemV "+nn.metadata.stemV),an("/Type /FontDescriptor"),an("/FontFile2 "+dn+" 0 R"),an("/Flags 96"),an("/FontBBox "+en.API.PDFObject.convert(nn.metadata.bbox)),an("/FontName /"+F(nn.fontName)),an("/ItalicAngle "+nn.metadata.italicAngle),an("/Ascent "+nn.metadata.ascender),an(">>"),an("endobj"),nn.objectNumber=sn();for(var mn=0;mn<nn.metadata.hmtx.widths.length;mn++)nn.metadata.hmtx.widths[mn]=parseInt(nn.metadata.hmtx.widths[mn]*(1e3/nn.metadata.head.unitsPerEm));an("<</Subtype/TrueType/Type/Font/ToUnicode "+pn+" 0 R/BaseFont/"+F(nn.fontName)+"/FontDescriptor "+gn+" 0 R/Encoding/"+nn.encoding+" /FirstChar 29 /LastChar 255 /Widths "+en.API.PDFObject.convert(nn.metadata.hmtx.widths)+">>"),an("endobj"),nn.isAlreadyPutted=!0}}(tn)}]);var an=function i(en){var tn,rn=en.text||"",an=en.x,sn=en.y,An=en.options||{},cn=en.mutex||{},un=cn.pdfEscape,hn=cn.activeFontKey,dn=cn.fonts,pn=hn,gn="",mn=0,vn="",yn=dn[pn].encoding;if("Identity-H"!==dn[pn].encoding)return{text:rn,x:an,y:sn,options:An,mutex:cn};for(vn=rn,pn=hn,Array.isArray(rn)&&(vn=rn[0]),mn=0;mn<vn.length;mn+=1)dn[pn].metadata.hasOwnProperty("cmap")&&(tn=dn[pn].metadata.cmap.unicode.codeMap[vn[mn].charCodeAt(0)]),tn||vn[mn].charCodeAt(0)<256&&dn[pn].metadata.hasOwnProperty("Unicode")?gn+=vn[mn]:gn+="";var bn="";return parseInt(pn.slice(1))<14||"WinAnsiEncoding"===yn?bn=un(gn,pn).split("").map((function(en){return en.charCodeAt(0).toString(16)})).join(""):"Identity-H"===yn&&(bn=nn(gn,dn[pn])),cn.isHex=!0,{text:bn,x:an,y:sn,options:An,mutex:cn}};tn.events.push(["postProcessText",function(en){var tn=en.text||"",nn=[],rn={text:tn,x:en.x,y:en.y,options:en.options,mutex:en.mutex};if(Array.isArray(tn)){var sn=0;for(sn=0;sn<tn.length;sn+=1)Array.isArray(tn[sn])&&3===tn[sn].length?nn.push([an(Object.assign({},rn,{text:tn[sn][0]})).text,tn[sn][1],tn[sn][2]]):nn.push(an(Object.assign({},rn,{text:tn[sn]})).text);en.text=nn}else en.text=an(Object.assign({},rn,{text:tn})).text}])}(E),
/**
 * @license
 * jsPDF virtual FileSystem functionality
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(en){var tn=function e(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};en.existsFileInVFS=function(en){return tn.call(this),void 0!==this.internal.vFS[en]},en.addFileToVFS=function(en,nn){return tn.call(this),this.internal.vFS[en]=nn,this},en.getFileFromVFS=function(en){return tn.call(this),void 0!==this.internal.vFS[en]?this.internal.vFS[en]:null}}(E.API),
/**
 * @license
 * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
 * MIT License
 */
function(en){en.__bidiEngine__=en.prototype.__bidiEngine__=function(en){var nn,rn,an,sn,An,cn,un,hn=tn,dn=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],pn=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],gn={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},mn={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},vn=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],yn=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),bn=!1,wn=0;this.__bidiEngine__={};var Cn=function b(en){var tn=en.charCodeAt(),nn=tn>>8,rn=mn[nn];return void 0!==rn?hn[256*rn+(255&tn)]:252===nn||253===nn?"AL":yn.test(nn)?"L":8===nn?"R":"N"},xn=function y(en){for(var tn,nn=0;nn<en.length;nn++){if("L"===(tn=Cn(en.charAt(nn))))return!1;if("R"===tn)return!0}return!1},Bn=function w(en,tn,An,cn){var un,hn,dn,pn,gn=tn[cn];switch(gn){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":bn=!1;break;case"N":case"AN":break;case"EN":bn&&(gn="AN");break;case"AL":bn=!0,gn="R";break;case"WS":case"BN":gn="N";break;case"CS":cn<1||cn+1>=tn.length||"EN"!==(un=An[cn-1])&&"AN"!==un||"EN"!==(hn=tn[cn+1])&&"AN"!==hn?gn="N":bn&&(hn="AN"),gn=hn===un?hn:"N";break;case"ES":gn="EN"===(un=cn>0?An[cn-1]:"B")&&cn+1<tn.length&&"EN"===tn[cn+1]?"EN":"N";break;case"ET":if(cn>0&&"EN"===An[cn-1]){gn="EN";break}if(bn){gn="N";break}for(dn=cn+1,pn=tn.length;dn<pn&&"ET"===tn[dn];)dn++;gn=dn<pn&&"EN"===tn[dn]?"EN":"N";break;case"NSM":if(an&&!sn){for(pn=tn.length,dn=cn+1;dn<pn&&"NSM"===tn[dn];)dn++;if(dn<pn){var mn=en[cn],vn=mn>=1425&&mn<=2303||64286===mn;if(un=tn[dn],vn&&("R"===un||"AL"===un)){gn="R";break}}}gn=cn<1||"B"===(un=tn[cn-1])?"N":An[cn-1];break;case"B":bn=!1,nn=!0,gn=wn;break;case"S":rn=!0,gn="N"}return gn},_n=function N(en,tn,nn){var rn=en.split("");return nn&&Sn(rn,nn,{hiLevel:wn}),rn.reverse(),tn&&tn.reverse(),rn.join("")},Sn=function L(en,tn,an){var sn,An,cn,un,hn,mn=-1,vn=en.length,yn=0,xn=[],_n=wn?pn:dn,Sn=[];for(bn=!1,nn=!1,rn=!1,An=0;An<vn;An++)Sn[An]=Cn(en[An]);for(cn=0;cn<vn;cn++){if(hn=yn,xn[cn]=Bn(en,Sn,xn,cn),sn=240&(yn=_n[hn][gn[xn[cn]]]),yn&=15,tn[cn]=un=_n[yn][5],sn>0)if(16===sn){for(An=mn;An<cn;An++)tn[An]=1;mn=-1}else mn=-1;if(_n[yn][6])-1===mn&&(mn=cn);else if(mn>-1){for(An=mn;An<cn;An++)tn[An]=un;mn=-1}"B"===Sn[cn]&&(tn[cn]=0),an.hiLevel|=un}rn&&function(en,tn,nn){for(var rn=0;rn<nn;rn++)if("S"===en[rn]){tn[rn]=wn;for(var an=rn-1;an>=0&&"WS"===en[an];an--)tn[an]=wn}}(Sn,tn,vn)},kn=function A(en,tn,rn,an,sn){if(!(sn.hiLevel<en)){if(1===en&&1===wn&&!nn)return tn.reverse(),void(rn&&rn.reverse());for(var An,cn,un,hn,dn=tn.length,pn=0;pn<dn;){if(an[pn]>=en){for(un=pn+1;un<dn&&an[un]>=en;)un++;for(hn=pn,cn=un-1;hn<cn;hn++,cn--)An=tn[hn],tn[hn]=tn[cn],tn[cn]=An,rn&&(An=rn[hn],rn[hn]=rn[cn],rn[cn]=An);pn=un}pn++}}},En=function x(en,tn,nn){var rn=en.split(""),an={hiLevel:wn};return nn||(nn=[]),Sn(rn,nn,an),function(en,tn,nn){if(0!==nn.hiLevel&&un)for(var rn,an=0;an<en.length;an++)1===tn[an]&&(rn=vn.indexOf(en[an]))>=0&&(en[an]=vn[rn+1])}(rn,nn,an),kn(2,rn,tn,nn,an),kn(1,rn,tn,nn,an),rn.join("")};return this.__bidiEngine__.doBidiReorder=function(en,tn,nn){if(function(en,tn){if(tn)for(var nn=0;nn<en.length;nn++)tn[nn]=nn;void 0===sn&&(sn=xn(en)),void 0===cn&&(cn=xn(en))}(en,tn),an||!An||cn)if(an&&An&&sn^cn)wn=sn?1:0,en=_n(en,tn,nn);else if(!an&&An&&cn)wn=sn?1:0,en=En(en,tn,nn),en=_n(en,tn);else if(!an||sn||An||cn){if(an&&!An&&sn^cn)en=_n(en,tn),sn?(wn=0,en=En(en,tn,nn)):(wn=1,en=En(en,tn,nn),en=_n(en,tn));else if(an&&sn&&!An&&cn)wn=1,en=En(en,tn,nn),en=_n(en,tn);else if(!an&&!An&&sn^cn){var rn=un;sn?(wn=1,en=En(en,tn,nn),wn=0,un=!1,en=En(en,tn,nn),un=rn):(wn=0,en=En(en,tn,nn),en=_n(en,tn),wn=1,un=!1,en=En(en,tn,nn),un=rn,en=_n(en,tn))}}else wn=0,en=En(en,tn,nn);else wn=sn?1:0,en=En(en,tn,nn);return en},this.__bidiEngine__.setOptions=function(en){en&&(an=en.isInputVisual,An=en.isOutputVisual,sn=en.isInputRtl,cn=en.isOutputRtl,un=en.isSymmetricSwapping)},this.__bidiEngine__.setOptions(en),this.__bidiEngine__};var tn=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],nn=new en.__bidiEngine__({isInputVisual:!0});en.API.events.push(["postProcessText",function(en){var tn=en.text,rn=(en.x,en.y,en.options||{}),an=(en.mutex,rn.lang,[]);if(rn.isInputVisual="boolean"!=typeof rn.isInputVisual||rn.isInputVisual,nn.setOptions(rn),"[object Array]"===Object.prototype.toString.call(tn)){var sn=0;for(an=[],sn=0;sn<tn.length;sn+=1)"[object Array]"===Object.prototype.toString.call(tn[sn])?an.push([nn.doBidiReorder(tn[sn][0]),tn[sn][1],tn[sn][2]]):an.push([nn.doBidiReorder(tn[sn])]);en.text=an}else en.text=nn.doBidiReorder(tn);nn.setOptions({isInputVisual:!0})}])}(E),E.API.TTFFont=function(){function t(en){var tn;if(this.rawData=en,tn=this.contents=new Lp(en),this.contents.pos=4,"ttcf"===tn.readString(4))throw new Error("TTCF not supported.");tn.pos=0,this.parse(),this.subset=new Xp(this),this.registerTTF()}return t.open=function(en){return new t(en)},t.prototype.parse=function(){return this.directory=new Ip(this.contents),this.head=new Qp(this),this.name=new $p(this),this.cmap=new Op(this),this.toUnicode={},this.hhea=new Mp(this),this.maxp=new Gp(this),this.hmtx=new jp(this),this.post=new Hp(this),this.os2=new Rp(this),this.loca=new Wp(this),this.glyf=new Kp(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var en,tn,nn,rn,an;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var tn,nn,rn,an;for(an=[],tn=0,nn=(rn=this.bbox).length;tn<nn;tn++)en=rn[tn],an.push(Math.round(en*this.scaleFactor));return an}.call(this),this.stemV=0,this.post.exists?(nn=255&(rn=this.post.italic_angle),0!=(32768&(tn=rn>>16))&&(tn=-(1+(65535^tn))),this.italicAngle=+(tn+"."+nn)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(an=this.familyClass)||2===an||3===an||4===an||5===an||7===an,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(en){var tn;return(null!=(tn=this.cmap.unicode)?tn.codeMap[en]:void 0)||0},t.prototype.widthOfGlyph=function(en){var tn;return tn=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(en).advance*tn},t.prototype.widthOfString=function(en,tn,nn){var rn,an,sn,An;for(sn=0,an=0,An=(en=""+en).length;0<=An?an<An:an>An;an=0<=An?++an:--an)rn=en.charCodeAt(an),sn+=this.widthOfGlyph(this.characterToGlyph(rn))+nn*(1e3/tn)||0;return sn*(tn/1e3)},t.prototype.lineHeight=function(en,tn){var nn;return null==tn&&(tn=!1),nn=tn?this.lineGap:0,(this.ascender+nn-this.decender)/1e3*en},t}();var Fp,Lp=function(){function t(en){this.data=null!=en?en:[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(en){return this.data[this.pos++]=en},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(en){return this.writeByte(en>>>24&255),this.writeByte(en>>16&255),this.writeByte(en>>8&255),this.writeByte(255&en)},t.prototype.readInt32=function(){var en;return(en=this.readUInt32())>=2147483648?en-4294967296:en},t.prototype.writeInt32=function(en){return en<0&&(en+=4294967296),this.writeUInt32(en)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(en){return this.writeByte(en>>8&255),this.writeByte(255&en)},t.prototype.readInt16=function(){var en;return(en=this.readUInt16())>=32768?en-65536:en},t.prototype.writeInt16=function(en){return en<0&&(en+=65536),this.writeUInt16(en)},t.prototype.readString=function(en){var tn,nn;for(nn=[],tn=0;0<=en?tn<en:tn>en;tn=0<=en?++tn:--tn)nn[tn]=String.fromCharCode(this.readByte());return nn.join("")},t.prototype.writeString=function(en){var tn,nn,rn;for(rn=[],tn=0,nn=en.length;0<=nn?tn<nn:tn>nn;tn=0<=nn?++tn:--tn)rn.push(this.writeByte(en.charCodeAt(tn)));return rn},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(en){return this.writeInt16(en)},t.prototype.readLongLong=function(){var en,tn,nn,rn,an,sn,An,cn;return en=this.readByte(),tn=this.readByte(),nn=this.readByte(),rn=this.readByte(),an=this.readByte(),sn=this.readByte(),An=this.readByte(),cn=this.readByte(),128&en?-1*(72057594037927940*(255^en)+281474976710656*(255^tn)+1099511627776*(255^nn)+4294967296*(255^rn)+16777216*(255^an)+65536*(255^sn)+256*(255^An)+(255^cn)+1):72057594037927940*en+281474976710656*tn+1099511627776*nn+4294967296*rn+16777216*an+65536*sn+256*An+cn},t.prototype.writeLongLong=function(en){var tn,nn;return tn=Math.floor(en/4294967296),nn=4294967295&en,this.writeByte(tn>>24&255),this.writeByte(tn>>16&255),this.writeByte(tn>>8&255),this.writeByte(255&tn),this.writeByte(nn>>24&255),this.writeByte(nn>>16&255),this.writeByte(nn>>8&255),this.writeByte(255&nn)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(en){return this.writeInt32(en)},t.prototype.read=function(en){var tn,nn;for(tn=[],nn=0;0<=en?nn<en:nn>en;nn=0<=en?++nn:--nn)tn.push(this.readByte());return tn},t.prototype.write=function(en){var tn,nn,rn,an;for(an=[],nn=0,rn=en.length;nn<rn;nn++)tn=en[nn],an.push(this.writeByte(tn));return an},t}(),Ip=function(){var en;function e(en){var tn,nn,rn;for(this.scalarType=en.readInt(),this.tableCount=en.readShort(),this.searchRange=en.readShort(),this.entrySelector=en.readShort(),this.rangeShift=en.readShort(),this.tables={},nn=0,rn=this.tableCount;0<=rn?nn<rn:nn>rn;nn=0<=rn?++nn:--nn)tn={tag:en.readString(4),checksum:en.readInt(),offset:en.readInt(),length:en.readInt()},this.tables[tn.tag]=tn}return e.prototype.encode=function(tn){var nn,rn,an,sn,An,cn,un,hn,dn,pn,gn,mn,vn;for(vn in gn=Object.keys(tn).length,cn=Math.log(2),dn=16*Math.floor(Math.log(gn)/cn),sn=Math.floor(dn/cn),hn=16*gn-dn,(rn=new Lp).writeInt(this.scalarType),rn.writeShort(gn),rn.writeShort(dn),rn.writeShort(sn),rn.writeShort(hn),an=16*gn,un=rn.pos+an,An=null,mn=[],tn)for(pn=tn[vn],rn.writeString(vn),rn.writeInt(en(pn)),rn.writeInt(un),rn.writeInt(pn.length),mn=mn.concat(pn),"head"===vn&&(An=un),un+=pn.length;un%4;)mn.push(0),un++;return rn.write(mn),nn=2981146554-en(rn.data),rn.pos=An+8,rn.writeUInt32(nn),rn.data},en=function tA(en){var tn,nn,rn,an;for(en=Vp.call(en);en.length%4;)en.push(0);for(rn=new Lp(en),nn=0,tn=0,an=en.length;tn<an;tn=tn+=4)nn+=rn.readUInt32();return 4294967295&nn},e}(),Up={}.hasOwnProperty,Tp=function oe(en,tn){for(var nn in tn)Up.call(tn,nn)&&(en[nn]=tn[nn]);function n(){this.constructor=en}return n.prototype=tn.prototype,en.prototype=new n,en.__super__=tn.prototype,en};Fp=function(){function t(en){var tn;this.file=en,tn=this.file.directory.tables[this.tag],this.exists=!!tn,tn&&(this.offset=tn.offset,this.length=tn.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Qp=function(en){function e(){return e.__super__.constructor.apply(this,arguments)}return Tp(e,Fp),e.prototype.tag="head",e.prototype.parse=function(en){return en.pos=this.offset,this.version=en.readInt(),this.revision=en.readInt(),this.checkSumAdjustment=en.readInt(),this.magicNumber=en.readInt(),this.flags=en.readShort(),this.unitsPerEm=en.readShort(),this.created=en.readLongLong(),this.modified=en.readLongLong(),this.xMin=en.readShort(),this.yMin=en.readShort(),this.xMax=en.readShort(),this.yMax=en.readShort(),this.macStyle=en.readShort(),this.lowestRecPPEM=en.readShort(),this.fontDirectionHint=en.readShort(),this.indexToLocFormat=en.readShort(),this.glyphDataFormat=en.readShort()},e.prototype.encode=function(en){var tn;return(tn=new Lp).writeInt(this.version),tn.writeInt(this.revision),tn.writeInt(this.checkSumAdjustment),tn.writeInt(this.magicNumber),tn.writeShort(this.flags),tn.writeShort(this.unitsPerEm),tn.writeLongLong(this.created),tn.writeLongLong(this.modified),tn.writeShort(this.xMin),tn.writeShort(this.yMin),tn.writeShort(this.xMax),tn.writeShort(this.yMax),tn.writeShort(this.macStyle),tn.writeShort(this.lowestRecPPEM),tn.writeShort(this.fontDirectionHint),tn.writeShort(en),tn.writeShort(this.glyphDataFormat),tn.data},e}(),Np=function(){function t(en,tn){var nn,rn,an,sn,An,cn,un,hn,dn,pn,gn,mn,vn,yn,bn,wn,Cn;switch(this.platformID=en.readUInt16(),this.encodingID=en.readShort(),this.offset=tn+en.readInt(),dn=en.pos,en.pos=this.offset,this.format=en.readUInt16(),this.length=en.readUInt16(),this.language=en.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(cn=0;cn<256;++cn)this.codeMap[cn]=en.readByte();break;case 4:for(gn=en.readUInt16(),pn=gn/2,en.pos+=6,an=function(){var tn,nn;for(nn=[],cn=tn=0;0<=pn?tn<pn:tn>pn;cn=0<=pn?++tn:--tn)nn.push(en.readUInt16());return nn}(),en.pos+=2,vn=function(){var tn,nn;for(nn=[],cn=tn=0;0<=pn?tn<pn:tn>pn;cn=0<=pn?++tn:--tn)nn.push(en.readUInt16());return nn}(),un=function(){var tn,nn;for(nn=[],cn=tn=0;0<=pn?tn<pn:tn>pn;cn=0<=pn?++tn:--tn)nn.push(en.readUInt16());return nn}(),hn=function(){var tn,nn;for(nn=[],cn=tn=0;0<=pn?tn<pn:tn>pn;cn=0<=pn?++tn:--tn)nn.push(en.readUInt16());return nn}(),rn=(this.length-en.pos+this.offset)/2,An=function(){var tn,nn;for(nn=[],cn=tn=0;0<=rn?tn<rn:tn>rn;cn=0<=rn?++tn:--tn)nn.push(en.readUInt16());return nn}(),cn=bn=0,Cn=an.length;bn<Cn;cn=++bn)for(yn=an[cn],nn=wn=mn=vn[cn];mn<=yn?wn<=yn:wn>=yn;nn=mn<=yn?++wn:--wn)0===hn[cn]?sn=nn+un[cn]:0!==(sn=An[hn[cn]/2+(nn-mn)-(pn-cn)]||0)&&(sn+=un[cn]),this.codeMap[nn]=65535&sn}en.pos=dn}return t.encode=function(en,tn){var nn,rn,an,sn,An,cn,un,hn,dn,pn,gn,mn,vn,yn,bn,wn,Cn,xn,Bn,_n,Sn,kn,En,Pn,Fn,Ln,In,Un,Tn,Qn,Nn,On,Mn,Rn,Hn,Dn,$n,Gn,jn,Vn,Kn,qn,zn,Wn,Xn,Yn;switch(Un=new Lp,sn=Object.keys(en).sort((function(en,tn){return en-tn})),tn){case"macroman":for(vn=0,yn=function(){var en=[];for(mn=0;mn<256;++mn)en.push(0);return en}(),wn={0:0},an={},Tn=0,Mn=sn.length;Tn<Mn;Tn++)null==wn[zn=en[rn=sn[Tn]]]&&(wn[zn]=++vn),an[rn]={old:en[rn],new:wn[en[rn]]},yn[rn]=wn[en[rn]];return Un.writeUInt16(1),Un.writeUInt16(0),Un.writeUInt32(12),Un.writeUInt16(0),Un.writeUInt16(262),Un.writeUInt16(0),Un.write(yn),{charMap:an,subtable:Un.data,maxGlyphID:vn+1};case"unicode":for(Ln=[],dn=[],Cn=0,wn={},nn={},bn=un=null,Qn=0,Rn=sn.length;Qn<Rn;Qn++)null==wn[Bn=en[rn=sn[Qn]]]&&(wn[Bn]=++Cn),nn[rn]={old:Bn,new:wn[Bn]},An=wn[Bn]-rn,null!=bn&&An===un||(bn&&dn.push(bn),Ln.push(rn),un=An),bn=rn;for(bn&&dn.push(bn),dn.push(65535),Ln.push(65535),Pn=2*(En=Ln.length),kn=2*Math.pow(Math.log(En)/Math.LN2,2),pn=Math.log(kn/2)/Math.LN2,Sn=2*En-kn,cn=[],_n=[],gn=[],mn=Nn=0,Hn=Ln.length;Nn<Hn;mn=++Nn){if(Fn=Ln[mn],hn=dn[mn],65535===Fn){cn.push(0),_n.push(0);break}if(Fn-(In=nn[Fn].new)>=32768)for(cn.push(0),_n.push(2*(gn.length+En-mn)),rn=On=Fn;Fn<=hn?On<=hn:On>=hn;rn=Fn<=hn?++On:--On)gn.push(nn[rn].new);else cn.push(In-Fn),_n.push(0)}for(Un.writeUInt16(3),Un.writeUInt16(1),Un.writeUInt32(12),Un.writeUInt16(4),Un.writeUInt16(16+8*En+2*gn.length),Un.writeUInt16(0),Un.writeUInt16(Pn),Un.writeUInt16(kn),Un.writeUInt16(pn),Un.writeUInt16(Sn),Kn=0,Dn=dn.length;Kn<Dn;Kn++)rn=dn[Kn],Un.writeUInt16(rn);for(Un.writeUInt16(0),qn=0,$n=Ln.length;qn<$n;qn++)rn=Ln[qn],Un.writeUInt16(rn);for(Wn=0,Gn=cn.length;Wn<Gn;Wn++)An=cn[Wn],Un.writeUInt16(An);for(Xn=0,jn=_n.length;Xn<jn;Xn++)xn=_n[Xn],Un.writeUInt16(xn);for(Yn=0,Vn=gn.length;Yn<Vn;Yn++)vn=gn[Yn],Un.writeUInt16(vn);return{charMap:nn,subtable:Un.data,maxGlyphID:Cn+1}}},t}(),Op=function(en){function e(){return e.__super__.constructor.apply(this,arguments)}return Tp(e,Fp),e.prototype.tag="cmap",e.prototype.parse=function(en){var tn,nn,rn;for(en.pos=this.offset,this.version=en.readUInt16(),rn=en.readUInt16(),this.tables=[],this.unicode=null,nn=0;0<=rn?nn<rn:nn>rn;nn=0<=rn?++nn:--nn)tn=new Np(en,this.offset),this.tables.push(tn),tn.isUnicode&&null==this.unicode&&(this.unicode=tn);return!0},e.encode=function(en,tn){var nn,rn;return null==tn&&(tn="macroman"),nn=Np.encode(en,tn),(rn=new Lp).writeUInt16(0),rn.writeUInt16(1),nn.table=rn.data.concat(nn.subtable),nn},e}(),Mp=function(en){function e(){return e.__super__.constructor.apply(this,arguments)}return Tp(e,Fp),e.prototype.tag="hhea",e.prototype.parse=function(en){return en.pos=this.offset,this.version=en.readInt(),this.ascender=en.readShort(),this.decender=en.readShort(),this.lineGap=en.readShort(),this.advanceWidthMax=en.readShort(),this.minLeftSideBearing=en.readShort(),this.minRightSideBearing=en.readShort(),this.xMaxExtent=en.readShort(),this.caretSlopeRise=en.readShort(),this.caretSlopeRun=en.readShort(),this.caretOffset=en.readShort(),en.pos+=8,this.metricDataFormat=en.readShort(),this.numberOfMetrics=en.readUInt16()},e}(),Rp=function(en){function e(){return e.__super__.constructor.apply(this,arguments)}return Tp(e,Fp),e.prototype.tag="OS/2",e.prototype.parse=function(en){if(en.pos=this.offset,this.version=en.readUInt16(),this.averageCharWidth=en.readShort(),this.weightClass=en.readUInt16(),this.widthClass=en.readUInt16(),this.type=en.readShort(),this.ySubscriptXSize=en.readShort(),this.ySubscriptYSize=en.readShort(),this.ySubscriptXOffset=en.readShort(),this.ySubscriptYOffset=en.readShort(),this.ySuperscriptXSize=en.readShort(),this.ySuperscriptYSize=en.readShort(),this.ySuperscriptXOffset=en.readShort(),this.ySuperscriptYOffset=en.readShort(),this.yStrikeoutSize=en.readShort(),this.yStrikeoutPosition=en.readShort(),this.familyClass=en.readShort(),this.panose=function(){var tn,nn;for(nn=[],tn=0;tn<10;++tn)nn.push(en.readByte());return nn}(),this.charRange=function(){var tn,nn;for(nn=[],tn=0;tn<4;++tn)nn.push(en.readInt());return nn}(),this.vendorID=en.readString(4),this.selection=en.readShort(),this.firstCharIndex=en.readShort(),this.lastCharIndex=en.readShort(),this.version>0&&(this.ascent=en.readShort(),this.descent=en.readShort(),this.lineGap=en.readShort(),this.winAscent=en.readShort(),this.winDescent=en.readShort(),this.codePageRange=function(){var tn,nn;for(nn=[],tn=0;tn<2;tn=++tn)nn.push(en.readInt());return nn}(),this.version>1))return this.xHeight=en.readShort(),this.capHeight=en.readShort(),this.defaultChar=en.readShort(),this.breakChar=en.readShort(),this.maxContext=en.readShort()},e}(),Hp=function(en){function e(){return e.__super__.constructor.apply(this,arguments)}return Tp(e,Fp),e.prototype.tag="post",e.prototype.parse=function(en){var tn,nn,rn;switch(en.pos=this.offset,this.format=en.readInt(),this.italicAngle=en.readInt(),this.underlinePosition=en.readShort(),this.underlineThickness=en.readShort(),this.isFixedPitch=en.readInt(),this.minMemType42=en.readInt(),this.maxMemType42=en.readInt(),this.minMemType1=en.readInt(),this.maxMemType1=en.readInt(),this.format){case 65536:case 196608:break;case 131072:var an;for(nn=en.readUInt16(),this.glyphNameIndex=[],an=0;0<=nn?an<nn:an>nn;an=0<=nn?++an:--an)this.glyphNameIndex.push(en.readUInt16());for(this.names=[],rn=[];en.pos<this.offset+this.length;)tn=en.readByte(),rn.push(this.names.push(en.readString(tn)));return rn;case 151552:return nn=en.readUInt16(),this.offsets=en.read(nn);case 262144:return this.map=function(){var tn,nn,rn;for(rn=[],an=tn=0,nn=this.file.maxp.numGlyphs;0<=nn?tn<nn:tn>nn;an=0<=nn?++tn:--tn)rn.push(en.readUInt32());return rn}.call(this)}},e}(),Dp=function de(en,tn){this.raw=en,this.length=en.length,this.platformID=tn.platformID,this.encodingID=tn.encodingID,this.languageID=tn.languageID},$p=function(en){function e(){return e.__super__.constructor.apply(this,arguments)}return Tp(e,Fp),e.prototype.tag="name",e.prototype.parse=function(en){var tn,nn,rn,an,sn,An,cn,un,hn,dn,pn;for(en.pos=this.offset,en.readShort(),tn=en.readShort(),An=en.readShort(),nn=[],an=0;0<=tn?an<tn:an>tn;an=0<=tn?++an:--an)nn.push({platformID:en.readShort(),encodingID:en.readShort(),languageID:en.readShort(),nameID:en.readShort(),length:en.readShort(),offset:this.offset+An+en.readShort()});for(cn={},an=hn=0,dn=nn.length;hn<dn;an=++hn)rn=nn[an],en.pos=rn.offset,un=en.readString(rn.length),sn=new Dp(un,rn),null==cn[pn=rn.nameID]&&(cn[pn]=[]),cn[rn.nameID].push(sn);this.strings=cn,this.copyright=cn[0],this.fontFamily=cn[1],this.fontSubfamily=cn[2],this.uniqueSubfamily=cn[3],this.fontName=cn[4],this.version=cn[5];try{this.postscriptName=cn[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(en){this.postscriptName=cn[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=cn[7],this.manufacturer=cn[8],this.designer=cn[9],this.description=cn[10],this.vendorUrl=cn[11],this.designerUrl=cn[12],this.license=cn[13],this.licenseUrl=cn[14],this.preferredFamily=cn[15],this.preferredSubfamily=cn[17],this.compatibleFull=cn[18],this.sampleText=cn[19]},e}(),Gp=function(en){function e(){return e.__super__.constructor.apply(this,arguments)}return Tp(e,Fp),e.prototype.tag="maxp",e.prototype.parse=function(en){return en.pos=this.offset,this.version=en.readInt(),this.numGlyphs=en.readUInt16(),this.maxPoints=en.readUInt16(),this.maxContours=en.readUInt16(),this.maxCompositePoints=en.readUInt16(),this.maxComponentContours=en.readUInt16(),this.maxZones=en.readUInt16(),this.maxTwilightPoints=en.readUInt16(),this.maxStorage=en.readUInt16(),this.maxFunctionDefs=en.readUInt16(),this.maxInstructionDefs=en.readUInt16(),this.maxStackElements=en.readUInt16(),this.maxSizeOfInstructions=en.readUInt16(),this.maxComponentElements=en.readUInt16(),this.maxComponentDepth=en.readUInt16()},e}(),jp=function(en){function e(){return e.__super__.constructor.apply(this,arguments)}return Tp(e,Fp),e.prototype.tag="hmtx",e.prototype.parse=function(en){var tn,nn,rn,an,sn,An,cn;for(en.pos=this.offset,this.metrics=[],tn=0,An=this.file.hhea.numberOfMetrics;0<=An?tn<An:tn>An;tn=0<=An?++tn:--tn)this.metrics.push({advance:en.readUInt16(),lsb:en.readInt16()});for(rn=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var nn,an;for(an=[],tn=nn=0;0<=rn?nn<rn:nn>rn;tn=0<=rn?++nn:--nn)an.push(en.readInt16());return an}(),this.widths=function(){var en,tn,nn,rn;for(rn=[],en=0,tn=(nn=this.metrics).length;en<tn;en++)an=nn[en],rn.push(an.advance);return rn}.call(this),nn=this.widths[this.widths.length-1],cn=[],tn=sn=0;0<=rn?sn<rn:sn>rn;tn=0<=rn?++sn:--sn)cn.push(this.widths.push(nn));return cn},e.prototype.forGlyph=function(en){return en in this.metrics?this.metrics[en]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[en-this.metrics.length]}},e}(),Vp=[].slice,Kp=function(en){function e(){return e.__super__.constructor.apply(this,arguments)}return Tp(e,Fp),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(en){var tn,nn,rn,an,sn,An,cn,un,hn,dn;return en in this.cache?this.cache[en]:(an=this.file.loca,tn=this.file.contents,nn=an.indexOf(en),0===(rn=an.lengthOf(en))?this.cache[en]=null:(tn.pos=this.offset+nn,sn=(An=new Lp(tn.read(rn))).readShort(),un=An.readShort(),dn=An.readShort(),cn=An.readShort(),hn=An.readShort(),this.cache[en]=-1===sn?new zp(An,un,dn,cn,hn):new qp(An,sn,un,dn,cn,hn),this.cache[en]))},e.prototype.encode=function(en,tn,nn){var rn,an,sn,An,cn;for(sn=[],an=[],An=0,cn=tn.length;An<cn;An++)rn=en[tn[An]],an.push(sn.length),rn&&(sn=sn.concat(rn.encode(nn)));return an.push(sn.length),{table:sn,offsets:an}},e}(),qp=function(){function t(en,tn,nn,rn,an,sn){this.raw=en,this.numberOfContours=tn,this.xMin=nn,this.yMin=rn,this.xMax=an,this.yMax=sn,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),zp=function(){function t(en,tn,nn,rn,an){var sn,An;for(this.raw=en,this.xMin=tn,this.yMin=nn,this.xMax=rn,this.yMax=an,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],sn=this.raw;An=sn.readShort(),this.glyphOffsets.push(sn.pos),this.glyphIDs.push(sn.readUInt16()),32&An;)sn.pos+=1&An?4:2,128&An?sn.pos+=8:64&An?sn.pos+=4:8&An&&(sn.pos+=2)}return t.prototype.encode=function(){var en,tn,nn;for(tn=new Lp(Vp.call(this.raw.data)),en=0,nn=this.glyphIDs.length;en<nn;++en)tn.pos=this.glyphOffsets[en];return tn.data},t}(),Wp=function(en){function e(){return e.__super__.constructor.apply(this,arguments)}return Tp(e,Fp),e.prototype.tag="loca",e.prototype.parse=function(en){var tn,nn;return en.pos=this.offset,tn=this.file.head.indexToLocFormat,this.offsets=0===tn?function(){var tn,rn;for(rn=[],nn=0,tn=this.length;nn<tn;nn+=2)rn.push(2*en.readUInt16());return rn}.call(this):function(){var tn,rn;for(rn=[],nn=0,tn=this.length;nn<tn;nn+=4)rn.push(en.readUInt32());return rn}.call(this)},e.prototype.indexOf=function(en){return this.offsets[en]},e.prototype.lengthOf=function(en){return this.offsets[en+1]-this.offsets[en]},e.prototype.encode=function(en,tn){for(var nn=new Uint32Array(this.offsets.length),rn=0,an=0,sn=0;sn<nn.length;++sn)if(nn[sn]=rn,an<tn.length&&tn[an]==sn){++an,nn[sn]=rn;var An=this.offsets[sn],cn=this.offsets[sn+1]-An;cn>0&&(rn+=cn)}for(var un=new Array(4*nn.length),hn=0;hn<nn.length;++hn)un[4*hn+3]=255&nn[hn],un[4*hn+2]=(65280&nn[hn])>>8,un[4*hn+1]=(16711680&nn[hn])>>16,un[4*hn]=(4278190080&nn[hn])>>24;return un},e}(),Xp=function(){function t(en){this.font=en,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var en,tn,nn,rn,an;for(tn in rn=this.font.cmap.tables[0].codeMap,en={},an=this.subset)nn=an[tn],en[tn]=rn[nn];return en},t.prototype.glyphsFor=function(en){var tn,nn,rn,an,sn,An,cn;for(rn={},sn=0,An=en.length;sn<An;sn++)rn[an=en[sn]]=this.font.glyf.glyphFor(an);for(an in tn=[],rn)(null!=(nn=rn[an])?nn.compound:void 0)&&tn.push.apply(tn,nn.glyphIDs);if(tn.length>0)for(an in cn=this.glyphsFor(tn))nn=cn[an],rn[an]=nn;return rn},t.prototype.encode=function(en,tn){var nn,rn,an,sn,An,cn,un,hn,dn,pn,gn,mn,vn,yn,bn;for(rn in nn=Op.encode(this.generateCmap(),"unicode"),sn=this.glyphsFor(en),gn={0:0},bn=nn.charMap)gn[(cn=bn[rn]).old]=cn.new;for(mn in pn=nn.maxGlyphID,sn)mn in gn||(gn[mn]=pn++);return hn=function(en){var tn,nn;for(tn in nn={},en)nn[en[tn]]=tn;return nn}(gn),dn=Object.keys(hn).sort((function(en,tn){return en-tn})),vn=function(){var en,tn,nn;for(nn=[],en=0,tn=dn.length;en<tn;en++)An=dn[en],nn.push(hn[An]);return nn}(),an=this.font.glyf.encode(sn,vn,gn),un=this.font.loca.encode(an.offsets,vn),yn={cmap:this.font.cmap.raw(),glyf:an.table,loca:un,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(tn)},this.font.os2.exists&&(yn["OS/2"]=this.font.os2.raw()),this.font.directory.encode(yn)},t}();E.API.PDFObject=function(){var en;function e(){}return en=function tA(en,tn){return(Array(tn+1).join("0")+en).slice(-tn)},e.convert=function(tn){var nn,rn,an,sn;if(Array.isArray(tn))return"["+function(){var en,rn,an;for(an=[],en=0,rn=tn.length;en<rn;en++)nn=tn[en],an.push(e.convert(nn));return an}().join(" ")+"]";if("string"==typeof tn)return"/"+tn;if(null!=tn?tn.isString:void 0)return"("+tn+")";if(tn instanceof Date)return"(D:"+en(tn.getUTCFullYear(),4)+en(tn.getUTCMonth(),2)+en(tn.getUTCDate(),2)+en(tn.getUTCHours(),2)+en(tn.getUTCMinutes(),2)+en(tn.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(tn)){for(rn in an=["<<"],tn)sn=tn[rn],an.push("/"+rn+" "+e.convert(sn));return an.push(">>"),an.join("\n")}return""+tn},e}();var Yp="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Jp={}.hasOwnProperty,Zp=/[ -,\.\/:-@\[-\^`\{-~]/,eg=/[ -,\.\/:-@\[\]\^`\{-~]/,tg=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,ng=function cssesc(en,tn){"single"!=(tn=function merge(en,tn){if(!en)return tn;var nn={};for(var rn in tn)nn[rn]=Jp.call(en,rn)?en[rn]:tn[rn];return nn}(tn,cssesc.options)).quotes&&"double"!=tn.quotes&&(tn.quotes="single");for(var nn="double"==tn.quotes?'"':"'",rn=tn.isIdentifier,an=en.charAt(0),sn="",An=0,cn=en.length;An<cn;){var un=en.charAt(An++),hn=un.charCodeAt(),dn=void 0;if(hn<32||hn>126){if(hn>=55296&&hn<=56319&&An<cn){var pn=en.charCodeAt(An++);56320==(64512&pn)?hn=((1023&hn)<<10)+(1023&pn)+65536:An--}dn="\\"+hn.toString(16).toUpperCase()+" "}else dn=tn.escapeEverything?Zp.test(un)?"\\"+un:"\\"+hn.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(un)?"\\"+hn.toString(16).toUpperCase()+" ":"\\"==un||!rn&&('"'==un&&nn==un||"'"==un&&nn==un)||rn&&eg.test(un)?"\\"+un:un;sn+=dn}return rn&&(/^-[-\d]/.test(sn)?sn="\\-"+sn.slice(1):/\d/.test(an)&&(sn="\\3"+an+" "+sn.slice(1))),sn=sn.replace(tg,(function(en,tn,nn){return tn&&tn.length%2?en:(tn||"")+nn})),!rn&&tn.wrap?nn+sn+nn:sn};/*! https://mths.be/cssesc v3.0.0 by @mathias */ng.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1},ng.version="3.0.0";var rg=ng,ig=/[a-z0-9_-]/i,ag=/[\s\t]/,og={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},sg=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function isDigit(en){return en>=48&&en<=57}function State(en){this.index=0,this.path=en,this.max=en.length,this.result=[],this.param=0,this.err="",this.segmentStart=0,this.data=[]}function skipSpaces(en){for(;en.index<en.max&&(10===(tn=en.path.charCodeAt(en.index))||13===tn||8232===tn||8233===tn||32===tn||9===tn||11===tn||12===tn||160===tn||tn>=5760&&sg.indexOf(tn)>=0);)en.index++;var tn}function scanFlag(en){var tn=en.path.charCodeAt(en.index);return 48===tn?(en.param=0,void en.index++):49===tn?(en.param=1,void en.index++):void(en.err="SvgPath: arc flag can be 0 or 1 only (at pos "+en.index+")")}function scanParam(en){var tn,nn=en.index,rn=nn,an=en.max,sn=!1,An=!1,cn=!1,un=!1;if(rn>=an)en.err="SvgPath: missed param (at pos "+rn+")";else if(43!==(tn=en.path.charCodeAt(rn))&&45!==tn||(tn=++rn<an?en.path.charCodeAt(rn):0),isDigit(tn)||46===tn){if(46!==tn){if(sn=48===tn,tn=++rn<an?en.path.charCodeAt(rn):0,sn&&rn<an&&tn&&isDigit(tn))return void(en.err="SvgPath: numbers started with `0` such as `09` are illegal (at pos "+nn+")");for(;rn<an&&isDigit(en.path.charCodeAt(rn));)rn++,An=!0;tn=rn<an?en.path.charCodeAt(rn):0}if(46===tn){for(un=!0,rn++;isDigit(en.path.charCodeAt(rn));)rn++,cn=!0;tn=rn<an?en.path.charCodeAt(rn):0}if(101===tn||69===tn){if(un&&!An&&!cn)return void(en.err="SvgPath: invalid float exponent (at pos "+rn+")");if(43!==(tn=++rn<an?en.path.charCodeAt(rn):0)&&45!==tn||rn++,!(rn<an&&isDigit(en.path.charCodeAt(rn))))return void(en.err="SvgPath: invalid float exponent (at pos "+rn+")");for(;rn<an&&isDigit(en.path.charCodeAt(rn));)rn++}en.index=rn,en.param=parseFloat(en.path.slice(nn,rn))+0}else en.err="SvgPath: param should start with 0..9 or `.` (at pos "+rn+")"}function finalizeSegment(en){var tn,nn;nn=(tn=en.path[en.segmentStart]).toLowerCase();var rn=en.data;if("m"===nn&&rn.length>2&&(en.result.push([tn,rn[0],rn[1]]),rn=rn.slice(2),nn="l",tn="m"===tn?"l":"L"),"r"===nn)en.result.push([tn].concat(rn));else for(;rn.length>=og[nn]&&(en.result.push([tn].concat(rn.splice(0,og[nn]))),og[nn]););}function scanSegment(en){var tn,nn,rn,an,sn,An=en.max;if(en.segmentStart=en.index,nn=function isArc(en){return 97==(32|en)}(tn=en.path.charCodeAt(en.index)),function isCommand(en){switch(32|en){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0}return!1}(tn))if(an=og[en.path[en.index].toLowerCase()],en.index++,skipSpaces(en),en.data=[],an){for(rn=!1;;){for(sn=an;sn>0;sn--){if(!nn||3!==sn&&4!==sn?scanParam(en):scanFlag(en),en.err.length)return;en.data.push(en.param),skipSpaces(en),rn=!1,en.index<An&&44===en.path.charCodeAt(en.index)&&(en.index++,skipSpaces(en),rn=!0)}if(!rn){if(en.index>=en.max)break;if(!((cn=en.path.charCodeAt(en.index))>=48&&cn<=57||43===cn||45===cn||46===cn))break}}var cn;finalizeSegment(en)}else finalizeSegment(en);else en.err="SvgPath: bad command "+en.path[en.index]+" (at pos "+en.index+")"}function Matrix$2(){if(!(this instanceof Matrix$2))return new Matrix$2;this.queue=[],this.cache=null}Matrix$2.prototype.matrix=function(en){return 1===en[0]&&0===en[1]&&0===en[2]&&1===en[3]&&0===en[4]&&0===en[5]||(this.cache=null,this.queue.push(en)),this},Matrix$2.prototype.translate=function(en,tn){return 0===en&&0===tn||(this.cache=null,this.queue.push([1,0,0,1,en,tn])),this},Matrix$2.prototype.scale=function(en,tn){return 1===en&&1===tn||(this.cache=null,this.queue.push([en,0,0,tn,0,0])),this},Matrix$2.prototype.rotate=function(en,tn,nn){var rn,an,sn;return 0!==en&&(this.translate(tn,nn),rn=en*Math.PI/180,an=Math.cos(rn),sn=Math.sin(rn),this.queue.push([an,sn,-sn,an,0,0]),this.cache=null,this.translate(-tn,-nn)),this},Matrix$2.prototype.skewX=function(en){return 0!==en&&(this.cache=null,this.queue.push([1,0,Math.tan(en*Math.PI/180),1,0,0])),this},Matrix$2.prototype.skewY=function(en){return 0!==en&&(this.cache=null,this.queue.push([1,Math.tan(en*Math.PI/180),0,1,0,0])),this},Matrix$2.prototype.toArray=function(){if(this.cache)return this.cache;if(!this.queue.length)return this.cache=[1,0,0,1,0,0],this.cache;if(this.cache=this.queue[0],1===this.queue.length)return this.cache;for(var en=1;en<this.queue.length;en++)this.cache=(tn=this.cache,nn=this.queue[en],[tn[0]*nn[0]+tn[2]*nn[1],tn[1]*nn[0]+tn[3]*nn[1],tn[0]*nn[2]+tn[2]*nn[3],tn[1]*nn[2]+tn[3]*nn[3],tn[0]*nn[4]+tn[2]*nn[5]+tn[4],tn[1]*nn[4]+tn[3]*nn[5]+tn[5]]);var tn,nn;return this.cache},Matrix$2.prototype.calc=function(en,tn,nn){var rn;return this.queue.length?(this.cache||(this.cache=this.toArray()),[en*(rn=this.cache)[0]+tn*rn[2]+(nn?0:rn[4]),en*rn[1]+tn*rn[3]+(nn?0:rn[5])]):[en,tn]};var Ag=Matrix$2,lg=Ag,cg={matrix:!0,scale:!0,rotate:!0,translate:!0,skewX:!0,skewY:!0},ug=/\s*(matrix|translate|scale|rotate|skewX|skewY)\s*\(\s*(.+?)\s*\)[\s,]*/,hg=/[\s,]+/,dg=2*Math.PI;function unit_vector_angle(en,tn,nn,rn){var an=en*nn+tn*rn;return an>1&&(an=1),an<-1&&(an=-1),(en*rn-tn*nn<0?-1:1)*Math.acos(an)}function approximate_unit_arc(en,tn){var nn=4/3*Math.tan(tn/4),rn=Math.cos(en),an=Math.sin(en),sn=Math.cos(en+tn),An=Math.sin(en+tn);return[rn,an,rn-an*nn,an+rn*nn,sn+An*nn,An-sn*nn,sn,An]}var pg=Math.PI/180;function Ellipse$1(en,tn,nn){if(!(this instanceof Ellipse$1))return new Ellipse$1(en,tn,nn);this.rx=en,this.ry=tn,this.ax=nn}Ellipse$1.prototype.transform=function(en){var tn=Math.cos(this.ax*pg),nn=Math.sin(this.ax*pg),rn=[this.rx*(en[0]*tn+en[2]*nn),this.rx*(en[1]*tn+en[3]*nn),this.ry*(-en[0]*nn+en[2]*tn),this.ry*(-en[1]*nn+en[3]*tn)],an=rn[0]*rn[0]+rn[2]*rn[2],sn=rn[1]*rn[1]+rn[3]*rn[3],An=((rn[0]-rn[3])*(rn[0]-rn[3])+(rn[2]+rn[1])*(rn[2]+rn[1]))*((rn[0]+rn[3])*(rn[0]+rn[3])+(rn[2]-rn[1])*(rn[2]-rn[1])),cn=(an+sn)/2;if(An<1e-10*cn)return this.rx=this.ry=Math.sqrt(cn),this.ax=0,this;var un=rn[0]*rn[1]+rn[2]*rn[3],hn=cn+(An=Math.sqrt(An))/2,dn=cn-An/2;return this.ax=Math.abs(un)<1e-10&&Math.abs(hn-sn)<1e-10?90:180*Math.atan(Math.abs(un)>Math.abs(hn-sn)?(hn-an)/un:un/(hn-sn))/Math.PI,this.ax>=0?(this.rx=Math.sqrt(hn),this.ry=Math.sqrt(dn)):(this.ax+=90,this.rx=Math.sqrt(dn),this.ry=Math.sqrt(hn)),this},Ellipse$1.prototype.isDegenerate=function(){return this.rx<1e-10*this.ry||this.ry<1e-10*this.rx};var gg=Ag,fg=Ellipse$1;function SvgPath(en){if(!(this instanceof SvgPath))return new SvgPath(en);var tn=function pathParse(en){var tn=new State(en),nn=tn.max;for(skipSpaces(tn);tn.index<nn&&!tn.err.length;)scanSegment(tn);return tn.err.length?tn.result=[]:tn.result.length&&("mM".indexOf(tn.result[0][0])<0?(tn.err="SvgPath: string should start with `M` or `m`",tn.result=[]):tn.result[0][0]="M"),{err:tn.err,segments:tn.result}}(en);this.segments=tn.segments,this.err=tn.err,this.__stack=[]}SvgPath.from=function(en){if("string"==typeof en)return new SvgPath(en);if(en instanceof SvgPath){var tn=new SvgPath("");return tn.err=en.err,tn.segments=en.segments.map((function(en){return en.slice()})),tn.__stack=en.__stack.map((function(en){return gg().matrix(en.toArray())})),tn}throw new Error("SvgPath.from: invalid param type "+en)},SvgPath.prototype.__matrix=function(en){var tn,nn=this;en.queue.length&&this.iterate((function(rn,an,sn,An){var cn,un,hn,dn;switch(rn[0]){case"v":un=0===(cn=en.calc(0,rn[1],!0))[0]?["v",cn[1]]:["l",cn[0],cn[1]];break;case"V":un=(cn=en.calc(sn,rn[1],!1))[0]===en.calc(sn,An,!1)[0]?["V",cn[1]]:["L",cn[0],cn[1]];break;case"h":un=0===(cn=en.calc(rn[1],0,!0))[1]?["h",cn[0]]:["l",cn[0],cn[1]];break;case"H":un=(cn=en.calc(rn[1],An,!1))[1]===en.calc(sn,An,!1)[1]?["H",cn[0]]:["L",cn[0],cn[1]];break;case"a":case"A":var pn=en.toArray(),gn=fg(rn[1],rn[2],rn[3]).transform(pn);if(pn[0]*pn[3]-pn[1]*pn[2]<0&&(rn[5]=rn[5]?"0":"1"),cn=en.calc(rn[6],rn[7],"a"===rn[0]),"A"===rn[0]&&rn[6]===sn&&rn[7]===An||"a"===rn[0]&&0===rn[6]&&0===rn[7]){un=["a"===rn[0]?"l":"L",cn[0],cn[1]];break}un=gn.isDegenerate()?["a"===rn[0]?"l":"L",cn[0],cn[1]]:[rn[0],gn.rx,gn.ry,gn.ax,rn[4],rn[5],cn[0],cn[1]];break;case"m":dn=an>0,un=["m",(cn=en.calc(rn[1],rn[2],dn))[0],cn[1]];break;default:for(un=[hn=rn[0]],dn=hn.toLowerCase()===hn,tn=1;tn<rn.length;tn+=2)cn=en.calc(rn[tn],rn[tn+1],dn),un.push(cn[0],cn[1])}nn.segments[an]=un}),!0)},SvgPath.prototype.__evaluateStack=function(){var en,tn;if(this.__stack.length){if(1===this.__stack.length)return this.__matrix(this.__stack[0]),void(this.__stack=[]);for(en=gg(),tn=this.__stack.length;--tn>=0;)en.matrix(this.__stack[tn].toArray());this.__matrix(en),this.__stack=[]}},SvgPath.prototype.toString=function(){var en,tn,nn=[];this.__evaluateStack();for(var rn=0;rn<this.segments.length;rn++)tn=this.segments[rn][0],en=rn>0&&"m"!==tn&&"M"!==tn&&tn===this.segments[rn-1][0],nn=nn.concat(en?this.segments[rn].slice(1):this.segments[rn]);return nn.join(" ").replace(/ ?([achlmqrstvz]) ?/gi,"$1").replace(/ \-/g,"-").replace(/zm/g,"z m")},SvgPath.prototype.translate=function(en,tn){return this.__stack.push(gg().translate(en,tn||0)),this},SvgPath.prototype.scale=function(en,tn){return this.__stack.push(gg().scale(en,tn||0===tn?tn:en)),this},SvgPath.prototype.rotate=function(en,tn,nn){return this.__stack.push(gg().rotate(en,tn||0,nn||0)),this},SvgPath.prototype.skewX=function(en){return this.__stack.push(gg().skewX(en)),this},SvgPath.prototype.skewY=function(en){return this.__stack.push(gg().skewY(en)),this},SvgPath.prototype.matrix=function(en){return this.__stack.push(gg().matrix(en)),this},SvgPath.prototype.transform=function(en){return en.trim()?(this.__stack.push(function transformParse(en){var tn,nn,rn=new lg;return en.split(ug).forEach((function(en){if(en.length)if(void 0===cg[en])switch(nn=en.split(hg).map((function(en){return+en||0})),tn){case"matrix":return void(6===nn.length&&rn.matrix(nn));case"scale":return void(1===nn.length?rn.scale(nn[0],nn[0]):2===nn.length&&rn.scale(nn[0],nn[1]));case"rotate":return void(1===nn.length?rn.rotate(nn[0],0,0):3===nn.length&&rn.rotate(nn[0],nn[1],nn[2]));case"translate":return void(1===nn.length?rn.translate(nn[0],0):2===nn.length&&rn.translate(nn[0],nn[1]));case"skewX":return void(1===nn.length&&rn.skewX(nn[0]));case"skewY":return void(1===nn.length&&rn.skewY(nn[0]))}else tn=en})),rn}(en)),this):this},SvgPath.prototype.round=function(en){var tn,nn=0,rn=0,an=0,sn=0;return en=en||0,this.__evaluateStack(),this.segments.forEach((function(An){var cn=An[0].toLowerCase()===An[0];switch(An[0]){case"H":case"h":return cn&&(An[1]+=an),an=An[1]-An[1].toFixed(en),void(An[1]=+An[1].toFixed(en));case"V":case"v":return cn&&(An[1]+=sn),sn=An[1]-An[1].toFixed(en),void(An[1]=+An[1].toFixed(en));case"Z":case"z":return an=nn,void(sn=rn);case"M":case"m":return cn&&(An[1]+=an,An[2]+=sn),an=An[1]-An[1].toFixed(en),sn=An[2]-An[2].toFixed(en),nn=an,rn=sn,An[1]=+An[1].toFixed(en),void(An[2]=+An[2].toFixed(en));case"A":case"a":return cn&&(An[6]+=an,An[7]+=sn),an=An[6]-An[6].toFixed(en),sn=An[7]-An[7].toFixed(en),An[1]=+An[1].toFixed(en),An[2]=+An[2].toFixed(en),An[3]=+An[3].toFixed(en+2),An[6]=+An[6].toFixed(en),void(An[7]=+An[7].toFixed(en));default:return tn=An.length,cn&&(An[tn-2]+=an,An[tn-1]+=sn),an=An[tn-2]-An[tn-2].toFixed(en),sn=An[tn-1]-An[tn-1].toFixed(en),void An.forEach((function(tn,nn){nn&&(An[nn]=+An[nn].toFixed(en))}))}})),this},SvgPath.prototype.iterate=function(en,tn){var nn,rn,an,sn=this.segments,An={},cn=!1,un=0,hn=0,dn=0,pn=0;if(tn||this.__evaluateStack(),sn.forEach((function(tn,nn){var rn=en(tn,nn,un,hn);Array.isArray(rn)&&(An[nn]=rn,cn=!0);var an=tn[0]===tn[0].toLowerCase();switch(tn[0]){case"m":case"M":return un=tn[1]+(an?un:0),hn=tn[2]+(an?hn:0),dn=un,void(pn=hn);case"h":case"H":return void(un=tn[1]+(an?un:0));case"v":case"V":return void(hn=tn[1]+(an?hn:0));case"z":case"Z":return un=dn,void(hn=pn);default:un=tn[tn.length-2]+(an?un:0),hn=tn[tn.length-1]+(an?hn:0)}})),!cn)return this;for(an=[],nn=0;nn<sn.length;nn++)if(void 0!==An[nn])for(rn=0;rn<An[nn].length;rn++)an.push(An[nn][rn]);else an.push(sn[nn]);return this.segments=an,this},SvgPath.prototype.abs=function(){return this.iterate((function(en,tn,nn,rn){var an,sn=en[0],An=sn.toUpperCase();if(sn!==An)switch(en[0]=An,sn){case"v":return void(en[1]+=rn);case"a":return en[6]+=nn,void(en[7]+=rn);default:for(an=1;an<en.length;an++)en[an]+=an%2?nn:rn}}),!0),this},SvgPath.prototype.rel=function(){return this.iterate((function(en,tn,nn,rn){var an,sn=en[0],An=sn.toLowerCase();if(sn!==An&&(0!==tn||"M"!==sn))switch(en[0]=An,sn){case"V":return void(en[1]-=rn);case"A":return en[6]-=nn,void(en[7]-=rn);default:for(an=1;an<en.length;an++)en[an]-=an%2?nn:rn}}),!0),this},SvgPath.prototype.unarc=function(){return this.iterate((function(en,tn,nn,rn){var an,sn,An,cn=[],un=en[0];return"A"!==un&&"a"!==un?null:("a"===un?(sn=nn+en[6],An=rn+en[7]):(sn=en[6],An=en[7]),0===(an=function a2c(en,tn,nn,rn,an,sn,An,cn,un){var hn=Math.sin(un*dg/360),dn=Math.cos(un*dg/360),pn=dn*(en-nn)/2+hn*(tn-rn)/2,gn=-hn*(en-nn)/2+dn*(tn-rn)/2;if(0===pn&&0===gn)return[];if(0===An||0===cn)return[];An=Math.abs(An),cn=Math.abs(cn);var mn=pn*pn/(An*An)+gn*gn/(cn*cn);mn>1&&(An*=Math.sqrt(mn),cn*=Math.sqrt(mn));var vn=function get_arc_center(en,tn,nn,rn,an,sn,An,cn,un,hn){var dn=hn*(en-nn)/2+un*(tn-rn)/2,pn=-un*(en-nn)/2+hn*(tn-rn)/2,gn=An*An,mn=cn*cn,vn=dn*dn,yn=pn*pn,bn=gn*mn-gn*yn-mn*vn;bn<0&&(bn=0),bn/=gn*yn+mn*vn;var wn=(bn=Math.sqrt(bn)*(an===sn?-1:1))*An/cn*pn,Cn=bn*-cn/An*dn,xn=hn*wn-un*Cn+(en+nn)/2,Bn=un*wn+hn*Cn+(tn+rn)/2,_n=(dn-wn)/An,Sn=(pn-Cn)/cn,kn=(-dn-wn)/An,En=(-pn-Cn)/cn,Pn=unit_vector_angle(1,0,_n,Sn),Fn=unit_vector_angle(_n,Sn,kn,En);return 0===sn&&Fn>0&&(Fn-=dg),1===sn&&Fn<0&&(Fn+=dg),[xn,Bn,Pn,Fn]}(en,tn,nn,rn,an,sn,An,cn,hn,dn),yn=[],bn=vn[2],wn=vn[3],Cn=Math.max(Math.ceil(Math.abs(wn)/(dg/4)),1);wn/=Cn;for(var xn=0;xn<Cn;xn++)yn.push(approximate_unit_arc(bn,wn)),bn+=wn;return yn.map((function(en){for(var tn=0;tn<en.length;tn+=2){var nn=en[tn+0],rn=en[tn+1],an=dn*(nn*=An)-hn*(rn*=cn),sn=hn*nn+dn*rn;en[tn+0]=an+vn[0],en[tn+1]=sn+vn[1]}return en}))}(nn,rn,sn,An,en[4],en[5],en[1],en[2],en[3])).length?[["a"===en[0]?"l":"L",en[6],en[7]]]:(an.forEach((function(en){cn.push(["C",en[2],en[3],en[4],en[5],en[6],en[7]])})),cn))})),this},SvgPath.prototype.unshort=function(){var en,tn,nn,rn,an,sn=this.segments;return this.iterate((function(An,cn,un,hn){var dn,pn=An[0],gn=pn.toUpperCase();cn&&("T"===gn?(dn="t"===pn,"Q"===(nn=sn[cn-1])[0]?(en=nn[1]-un,tn=nn[2]-hn):"q"===nn[0]?(en=nn[1]-nn[3],tn=nn[2]-nn[4]):(en=0,tn=0),rn=-en,an=-tn,dn||(rn+=un,an+=hn),sn[cn]=[dn?"q":"Q",rn,an,An[1],An[2]]):"S"===gn&&(dn="s"===pn,"C"===(nn=sn[cn-1])[0]?(en=nn[3]-un,tn=nn[4]-hn):"c"===nn[0]?(en=nn[3]-nn[5],tn=nn[4]-nn[6]):(en=0,tn=0),rn=-en,an=-tn,dn||(rn+=un,an+=hn),sn[cn]=[dn?"c":"C",rn,an,An[1],An[2],An[3],An[4]]))})),this};var mg=SvgPath,vg=function calculateSingle(en){var tn,nn,rn=en,an={a:0,b:0,c:0},sn=[];return tn=function eA(tn,nn){var An,cn,un,hn,dn,pn;if(tn.test(rn))for(cn=0,un=(An=rn.match(tn)).length;cn<un;cn+=1)an[nn]+=1,hn=An[cn],dn=rn.indexOf(hn),pn=hn.length,sn.push({selector:en.substr(dn,pn),type:nn,index:dn,length:pn}),rn=rn.replace(hn,Array(pn+1).join(" "))},nn=function AA(en){var tn,AA,nn,an;if(en.test(rn))for(AA=0,nn=(tn=rn.match(en)).length;AA<nn;AA+=1)an=tn[AA],rn=rn.replace(an,Array(an.length+1).join("A"))},nn(/\\[0-9A-Fa-f]{6}\s?/g),nn(/\\[0-9A-Fa-f]{1,5}\s/g),nn(/\\./g),function(){var en,tn,nn,an,sn=/{[^]*/gm;if(sn.test(rn))for(tn=0,nn=(en=rn.match(sn)).length;tn<nn;tn+=1)an=en[tn],rn=rn.replace(an,Array(an.length+1).join(" "))}(),tn(/(\[[^\]]+\])/g,"b"),tn(/(#[^\#\s\+>~\.\[:\)]+)/g,"a"),tn(/(\.[^\s\+>~\.\[:\)]+)/g,"b"),tn(/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,"c"),tn(/(:(?!not|global|local)[\w-]+\([^\)]*\))/gi,"b"),tn(/(:(?!not|global|local)[^\s\+>~\.\[:]+)/g,"b"),rn=(rn=(rn=(rn=(rn=(rn=rn.replace(/[\*\s\+>~]/g," ")).replace(/[#\.]/g," ")).replace(/:not/g,"    ")).replace(/:local/g,"      ")).replace(/:global/g,"       ")).replace(/[\(\)]/g," "),tn(/([^\s\+>~\.\[:]+)/g,"c"),sn.sort((function(en,tn){return en.index-tn.index})),{selector:en,specificity:"0,"+an.a.toString()+","+an.b.toString()+","+an.c.toString(),specificityArray:[0,an.a,an.b,an.c],parts:sn}},yg=function extendStatics(en,tn){return yg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(en,tn){en.__proto__=tn}||function(en,tn){for(var nn in tn)tn.hasOwnProperty(nn)&&(en[nn]=tn[nn])},yg(en,tn)};function __extends(en,tn){function __(){this.constructor=en}yg(en,tn),en.prototype=null===tn?Object.create(tn):(__.prototype=tn.prototype,new __)}var bg=function __assign(){return bg=Object.assign||function __assign(en){for(var tn,nn=1,rn=arguments.length;nn<rn;nn++)for(var an in tn=arguments[nn])Object.prototype.hasOwnProperty.call(tn,an)&&(en[an]=tn[an]);return en},bg.apply(this,arguments)};function __awaiter(en,tn,nn,rn){return new(nn||(nn=Promise))((function(an,sn){function fulfilled(en){try{step(rn.next(en))}catch(en){sn(en)}}function rejected(en){try{step(rn.throw(en))}catch(en){sn(en)}}function step(en){en.done?an(en.value):function adopt(en){return en instanceof nn?en:new nn((function(tn){tn(en)}))}(en.value).then(fulfilled,rejected)}step((rn=rn.apply(en,tn||[])).next())}))}function __generator(en,tn){var nn,rn,an,sn,An={label:0,sent:function sent(){if(1&an[0])throw an[1];return an[1]},trys:[],ops:[]};return sn={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(sn[Symbol.iterator]=function(){return this}),sn;function verb(sn){return function(cn){return function step(sn){if(nn)throw new TypeError("Generator is already executing.");for(;An;)try{if(nn=1,rn&&(an=2&sn[0]?rn.return:sn[0]?rn.throw||((an=rn.return)&&an.call(rn),0):rn.next)&&!(an=an.call(rn,sn[1])).done)return an;switch(rn=0,an&&(sn=[2&sn[0],an.value]),sn[0]){case 0:case 1:an=sn;break;case 4:return An.label++,{value:sn[1],done:!1};case 5:An.label++,rn=sn[1],sn=[0];continue;case 7:sn=An.ops.pop(),An.trys.pop();continue;default:if(!((an=(an=An.trys).length>0&&an[an.length-1])||6!==sn[0]&&2!==sn[0])){An=0;continue}if(3===sn[0]&&(!an||sn[1]>an[0]&&sn[1]<an[3])){An.label=sn[1];break}if(6===sn[0]&&An.label<an[1]){An.label=an[1],an=sn;break}if(an&&An.label<an[2]){An.label=an[2],An.ops.push(sn);break}an[2]&&An.ops.pop(),An.trys.pop();continue}sn=tn.call(en,An)}catch(en){sn=[6,en],rn=0}finally{nn=an=0}if(5&sn[0])throw sn[1];return{value:sn[0]?sn[1]:void 0,done:!0}}([sn,cn])}}}var wg=function(){function RGBColor(en){if(this.a=void 0,this.r=0,this.g=0,this.b=0,this.simpleColors={},this.colorDefs=[],this.ok=!1,en){for(var tn in"#"==en.charAt(0)&&(en=en.substr(1,6)),en=(en=en.replace(/ /g,"")).toLowerCase(),this.simpleColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},this.simpleColors)en==tn&&(en=this.simpleColors[tn]);this.colorDefs=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function process(en){return[parseInt(en[1]),parseInt(en[2]),parseInt(en[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function process(en){return[parseInt(en[1],16),parseInt(en[2],16),parseInt(en[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function process(en){return[parseInt(en[1]+en[1],16),parseInt(en[2]+en[2],16),parseInt(en[3]+en[3],16)]}}];for(var nn=0;nn<this.colorDefs.length;nn++){var rn=this.colorDefs[nn].re,an=this.colorDefs[nn].process,sn=rn.exec(en);if(sn){var An=an(sn);this.r=An[0],this.g=An[1],this.b=An[2],this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b}}return RGBColor.prototype.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},RGBColor.prototype.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+(this.a||"1")+")"},RGBColor.prototype.toHex=function(){var en=this.r.toString(16),tn=this.g.toString(16),nn=this.b.toString(16);return 1==en.length&&(en="0"+en),1==tn.length&&(tn="0"+tn),1==nn.length&&(nn="0"+nn),"#"+en+tn+nn},RGBColor.prototype.getHelpXML=function(){for(var en=[],tn=0;tn<this.colorDefs.length;tn++)for(var nn=this.colorDefs[tn].example,rn=0;rn<nn.length;rn++)en[en.length]=nn[rn];for(var an in this.simpleColors)en[en.length]=an;var sn=document.createElement("ul");for(sn.setAttribute("id","rgbcolor-examples"),tn=0;tn<en.length;tn++)try{var An=document.createElement("li"),cn=new RGBColor(en[tn]),un=document.createElement("div");un.style.cssText="margin: 3px; border: 1px solid black; background:"+cn.toHex()+"; color:"+cn.toHex(),un.appendChild(document.createTextNode("test"));var hn=document.createTextNode(" "+en[tn]+" -> "+cn.toRGB()+" -> "+cn.toHex());An.appendChild(un),An.appendChild(hn),sn.appendChild(An)}catch(en){}return sn},RGBColor}(),Cg=function(){function ColorFill(en){this.color=en}return ColorFill.prototype.getFillData=function(en,tn){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(en){return[2,void 0]}))}))},ColorFill}(),xg=function(){function AttributeState(){this.xmlSpace="",this.fill=null,this.fillOpacity=1,this.fontFamily="",this.fontSize=16,this.fontStyle="",this.fontWeight="",this.opacity=1,this.stroke=null,this.strokeDasharray=null,this.strokeDashoffset=0,this.strokeLinecap="",this.strokeLinejoin="",this.strokeMiterlimit=4,this.strokeOpacity=1,this.strokeWidth=1,this.alignmentBaseline="",this.textAnchor="",this.visibility="",this.color=null}return AttributeState.prototype.clone=function(){var en=new AttributeState;return en.xmlSpace=this.xmlSpace,en.fill=this.fill,en.fillOpacity=this.fillOpacity,en.fontFamily=this.fontFamily,en.fontSize=this.fontSize,en.fontStyle=this.fontStyle,en.fontWeight=this.fontWeight,en.opacity=this.opacity,en.stroke=this.stroke,en.strokeDasharray=this.strokeDasharray,en.strokeDashoffset=this.strokeDashoffset,en.strokeLinecap=this.strokeLinecap,en.strokeLinejoin=this.strokeLinejoin,en.strokeMiterlimit=this.strokeMiterlimit,en.strokeOpacity=this.strokeOpacity,en.strokeWidth=this.strokeWidth,en.textAnchor=this.textAnchor,en.alignmentBaseline=this.alignmentBaseline,en.visibility=this.visibility,en.color=this.color,en},AttributeState.default=function(){var en=new AttributeState;return en.xmlSpace="default",en.fill=new Cg(new wg("rgb(0, 0, 0)")),en.fillOpacity=1,en.fontFamily="times",en.fontSize=16,en.fontStyle="normal",en.fontWeight="normal",en.opacity=1,en.stroke=null,en.strokeDasharray=null,en.strokeDashoffset=0,en.strokeLinecap="butt",en.strokeLinejoin="miter",en.strokeMiterlimit=4,en.strokeOpacity=1,en.strokeWidth=1,en.alignmentBaseline="baseline",en.textAnchor="start",en.visibility="visible",en.color=new wg("rgb(0, 0, 0)"),en},AttributeState}(),Bg=/url\(["']?#([^"']+)["']?\)/,_g={bottom:"bottom","text-bottom":"bottom",top:"top","text-top":"top",hanging:"hanging",middle:"middle",central:"middle",center:"middle",mathematical:"middle",ideographic:"ideographic",alphabetic:"alphabetic",baseline:"alphabetic"},Sg=function(){function TextMeasure(){this.measureMethods={}}return TextMeasure.prototype.getTextOffset=function(en,tn){var nn=tn.textAnchor;if("start"===nn)return 0;var rn=this.measureTextWidth(en,tn),an=0;switch(nn){case"end":an=rn;break;case"middle":an=rn/2}return an},TextMeasure.prototype.measureTextWidth=function(en,tn){if(0===en.length)return 0;var nn=tn.fontFamily;return this.getMeasureFunction(nn).call(this,en,tn.fontFamily,tn.fontSize+"px",tn.fontStyle,tn.fontWeight)},TextMeasure.prototype.getMeasurementTextNode=function(){if(!this.textMeasuringTextElement){this.textMeasuringTextElement=document.createElementNS("http://www.w3.org/2000/svg","text");var en=document.createElementNS("http://www.w3.org/2000/svg","svg");en.appendChild(this.textMeasuringTextElement),en.style.setProperty("position","absolute"),en.style.setProperty("visibility","hidden"),document.body.appendChild(en)}return this.textMeasuringTextElement},TextMeasure.prototype.canvasTextMeasure=function(en,tn,nn,rn,an){var sn=document.createElement("canvas").getContext("2d");return null!=sn?(sn.font=[rn,an,nn,tn].join(" "),sn.measureText(en).width):0},TextMeasure.prototype.svgTextMeasure=function(en,tn,nn,rn,an,sn){void 0===sn&&(sn=this.getMeasurementTextNode());var An=sn;return An.setAttribute("font-family",tn),An.setAttribute("font-size",nn),An.setAttribute("font-style",rn),An.setAttribute("font-weight",an),An.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),An.textContent=en,An.getBBox().width},TextMeasure.prototype.getMeasureFunction=function(en){var tn=this.measureMethods[en];if(!tn){var nn="16px",rn="normal",an="normal",sn=this.canvasTextMeasure(TextMeasure.testString,en,nn,rn,an),An=this.svgTextMeasure(TextMeasure.testString,en,nn,rn,an);tn=Math.abs(sn-An)<TextMeasure.epsilon?this.canvasTextMeasure:this.svgTextMeasure,this.measureMethods[en]=tn}return tn},TextMeasure.prototype.cleanupTextMeasuring=function(){if(this.textMeasuringTextElement){var en=this.textMeasuringTextElement.parentNode;en&&document.body.removeChild(en),this.textMeasuringTextElement=void 0}},TextMeasure.testString="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789!\"$%&/()=?'\\+*-_.:,;^}][{#~|<>",TextMeasure.epsilon=.1,TextMeasure}(),kg=function(){function Context(en,tn){var nn,rn,an,sn,An,cn;this.pdf=en,this.svg2pdfParameters=tn.svg2pdfParameters,this.attributeState=tn.attributeState?tn.attributeState.clone():xg.default(),this.viewport=tn.viewport,this.refsHandler=null!==(nn=tn.refsHandler)&&void 0!==nn?nn:null,this.styleSheets=null!==(rn=tn.styleSheets)&&void 0!==rn?rn:null,this.textMeasure=null!==(an=tn.textMeasure)&&void 0!==an?an:new Sg,this.transform=null!==(sn=tn.transform)&&void 0!==sn?sn:this.pdf.unitMatrix,this.withinClipPath=null!==(An=tn.withinClipPath)&&void 0!==An&&An,this.withinUse=null!==(cn=tn.withinUse)&&void 0!==cn&&cn}return Context.prototype.clone=function(en){var tn,nn,rn,an,sn,An,cn,un;return void 0===en&&(en={}),new Context(this.pdf,{svg2pdfParameters:null!==(tn=en.svg2pdfParameters)&&void 0!==tn?tn:this.svg2pdfParameters,attributeState:en.attributeState?en.attributeState.clone():this.attributeState.clone(),viewport:null!==(nn=en.viewport)&&void 0!==nn?nn:this.viewport,refsHandler:null!==(rn=en.refsHandler)&&void 0!==rn?rn:this.refsHandler,styleSheets:null!==(an=en.styleSheets)&&void 0!==an?an:this.styleSheets,textMeasure:null!==(sn=en.textMeasure)&&void 0!==sn?sn:this.textMeasure,transform:null!==(An=en.transform)&&void 0!==An?An:this.transform,withinClipPath:null!==(cn=en.withinClipPath)&&void 0!==cn?cn:this.withinClipPath,withinUse:null!==(un=en.withinUse)&&void 0!==un?un:this.withinUse})},Context}(),Eg=function(){function ReferencesHandler(en){this.renderedElements={},this.idMap=en,this.idPrefix=String(ReferencesHandler.instanceCounter++)}return ReferencesHandler.prototype.getRendered=function(en,tn,nn){return __awaiter(this,void 0,void 0,(function(){var rn,an;return __generator(this,(function(sn){switch(sn.label){case 0:return rn=this.generateKey(en,tn),this.renderedElements.hasOwnProperty(rn)?[2,this.renderedElements[en]]:(an=this.get(en),this.renderedElements[rn]=an,[4,nn(an)]);case 1:return sn.sent(),[2,an]}}))}))},ReferencesHandler.prototype.get=function(en){return this.idMap[rg(en,{isIdentifier:!0})]},ReferencesHandler.prototype.generateKey=function(en,tn){return this.idPrefix+"|"+en+"|"+(tn||new wg("rgb(0,0,0)")).toRGBA()},ReferencesHandler.instanceCounter=0,ReferencesHandler}();function getAngle(en,tn){return Math.atan2(tn[1]-en[1],tn[0]-en[0])}var Pg=2/3;function toCubic(en,tn){return[Pg*(tn[0]-en[0])+en[0],Pg*(tn[1]-en[1])+en[1]]}function normalize$1(en){var tn=Math.sqrt(en[0]*en[0]+en[1]*en[1]);return[en[0]/tn,en[1]/tn]}function getDirectionVector(en,tn){return normalize$1([tn[0]-en[0],tn[1]-en[1]])}function addVectors(en,tn){return[en[0]+tn[0],en[1]+tn[1]]}function multVecMatrix(en,tn){var nn=en[0],rn=en[1];return[tn.a*nn+tn.c*rn+tn.e,tn.b*nn+tn.d*rn+tn.f]}var Fg=function(){function Path(){this.segments=[]}return Path.prototype.moveTo=function(en,tn){return this.segments.push(new Lg(en,tn)),this},Path.prototype.lineTo=function(en,tn){return this.segments.push(new Ig(en,tn)),this},Path.prototype.curveTo=function(en,tn,nn,rn,an,sn){return this.segments.push(new Ug(en,tn,nn,rn,an,sn)),this},Path.prototype.close=function(){return this.segments.push(new Tg),this},Path.prototype.transform=function(en){this.segments.forEach((function(tn){if(tn instanceof Lg||tn instanceof Ig||tn instanceof Ug){var nn=multVecMatrix([tn.x,tn.y],en);tn.x=nn[0],tn.y=nn[1]}if(tn instanceof Ug){var rn=multVecMatrix([tn.x1,tn.y1],en),an=multVecMatrix([tn.x2,tn.y2],en);tn.x1=rn[0],tn.y1=rn[1],tn.x2=an[0],tn.y2=an[1]}}))},Path.prototype.draw=function(en){var tn=en.pdf;this.segments.forEach((function(en){en instanceof Lg?tn.moveTo(en.x,en.y):en instanceof Ig?tn.lineTo(en.x,en.y):en instanceof Ug?tn.curveTo(en.x1,en.y1,en.x2,en.y2,en.x,en.y):tn.close()}))},Path}(),Lg=function Ss(en,tn){this.x=en,this.y=tn},Ig=function xs(en,tn){this.x=en,this.y=tn},Ug=function Fs(en,tn,nn,rn,an,sn){this.x1=en,this.y1=tn,this.x2=nn,this.y2=rn,this.x=an,this.y=sn},Tg=function Es(){};function nodeIs(en,tn){return tn.split(",").indexOf((en.nodeName||en.tagName).toLowerCase())>=0}function getAttribute(en,tn,nn,rn){var an;void 0===rn&&(rn=nn);var sn=null===(an=en.style)||void 0===an?void 0:an.getPropertyValue(rn);return sn||(tn.getPropertyValue(en,rn)||en.hasAttribute(nn)&&en.getAttribute(nn)||void 0)}function svgNodeIsVisible(en,tn,nn){if("none"===getAttribute(en.element,nn.styleSheets,"display"))return!1;var rn=tn,an=getAttribute(en.element,nn.styleSheets,"visibility");return an&&(rn="hidden"!==an),rn}function svgNodeAndChildrenVisible(en,tn,nn){var rn=svgNodeIsVisible(en,tn,nn);return 0!==en.element.childNodes.length&&(en.children.forEach((function(en){en.isVisible(rn,nn)&&(rn=!0)})),rn)}var Qg=function(){function MarkerList(){this.markers=[]}return MarkerList.prototype.addMarker=function(en){this.markers.push(en)},MarkerList.prototype.draw=function(en){return __awaiter(this,void 0,void 0,(function(){var tn,nn,rn,an,sn,An,cn;return __generator(this,(function(un){switch(un.label){case 0:tn=0,un.label=1;case 1:return tn<this.markers.length?(nn=this.markers[tn],rn=void 0,an=nn.angle,sn=nn.anchor,An=Math.cos(an),cn=Math.sin(an),rn=en.pdf.Matrix(An,cn,-cn,An,sn[0],sn[1]),rn=en.pdf.matrixMult(en.pdf.Matrix(en.attributeState.strokeWidth,0,0,en.attributeState.strokeWidth,0,0),rn),rn=en.pdf.matrixMult(rn,en.transform),en.pdf.saveGraphicsState(),[4,en.refsHandler.getRendered(nn.id,null,(function(tn){return tn.apply(en)}))]):[3,4];case 2:un.sent(),en.pdf.doFormObject(nn.id,rn),en.pdf.restoreGraphicsState(),un.label=3;case 3:return tn++,[3,1];case 4:return[2]}}))}))},MarkerList}(),Ng=function Us(en,tn,nn){this.id=en,this.anchor=tn,this.angle=nn};function toPixels(en,tn){var nn;return(nn=en&&en.toString().match(/^([\-0-9.]+)em$/))?parseFloat(nn[1])*tn:(nn=en&&en.toString().match(/^([\-0-9.]+)(px|)$/))?parseFloat(nn[1]):0}function mapAlignmentBaseline(en){return _g[en]||"alphabetic"}function parseFloats(en){for(var tn,nn=[],rn=/[+-]?(?:(?:\d+\.?\d*)|(?:\d*\.?\d+))(?:[eE][+-]?\d+)?/g;tn=rn.exec(en);)nn.push(parseFloat(tn[0]));return nn}function parseColor(en,tn){if("transparent"===en){var nn=new wg("rgb(0,0,0)");return nn.a=0,nn}if("currentcolor"===en.toLowerCase())return tn||new wg("rgb(0,0,0)");var rn=/\s*rgba\(((?:[^,\)]*,){3}[^,\)]*)\)\s*/.exec(en);if(rn){var an=parseFloats(rn[1]),sn=new wg("rgb("+an.slice(0,3).join(",")+")");return sn.a=an[3],sn}return new wg(en)}var Og,Mg={"sans-serif":"helvetica",verdana:"helvetica",arial:"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",serif:"times",cursive:"times",fantasy:"times"},Rg=(Og=E.version.split("."),2===parseFloat(Og[0])&&3===parseFloat(Og[1]));function combineFontStyleAndFontWeight(en,tn){return Rg?400==tn?"italic"==en?"italic":"normal":700==tn&&"italic"!==en?"bold":en+""+tn:400==tn||"normal"===tn?"italic"===en?"italic":"normal":700!=tn&&"bold"!==tn||"normal"!==en?(700==tn?"bold":tn)+""+en:"bold"}function getBoundingBoxByChildren(en,tn){if("none"===getAttribute(tn.element,en.styleSheets,"display"))return[0,0,0,0];var nn=[0,0,0,0];return tn.children.forEach((function(tn){var rn=tn.getBoundingBox(en);nn=[Math.min(nn[0],rn[0]),Math.min(nn[1],rn[1]),Math.max(nn[0]+nn[2],rn[0]+rn[2])-Math.min(nn[0],rn[0]),Math.max(nn[1]+nn[3],rn[1]+rn[3])-Math.min(nn[1],rn[1])]})),nn}function defaultBoundingBox(en,tn){var nn=parseFloat,rn=nn(en.getAttribute("x1"))||nn(getAttribute(en,tn.styleSheets,"x"))||nn(getAttribute(en,tn.styleSheets,"cx"))-nn(getAttribute(en,tn.styleSheets,"r"))||0,an=nn(en.getAttribute("x2"))||rn+nn(getAttribute(en,tn.styleSheets,"width"))||nn(getAttribute(en,tn.styleSheets,"cx"))+nn(getAttribute(en,tn.styleSheets,"r"))||0,sn=nn(en.getAttribute("y1"))||nn(getAttribute(en,tn.styleSheets,"y"))||nn(getAttribute(en,tn.styleSheets,"cy"))-nn(getAttribute(en,tn.styleSheets,"r"))||0,An=nn(en.getAttribute("y2"))||sn+nn(getAttribute(en,tn.styleSheets,"height"))||nn(getAttribute(en,tn.styleSheets,"cy"))+nn(getAttribute(en,tn.styleSheets,"r"))||0;return[Math.min(rn,an),Math.min(sn,An),Math.max(rn,an)-Math.min(rn,an),Math.max(sn,An)-Math.min(sn,An)]}function computeViewBoxTransform(en,tn,nn,rn,an,sn,An,cn){void 0===cn&&(cn=!1);var un,hn,dn=tn[0],pn=tn[1],gn=tn[2],mn=tn[3],vn=an/gn,yn=sn/mn,bn=en.getAttribute("preserveAspectRatio");if(bn){var wn=bn.split(" ");"defer"===wn[0]&&(wn=wn.slice(1)),un=wn[0],hn=wn[1]||"meet"}else un="xMidYMid",hn="meet";if("none"!==un&&("meet"===hn?vn=yn=Math.min(vn,yn):"slice"===hn&&(vn=yn=Math.max(vn,yn))),cn)return An.pdf.Matrix(vn,0,0,yn,0,0);var Cn=nn-dn*vn,xn=rn-pn*yn;un.indexOf("xMid")>=0?Cn+=(an-gn*vn)/2:un.indexOf("xMax")>=0&&(Cn+=an-gn*vn),un.indexOf("YMid")>=0?xn+=(sn-mn*yn)/2:un.indexOf("YMax")>=0&&(xn+=sn-mn*yn);var Bn=An.pdf.Matrix(1,0,0,1,Cn,xn),_n=An.pdf.Matrix(vn,0,0,yn,0,0);return An.pdf.matrixMult(_n,Bn)}function parseTransform$1(en,tn){if(!en||"none"===en)return tn.pdf.unitMatrix;for(var nn,rn,an=/^[\s,]*matrix\(([^)]+)\)\s*/,sn=/^[\s,]*translate\(([^)]+)\)\s*/,An=/^[\s,]*rotate\(([^)]+)\)\s*/,cn=/^[\s,]*scale\(([^)]+)\)\s*/,un=/^[\s,]*skewX\(([^)]+)\)\s*/,hn=/^[\s,]*skewY\(([^)]+)\)\s*/,dn=tn.pdf.unitMatrix;en.length>0&&en.length!==rn;){rn=en.length;var pn=an.exec(en);if(pn&&(nn=parseFloats(pn[1]),dn=tn.pdf.matrixMult(tn.pdf.Matrix(nn[0],nn[1],nn[2],nn[3],nn[4],nn[5]),dn),en=en.substr(pn[0].length)),pn=An.exec(en)){nn=parseFloats(pn[1]);var gn=Math.PI*nn[0]/180;if(dn=tn.pdf.matrixMult(tn.pdf.Matrix(Math.cos(gn),Math.sin(gn),-Math.sin(gn),Math.cos(gn),0,0),dn),nn[1]||nn[2]){var mn=tn.pdf.Matrix(1,0,0,1,nn[1],nn[2]),vn=tn.pdf.Matrix(1,0,0,1,-nn[1],-nn[2]);dn=tn.pdf.matrixMult(vn,tn.pdf.matrixMult(dn,mn))}en=en.substr(pn[0].length)}(pn=sn.exec(en))&&(nn=parseFloats(pn[1]),dn=tn.pdf.matrixMult(tn.pdf.Matrix(1,0,0,1,nn[0],nn[1]||0),dn),en=en.substr(pn[0].length)),(pn=cn.exec(en))&&((nn=parseFloats(pn[1]))[1]||(nn[1]=nn[0]),dn=tn.pdf.matrixMult(tn.pdf.Matrix(nn[0],0,0,nn[1],0,0),dn),en=en.substr(pn[0].length)),(pn=un.exec(en))&&(nn=parseFloat(pn[1]),nn*=Math.PI/180,dn=tn.pdf.matrixMult(tn.pdf.Matrix(1,0,Math.tan(nn),1,0,0),dn),en=en.substr(pn[0].length)),(pn=hn.exec(en))&&(nn=parseFloat(pn[1]),nn*=Math.PI/180,dn=tn.pdf.matrixMult(tn.pdf.Matrix(1,Math.tan(nn),0,1,0,0),dn),en=en.substr(pn[0].length))}return dn}var Hg=function(){function SvgNode(en,tn){this.element=en,this.children=tn,this.parent=null}return SvgNode.prototype.setParent=function(en){this.parent=en},SvgNode.prototype.getParent=function(){return this.parent},SvgNode.prototype.getBoundingBox=function(en){return"none"===getAttribute(this.element,en.styleSheets,"display")?[0,0,0,0]:this.getBoundingBoxCore(en)},SvgNode.prototype.computeNodeTransform=function(en){var tn=this.computeNodeTransformCore(en),nn=getAttribute(this.element,en.styleSheets,"transform");return nn?en.pdf.matrixMult(tn,parseTransform$1(nn,en)):tn},SvgNode}(),Dg=function(en){function NonRenderedNode(){return null!==en&&en.apply(this,arguments)||this}return __extends(NonRenderedNode,en),NonRenderedNode.prototype.render=function(en){return Promise.resolve()},NonRenderedNode.prototype.getBoundingBoxCore=function(en){return[]},NonRenderedNode.prototype.computeNodeTransformCore=function(en){return en.pdf.unitMatrix},NonRenderedNode}(Hg),$g=function(en){function Gradient(tn,nn,rn){var an=en.call(this,nn,rn)||this;return an.pdfGradientType=tn,an.contextColor=void 0,an}return __extends(Gradient,en),Gradient.prototype.apply=function(en){return __awaiter(this,void 0,void 0,(function(){var tn,nn,rn,an,sn,An;return __generator(this,(function(cn){return(tn=this.element.getAttribute("id"))?(nn=this.getStops(en.styleSheets),rn=0,an=!1,nn.forEach((function(en){var tn=en.opacity;tn&&1!==tn&&(rn+=tn,an=!0)})),an&&(sn=new j({opacity:rn/nn.length})),An=new B(this.pdfGradientType,this.getCoordinates(),nn,sn),en.pdf.addShadingPattern(tn,An),[2]):[2]}))}))},Gradient.prototype.getStops=function(en){var tn=this;if(this.stops)return this.stops;if(void 0===this.contextColor){this.contextColor=null;for(var nn=this;nn;){var rn=getAttribute(nn.element,en,"color");if(rn){this.contextColor=parseColor(rn,null);break}nn=nn.getParent()}}var an=[];return this.children.forEach((function(nn){if("stop"===nn.element.tagName.toLowerCase()){var rn=getAttribute(nn.element,en,"color"),sn=parseColor(getAttribute(nn.element,en,"stop-color")||"",rn?parseColor(rn,null):tn.contextColor),An=parseFloat(getAttribute(nn.element,en,"stop-opacity")||"1");an.push({offset:Gradient.parseGradientOffset(nn.element.getAttribute("offset")||"0"),color:[sn.r,sn.g,sn.b],opacity:An})}})),this.stops=an},Gradient.prototype.getBoundingBoxCore=function(en){return defaultBoundingBox(this.element,en)},Gradient.prototype.computeNodeTransformCore=function(en){return en.pdf.unitMatrix},Gradient.prototype.isVisible=function(en,tn){return svgNodeAndChildrenVisible(this,en,tn)},Gradient.parseGradientOffset=function(en){var tn=parseFloat(en);return!isNaN(tn)&&en.indexOf("%")>=0?tn/100:tn},Gradient}(Dg),Gg=function(en){function LinearGradient(tn,nn){return en.call(this,"axial",tn,nn)||this}return __extends(LinearGradient,en),LinearGradient.prototype.getCoordinates=function(){return[parseFloat(this.element.getAttribute("x1")||"0"),parseFloat(this.element.getAttribute("y1")||"0"),parseFloat(this.element.getAttribute("x2")||"1"),parseFloat(this.element.getAttribute("y2")||"0")]},LinearGradient}($g),jg=function(en){function RadialGradient(tn,nn){return en.call(this,"radial",tn,nn)||this}return __extends(RadialGradient,en),RadialGradient.prototype.getCoordinates=function(){var en=this.element.getAttribute("cx"),tn=this.element.getAttribute("cy"),nn=this.element.getAttribute("fx"),rn=this.element.getAttribute("fy");return[parseFloat(nn||en||"0.5"),parseFloat(rn||tn||"0.5"),0,parseFloat(en||"0.5"),parseFloat(tn||"0.5"),parseFloat(this.element.getAttribute("r")||"0.5")]},RadialGradient}($g),Vg=function(){function GradientFill(en,tn){this.key=en,this.gradient=tn}return GradientFill.prototype.getFillData=function(en,tn){return __awaiter(this,void 0,void 0,(function(){var nn,rn,an;return __generator(this,(function(sn){switch(sn.label){case 0:return[4,tn.refsHandler.getRendered(this.key,null,(function(en){return en.apply(new kg(tn.pdf,{refsHandler:tn.refsHandler,textMeasure:tn.textMeasure,styleSheets:tn.styleSheets,viewport:tn.viewport,svg2pdfParameters:tn.svg2pdfParameters}))}))];case 1:return sn.sent(),this.gradient.element.hasAttribute("gradientUnits")&&"objectboundingbox"!==this.gradient.element.getAttribute("gradientUnits").toLowerCase()?nn=tn.pdf.unitMatrix:(rn=en.getBoundingBox(tn),nn=tn.pdf.Matrix(rn[2],0,0,rn[3],rn[0],rn[1])),an=parseTransform$1(getAttribute(this.gradient.element,tn.styleSheets,"gradientTransform","transform"),tn),[2,{key:this.key,matrix:tn.pdf.matrixMult(an,nn)}]}}))}))},GradientFill}(),Kg=function(en){function Pattern(){return null!==en&&en.apply(this,arguments)||this}return __extends(Pattern,en),Pattern.prototype.apply=function(en){return __awaiter(this,void 0,void 0,(function(){var tn,nn,rn,an,sn;return __generator(this,(function(An){switch(An.label){case 0:if(!(tn=this.element.getAttribute("id")))return[2];nn=this.getBoundingBox(en),rn=new M([nn[0],nn[1],nn[0]+nn[2],nn[1]+nn[3]],nn[2],nn[3]),en.pdf.beginTilingPattern(rn),an=0,sn=this.children,An.label=1;case 1:return an<sn.length?[4,sn[an].render(new kg(en.pdf,{attributeState:en.attributeState,refsHandler:en.refsHandler,styleSheets:en.styleSheets,viewport:en.viewport,svg2pdfParameters:en.svg2pdfParameters}))]:[3,4];case 2:An.sent(),An.label=3;case 3:return an++,[3,1];case 4:return en.pdf.endTilingPattern(tn,rn),[2]}}))}))},Pattern.prototype.getBoundingBoxCore=function(en){return defaultBoundingBox(this.element,en)},Pattern.prototype.computeNodeTransformCore=function(en){return en.pdf.unitMatrix},Pattern.prototype.isVisible=function(en,tn){return svgNodeAndChildrenVisible(this,en,tn)},Pattern}(Dg),qg=function(){function PatternFill(en,tn){this.key=en,this.pattern=tn}return PatternFill.prototype.getFillData=function(en,tn){return __awaiter(this,void 0,void 0,(function(){var nn,rn,an,sn,An,cn,un,hn,dn,pn,gn,mn;return __generator(this,(function(vn){switch(vn.label){case 0:return[4,tn.refsHandler.getRendered(this.key,null,(function(en){return en.apply(new kg(tn.pdf,{refsHandler:tn.refsHandler,textMeasure:tn.textMeasure,styleSheets:tn.styleSheets,viewport:tn.viewport,svg2pdfParameters:tn.svg2pdfParameters}))}))];case 1:return vn.sent(),nn={key:this.key,boundingBox:void 0,xStep:0,yStep:0,matrix:void 0},an=tn.pdf.unitMatrix,this.pattern.element.hasAttribute("patternUnits")&&"objectboundingbox"!==this.pattern.element.getAttribute("patternUnits").toLowerCase()||(rn=en.getBoundingBox(tn),an=tn.pdf.Matrix(1,0,0,1,rn[0],rn[1]),An=this.pattern.getBoundingBox(tn),cn=An[0]*rn[0]||0,un=An[1]*rn[1]||0,hn=An[2]*rn[2]||0,dn=An[3]*rn[3]||0,nn.boundingBox=[cn,un,cn+hn,un+dn],nn.xStep=hn,nn.yStep=dn),sn=tn.pdf.unitMatrix,this.pattern.element.hasAttribute("patternContentUnits")&&"objectboundingbox"===this.pattern.element.getAttribute("patternContentUnits").toLowerCase()&&(rn||(rn=en.getBoundingBox(tn)),sn=tn.pdf.Matrix(rn[2],0,0,rn[3],0,0),An=nn.boundingBox||this.pattern.getBoundingBox(tn),cn=An[0]/rn[0]||0,un=An[1]/rn[1]||0,hn=An[2]/rn[2]||0,dn=An[3]/rn[3]||0,nn.boundingBox=[cn,un,cn+hn,un+dn],nn.xStep=hn,nn.yStep=dn),pn=tn.pdf.unitMatrix,(gn=getAttribute(this.pattern.element,tn.styleSheets,"patternTransform","transform"))&&(pn=parseTransform$1(gn,tn)),mn=sn,mn=tn.pdf.matrixMult(mn,an),mn=tn.pdf.matrixMult(mn,pn),mn=tn.pdf.matrixMult(mn,tn.transform),nn.matrix=mn,[2,nn]}}))}))},PatternFill}();function parseAttributes(en,tn,nn){var rn=nn||tn.element,an=getAttribute(rn,en.styleSheets,"color");if(an){var sn=parseColor(an,en.attributeState.color);sn.ok?en.attributeState.color=sn:en.attributeState.color=new wg("rgb(0,0,0)")}var An=getAttribute(rn,en.styleSheets,"visibility");An&&(en.attributeState.visibility=An);var cn=getAttribute(rn,en.styleSheets,"fill");cn&&(en.attributeState.fill=function parseFill(en,tn){var nn=Bg.exec(en);if(nn){var rn=nn[1],an=tn.refsHandler.get(rn);return an&&(an instanceof Gg||an instanceof jg)?function getGradientFill(en,tn,nn){var rn=tn.getStops(nn.styleSheets);if(0===rn.length)return null;if(1===rn.length){var an=rn[0].color,sn=new wg;return sn.ok=!0,sn.r=an[0],sn.g=an[1],sn.b=an[2],sn.a=rn[0].opacity,new Cg(sn)}return new Vg(en,tn)}(rn,an,tn):an&&an instanceof Kg?new qg(rn,an):new Cg(new wg("rgb(0, 0, 0)"))}var sn=parseColor(en,tn.attributeState.color);return sn.ok?new Cg(sn):null}(cn,en));var un=getAttribute(rn,en.styleSheets,"fill-opacity");un&&(en.attributeState.fillOpacity=parseFloat(un));var hn=getAttribute(rn,en.styleSheets,"stroke-opacity");hn&&(en.attributeState.strokeOpacity=parseFloat(hn));var dn=getAttribute(rn,en.styleSheets,"opacity");dn&&(en.attributeState.opacity=parseFloat(dn));var pn=getAttribute(rn,en.styleSheets,"stroke-width");void 0!==pn&&""!==pn&&(en.attributeState.strokeWidth=Math.abs(parseFloat(pn)));var gn=getAttribute(rn,en.styleSheets,"stroke");if(gn)if("none"===gn)en.attributeState.stroke=null;else{var mn=parseColor(gn,en.attributeState.color);mn.ok&&(en.attributeState.stroke=new Cg(mn))}var vn=getAttribute(rn,en.styleSheets,"stroke-linecap");vn&&(en.attributeState.strokeLinecap=vn);var yn=getAttribute(rn,en.styleSheets,"stroke-linejoin");yn&&(en.attributeState.strokeLinejoin=yn);var bn=getAttribute(rn,en.styleSheets,"stroke-dasharray");if(bn){var wn=parseInt(getAttribute(rn,en.styleSheets,"stroke-dashoffset")||"0");en.attributeState.strokeDasharray=parseFloats(bn),en.attributeState.strokeDashoffset=wn}var Cn=getAttribute(rn,en.styleSheets,"stroke-miterlimit");void 0!==Cn&&""!==Cn&&(en.attributeState.strokeMiterlimit=parseFloat(Cn));var xn=rn.getAttribute("xml:space");xn&&(en.attributeState.xmlSpace=xn);var Bn=getAttribute(rn,en.styleSheets,"font-weight");Bn&&(en.attributeState.fontWeight=Bn);var _n=getAttribute(rn,en.styleSheets,"font-style");_n&&(en.attributeState.fontStyle=_n);var Sn=getAttribute(rn,en.styleSheets,"font-family");if(Sn){var kn=function fontFamilyPapandreou_parse(en){for(var tn,nn,rn=!0,an=0,sn="",An=0,cn=[];;){if(nn=en[An],0===an){if(!nn&&rn)break;if(!nn&&!rn)throw new Error("Parse error");if('"'===nn||"'"===nn)tn=nn,an=1,rn=!1;else if(ag.test(nn));else{if(!ig.test(nn))throw new Error("Parse error");an=3,rn=!1,An--}}else if(1===an){if(!nn)throw new Error("Parse Error");"\\"===nn?an=2:nn===tn?(cn.push(sn),sn="",an=4):sn+=nn}else if(2===an){if(nn!==tn&&"\\"!==nn)throw new Error("Parse error");sn+=nn,an=1}else if(3===an){if(!nn){cn.push(sn);break}ig.test(nn)?sn+=nn:","===nn?(cn.push(sn),sn="",an=0):ag.test(nn)?an=5:"\\"===nn&&(an=6)}else if(6===an){if(/[0-9a-f]/i.test(nn))throw new Error("Parse error");sn+=nn,an=3}else if(5===an){if(!nn){cn.push(sn);break}if(ig.test(nn))sn+=" "+nn,an=3;else if(","===nn)cn.push(sn),sn="",an=0;else if(!ag.test(nn))throw new Error("Parse error")}else if(4===an){if(!nn)break;if(","===nn)an=0;else if(!ag.test(nn))throw new Error("Parse error")}An++}return cn}(Sn);en.attributeState.fontFamily=function findFirstAvailableFontFamily(en,tn,nn){var rn=combineFontStyleAndFontWeight(en.fontStyle,en.fontWeight),an=nn.pdf.getFontList(),sn="";return tn.some((function(en){var tn=an[en];return tn&&tn.indexOf(rn)>=0?(sn=en,!0):(en=en.toLowerCase(),!!Mg.hasOwnProperty(en)&&(sn=en,!0))}))||(sn="times"),sn}(en.attributeState,kn,en)}var En=getAttribute(rn,en.styleSheets,"font-size");if(En){var Pn=en.pdf.getFontSize();en.attributeState.fontSize=toPixels(En,Pn)}var Fn=getAttribute(rn,en.styleSheets,"vertical-align")||getAttribute(rn,en.styleSheets,"alignment-baseline");if(Fn){var Ln=Fn.match(/(baseline|text-bottom|alphabetic|ideographic|middle|central|mathematical|text-top|bottom|center|top|hanging)/);Ln&&(en.attributeState.alignmentBaseline=Ln[0])}var In=getAttribute(rn,en.styleSheets,"text-anchor");In&&(en.attributeState.textAnchor=In)}function applyAttributes(en,tn,nn){var rn=1,an=1;rn*=en.attributeState.fillOpacity,rn*=en.attributeState.opacity,en.attributeState.fill instanceof Cg&&void 0!==en.attributeState.fill.color.a&&(rn*=en.attributeState.fill.color.a),an*=en.attributeState.strokeOpacity,an*=en.attributeState.opacity,en.attributeState.stroke instanceof Cg&&void 0!==en.attributeState.stroke.color.a&&(an*=en.attributeState.stroke.color.a);var sn,An,cn=rn<1,un=an<1;if(nodeIs(nn,"use")?(cn=!0,un=!0,rn*=en.attributeState.fill?1:0,an*=en.attributeState.stroke?1:0):en.withinUse&&(en.attributeState.fill!==tn.attributeState.fill?(cn=!0,rn*=en.attributeState.fill?1:0):cn&&!en.attributeState.fill&&(rn=0),en.attributeState.stroke!==tn.attributeState.stroke?(un=!0,an*=en.attributeState.stroke?1:0):un&&!en.attributeState.stroke&&(an=0)),cn||un){var hn={};cn&&(hn.opacity=rn),un&&(hn["stroke-opacity"]=an),en.pdf.setGState(new j(hn))}if(en.attributeState.fill&&en.attributeState.fill!==tn.attributeState.fill&&en.attributeState.fill instanceof Cg&&en.attributeState.fill.color.ok&&!nodeIs(nn,"text")&&en.pdf.setFillColor(en.attributeState.fill.color.r,en.attributeState.fill.color.g,en.attributeState.fill.color.b),en.attributeState.strokeWidth!==tn.attributeState.strokeWidth&&en.pdf.setLineWidth(en.attributeState.strokeWidth),en.attributeState.stroke!==tn.attributeState.stroke&&en.attributeState.stroke instanceof Cg&&en.pdf.setDrawColor(en.attributeState.stroke.color.r,en.attributeState.stroke.color.g,en.attributeState.stroke.color.b),en.attributeState.strokeLinecap!==tn.attributeState.strokeLinecap&&en.pdf.setLineCap(en.attributeState.strokeLinecap),en.attributeState.strokeLinejoin!==tn.attributeState.strokeLinejoin&&en.pdf.setLineJoin(en.attributeState.strokeLinejoin),en.attributeState.strokeDasharray===tn.attributeState.strokeDasharray&&en.attributeState.strokeDashoffset===tn.attributeState.strokeDashoffset||!en.attributeState.strokeDasharray||en.pdf.setLineDashPattern(en.attributeState.strokeDasharray,en.attributeState.strokeDashoffset),en.attributeState.strokeMiterlimit!==tn.attributeState.strokeMiterlimit&&en.pdf.setLineMiterLimit(en.attributeState.strokeMiterlimit),en.attributeState.fontFamily!==tn.attributeState.fontFamily&&(sn=Mg.hasOwnProperty(en.attributeState.fontFamily)?Mg[en.attributeState.fontFamily]:en.attributeState.fontFamily),en.attributeState.fill&&en.attributeState.fill!==tn.attributeState.fill&&en.attributeState.fill instanceof Cg&&en.attributeState.fill.color.ok){var dn=en.attributeState.fill.color;en.pdf.setTextColor(dn.r,dn.g,dn.b)}en.attributeState.fontWeight===tn.attributeState.fontWeight&&en.attributeState.fontStyle===tn.attributeState.fontStyle||(An=combineFontStyleAndFontWeight(en.attributeState.fontStyle,en.attributeState.fontWeight)),void 0===sn&&void 0===An||(void 0===sn&&(sn=Mg.hasOwnProperty(en.attributeState.fontFamily)?Mg[en.attributeState.fontFamily]:en.attributeState.fontFamily),en.pdf.setFont(sn,An)),en.attributeState.fontSize!==tn.attributeState.fontSize&&en.pdf.setFontSize(en.attributeState.fontSize*en.pdf.internal.scaleFactor)}function getClipPathNode(en,tn,nn){var rn=Bg.exec(en);if(rn){var an=rn[1];return nn.refsHandler.get(an)||void 0}}function applyClipPath(en,tn,nn){return __awaiter(this,void 0,void 0,(function(){var rn,an;return __generator(this,(function(sn){switch(sn.label){case 0:return rn=nn.clone(),tn.element.hasAttribute("clipPathUnits")&&"objectboundingbox"===tn.element.getAttribute("clipPathUnits").toLowerCase()&&(an=en.getBoundingBox(nn),rn.transform=nn.pdf.matrixMult(nn.pdf.Matrix(an[2],0,0,an[3],an[0],an[1]),nn.transform)),[4,tn.apply(rn)];case 1:return sn.sent(),[2]}}))}))}var zg=function(en){function RenderedNode(){return null!==en&&en.apply(this,arguments)||this}return __extends(RenderedNode,en),RenderedNode.prototype.render=function(en){return __awaiter(this,void 0,void 0,(function(){var tn,nn,rn,an;return __generator(this,(function(sn){switch(sn.label){case 0:return this.isVisible("hidden"!==en.attributeState.visibility,en)?((tn=en.clone()).transform=tn.pdf.matrixMult(this.computeNodeTransform(tn),en.transform),parseAttributes(tn,this),nn=getAttribute(this.element,tn.styleSheets,"clip-path"),(rn=nn&&"none"!==nn)?(an=getClipPathNode(nn,0,tn))?an.isVisible(!0,tn)?(tn.pdf.saveGraphicsState(),[4,applyClipPath(this,an,tn)]):[3,2]:[3,4]:[3,5]):[2];case 1:return sn.sent(),[3,3];case 2:return[2];case 3:return[3,5];case 4:rn=!1,sn.label=5;case 5:return tn.withinClipPath||tn.pdf.saveGraphicsState(),applyAttributes(tn,en,this.element),[4,this.renderCore(tn)];case 6:return sn.sent(),tn.withinClipPath||tn.pdf.restoreGraphicsState(),rn&&tn.pdf.restoreGraphicsState(),[2]}}))}))},RenderedNode}(Hg),Wg=function(en){function GraphicsNode(){return null!==en&&en.apply(this,arguments)||this}return __extends(GraphicsNode,en),GraphicsNode}(zg),Xg=function(en){function GeometryNode(tn,nn,rn){var an=en.call(this,nn,rn)||this;return an.cachedPath=null,an.hasMarkers=tn,an}return __extends(GeometryNode,en),GeometryNode.prototype.renderCore=function(en){return __awaiter(this,void 0,void 0,(function(){var tn;return __generator(this,(function(nn){switch(nn.label){case 0:return null===(tn=this.getCachedPath(en))||0===tn.segments.length?[2]:(en.withinClipPath?tn.transform(en.transform):en.pdf.setCurrentTransformationMatrix(en.transform),tn.draw(en),[4,this.fillOrStroke(en)]);case 1:return nn.sent(),this.hasMarkers?[4,this.drawMarkers(en,tn)]:[3,3];case 2:nn.sent(),nn.label=3;case 3:return[2]}}))}))},GeometryNode.prototype.getCachedPath=function(en){return this.cachedPath||(this.cachedPath=this.getPath(en))},GeometryNode.prototype.drawMarkers=function(en,tn){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(nn){switch(nn.label){case 0:return[4,this.getMarkers(tn,en).draw(en.clone({transform:en.pdf.unitMatrix}))];case 1:return nn.sent(),[2]}}))}))},GeometryNode.prototype.fillOrStroke=function(en){return __awaiter(this,void 0,void 0,(function(){var tn,nn,rn,an,sn;return __generator(this,(function(An){switch(An.label){case 0:return en.withinClipPath?[2]:(tn=en.attributeState.fill,nn=en.attributeState.stroke&&0!==en.attributeState.strokeWidth,tn?[4,tn.getFillData(this,en)]:[3,2]);case 1:return an=An.sent(),[3,3];case 2:an=void 0,An.label=3;case 3:return rn=an,sn="evenodd"===getAttribute(this.element,en.styleSheets,"fill-rule"),tn&&nn||en.withinUse?sn?en.pdf.fillStrokeEvenOdd(rn):en.pdf.fillStroke(rn):tn?sn?en.pdf.fillEvenOdd(rn):en.pdf.fill(rn):nn?en.pdf.stroke():en.pdf.discardPath(),[2]}}))}))},GeometryNode.prototype.getBoundingBoxCore=function(en){var tn=this.getCachedPath(en);if(!tn)return[0,0,0,0];for(var nn=Number.POSITIVE_INFINITY,rn=Number.POSITIVE_INFINITY,an=Number.NEGATIVE_INFINITY,sn=Number.NEGATIVE_INFINITY,An=0,cn=0,un=0;un<tn.segments.length;un++){var hn=tn.segments[un];(hn instanceof Lg||hn instanceof Ig||hn instanceof Ug)&&(An=hn.x,cn=hn.y),hn instanceof Ug?(nn=Math.min(nn,An,hn.x1,hn.x2,hn.x),an=Math.max(an,An,hn.x1,hn.x2,hn.x),rn=Math.min(rn,cn,hn.y1,hn.y2,hn.y),sn=Math.max(sn,cn,hn.y1,hn.y2,hn.y)):(nn=Math.min(nn,An),an=Math.max(an,An),rn=Math.min(rn,cn),sn=Math.max(sn,cn))}return[nn,rn,an-nn,sn-rn]},GeometryNode.prototype.getMarkers=function(en,tn){var nn=getAttribute(this.element,tn.styleSheets,"marker-start"),rn=getAttribute(this.element,tn.styleSheets,"marker-mid"),an=getAttribute(this.element,tn.styleSheets,"marker-end"),sn=new Qg;if(nn||rn||an){an&&(an=iri(an)),nn&&(nn=iri(nn)),rn&&(rn=iri(rn));for(var An=en.segments,cn=[1,0],un=void 0,hn=!1,dn=[1,0],pn=!1,gn=function _loop_1(en){var tn=An[en],gn=nn&&(1===en||!(An[en]instanceof Lg)&&An[en-1]instanceof Lg);gn&&An.forEach((function(tn,nn){if(!pn&&tn instanceof Tg&&nn>en){var rn=An[nn-1];pn=(rn instanceof Lg||rn instanceof Ig||rn instanceof Ug)&&rn}}));var mn=an&&(en===An.length-1||!(An[en]instanceof Lg)&&An[en+1]instanceof Lg),vn=rn&&en>0&&!(1===en&&An[en-1]instanceof Lg),yn=An[en-1]||null;if(yn instanceof Lg||yn instanceof Ig||yn instanceof Ug)if(tn instanceof Ug)gn&&sn.addMarker(new Ng(nn,[yn.x,yn.y],getAngle(pn?[pn.x,pn.y]:[yn.x,yn.y],[tn.x1,tn.y1]))),mn&&sn.addMarker(new Ng(an,[tn.x,tn.y],getAngle([tn.x2,tn.y2],[tn.x,tn.y]))),vn&&(un=getDirectionVector([yn.x,yn.y],[tn.x1,tn.y1]),un=yn instanceof Lg?un:normalize$1(addVectors(cn,un)),sn.addMarker(new Ng(rn,[yn.x,yn.y],Math.atan2(un[1],un[0])))),cn=getDirectionVector([tn.x2,tn.y2],[tn.x,tn.y]);else if(tn instanceof Lg||tn instanceof Ig){if(un=getDirectionVector([yn.x,yn.y],[tn.x,tn.y]),gn){var bn=pn?getDirectionVector([pn.x,pn.y],[tn.x,tn.y]):un;sn.addMarker(new Ng(nn,[yn.x,yn.y],Math.atan2(bn[1],bn[0])))}mn&&sn.addMarker(new Ng(an,[tn.x,tn.y],Math.atan2(un[1],un[0]))),vn&&(bn=tn instanceof Lg?cn:yn instanceof Lg?un:normalize$1(addVectors(cn,un)),sn.addMarker(new Ng(rn,[yn.x,yn.y],Math.atan2(bn[1],bn[0])))),cn=un}else tn instanceof Tg&&(un=getDirectionVector([yn.x,yn.y],[hn.x,hn.y]),vn&&(bn=yn instanceof Lg?un:normalize$1(addVectors(cn,un)),sn.addMarker(new Ng(rn,[yn.x,yn.y],Math.atan2(bn[1],bn[0])))),mn&&(bn=normalize$1(addVectors(un,dn)),sn.addMarker(new Ng(an,[hn.x,hn.y],Math.atan2(bn[1],bn[0])))),cn=un);else{hn=tn instanceof Lg&&tn;var wn=An[en+1];(wn instanceof Lg||wn instanceof Ig||wn instanceof Ug)&&(dn=getDirectionVector([hn.x,hn.y],[wn.x,wn.y]))}},mn=0;mn<An.length;mn++)gn(mn)}return sn},GeometryNode}(Wg);function iri(en){var tn=Bg.exec(en);return tn&&tn[1]||void 0}var Yg=function(en){function Line(tn,nn){return en.call(this,!0,tn,nn)||this}return __extends(Line,en),Line.prototype.getPath=function(en){if(en.withinClipPath||null===en.attributeState.stroke)return null;var tn=parseFloat(this.element.getAttribute("x1")||"0"),nn=parseFloat(this.element.getAttribute("y1")||"0"),rn=parseFloat(this.element.getAttribute("x2")||"0"),an=parseFloat(this.element.getAttribute("y2")||"0");return tn||rn||nn||an?(new Fg).moveTo(tn,nn).lineTo(rn,an):null},Line.prototype.computeNodeTransformCore=function(en){return en.pdf.unitMatrix},Line.prototype.isVisible=function(en,tn){return svgNodeIsVisible(this,en,tn)},Line.prototype.fillOrStroke=function(tn){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(nn){switch(nn.label){case 0:return tn.attributeState.fill=null,[4,en.prototype.fillOrStroke.call(this,tn)];case 1:return nn.sent(),[2]}}))}))},Line}(Xg),Jg=function(en){function _Symbol(){return null!==en&&en.apply(this,arguments)||this}return __extends(_Symbol,en),_Symbol.prototype.apply=function(en){return __awaiter(this,void 0,void 0,(function(){var tn,nn,rn,an,sn;return __generator(this,(function(An){switch(An.label){case 0:return this.isVisible("hidden"!==en.attributeState.visibility,en)?((tn=en.clone()).transform=tn.pdf.unitMatrix,parseAttributes(tn,this),(nn=getAttribute(this.element,tn.styleSheets,"clip-path"))&&"none"!==nn&&(rn=getClipPathNode(nn,0,tn))?rn.isVisible(!0,tn)?[4,applyClipPath(this,rn,tn)]:[3,2]:[3,3]):[2];case 1:return An.sent(),[3,3];case 2:return[2];case 3:applyAttributes(tn,en,this.element),an=0,sn=this.children,An.label=4;case 4:return an<sn.length?[4,sn[an].render(tn)]:[3,7];case 5:An.sent(),An.label=6;case 6:return an++,[3,4];case 7:return[2]}}))}))},_Symbol.prototype.getBoundingBoxCore=function(en){return getBoundingBoxByChildren(en,this)},_Symbol.prototype.isVisible=function(en,tn){return svgNodeAndChildrenVisible(this,en,tn)},_Symbol.prototype.computeNodeTransformCore=function(en){var tn=parseFloat(getAttribute(this.element,en.styleSheets,"x")||"0"),nn=parseFloat(getAttribute(this.element,en.styleSheets,"y")||"0"),rn=this.element.getAttribute("viewBox");if(rn){var an=parseFloats(rn),sn=parseFloat(getAttribute(this.element,en.styleSheets,"width")||getAttribute(this.element.ownerSVGElement,en.styleSheets,"width")||rn[2]),An=parseFloat(getAttribute(this.element,en.styleSheets,"height")||getAttribute(this.element.ownerSVGElement,en.styleSheets,"height")||rn[3]);return computeViewBoxTransform(this.element,an,tn,nn,sn,An,en)}return en.pdf.Matrix(1,0,0,1,tn,nn)},_Symbol}(Dg),Zg=function qs(en,tn){this.width=en,this.height=tn},ef=function(en){function Use(){return null!==en&&en.apply(this,arguments)||this}return __extends(Use,en),Use.prototype.renderCore=function(en){return __awaiter(this,void 0,void 0,(function(){var tn,nn,rn,an,sn,An,cn,un,hn,dn,pn,gn,mn;return __generator(this,(function(vn){switch(vn.label){case 0:return tn=parseFloat,(nn=this.element.getAttribute("href")||this.element.getAttribute("xlink:href"))?(rn=nn.substring(1),an=en.refsHandler.get(rn),sn=nodeIs(an.element,"symbol,svg")&&an.element.hasAttribute("viewBox"),An=tn(getAttribute(this.element,en.styleSheets,"x")||"0"),cn=tn(getAttribute(this.element,en.styleSheets,"y")||"0"),un=void 0,hn=void 0,sn?(un=tn(getAttribute(this.element,en.styleSheets,"width")||getAttribute(an.element,en.styleSheets,"width")||"0"),hn=tn(getAttribute(this.element,en.styleSheets,"height")||getAttribute(an.element,en.styleSheets,"height")||"0"),An+=tn(getAttribute(an.element,en.styleSheets,"x")||"0"),cn+=tn(getAttribute(an.element,en.styleSheets,"y")||"0"),pn=parseFloats(an.element.getAttribute("viewBox")),dn=computeViewBoxTransform(an.element,pn,An,cn,un,hn,en)):dn=en.pdf.Matrix(1,0,0,1,An,cn),gn=new kg(en.pdf,{refsHandler:en.refsHandler,styleSheets:en.styleSheets,withinUse:!0,viewport:sn?new Zg(un,hn):en.viewport,svg2pdfParameters:en.svg2pdfParameters}),mn=en.attributeState.color,[4,en.refsHandler.getRendered(rn,mn,(function(en){return Use.renderReferencedNode(en,rn,mn,gn)}))]):[2];case 1:return vn.sent(),en.pdf.saveGraphicsState(),en.pdf.setCurrentTransformationMatrix(en.transform),sn&&"visible"!==getAttribute(an.element,en.styleSheets,"overflow")&&(en.pdf.rect(An,cn,un,hn),en.pdf.clip().discardPath()),en.pdf.doFormObject(en.refsHandler.generateKey(rn,mn),dn),en.pdf.restoreGraphicsState(),[2]}}))}))},Use.renderReferencedNode=function(en,tn,nn,rn){return __awaiter(this,void 0,void 0,(function(){var an;return __generator(this,(function(sn){switch(sn.label){case 0:return an=[(an=en.getBoundingBox(rn))[0]-.5*an[2],an[1]-.5*an[3],2*an[2],2*an[3]],rn.attributeState.color=nn,rn.pdf.beginFormObject(an[0],an[1],an[2],an[3],rn.pdf.unitMatrix),en instanceof Jg?[4,en.apply(rn)]:[3,2];case 1:return sn.sent(),[3,4];case 2:return[4,en.render(rn)];case 3:sn.sent(),sn.label=4;case 4:return rn.pdf.endFormObject(rn.refsHandler.generateKey(tn,nn)),[2]}}))}))},Use.prototype.getBoundingBoxCore=function(en){return defaultBoundingBox(this.element,en)},Use.prototype.isVisible=function(en,tn){return svgNodeIsVisible(this,en,tn)},Use.prototype.computeNodeTransformCore=function(en){return en.pdf.unitMatrix},Use}(Wg),tf=function(en){function Rect(tn,nn){return en.call(this,!1,tn,nn)||this}return __extends(Rect,en),Rect.prototype.getPath=function(en){var tn=parseFloat(getAttribute(this.element,en.styleSheets,"width")||"0"),nn=parseFloat(getAttribute(this.element,en.styleSheets,"height")||"0");if(!isFinite(tn)||tn<=0||!isFinite(nn)||nn<=0)return null;var rn=getAttribute(this.element,en.styleSheets,"rx"),an=getAttribute(this.element,en.styleSheets,"ry"),sn=Math.min(parseFloat(rn||an||"0"),.5*tn),An=Math.min(parseFloat(an||rn||"0"),.5*nn),cn=parseFloat(getAttribute(this.element,en.styleSheets,"x")||"0"),un=parseFloat(getAttribute(this.element,en.styleSheets,"y")||"0"),hn=4/3*(Math.SQRT2-1);return 0===sn&&0===An?(new Fg).moveTo(cn,un).lineTo(cn+tn,un).lineTo(cn+tn,un+nn).lineTo(cn,un+nn).close():(new Fg).moveTo(cn+=sn,un).lineTo(cn+=tn-2*sn,un).curveTo(cn+sn*hn,un,cn+sn,un+(An-An*hn),cn+=sn,un+=An).lineTo(cn,un+=nn-2*An).curveTo(cn,un+An*hn,cn-sn*hn,un+An,cn-=sn,un+=An).lineTo(cn+=2*sn-tn,un).curveTo(cn-sn*hn,un,cn-sn,un-An*hn,cn-=sn,un-=An).lineTo(cn,un+=2*An-nn).curveTo(cn,un-An*hn,cn+sn*hn,un-An,cn+=sn,un-=An).close()},Rect.prototype.computeNodeTransformCore=function(en){return en.pdf.unitMatrix},Rect.prototype.isVisible=function(en,tn){return svgNodeIsVisible(this,en,tn)},Rect}(Xg),nf=function(en){function EllipseBase(tn,nn){return en.call(this,!1,tn,nn)||this}return __extends(EllipseBase,en),EllipseBase.prototype.getPath=function(en){var tn=this.getRx(en),nn=this.getRy(en);if(!isFinite(tn)||nn<=0||!isFinite(nn)||nn<=0)return null;var rn=parseFloat(getAttribute(this.element,en.styleSheets,"cx")||"0"),an=parseFloat(getAttribute(this.element,en.styleSheets,"cy")||"0"),sn=4/3*(Math.SQRT2-1)*tn,An=4/3*(Math.SQRT2-1)*nn;return(new Fg).moveTo(rn+tn,an).curveTo(rn+tn,an-An,rn+sn,an-nn,rn,an-nn).curveTo(rn-sn,an-nn,rn-tn,an-An,rn-tn,an).curveTo(rn-tn,an+An,rn-sn,an+nn,rn,an+nn).curveTo(rn+sn,an+nn,rn+tn,an+An,rn+tn,an)},EllipseBase.prototype.computeNodeTransformCore=function(en){return en.pdf.unitMatrix},EllipseBase.prototype.isVisible=function(en,tn){return svgNodeIsVisible(this,en,tn)},EllipseBase}(Xg),rf=function(en){function Ellipse(tn,nn){return en.call(this,tn,nn)||this}return __extends(Ellipse,en),Ellipse.prototype.getRx=function(en){return parseFloat(getAttribute(this.element,en.styleSheets,"rx")||"0")},Ellipse.prototype.getRy=function(en){return parseFloat(getAttribute(this.element,en.styleSheets,"ry")||"0")},Ellipse}(nf);function getTextRenderingMode(en){var tn="invisible";return en.fill&&en.stroke?tn="fillThenStroke":en.fill?tn="fill":en.stroke&&(tn="stroke"),tn}function removeNewlines(en){return en.replace(/[\n\r]/g,"")}function replaceTabsBySpace(en){return en.replace(/[\t]/g," ")}function consolidateSpaces(en){return en.replace(/ +/g," ")}function transformText(en,tn,nn){switch(getAttribute(en,nn.styleSheets,"text-transform")){case"uppercase":return tn.toUpperCase();case"lowercase":return tn.toLowerCase();default:return tn}}var af=function(){function TextChunk(en,tn,nn,rn){this.textNode=en,this.texts=[],this.textNodes=[],this.contexts=[],this.textAnchor=tn,this.originX=nn,this.originY=rn,this.textMeasures=[]}return TextChunk.prototype.setX=function(en){this.originX=en},TextChunk.prototype.setY=function(en){this.originY=en},TextChunk.prototype.add=function(en,tn,nn){this.texts.push(tn),this.textNodes.push(en),this.contexts.push(nn)},TextChunk.prototype.rightTrimText=function(){for(var en=this.texts.length-1;en>=0;en--)if("default"===this.contexts[en].attributeState.xmlSpace&&(this.texts[en]=this.texts[en].replace(/\s+$/,"")),this.texts[en].match(/[^\s]/))return!1;return!0},TextChunk.prototype.measureText=function(en){for(var tn=0;tn<this.texts.length;tn++)this.textMeasures.push({width:en.textMeasure.measureTextWidth(this.texts[tn],this.contexts[tn].attributeState),length:this.texts[tn].length})},TextChunk.prototype.put=function(en,tn){var nn,rn,an,sn,An=[],cn=[],un=[],hn=this.originX,dn=this.originY,pn=hn,gn=hn;for(nn=0;nn<this.textNodes.length;nn++){rn=this.textNodes[nn],an=this.contexts[nn],sn=this.textMeasures[nn]||{width:en.textMeasure.measureTextWidth(this.texts[nn],this.contexts[nn].attributeState),length:this.texts[nn].length};var mn=hn,vn=dn;if("#text"!==rn.nodeName&&!An.includes(rn)){An.push(rn);var yn=rn.getAttribute("dx");null!==yn&&(mn+=toPixels(yn,an.attributeState.fontSize));var bn=rn.getAttribute("dy");null!==bn&&(vn+=toPixels(bn,an.attributeState.fontSize))}cn[nn]=mn,un[nn]=vn,hn=mn+sn.width+sn.length*tn,dn=vn,pn=Math.min(pn,mn),gn=Math.max(gn,hn)}var wn=0;switch(this.textAnchor){case"start":wn=0;break;case"middle":wn=(gn-pn)/2;break;case"end":wn=gn-pn}for(nn=0;nn<this.textNodes.length;nn++)if(rn=this.textNodes[nn],an=this.contexts[nn],"#text"===rn.nodeName||"hidden"!==an.attributeState.visibility){en.pdf.saveGraphicsState(),applyAttributes(an,en,rn);var Cn=an.attributeState.alignmentBaseline,xn=getTextRenderingMode(an.attributeState);en.pdf.text(this.texts[nn],cn[nn]-wn,un[nn],{baseline:mapAlignmentBaseline(Cn),angle:en.transform,renderingMode:"fill"===xn?void 0:xn,charSpace:0===tn?void 0:tn}),en.pdf.restoreGraphicsState()}return[hn,dn]},TextChunk}(),sf=function(en){function TextNode(){return null!==en&&en.apply(this,arguments)||this}return __extends(TextNode,en),TextNode.prototype.processTSpans=function(en,tn,nn,rn,an,sn){for(var An=nn.pdf.getFontSize(),cn=nn.attributeState.xmlSpace,un=!0,hn=!1,dn=0;dn<tn.childNodes.length;dn++){var pn=tn.childNodes[dn];if(pn.textContent){var gn=pn.textContent;if("#text"===pn.nodeName){var mn=removeNewlines(gn);mn=replaceTabsBySpace(mn),"default"===cn&&(mn=consolidateSpaces(mn),un&&mn.match(/^\s/)&&(hn=!0),mn.match(/[^\s]/)&&(un=!1),sn.prevText.match(/\s$/)&&(mn=mn.replace(/^\s+/,"")));var vn=transformText(tn,mn,nn);an.add(tn,vn,nn),sn.prevText=gn,sn.prevContext=nn}else if(nodeIs(pn,"title"));else if(nodeIs(pn,"tspan")){var yn=pn,bn=yn.getAttribute("x");if(null!==bn){var wn=toPixels(bn,An);an=new af(this,getAttribute(yn,nn.styleSheets,"text-anchor")||nn.attributeState.textAnchor,wn,0),rn.push({type:"y",chunk:an})}var Cn=yn.getAttribute("y");if(null!==Cn){var xn=toPixels(Cn,An);an=new af(this,getAttribute(yn,nn.styleSheets,"text-anchor")||nn.attributeState.textAnchor,0,xn),rn.push({type:"x",chunk:an})}var Bn=nn.clone();parseAttributes(Bn,en,yn),this.processTSpans(en,yn,Bn,rn,an,sn)}}}return hn},TextNode.prototype.renderCore=function(en){return __awaiter(this,void 0,void 0,(function(){var tn,nn,rn,an,sn,An,cn,un,hn,dn,pn,gn,mn,vn,yn,bn,wn,Cn,xn,Bn,_n,Sn,kn;return __generator(this,(function(En){if(en.pdf.saveGraphicsState(),tn=0,nn=0,rn=1,an=en.pdf.getFontSize(),sn=toPixels(this.element.getAttribute("x"),an),An=toPixels(this.element.getAttribute("y"),an),cn=toPixels(this.element.getAttribute("dx"),an),un=toPixels(this.element.getAttribute("dy"),an),hn=parseFloat(this.element.getAttribute("textLength")||"0"),dn=en.attributeState.visibility,0===this.element.childElementCount)pn=this.element.textContent||"",gn=function transformXmlSpace(en,tn){return en=replaceTabsBySpace(en=removeNewlines(en)),"default"===tn.xmlSpace&&(en=consolidateSpaces(en=en.trim())),en}(pn,en.attributeState),mn=transformText(this.element,gn,en),tn=en.textMeasure.getTextOffset(mn,en.attributeState),hn>0&&(vn=en.textMeasure.measureTextWidth(mn,en.attributeState),"default"===en.attributeState.xmlSpace&&pn.match(/^\s/)&&(rn=0),nn=(hn-vn)/(mn.length-rn)||0),"visible"===dn&&(yn=en.attributeState.alignmentBaseline,bn=getTextRenderingMode(en.attributeState),en.pdf.text(mn,sn+cn-tn,An+un,{baseline:mapAlignmentBaseline(yn),angle:en.transform,renderingMode:"fill"===bn?void 0:bn,charSpace:0===nn?void 0:nn}));else{for(wn=[],Cn=new af(this,en.attributeState.textAnchor,sn+cn,An+un),wn.push({type:"",chunk:Cn}),xn=this.processTSpans(this,this.element,en,wn,Cn,{prevText:" ",prevContext:en}),rn=xn?0:1,Bn=!0,_n=wn.length-1;_n>=0;_n--)Bn&&(Bn=wn[_n].chunk.rightTrimText());hn>0&&(Sn=0,kn=0,wn.forEach((function(tn){var nn=tn.chunk;nn.measureText(en),nn.textMeasures.forEach((function(en){var tn=en.width,nn=en.length;Sn+=tn,kn+=nn}))})),nn=(hn-Sn)/(kn-rn)),wn.reduce((function(tn,rn){var an=rn.type,sn=rn.chunk;return"x"===an?sn.setX(tn[0]):"y"===an&&sn.setY(tn[1]),sn.put(en,nn)}),[0,0])}return en.pdf.restoreGraphicsState(),[2]}))}))},TextNode.prototype.isVisible=function(en,tn){return svgNodeAndChildrenVisible(this,en,tn)},TextNode.prototype.getBoundingBoxCore=function(en){return defaultBoundingBox(this.element,en)},TextNode.prototype.computeNodeTransformCore=function(en){return en.pdf.unitMatrix},TextNode}(Wg),Af=function(en){function PathNode(tn,nn){return en.call(this,!0,tn,nn)||this}return __extends(PathNode,en),PathNode.prototype.computeNodeTransformCore=function(en){return en.pdf.unitMatrix},PathNode.prototype.isVisible=function(en,tn){return svgNodeIsVisible(this,en,tn)},PathNode.prototype.getPath=function(en){var tn,nn,rn=new mg(getAttribute(this.element,en.styleSheets,"d")||"").unshort().unarc().abs(),an=new Fg;return rn.iterate((function(en){switch(en[0]){case"M":an.moveTo(en[1],en[2]);break;case"L":an.lineTo(en[1],en[2]);break;case"H":an.lineTo(en[1],nn);break;case"V":an.lineTo(tn,en[1]);break;case"C":an.curveTo(en[1],en[2],en[3],en[4],en[5],en[6]);break;case"Q":var rn=toCubic([tn,nn],[en[1],en[2]]),sn=toCubic([en[3],en[4]],[en[1],en[2]]);an.curveTo(rn[0],rn[1],sn[0],sn[1],en[3],en[4]);break;case"Z":an.close()}switch(en[0]){case"M":case"L":tn=en[1],nn=en[2];break;case"H":tn=en[1];break;case"V":nn=en[1];break;case"C":tn=en[5],nn=en[6];break;case"Q":tn=en[3],nn=en[4]}})),an},PathNode}(Xg),lf=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*\s*)$/i,cf=function(en){function ImageNode(tn,nn){var rn=en.call(this,tn,nn)||this;return rn.imageLoadingPromise=null,rn.imageUrl=rn.element.getAttribute("xlink:href")||rn.element.getAttribute("href"),rn.imageUrl&&(rn.imageLoadingPromise=ImageNode.fetchImageData(rn.imageUrl)),rn}return __extends(ImageNode,en),ImageNode.prototype.renderCore=function(en){return __awaiter(this,void 0,void 0,(function(){var tn,nn,rn,an,sn,An,cn,un,hn,dn,pn,gn;return __generator(this,(function(mn){switch(mn.label){case 0:return this.imageLoadingPromise?(en.pdf.setCurrentTransformationMatrix(en.transform),tn=parseFloat(getAttribute(this.element,en.styleSheets,"width")||"0"),nn=parseFloat(getAttribute(this.element,en.styleSheets,"height")||"0"),rn=parseFloat(getAttribute(this.element,en.styleSheets,"x")||"0"),an=parseFloat(getAttribute(this.element,en.styleSheets,"y")||"0"),!isFinite(tn)||tn<=0||!isFinite(nn)||nn<=0?[2]:[4,this.imageLoadingPromise]):[2];case 1:return sn=mn.sent(),An=sn.data,0!==(cn=sn.format).indexOf("svg")?[3,3]:(un=new DOMParser,hn=un.parseFromString(An,"image/svg+xml").firstElementChild,(!(dn=this.element.getAttribute("preserveAspectRatio"))||dn.indexOf("defer")<0||!hn.getAttribute("preserveAspectRatio"))&&hn.setAttribute("preserveAspectRatio",dn||""),hn.setAttribute("x",String(rn)),hn.setAttribute("y",String(an)),hn.setAttribute("width",String(tn)),hn.setAttribute("height",String(nn)),[4,parse(hn,pn={}).render(new kg(en.pdf,{refsHandler:new Eg(pn),styleSheets:en.styleSheets,viewport:new Zg(tn,nn),svg2pdfParameters:en.svg2pdfParameters}))]);case 2:return mn.sent(),[2];case 3:gn="data:image/"+cn+";base64,"+btoa(An);try{en.pdf.addImage(gn,"",rn,an,tn,nn)}catch(en){"object"==("undefined"==typeof console?"undefined":_typeof$3(console))&&console.warn&&console.warn("Could not load image "+this.imageUrl+".\n"+en)}mn.label=4;case 4:return[2]}}))}))},ImageNode.prototype.getBoundingBoxCore=function(en){return defaultBoundingBox(this.element,en)},ImageNode.prototype.computeNodeTransformCore=function(en){return en.pdf.unitMatrix},ImageNode.prototype.isVisible=function(en,tn){return svgNodeIsVisible(this,en,tn)},ImageNode.fetchImageData=function(en){return __awaiter(this,void 0,void 0,(function(){var tn,nn,rn,an,sn;return __generator(this,(function(An){switch(An.label){case 0:if(!(rn=en.match(lf)))return[3,1];if(an=rn[2],"image"!==(sn=an.split("/"))[0])throw new Error("Unsupported image URL: "+en);return nn=sn[1],tn=rn[5],tn="base64"===rn[4]?atob(tn):decodeURIComponent(tn),[3,3];case 1:return[4,ImageNode.fetchImage(en)];case 2:tn=An.sent(),nn=en.substring(en.lastIndexOf(".")+1),An.label=3;case 3:return[2,{data:tn,format:nn}]}}))}))},ImageNode.fetchImage=function(en){return new Promise((function(tn,nn){var rn=new XMLHttpRequest;rn.open("GET",en,!0),rn.responseType="arraybuffer",rn.onload=function(){if(200!==rn.status)throw new Error("Error "+rn.status+": Failed to load image '"+en+"'");for(var nn=new Uint8Array(rn.response),an="",sn=0;sn<nn.length;sn++)an+=String.fromCharCode(nn[sn]);tn(an)},rn.onerror=nn,rn.onabort=nn,rn.send(null)}))},ImageNode.getMimeType=function(en){switch(en=en.toLowerCase()){case"jpg":case"jpeg":return"image/jpeg";default:return"image/"+en}},ImageNode}(Wg),uf=function(en){function Traverse(tn,nn,rn){var an=en.call(this,!0,nn,rn)||this;return an.closed=tn,an}return __extends(Traverse,en),Traverse.prototype.getPath=function(en){if(!this.element.hasAttribute("points")||""===this.element.getAttribute("points"))return null;var tn=Traverse.parsePointsString(this.element.getAttribute("points")),nn=new Fg;if(tn.length<1)return nn;nn.moveTo(tn[0][0],tn[0][1]);for(var rn=1;rn<tn.length;rn++)nn.lineTo(tn[rn][0],tn[rn][1]);return this.closed&&nn.close(),nn},Traverse.prototype.isVisible=function(en,tn){return svgNodeIsVisible(this,en,tn)},Traverse.prototype.computeNodeTransformCore=function(en){return en.pdf.unitMatrix},Traverse.parsePointsString=function(en){for(var tn=parseFloats(en),nn=[],rn=0;rn<tn.length-1;rn+=2){var an=tn[rn],sn=tn[rn+1];nn.push([an,sn])}return nn},Traverse}(Xg),hf=function(en){function Polygon(tn,nn){return en.call(this,!0,tn,nn)||this}return __extends(Polygon,en),Polygon}(uf),df=function(en){function VoidNode(){return null!==en&&en.apply(this,arguments)||this}return __extends(VoidNode,en),VoidNode.prototype.render=function(en){return Promise.resolve()},VoidNode.prototype.getBoundingBoxCore=function(en){return[0,0,0,0]},VoidNode.prototype.computeNodeTransformCore=function(en){return en.pdf.unitMatrix},VoidNode.prototype.isVisible=function(en,tn){return svgNodeIsVisible(this,en,tn)},VoidNode}(Hg),pf=function(en){function MarkerNode(){return null!==en&&en.apply(this,arguments)||this}return __extends(MarkerNode,en),MarkerNode.prototype.apply=function(en){return __awaiter(this,void 0,void 0,(function(){var tn,nn,rn,an,sn;return __generator(this,(function(An){switch(An.label){case 0:tn=this.computeNodeTransform(en),nn=this.getBoundingBox(en),en.pdf.beginFormObject(nn[0],nn[1],nn[2],nn[3],tn),function applyContext(en){var tn=en.attributeState,nn=en.pdf,rn=1,an=1;rn*=tn.fillOpacity,rn*=tn.opacity,tn.fill instanceof Cg&&void 0!==tn.fill.color.a&&(rn*=tn.fill.color.a),an*=tn.strokeOpacity,an*=tn.opacity,tn.stroke instanceof Cg&&void 0!==tn.stroke.color.a&&(an*=tn.stroke.color.a);var sn,An={};if(An.opacity=rn,An["stroke-opacity"]=an,nn.setGState(new j(An)),tn.fill&&tn.fill instanceof Cg&&tn.fill.color.ok?nn.setFillColor(tn.fill.color.r,tn.fill.color.g,tn.fill.color.b):nn.setFillColor(0,0,0),nn.setLineWidth(tn.strokeWidth),tn.stroke instanceof Cg?nn.setDrawColor(tn.stroke.color.r,tn.stroke.color.g,tn.stroke.color.b):nn.setDrawColor(0,0,0),nn.setLineCap(tn.strokeLinecap),nn.setLineJoin(tn.strokeLinejoin),tn.strokeDasharray?nn.setLineDashPattern(tn.strokeDasharray,tn.strokeDashoffset):nn.setLineDashPattern([],0),nn.setLineMiterLimit(tn.strokeMiterlimit),sn=Mg.hasOwnProperty(tn.fontFamily)?Mg[tn.fontFamily]:tn.fontFamily,tn.fill&&tn.fill instanceof Cg&&tn.fill.color.ok){var cn=tn.fill.color;nn.setTextColor(cn.r,cn.g,cn.b)}else nn.setTextColor(0,0,0);var un="";"bold"===tn.fontWeight&&(un="bold"),"italic"===tn.fontStyle&&(un+="italic"),""===un&&(un="normal"),void 0!==sn||void 0!==un?(void 0===sn&&(sn=Mg.hasOwnProperty(tn.fontFamily)?Mg[tn.fontFamily]:tn.fontFamily),nn.setFont(sn,un)):nn.setFont("helvetica",un),nn.setFontSize(tn.fontSize*nn.internal.scaleFactor)}(rn=new kg(en.pdf,{refsHandler:en.refsHandler,styleSheets:en.styleSheets,viewport:en.viewport,svg2pdfParameters:en.svg2pdfParameters})),an=0,sn=this.children,An.label=1;case 1:return an<sn.length?[4,sn[an].render(rn)]:[3,4];case 2:An.sent(),An.label=3;case 3:return an++,[3,1];case 4:return en.pdf.endFormObject(this.element.getAttribute("id")),[2]}}))}))},MarkerNode.prototype.getBoundingBoxCore=function(en){var tn,nn=this.element.getAttribute("viewBox");return nn&&(tn=parseFloats(nn)),[tn&&tn[0]||0,tn&&tn[1]||0,tn&&tn[2]||parseFloat(this.element.getAttribute("markerWidth")||"3"),tn&&tn[3]||parseFloat(this.element.getAttribute("markerHeight")||"3")]},MarkerNode.prototype.computeNodeTransformCore=function(en){var tn,nn=parseFloat(this.element.getAttribute("refX")||"0"),rn=parseFloat(this.element.getAttribute("refY")||"0"),an=this.element.getAttribute("viewBox");if(an){var sn=parseFloats(an);tn=computeViewBoxTransform(this.element,sn,0,0,parseFloat(this.element.getAttribute("markerWidth")||"3"),parseFloat(this.element.getAttribute("markerHeight")||"3"),en,!0),tn=en.pdf.matrixMult(en.pdf.Matrix(1,0,0,1,-nn,-rn),tn)}else tn=en.pdf.Matrix(1,0,0,1,-nn,-rn);return tn},MarkerNode.prototype.isVisible=function(en,tn){return svgNodeAndChildrenVisible(this,en,tn)},MarkerNode}(Dg),gf=function(en){function Circle(tn,nn){return en.call(this,tn,nn)||this}return __extends(Circle,en),Circle.prototype.getR=function(en){var tn;return null!==(tn=this.r)&&void 0!==tn?tn:this.r=parseFloat(getAttribute(this.element,en.styleSheets,"r")||"0")},Circle.prototype.getRx=function(en){return this.getR(en)},Circle.prototype.getRy=function(en){return this.getR(en)},Circle}(nf),ff=function(en){function Polyline(tn,nn){return en.call(this,!1,tn,nn)||this}return __extends(Polyline,en),Polyline}(uf),mf=function(en){function ContainerNode(){return null!==en&&en.apply(this,arguments)||this}return __extends(ContainerNode,en),ContainerNode.prototype.renderCore=function(en){return __awaiter(this,void 0,void 0,(function(){var tn,nn;return __generator(this,(function(rn){switch(rn.label){case 0:tn=0,nn=this.children,rn.label=1;case 1:return tn<nn.length?[4,nn[tn].render(en)]:[3,4];case 2:rn.sent(),rn.label=3;case 3:return tn++,[3,1];case 4:return[2]}}))}))},ContainerNode.prototype.getBoundingBoxCore=function(en){return getBoundingBoxByChildren(en,this)},ContainerNode}(zg),vf=function(en){function Svg(){return null!==en&&en.apply(this,arguments)||this}return __extends(Svg,en),Svg.prototype.isVisible=function(en,tn){return svgNodeAndChildrenVisible(this,en,tn)},Svg.prototype.render=function(tn){return __awaiter(this,void 0,void 0,(function(){var nn,rn,an,sn,An;return __generator(this,(function(cn){switch(cn.label){case 0:return this.isVisible("hidden"!==tn.attributeState.visibility,tn)?(nn=this.getX(tn),rn=this.getY(tn),an=this.getWidth(tn),sn=this.getHeight(tn),tn.pdf.saveGraphicsState(),An=tn.transform,this.element.hasAttribute("transform")&&(An=tn.pdf.matrixMult(parseTransform$1(this.element.getAttribute("transform"),tn),An)),tn.pdf.setCurrentTransformationMatrix(An),tn.withinUse||"visible"===getAttribute(this.element,tn.styleSheets,"overflow")||tn.pdf.rect(nn,rn,an,sn).clip().discardPath(),[4,en.prototype.render.call(this,tn.clone({transform:tn.pdf.unitMatrix,viewport:tn.withinUse?tn.viewport:new Zg(an,sn)}))]):[2];case 1:return cn.sent(),tn.pdf.restoreGraphicsState(),[2]}}))}))},Svg.prototype.computeNodeTransform=function(en){return this.computeNodeTransformCore(en)},Svg.prototype.computeNodeTransformCore=function(en){if(en.withinUse)return en.pdf.unitMatrix;var tn,nn=this.getX(en),rn=this.getY(en),an=this.getViewBox();if(an){var sn=this.getWidth(en),An=this.getHeight(en);tn=computeViewBoxTransform(this.element,an,nn,rn,sn,An,en)}else tn=en.pdf.Matrix(1,0,0,1,nn,rn);return tn},Svg.prototype.getWidth=function(en){if(void 0!==this.width)return this.width;var tn,nn,rn=en.svg2pdfParameters;if(this.isOutermostSvg(en))if(null!=rn.width)tn=rn.width;else if(nn=getAttribute(this.element,en.styleSheets,"width"))tn=parseFloat(nn);else{var an=this.getViewBox();if(an&&(null!=rn.height||getAttribute(this.element,en.styleSheets,"height"))){var sn=an[2]/an[3];tn=this.getHeight(en)*sn}else tn=Math.min(300,en.viewport.width,2*en.viewport.height)}else tn=(nn=getAttribute(this.element,en.styleSheets,"width"))?parseFloat(nn):en.viewport.width;return this.width=tn},Svg.prototype.getHeight=function(en){if(void 0!==this.height)return this.height;var tn,nn,rn=en.svg2pdfParameters;if(this.isOutermostSvg(en))if(null!=rn.height)tn=rn.height;else if(nn=getAttribute(this.element,en.styleSheets,"height"))tn=parseFloat(nn);else{var an=this.getViewBox();if(an){var sn=an[2]/an[3];tn=this.getWidth(en)/sn}else tn=Math.min(150,en.viewport.width/2,en.viewport.height)}else tn=(nn=getAttribute(this.element,en.styleSheets,"height"))?parseFloat(nn):en.viewport.height;return this.height=tn},Svg.prototype.getX=function(en){if(void 0!==this.x)return this.x;if(this.isOutermostSvg(en))return this.x=0;var tn=getAttribute(this.element,en.styleSheets,"x");return this.x=tn?parseFloat(tn):0},Svg.prototype.getY=function(en){if(void 0!==this.y)return this.y;if(this.isOutermostSvg(en))return this.y=0;var tn=getAttribute(this.element,en.styleSheets,"y");return this.y=tn?parseFloat(tn):0},Svg.prototype.getViewBox=function(){if(void 0!==this.viewBox)return this.viewBox;var en=this.element.getAttribute("viewBox");return this.viewBox=en?parseFloats(en):void 0},Svg.prototype.isOutermostSvg=function(en){return en.svg2pdfParameters.element===this.element},Svg}(mf),yf=function(en){function Group(){return null!==en&&en.apply(this,arguments)||this}return __extends(Group,en),Group.prototype.isVisible=function(en,tn){return svgNodeAndChildrenVisible(this,en,tn)},Group.prototype.computeNodeTransformCore=function(en){return en.pdf.unitMatrix},Group}(mf),bf=function(en){function ClipPath(){return null!==en&&en.apply(this,arguments)||this}return __extends(ClipPath,en),ClipPath.prototype.apply=function(en){return __awaiter(this,void 0,void 0,(function(){var tn,nn,rn;return __generator(this,(function(an){switch(an.label){case 0:if(!this.isVisible(!0,en))return[2];tn=en.pdf.matrixMult(this.computeNodeTransform(en),en.transform),en.pdf.setCurrentTransformationMatrix(tn),nn=0,rn=this.children,an.label=1;case 1:return nn<rn.length?[4,rn[nn].render(new kg(en.pdf,{refsHandler:en.refsHandler,styleSheets:en.styleSheets,viewport:en.viewport,withinClipPath:!0,svg2pdfParameters:en.svg2pdfParameters}))]:[3,4];case 2:an.sent(),an.label=3;case 3:return nn++,[3,1];case 4:return en.pdf.clip().discardPath(),en.pdf.setCurrentTransformationMatrix(tn.inversed()),[2]}}))}))},ClipPath.prototype.getBoundingBoxCore=function(en){return getBoundingBoxByChildren(en,this)},ClipPath.prototype.isVisible=function(en,tn){return svgNodeAndChildrenVisible(this,en,tn)},ClipPath}(Dg);function parse(en,tn){var nn,rn=[];switch(function forEachChild(en,tn){for(var nn=[],rn=0;rn<en.childNodes.length;rn++){var an=en.childNodes[rn];"#"!==an.nodeName.charAt(0)&&nn.push(an)}for(rn=0;rn<nn.length;rn++)tn(rn,nn[rn])}(en,(function(en,nn){return rn.push(parse(nn,tn))})),en.tagName.toLowerCase()){case"a":case"g":nn=new yf(en,rn);break;case"circle":nn=new gf(en,rn);break;case"clippath":nn=new bf(en,rn);break;case"ellipse":nn=new rf(en,rn);break;case"lineargradient":nn=new Gg(en,rn);break;case"image":nn=new cf(en,rn);break;case"line":nn=new Yg(en,rn);break;case"marker":nn=new pf(en,rn);break;case"path":nn=new Af(en,rn);break;case"pattern":nn=new Kg(en,rn);break;case"polygon":nn=new hf(en,rn);break;case"polyline":nn=new ff(en,rn);break;case"radialgradient":nn=new jg(en,rn);break;case"rect":nn=new tf(en,rn);break;case"svg":nn=new vf(en,rn);break;case"symbol":nn=new Jg(en,rn);break;case"text":nn=new sf(en,rn);break;case"use":nn=new ef(en,rn);break;default:nn=new df(en,rn)}if(null!=tn&&nn.element.hasAttribute("id")){var an=rg(nn.element.id,{isIdentifier:!0});tn[an]=tn[an]||nn}return nn.children.forEach((function(en){return en.setParent(nn)})),nn}var wf=function(){function StyleSheets(en,tn){this.rootSvg=en,this.loadExternalSheets=tn,this.styleSheets=[]}return StyleSheets.prototype.load=function(){return __awaiter(this,void 0,void 0,(function(){var en;return __generator(this,(function(tn){switch(tn.label){case 0:return[4,this.collectStyleSheetTexts()];case 1:return en=tn.sent(),this.parseCssSheets(en),[2]}}))}))},StyleSheets.prototype.collectStyleSheetTexts=function(){return __awaiter(this,void 0,void 0,(function(){var en,tn,nn,rn,an;return __generator(this,(function(sn){switch(sn.label){case 0:if(en=[],this.loadExternalSheets&&this.rootSvg.ownerDocument)for(rn=0;rn<this.rootSvg.ownerDocument.childNodes.length;rn++)"xml-stylesheet"===(tn=this.rootSvg.ownerDocument.childNodes[rn]).nodeName&&"string"==typeof tn.data&&en.push(StyleSheets.loadSheet(tn.data.match(/href=["'].*?["']/)[0].split("=")[1].slice(1,-1)));for(nn=this.rootSvg.querySelectorAll("style,link"),rn=0;rn<nn.length;rn++)nodeIs(an=nn[rn],"style")?en.push(an.textContent):this.loadExternalSheets&&nodeIs(an,"link")&&"stylesheet"===an.getAttribute("rel")&&an.hasAttribute("href")&&en.push(StyleSheets.loadSheet(an.getAttribute("href")));return[4,Promise.all(en)];case 1:return[2,sn.sent().filter((function(en){return null!==en}))]}}))}))},StyleSheets.prototype.parseCssSheets=function(en){for(var tn=document.implementation.createHTMLDocument(""),nn=0,rn=en;nn<rn.length;nn++){var an=rn[nn],sn=tn.createElement("style");sn.textContent=an,tn.body.appendChild(sn);var An=sn.sheet;if(An instanceof CSSStyleSheet){for(var cn=An.cssRules.length-1;cn>=0;cn--){var un=An.cssRules[cn];if(un instanceof CSSStyleRule){var hn=un;if(hn.selectorText.indexOf(",")>=0){An.deleteRule(cn);for(var dn=hn.cssText.substring(hn.selectorText.length),pn=StyleSheets.splitSelectorAtCommas(hn.selectorText),gn=0;gn<pn.length;gn++)An.insertRule(pn[gn]+dn,cn+gn)}}else An.deleteRule(cn)}this.styleSheets.push(An)}}},StyleSheets.splitSelectorAtCommas=function(en){for(var tn,nn=/,|["']/g,rn=/[^\\]["]/g,an=/[^\\][']/g,sn=[],An="initial",cn=-1,un=rn,hn=0;hn<en.length;)switch(An){case"initial":nn.lastIndex=hn,(tn=nn.exec(en))?(","===tn[0]?(sn.push(en.substring(cn+1,nn.lastIndex-1).trim()),cn=nn.lastIndex-1):(An="withinQuotes",un='"'===tn[0]?rn:an),hn=nn.lastIndex):(sn.push(en.substring(cn+1).trim()),hn=en.length);break;case"withinQuotes":un.lastIndex=hn,(tn=un.exec(en))&&(hn=un.lastIndex,An="initial")}return sn},StyleSheets.loadSheet=function(en){return new Promise((function(tn,nn){var rn=new XMLHttpRequest;rn.open("GET",en,!0),rn.responseType="text",rn.onload=function(){200!==rn.status&&nn(new Error("Error "+rn.status+": Failed to load '"+en+"'")),tn(rn.responseText)},rn.onerror=nn,rn.onabort=nn,rn.send(null)})).catch((function(){return null}))},StyleSheets.prototype.getPropertyValue=function(en,tn){for(var nn=[],rn=0,an=this.styleSheets;rn<an.length;rn++)for(var sn=an[rn],An=0;An<sn.cssRules.length;An++){var cn=sn.cssRules[An];cn.style.getPropertyValue(tn)&&en.matches(cn.selectorText)&&nn.push(cn)}if(0!==nn.length){var un=function compare$1(en,nn){var rn=en.style.getPropertyPriority(tn);return rn!==nn.style.getPropertyPriority(tn)?"important"===rn?1:-1:function(en,tn){var nn,rn,an;if("string"==typeof en){if(-1!==en.indexOf(","))throw"Invalid CSS selector";nn=vg(en).specificityArray}else{if(!Array.isArray(en))throw"Invalid CSS selector or specificity array";if(4!==en.filter((function(en){return"number"==typeof en})).length)throw"Invalid specificity array";nn=en}if("string"==typeof tn){if(-1!==tn.indexOf(","))throw"Invalid CSS selector";rn=vg(tn).specificityArray}else{if(!Array.isArray(tn))throw"Invalid CSS selector or specificity array";if(4!==tn.filter((function(en){return"number"==typeof en})).length)throw"Invalid specificity array";rn=tn}for(an=0;an<4;an+=1){if(nn[an]<rn[an])return-1;if(nn[an]>rn[an])return 1}return 0}(en.selectorText,nn.selectorText)};return nn.reduce((function(en,tn){return 1===un(en,tn)?en:tn})).style.getPropertyValue(tn)||void 0}},StyleSheets}();E.API.svg=function(en,tn){return void 0===tn&&(tn={}),function svg2pdf(en,tn,nn){var rn,an,sn;return void 0===nn&&(nn={}),__awaiter(this,void 0,void 0,(function(){var An,cn,un,hn,dn,pn,gn,mn,vn,yn;return __generator(this,(function(bn){switch(bn.label){case 0:return An=null!==(rn=nn.x)&&void 0!==rn?rn:0,cn=null!==(an=nn.y)&&void 0!==an?an:0,un=null!==(sn=nn.loadExternalStyleSheets)&&void 0!==sn&&sn,dn=new Eg(hn={}),[4,(pn=new wf(en,un)).load()];case 1:return bn.sent(),gn=new Zg(tn.internal.pageSize.getWidth(),tn.internal.pageSize.getHeight()),mn=bg(bg({},nn),{element:en}),vn=new kg(tn,{refsHandler:dn,styleSheets:pn,viewport:gn,svg2pdfParameters:mn}),tn.advancedAPI(),tn.saveGraphicsState(),tn.setCurrentTransformationMatrix(tn.Matrix(1,0,0,1,An,cn)),tn.setLineWidth(vn.attributeState.strokeWidth),yn=vn.attributeState.fill.color,tn.setFillColor(yn.r,yn.g,yn.b),tn.setFont(vn.attributeState.fontFamily),tn.setFontSize(vn.attributeState.fontSize*tn.internal.scaleFactor),[4,parse(en,hn).render(vn)];case 2:return bn.sent(),tn.restoreGraphicsState(),tn.compatAPI(),vn.textMeasure.cleanupTextMeasuring(),[2,tn]}}))}))}(en,this,tn)};var Cf,xf,Bf={exports:{}},_f=Bf.exports=function(){
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.
      Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.
      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var en=function extendStatics(tn,nn){return en=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(en,tn){en.__proto__=tn}||function(en,tn){for(var nn in tn)Object.prototype.hasOwnProperty.call(tn,nn)&&(en[nn]=tn[nn])},en(tn,nn)};function __extends(tn,nn){if("function"!=typeof nn&&null!==nn)throw new TypeError("Class extends value "+String(nn)+" is not a constructor or null");function __(){this.constructor=tn}en(tn,nn),tn.prototype=null===nn?Object.create(nn):(__.prototype=nn.prototype,new __)}var tn=function __assign(){return tn=Object.assign||function __assign(en){for(var tn,nn=1,rn=arguments.length;nn<rn;nn++)for(var an in tn=arguments[nn])Object.prototype.hasOwnProperty.call(tn,an)&&(en[an]=tn[an]);return en},tn.apply(this,arguments)};function __awaiter(en,tn,nn,rn){function adopt(en){return en instanceof nn?en:new nn((function(tn){tn(en)}))}return new(nn||(nn=Promise))((function(nn,an){function fulfilled(en){try{step(rn.next(en))}catch(en){an(en)}}function rejected(en){try{step(rn.throw(en))}catch(en){an(en)}}function step(en){en.done?nn(en.value):adopt(en.value).then(fulfilled,rejected)}step((rn=rn.apply(en,tn||[])).next())}))}function __generator(en,tn){var nn,rn,an,sn,An={label:0,sent:function sent(){if(1&an[0])throw an[1];return an[1]},trys:[],ops:[]};return sn={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(sn[Symbol.iterator]=function(){return this}),sn;function verb(en){return function(tn){return step([en,tn])}}function step(sn){if(nn)throw new TypeError("Generator is already executing.");for(;An;)try{if(nn=1,rn&&(an=2&sn[0]?rn.return:sn[0]?rn.throw||((an=rn.return)&&an.call(rn),0):rn.next)&&!(an=an.call(rn,sn[1])).done)return an;switch(rn=0,an&&(sn=[2&sn[0],an.value]),sn[0]){case 0:case 1:an=sn;break;case 4:return An.label++,{value:sn[1],done:!1};case 5:An.label++,rn=sn[1],sn=[0];continue;case 7:sn=An.ops.pop(),An.trys.pop();continue;default:if(!((an=(an=An.trys).length>0&&an[an.length-1])||6!==sn[0]&&2!==sn[0])){An=0;continue}if(3===sn[0]&&(!an||sn[1]>an[0]&&sn[1]<an[3])){An.label=sn[1];break}if(6===sn[0]&&An.label<an[1]){An.label=an[1],an=sn;break}if(an&&An.label<an[2]){An.label=an[2],An.ops.push(sn);break}an[2]&&An.ops.pop(),An.trys.pop();continue}sn=tn.call(en,An)}catch(en){sn=[6,en],rn=0}finally{nn=an=0}if(5&sn[0])throw sn[1];return{value:sn[0]?sn[1]:void 0,done:!0}}}function __spreadArray(en,tn,nn){if(nn||2===arguments.length)for(var rn,an=0,sn=tn.length;an<sn;an++)!rn&&an in tn||(rn||(rn=Array.prototype.slice.call(tn,0,an)),rn[an]=tn[an]);return en.concat(rn||tn)}for(var nn=function(){function Bounds(en,tn,nn,rn){this.left=en,this.top=tn,this.width=nn,this.height=rn}return Bounds.prototype.add=function(en,tn,nn,rn){return new Bounds(this.left+en,this.top+tn,this.width+nn,this.height+rn)},Bounds.fromClientRect=function(en,tn){return new Bounds(tn.left+en.windowBounds.left,tn.top+en.windowBounds.top,tn.width,tn.height)},Bounds.fromDOMRectList=function(en,tn){var nn=Array.from(tn).find((function(en){return 0!==en.width}));return nn?new Bounds(nn.left+en.windowBounds.left,nn.top+en.windowBounds.top,nn.width,nn.height):Bounds.EMPTY},Bounds.EMPTY=new Bounds(0,0,0,0),Bounds}(),rn=function parseBounds(en,tn){return nn.fromClientRect(en,tn.getBoundingClientRect())},an=function toCodePoints$1(en){for(var tn=[],nn=0,rn=en.length;nn<rn;){var an=en.charCodeAt(nn++);if(an>=55296&&an<=56319&&nn<rn){var sn=en.charCodeAt(nn++);56320==(64512&sn)?tn.push(((1023&an)<<10)+(1023&sn)+65536):(tn.push(an),nn--)}else tn.push(an)}return tn},sn=function fromCodePoint$1(){for(var en=[],tn=0;tn<arguments.length;tn++)en[tn]=arguments[tn];if(String.fromCodePoint)return String.fromCodePoint.apply(String,en);var nn=en.length;if(!nn)return"";for(var rn=[],an=-1,sn="";++an<nn;){var An=en[an];An<=65535?rn.push(An):(An-=65536,rn.push(55296+(An>>10),An%1024+56320)),(an+1===nn||rn.length>16384)&&(sn+=String.fromCharCode.apply(String,rn),rn.length=0)}return sn},An="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cn="undefined"==typeof Uint8Array?[]:new Uint8Array(256),un=0;un<An.length;un++)cn[An.charCodeAt(un)]=un;for(var hn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dn="undefined"==typeof Uint8Array?[]:new Uint8Array(256),pn=0;pn<hn.length;pn++)dn[hn.charCodeAt(pn)]=pn;for(var gn=function slice16$1(en,tn,nn){return en.slice?en.slice(tn,nn):new Uint16Array(Array.prototype.slice.call(en,tn,nn))},mn=function(){function Trie(en,tn,nn,rn,an,sn){this.initialValue=en,this.errorValue=tn,this.highStart=nn,this.highValueIndex=rn,this.index=an,this.data=sn}return Trie.prototype.get=function(en){var tn;if(en>=0){if(en<55296||en>56319&&en<=65535)return tn=((tn=this.index[en>>5])<<2)+(31&en),this.data[tn];if(en<=65535)return tn=((tn=this.index[2048+(en-55296>>5)])<<2)+(31&en),this.data[tn];if(en<this.highStart)return tn=2080+(en>>11),tn=this.index[tn],tn+=en>>5&63,tn=((tn=this.index[tn])<<2)+(31&en),this.data[tn];if(en<=1114111)return this.data[this.highValueIndex]}return this.errorValue},Trie}(),vn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yn="undefined"==typeof Uint8Array?[]:new Uint8Array(256),bn=0;bn<vn.length;bn++)yn[vn.charCodeAt(bn)]=bn;var wn=10,Cn=13,xn=15,Bn=17,_n=18,Sn=19,kn=20,En=21,Pn=22,Fn=24,Ln=25,In=26,Un=27,Tn=28,Qn=30,Nn=32,On=33,Mn=34,Rn=35,Hn=37,Dn=38,$n=39,Gn=40,jn=42,Vn=[9001,65288],Kn="×",qn="÷",zn=function createTrieFromBase64$1(en,tn){var nn=function decode$1(en){var tn,nn,rn,an,sn,An=.75*en.length,cn=en.length,un=0;"="===en[en.length-1]&&(An--,"="===en[en.length-2]&&An--);var hn="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(An):new Array(An),pn=Array.isArray(hn)?hn:new Uint8Array(hn);for(tn=0;tn<cn;tn+=4)nn=dn[en.charCodeAt(tn)],rn=dn[en.charCodeAt(tn+1)],an=dn[en.charCodeAt(tn+2)],sn=dn[en.charCodeAt(tn+3)],pn[un++]=nn<<2|rn>>4,pn[un++]=(15&rn)<<4|an>>2,pn[un++]=(3&an)<<6|63&sn;return hn}(en),rn=Array.isArray(nn)?function polyUint32Array$1(en){for(var tn=en.length,nn=[],rn=0;rn<tn;rn+=4)nn.push(en[rn+3]<<24|en[rn+2]<<16|en[rn+1]<<8|en[rn]);return nn}(nn):new Uint32Array(nn),an=Array.isArray(nn)?function polyUint16Array$1(en){for(var tn=en.length,nn=[],rn=0;rn<tn;rn+=2)nn.push(en[rn+1]<<8|en[rn]);return nn}(nn):new Uint16Array(nn),sn=gn(an,12,rn[4]/2),An=2===rn[5]?gn(an,(24+rn[4])/2):function slice32$1(en,tn,nn){return en.slice?en.slice(tn,nn):new Uint32Array(Array.prototype.slice.call(en,tn,nn))}(rn,Math.ceil((24+rn[4])/4));return new mn(rn[0],rn[1],rn[2],rn[3],sn,An)}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),Wn=[Qn,36],Xn=[1,2,3,5],Yn=[wn,8],Jn=[Un,In],Zn=Xn.concat(Yn),Ur=[Dn,$n,Gn,Mn,Rn],Tr=[xn,Cn],Qr=function isAdjacentWithSpaceIgnored(en,tn,nn,rn){var an=rn[nn];if(Array.isArray(en)?-1!==en.indexOf(an):en===an)for(var sn=nn;sn<=rn.length;){if((un=rn[++sn])===tn)return!0;if(un!==wn)break}if(an===wn)for(sn=nn;sn>0;){var An=rn[--sn];if(Array.isArray(en)?-1!==en.indexOf(An):en===An)for(var cn=nn;cn<=rn.length;){var un;if((un=rn[++cn])===tn)return!0;if(un!==wn)break}if(An!==wn)break}return!1},Rr=function previousNonSpaceClassType(en,tn){for(var nn=en;nn>=0;){var rn=tn[nn];if(rn!==wn)return rn;nn--}return 0},Hr=function _lineBreakAtIndex(en,tn,nn,rn,an){if(0===nn[rn])return Kn;var sn=rn-1;if(Array.isArray(an)&&!0===an[sn])return Kn;var An=sn-1,cn=sn+1,un=tn[sn],hn=An>=0?tn[An]:0,dn=tn[cn];if(2===un&&3===dn)return Kn;if(-1!==Xn.indexOf(un))return"!";if(-1!==Xn.indexOf(dn))return Kn;if(-1!==Yn.indexOf(dn))return Kn;if(8===Rr(sn,tn))return qn;if(11===zn.get(en[sn]))return Kn;if((un===Nn||un===On)&&11===zn.get(en[cn]))return Kn;if(7===un||7===dn)return Kn;if(9===un)return Kn;if(-1===[wn,Cn,xn].indexOf(un)&&9===dn)return Kn;if(-1!==[Bn,_n,Sn,Fn,Tn].indexOf(dn))return Kn;if(Rr(sn,tn)===Pn)return Kn;if(Qr(23,Pn,sn,tn))return Kn;if(Qr([Bn,_n],En,sn,tn))return Kn;if(Qr(12,12,sn,tn))return Kn;if(un===wn)return qn;if(23===un||23===dn)return Kn;if(16===dn||16===un)return qn;if(-1!==[Cn,xn,En].indexOf(dn)||14===un)return Kn;if(36===hn&&-1!==Tr.indexOf(un))return Kn;if(un===Tn&&36===dn)return Kn;if(dn===kn)return Kn;if(-1!==Wn.indexOf(dn)&&un===Ln||-1!==Wn.indexOf(un)&&dn===Ln)return Kn;if(un===Un&&-1!==[Hn,Nn,On].indexOf(dn)||-1!==[Hn,Nn,On].indexOf(un)&&dn===In)return Kn;if(-1!==Wn.indexOf(un)&&-1!==Jn.indexOf(dn)||-1!==Jn.indexOf(un)&&-1!==Wn.indexOf(dn))return Kn;if(-1!==[Un,In].indexOf(un)&&(dn===Ln||-1!==[Pn,xn].indexOf(dn)&&tn[cn+1]===Ln)||-1!==[Pn,xn].indexOf(un)&&dn===Ln||un===Ln&&-1!==[Ln,Tn,Fn].indexOf(dn))return Kn;if(-1!==[Ln,Tn,Fn,Bn,_n].indexOf(dn))for(var pn=sn;pn>=0;){if((gn=tn[pn])===Ln)return Kn;if(-1===[Tn,Fn].indexOf(gn))break;pn--}if(-1!==[Un,In].indexOf(dn))for(pn=-1!==[Bn,_n].indexOf(un)?An:sn;pn>=0;){var gn;if((gn=tn[pn])===Ln)return Kn;if(-1===[Tn,Fn].indexOf(gn))break;pn--}if(Dn===un&&-1!==[Dn,$n,Mn,Rn].indexOf(dn)||-1!==[$n,Mn].indexOf(un)&&-1!==[$n,Gn].indexOf(dn)||-1!==[Gn,Rn].indexOf(un)&&dn===Gn)return Kn;if(-1!==Ur.indexOf(un)&&-1!==[kn,In].indexOf(dn)||-1!==Ur.indexOf(dn)&&un===Un)return Kn;if(-1!==Wn.indexOf(un)&&-1!==Wn.indexOf(dn))return Kn;if(un===Fn&&-1!==Wn.indexOf(dn))return Kn;if(-1!==Wn.concat(Ln).indexOf(un)&&dn===Pn&&-1===Vn.indexOf(en[cn])||-1!==Wn.concat(Ln).indexOf(dn)&&un===_n)return Kn;if(41===un&&41===dn){for(var mn=nn[sn],vn=1;mn>0&&41===tn[--mn];)vn++;if(vn%2!=0)return Kn}return un===Nn&&dn===On?Kn:qn},Dr=function cssFormattedClasses(en,tn){tn||(tn={lineBreak:"normal",wordBreak:"normal"});var nn=function codePointsToCharacterClasses(en,tn){void 0===tn&&(tn="strict");var nn=[],rn=[],an=[];return en.forEach((function(en,sn){var An=zn.get(en);if(An>50?(an.push(!0),An-=50):an.push(!1),-1!==["normal","auto","loose"].indexOf(tn)&&-1!==[8208,8211,12316,12448].indexOf(en))return rn.push(sn),nn.push(16);if(4===An||11===An){if(0===sn)return rn.push(sn),nn.push(Qn);var cn=nn[sn-1];return-1===Zn.indexOf(cn)?(rn.push(rn[sn-1]),nn.push(cn)):(rn.push(sn),nn.push(Qn))}return rn.push(sn),31===An?nn.push("strict"===tn?En:Hn):An===jn||29===An?nn.push(Qn):43===An?en>=131072&&en<=196605||en>=196608&&en<=262141?nn.push(Hn):nn.push(Qn):void nn.push(An)})),[rn,nn,an]}(en,tn.lineBreak),rn=nn[0],an=nn[1],sn=nn[2];"break-all"!==tn.wordBreak&&"break-word"!==tn.wordBreak||(an=an.map((function(en){return-1!==[Ln,Qn,jn].indexOf(en)?Hn:en})));var An="keep-all"===tn.wordBreak?sn.map((function(tn,nn){return tn&&en[nn]>=19968&&en[nn]<=40959})):void 0;return[rn,an,An]},$r=function(){function Break(en,tn,nn,rn){this.codePoints=en,this.required="!"===tn,this.start=nn,this.end=rn}return Break.prototype.slice=function(){return sn.apply(void 0,this.codePoints.slice(this.start,this.end))},Break}(),Gr=45,Vr=43,Kr=-1,zr=function isDigit(en){return en>=48&&en<=57},Wr=function isHex(en){return zr(en)||en>=65&&en<=70||en>=97&&en<=102},Xr=function isWhiteSpace(en){return 10===en||9===en||32===en},Yr=function isNameStartCodePoint(en){return function isLetter(en){return function isLowerCaseLetter(en){return en>=97&&en<=122}(en)||function isUpperCaseLetter(en){return en>=65&&en<=90}(en)}(en)||function isNonASCIICodePoint(en){return en>=128}(en)||95===en},Jr=function isNameCodePoint(en){return Yr(en)||zr(en)||en===Gr},Zr=function isNonPrintableCodePoint(en){return en>=0&&en<=8||11===en||en>=14&&en<=31||127===en},ei=function isValidEscape(en,tn){return 92===en&&10!==tn},ti=function isIdentifierStart(en,tn,nn){return en===Gr?Yr(tn)||ei(tn,nn):!!Yr(en)||!(92!==en||!ei(en,tn))},ni=function isNumberStart(en,tn,nn){return en===Vr||en===Gr?!!zr(tn)||46===tn&&zr(nn):zr(46===en?tn:en)},ri=function stringToNumber(en){var tn=0,nn=1;en[tn]!==Vr&&en[tn]!==Gr||(en[tn]===Gr&&(nn=-1),tn++);for(var rn=[];zr(en[tn]);)rn.push(en[tn++]);var an=rn.length?parseInt(sn.apply(void 0,rn),10):0;46===en[tn]&&tn++;for(var An=[];zr(en[tn]);)An.push(en[tn++]);var cn=An.length,un=cn?parseInt(sn.apply(void 0,An),10):0;69!==en[tn]&&101!==en[tn]||tn++;var hn=1;en[tn]!==Vr&&en[tn]!==Gr||(en[tn]===Gr&&(hn=-1),tn++);for(var dn=[];zr(en[tn]);)dn.push(en[tn++]);var pn=dn.length?parseInt(sn.apply(void 0,dn),10):0;return nn*(an+un*Math.pow(10,-cn))*Math.pow(10,hn*pn)},ii={type:2},ai={type:3},oi={type:4},si={type:13},Ai={type:8},li={type:21},ci={type:9},ui={type:10},hi={type:11},di={type:12},pi={type:14},gi={type:23},fi={type:1},mi={type:25},yi={type:24},bi={type:26},wi={type:27},xi={type:28},Bi={type:29},_i={type:31},Si={type:32},ki=function(){function Tokenizer(){this._value=[]}return Tokenizer.prototype.write=function(en){this._value=this._value.concat(an(en))},Tokenizer.prototype.read=function(){for(var en=[],tn=this.consumeToken();tn!==Si;)en.push(tn),tn=this.consumeToken();return en},Tokenizer.prototype.consumeToken=function(){var en=this.consumeCodePoint();switch(en){case 34:return this.consumeStringToken(34);case 35:var tn=this.peekCodePoint(0),nn=this.peekCodePoint(1),rn=this.peekCodePoint(2);if(Jr(tn)||ei(nn,rn)){var an=ti(tn,nn,rn)?2:1;return{type:5,value:this.consumeName(),flags:an}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),si;break;case 39:return this.consumeStringToken(39);case 40:return ii;case 41:return ai;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),pi;break;case Vr:if(ni(en,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(en),this.consumeNumericToken();break;case 44:return oi;case Gr:var An=en,cn=this.peekCodePoint(0),un=this.peekCodePoint(1);if(ni(An,cn,un))return this.reconsumeCodePoint(en),this.consumeNumericToken();if(ti(An,cn,un))return this.reconsumeCodePoint(en),this.consumeIdentLikeToken();if(cn===Gr&&62===un)return this.consumeCodePoint(),this.consumeCodePoint(),yi;break;case 46:if(ni(en,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(en),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var hn=this.consumeCodePoint();if(42===hn&&47===(hn=this.consumeCodePoint()))return this.consumeToken();if(hn===Kr)return this.consumeToken()}break;case 58:return bi;case 59:return wi;case 60:if(33===this.peekCodePoint(0)&&this.peekCodePoint(1)===Gr&&this.peekCodePoint(2)===Gr)return this.consumeCodePoint(),this.consumeCodePoint(),mi;break;case 64:var dn=this.peekCodePoint(0),pn=this.peekCodePoint(1),gn=this.peekCodePoint(2);if(ti(dn,pn,gn))return{type:7,value:this.consumeName()};break;case 91:return xi;case 92:if(ei(en,this.peekCodePoint(0)))return this.reconsumeCodePoint(en),this.consumeIdentLikeToken();break;case 93:return Bi;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ai;break;case 123:return hi;case 125:return di;case 117:case 85:var mn=this.peekCodePoint(0),vn=this.peekCodePoint(1);return mn!==Vr||!Wr(vn)&&63!==vn||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(en),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),ci;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),li;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),ui;break;case Kr:return Si}return Xr(en)?(this.consumeWhiteSpace(),_i):zr(en)?(this.reconsumeCodePoint(en),this.consumeNumericToken()):Yr(en)?(this.reconsumeCodePoint(en),this.consumeIdentLikeToken()):{type:6,value:sn(en)}},Tokenizer.prototype.consumeCodePoint=function(){var en=this._value.shift();return void 0===en?-1:en},Tokenizer.prototype.reconsumeCodePoint=function(en){this._value.unshift(en)},Tokenizer.prototype.peekCodePoint=function(en){return en>=this._value.length?-1:this._value[en]},Tokenizer.prototype.consumeUnicodeRangeToken=function(){for(var en=[],tn=this.consumeCodePoint();Wr(tn)&&en.length<6;)en.push(tn),tn=this.consumeCodePoint();for(var nn=!1;63===tn&&en.length<6;)en.push(tn),tn=this.consumeCodePoint(),nn=!0;if(nn)return{type:30,start:parseInt(sn.apply(void 0,en.map((function(en){return 63===en?48:en}))),16),end:parseInt(sn.apply(void 0,en.map((function(en){return 63===en?70:en}))),16)};var rn=parseInt(sn.apply(void 0,en),16);if(this.peekCodePoint(0)===Gr&&Wr(this.peekCodePoint(1))){this.consumeCodePoint(),tn=this.consumeCodePoint();for(var an=[];Wr(tn)&&an.length<6;)an.push(tn),tn=this.consumeCodePoint();return{type:30,start:rn,end:parseInt(sn.apply(void 0,an),16)}}return{type:30,start:rn,end:rn}},Tokenizer.prototype.consumeIdentLikeToken=function(){var en=this.consumeName();return"url"===en.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:en}):{type:20,value:en}},Tokenizer.prototype.consumeUrlToken=function(){var en=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Kr)return{type:22,value:""};var tn=this.peekCodePoint(0);if(39===tn||34===tn){var nn=this.consumeStringToken(this.consumeCodePoint());return 0===nn.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Kr||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:nn.value}):(this.consumeBadUrlRemnants(),gi)}for(;;){var rn=this.consumeCodePoint();if(rn===Kr||41===rn)return{type:22,value:sn.apply(void 0,en)};if(Xr(rn))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Kr||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:sn.apply(void 0,en)}):(this.consumeBadUrlRemnants(),gi);if(34===rn||39===rn||40===rn||Zr(rn))return this.consumeBadUrlRemnants(),gi;if(92===rn){if(!ei(rn,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),gi;en.push(this.consumeEscapedCodePoint())}else en.push(rn)}},Tokenizer.prototype.consumeWhiteSpace=function(){for(;Xr(this.peekCodePoint(0));)this.consumeCodePoint()},Tokenizer.prototype.consumeBadUrlRemnants=function(){for(;;){var en=this.consumeCodePoint();if(41===en||en===Kr)return;ei(en,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},Tokenizer.prototype.consumeStringSlice=function(en){for(var tn="";en>0;){var nn=Math.min(5e4,en);tn+=sn.apply(void 0,this._value.splice(0,nn)),en-=nn}return this._value.shift(),tn},Tokenizer.prototype.consumeStringToken=function(en){for(var tn="",nn=0;;){var rn=this._value[nn];if(rn===Kr||void 0===rn||rn===en)return{type:0,value:tn+=this.consumeStringSlice(nn)};if(10===rn)return this._value.splice(0,nn),fi;if(92===rn){var an=this._value[nn+1];an!==Kr&&void 0!==an&&(10===an?(tn+=this.consumeStringSlice(nn),nn=-1,this._value.shift()):ei(rn,an)&&(tn+=this.consumeStringSlice(nn),tn+=sn(this.consumeEscapedCodePoint()),nn=-1))}nn++}},Tokenizer.prototype.consumeNumber=function(){var en=[],tn=4,nn=this.peekCodePoint(0);for(nn!==Vr&&nn!==Gr||en.push(this.consumeCodePoint());zr(this.peekCodePoint(0));)en.push(this.consumeCodePoint());nn=this.peekCodePoint(0);var rn=this.peekCodePoint(1);if(46===nn&&zr(rn))for(en.push(this.consumeCodePoint(),this.consumeCodePoint()),tn=8;zr(this.peekCodePoint(0));)en.push(this.consumeCodePoint());nn=this.peekCodePoint(0),rn=this.peekCodePoint(1);var an=this.peekCodePoint(2);if((69===nn||101===nn)&&((rn===Vr||rn===Gr)&&zr(an)||zr(rn)))for(en.push(this.consumeCodePoint(),this.consumeCodePoint()),tn=8;zr(this.peekCodePoint(0));)en.push(this.consumeCodePoint());return[ri(en),tn]},Tokenizer.prototype.consumeNumericToken=function(){var en=this.consumeNumber(),tn=en[0],nn=en[1],rn=this.peekCodePoint(0),an=this.peekCodePoint(1),sn=this.peekCodePoint(2);return ti(rn,an,sn)?{type:15,number:tn,flags:nn,unit:this.consumeName()}:37===rn?(this.consumeCodePoint(),{type:16,number:tn,flags:nn}):{type:17,number:tn,flags:nn}},Tokenizer.prototype.consumeEscapedCodePoint=function(){var en=this.consumeCodePoint();if(Wr(en)){for(var tn=sn(en);Wr(this.peekCodePoint(0))&&tn.length<6;)tn+=sn(this.consumeCodePoint());Xr(this.peekCodePoint(0))&&this.consumeCodePoint();var nn=parseInt(tn,16);return 0===nn||function isSurrogateCodePoint(en){return en>=55296&&en<=57343}(nn)||nn>1114111?65533:nn}return en===Kr?65533:en},Tokenizer.prototype.consumeName=function(){for(var en="";;){var tn=this.consumeCodePoint();if(Jr(tn))en+=sn(tn);else{if(!ei(tn,this.peekCodePoint(0)))return this.reconsumeCodePoint(tn),en;en+=sn(this.consumeEscapedCodePoint())}}},Tokenizer}(),Ei=function(){function Parser(en){this._tokens=en}return Parser.create=function(en){var tn=new ki;return tn.write(en),new Parser(tn.read())},Parser.parseValue=function(en){return Parser.create(en).parseComponentValue()},Parser.parseValues=function(en){return Parser.create(en).parseComponentValues()},Parser.prototype.parseComponentValue=function(){for(var en=this.consumeToken();31===en.type;)en=this.consumeToken();if(32===en.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(en);var tn=this.consumeComponentValue();do{en=this.consumeToken()}while(31===en.type);if(32===en.type)return tn;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},Parser.prototype.parseComponentValues=function(){for(var en=[];;){var tn=this.consumeComponentValue();if(32===tn.type)return en;en.push(tn),en.push()}},Parser.prototype.consumeComponentValue=function(){var en=this.consumeToken();switch(en.type){case 11:case 28:case 2:return this.consumeSimpleBlock(en.type);case 19:return this.consumeFunction(en)}return en},Parser.prototype.consumeSimpleBlock=function(en){for(var tn={type:en,values:[]},nn=this.consumeToken();;){if(32===nn.type||Oi(nn,en))return tn;this.reconsumeToken(nn),tn.values.push(this.consumeComponentValue()),nn=this.consumeToken()}},Parser.prototype.consumeFunction=function(en){for(var tn={name:en.value,values:[],type:18};;){var nn=this.consumeToken();if(32===nn.type||3===nn.type)return tn;this.reconsumeToken(nn),tn.values.push(this.consumeComponentValue())}},Parser.prototype.consumeToken=function(){var en=this._tokens.shift();return void 0===en?Si:en},Parser.prototype.reconsumeToken=function(en){this._tokens.unshift(en)},Parser}(),Pi=function isDimensionToken(en){return 15===en.type},Fi=function isNumberToken(en){return 17===en.type},Li=function isIdentToken(en){return 20===en.type},Ii=function isStringToken(en){return 0===en.type},Ui=function isIdentWithValue(en,tn){return Li(en)&&en.value===tn},Ti=function nonWhiteSpace(en){return 31!==en.type},Qi=function nonFunctionArgSeparator(en){return 31!==en.type&&4!==en.type},Ni=function parseFunctionArgs(en){var tn=[],nn=[];return en.forEach((function(en){if(4===en.type){if(0===nn.length)throw new Error("Error parsing function args, zero tokens for arg");return tn.push(nn),void(nn=[])}31!==en.type&&nn.push(en)})),nn.length&&tn.push(nn),tn},Oi=function isEndingTokenFor(en,tn){return 11===tn&&12===en.type||28===tn&&29===en.type||2===tn&&3===en.type},Mi=function isLength(en){return 17===en.type||15===en.type},Ri=function isLengthPercentage(en){return 16===en.type||Mi(en)},Hi=function parseLengthPercentageTuple(en){return en.length>1?[en[0],en[1]]:[en[0]]},Di={type:17,number:0,flags:4},$i={type:16,number:50,flags:4},Gi={type:16,number:100,flags:4},ji=function getAbsoluteValueForTuple(en,tn,nn){var rn=en[0],an=en[1];return[Vi(rn,tn),Vi(void 0!==an?an:rn,nn)]},Vi=function getAbsoluteValue(en,tn){if(16===en.type)return en.number/100*tn;if(Pi(en))switch(en.unit){case"rem":case"em":return 16*en.number;default:return en.number}return en.number},Ki="grad",qi="turn",zi=function parse(en,tn){if(15===tn.type)switch(tn.unit){case"deg":return Math.PI*tn.number/180;case Ki:return Math.PI/200*tn.number;case"rad":return tn.number;case qi:return 2*Math.PI*tn.number}throw new Error("Unsupported angle type")},Wi=function isAngle(en){return 15===en.type&&("deg"===en.unit||en.unit===Ki||"rad"===en.unit||en.unit===qi)},Xi=function parseNamedSide(en){switch(en.filter(Li).map((function(en){return en.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Di,Di];case"to top":case"bottom":return Yi(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Di,Gi];case"to right":case"left":return Yi(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Gi,Gi];case"to bottom":case"top":return Yi(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Gi,Di];case"to left":case"right":return Yi(270)}return 0},Yi=function deg(en){return Math.PI*en/180},Ji=function parse(en,tn){if(18===tn.type){var nn=aa[tn.name];if(void 0===nn)throw new Error('Attempting to parse an unsupported color function "'+tn.name+'"');return nn(en,tn.values)}if(5===tn.type){if(3===tn.value.length){var rn=tn.value.substring(0,1),an=tn.value.substring(1,2),sn=tn.value.substring(2,3);return ta(parseInt(rn+rn,16),parseInt(an+an,16),parseInt(sn+sn,16),1)}if(4===tn.value.length){rn=tn.value.substring(0,1),an=tn.value.substring(1,2),sn=tn.value.substring(2,3);var An=tn.value.substring(3,4);return ta(parseInt(rn+rn,16),parseInt(an+an,16),parseInt(sn+sn,16),parseInt(An+An,16)/255)}if(6===tn.value.length)return rn=tn.value.substring(0,2),an=tn.value.substring(2,4),sn=tn.value.substring(4,6),ta(parseInt(rn,16),parseInt(an,16),parseInt(sn,16),1);if(8===tn.value.length)return rn=tn.value.substring(0,2),an=tn.value.substring(2,4),sn=tn.value.substring(4,6),An=tn.value.substring(6,8),ta(parseInt(rn,16),parseInt(an,16),parseInt(sn,16),parseInt(An,16)/255)}if(20===tn.type){var cn=sa[tn.value.toUpperCase()];if(void 0!==cn)return cn}return sa.TRANSPARENT},Zi=function isTransparent(en){return 0==(255&en)},ea=function asString(en){var tn=255&en,nn=255&en>>8,rn=255&en>>16,an=255&en>>24;return tn<255?"rgba("+an+","+rn+","+nn+","+tn/255+")":"rgb("+an+","+rn+","+nn+")"},ta=function pack(en,tn,nn,rn){return(en<<24|tn<<16|nn<<8|Math.round(255*rn)<<0)>>>0},na=function getTokenColorValue(en,tn){if(17===en.type)return en.number;if(16===en.type){var nn=3===tn?1:255;return 3===tn?en.number/100*nn:Math.round(en.number/100*nn)}return 0},ra=function rgb(en,tn){var nn=tn.filter(Qi);if(3===nn.length){var rn=nn.map(na),an=rn[0],sn=rn[1],An=rn[2];return ta(an,sn,An,1)}if(4===nn.length){var cn=nn.map(na),un=(an=cn[0],sn=cn[1],An=cn[2],cn[3]);return ta(an,sn,An,un)}return 0};function hue2rgb(en,tn,nn){return nn<0&&(nn+=1),nn>=1&&(nn-=1),nn<1/6?(tn-en)*nn*6+en:nn<.5?tn:nn<2/3?6*(tn-en)*(2/3-nn)+en:en}var ia=function hsl(en,tn){var nn=tn.filter(Qi),rn=nn[0],an=nn[1],sn=nn[2],An=nn[3],cn=(17===rn.type?Yi(rn.number):zi(en,rn))/(2*Math.PI),un=Ri(an)?an.number/100:0,hn=Ri(sn)?sn.number/100:0,dn=void 0!==An&&Ri(An)?Vi(An,1):1;if(0===un)return ta(255*hn,255*hn,255*hn,1);var pn=hn<=.5?hn*(un+1):hn+un-hn*un,gn=2*hn-pn,mn=hue2rgb(gn,pn,cn+1/3),vn=hue2rgb(gn,pn,cn),yn=hue2rgb(gn,pn,cn-1/3);return ta(255*mn,255*vn,255*yn,dn)},aa={hsl:ia,hsla:ia,rgb:ra,rgba:ra},oa=function parseColor(en,tn){return Ji(en,Ei.create(tn).parseComponentValue())},sa={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Aa={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function parse(en,tn){return tn.map((function(en){if(Li(en))switch(en.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},la={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ca=function parseColorStop(en,tn){var nn=Ji(en,tn[0]),rn=tn[1];return rn&&Ri(rn)?{color:nn,stop:rn}:{color:nn,stop:null}},ua=function processColorStops(en,tn){var nn=en[0],rn=en[en.length-1];null===nn.stop&&(nn.stop=Di),null===rn.stop&&(rn.stop=Gi);for(var an=[],sn=0,An=0;An<en.length;An++){var cn=en[An].stop;if(null!==cn){var un=Vi(cn,tn);un>sn?an.push(un):an.push(sn),sn=un}else an.push(null)}var hn=null;for(An=0;An<an.length;An++){var dn=an[An];if(null===dn)null===hn&&(hn=An);else if(null!==hn){for(var pn=An-hn,gn=(dn-an[hn-1])/(pn+1),mn=1;mn<=pn;mn++)an[hn+mn-1]=gn*mn;hn=null}}return en.map((function(en,nn){return{color:en.color,stop:Math.max(Math.min(1,an[nn]/tn),0)}}))},ha=function calculateGradientDirection(en,tn,nn){var rn="number"==typeof en?en:function getAngleFromCorner(en,tn,nn){var rn=tn/2,an=nn/2,sn=Vi(en[0],tn)-rn,An=an-Vi(en[1],nn);return(Math.atan2(An,sn)+2*Math.PI)%(2*Math.PI)}(en,tn,nn),an=Math.abs(tn*Math.sin(rn))+Math.abs(nn*Math.cos(rn)),sn=tn/2,An=nn/2,cn=an/2,un=Math.sin(rn-Math.PI/2)*cn,hn=Math.cos(rn-Math.PI/2)*cn;return[an,sn-hn,sn+hn,An-un,An+un]},da=function distance(en,tn){return Math.sqrt(en*en+tn*tn)},pa=function findCorner(en,tn,nn,rn,an){return[[0,0],[0,tn],[en,0],[en,tn]].reduce((function(en,tn){var sn=tn[0],An=tn[1],cn=da(nn-sn,rn-An);return(an?cn<en.optimumDistance:cn>en.optimumDistance)?{optimumCorner:tn,optimumDistance:cn}:en}),{optimumDistance:an?1/0:-1/0,optimumCorner:null}).optimumCorner},ga=function prefixLinearGradient(en,tn){var nn=Yi(180),rn=[];return Ni(tn).forEach((function(tn,an){if(0===an){var sn=tn[0];if(20===sn.type&&-1!==["top","left","right","bottom"].indexOf(sn.value))return void(nn=Xi(tn));if(Wi(sn))return void(nn=(zi(en,sn)+Yi(270))%Yi(360))}var An=ca(en,tn);rn.push(An)})),{angle:nn,stops:rn,type:1}},fa="closest-side",ma="farthest-side",va="closest-corner",ya="farthest-corner",ba="circle",wa="ellipse",Ca="cover",xa="contain",Ba=function prefixRadialGradient(en,tn){var nn=0,rn=3,an=[],sn=[];return Ni(tn).forEach((function(tn,An){var cn=!0;if(0===An?cn=tn.reduce((function(en,tn){if(Li(tn))switch(tn.value){case"center":return sn.push($i),!1;case"top":case"left":return sn.push(Di),!1;case"right":case"bottom":return sn.push(Gi),!1}else if(Ri(tn)||Mi(tn))return sn.push(tn),!1;return en}),cn):1===An&&(cn=tn.reduce((function(en,tn){if(Li(tn))switch(tn.value){case ba:return nn=0,!1;case wa:return nn=1,!1;case xa:case fa:return rn=0,!1;case ma:return rn=1,!1;case va:return rn=2,!1;case Ca:case ya:return rn=3,!1}else if(Mi(tn)||Ri(tn))return Array.isArray(rn)||(rn=[]),rn.push(tn),!1;return en}),cn)),cn){var un=ca(en,tn);an.push(un)}})),{size:rn,shape:nn,stops:an,position:sn,type:2}},_a=function parse(en,tn){if(22===tn.type){var nn={url:tn.value,type:0};return en.cache.addImage(tn.value),nn}if(18===tn.type){var rn=ka[tn.name];if(void 0===rn)throw new Error('Attempting to parse an unsupported image function "'+tn.name+'"');return rn(en,tn.values)}throw new Error("Unsupported image type "+tn.type)};var Sa,ka={"linear-gradient":function linearGradient(en,tn){var nn=Yi(180),rn=[];return Ni(tn).forEach((function(tn,an){if(0===an){var sn=tn[0];if(20===sn.type&&"to"===sn.value)return void(nn=Xi(tn));if(Wi(sn))return void(nn=zi(en,sn))}var An=ca(en,tn);rn.push(An)})),{angle:nn,stops:rn,type:1}},"-moz-linear-gradient":ga,"-ms-linear-gradient":ga,"-o-linear-gradient":ga,"-webkit-linear-gradient":ga,"radial-gradient":function radialGradient(en,tn){var nn=0,rn=3,an=[],sn=[];return Ni(tn).forEach((function(tn,An){var cn=!0;if(0===An){var un=!1;cn=tn.reduce((function(en,tn){if(un)if(Li(tn))switch(tn.value){case"center":return sn.push($i),en;case"top":case"left":return sn.push(Di),en;case"right":case"bottom":return sn.push(Gi),en}else(Ri(tn)||Mi(tn))&&sn.push(tn);else if(Li(tn))switch(tn.value){case ba:return nn=0,!1;case wa:return nn=1,!1;case"at":return un=!0,!1;case fa:return rn=0,!1;case Ca:case ma:return rn=1,!1;case xa:case va:return rn=2,!1;case ya:return rn=3,!1}else if(Mi(tn)||Ri(tn))return Array.isArray(rn)||(rn=[]),rn.push(tn),!1;return en}),cn)}if(cn){var hn=ca(en,tn);an.push(hn)}})),{size:rn,shape:nn,stops:an,position:sn,type:2}},"-moz-radial-gradient":Ba,"-ms-radial-gradient":Ba,"-o-radial-gradient":Ba,"-webkit-radial-gradient":Ba,"-webkit-gradient":function webkitGradient(en,tn){var nn=Yi(180),rn=[],an=1;return Ni(tn).forEach((function(tn,nn){var sn=tn[0];if(0===nn){if(Li(sn)&&"linear"===sn.value)return void(an=1);if(Li(sn)&&"radial"===sn.value)return void(an=2)}if(18===sn.type)if("from"===sn.name){var An=Ji(en,sn.values[0]);rn.push({stop:Di,color:An})}else if("to"===sn.name)An=Ji(en,sn.values[0]),rn.push({stop:Gi,color:An});else if("color-stop"===sn.name){var cn=sn.values.filter(Qi);if(2===cn.length){An=Ji(en,cn[1]);var un=cn[0];Fi(un)&&rn.push({stop:{type:16,number:100*un.number,flags:un.flags},color:An})}}})),1===an?{angle:(nn+Yi(180))%Yi(360),stops:rn,type:an}:{size:3,shape:0,stops:rn,position:[],type:an}}},Ea={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function parse(en,tn){if(0===tn.length)return[];var nn=tn[0];return 20===nn.type&&"none"===nn.value?[]:tn.filter((function(en){return Qi(en)&&function isSupportedImage(en){return!(20===en.type&&"none"===en.value||18===en.type&&!ka[en.name])}(en)})).map((function(tn){return _a(en,tn)}))}},Pa={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function parse(en,tn){return tn.map((function(en){if(Li(en))switch(en.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Fa={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function parse(en,tn){return Ni(tn).map((function(en){return en.filter(Ri)})).map(Hi)}},La={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function parse(en,tn){return Ni(tn).map((function(en){return en.filter(Li).map((function(en){return en.value})).join(" ")})).map(Ia)}},Ia=function parseBackgroundRepeat(en){switch(en){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(en){en.AUTO="auto",en.CONTAIN="contain",en.COVER="cover"}(Sa||(Sa={}));var Ua,Ta={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function parse(en,tn){return Ni(tn).map((function(en){return en.filter(Qa)}))}},Qa=function isBackgroundSizeInfoToken(en){return Li(en)||Ri(en)},Na=function borderColorForSide(en){return{name:"border-"+en+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Oa=Na("top"),Ma=Na("right"),Ra=Na("bottom"),Ha=Na("left"),Da=function borderRadiusForSide(en){return{name:"border-radius-"+en,initialValue:"0 0",prefix:!1,type:1,parse:function parse(en,tn){return Hi(tn.filter(Ri))}}},$a=Da("top-left"),Ga=Da("top-right"),ja=Da("bottom-right"),Va=Da("bottom-left"),Ka=function borderStyleForSide(en){return{name:"border-"+en+"-style",initialValue:"solid",prefix:!1,type:2,parse:function parse(en,tn){switch(tn){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},qa=Ka("top"),za=Ka("right"),Wa=Ka("bottom"),Xa=Ka("left"),Ya=function borderWidthForSide(en){return{name:"border-"+en+"-width",initialValue:"0",type:0,prefix:!1,parse:function parse(en,tn){return Pi(tn)?tn.number:0}}},Ja=Ya("top"),Za=Ya("right"),eo=Ya("bottom"),to=Ya("left"),no={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ro={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function parse(en,tn){return"rtl"===tn?1:0}},io={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function parse(en,tn){return tn.filter(Li).reduce((function(en,tn){return en|ao(tn.value)}),0)}},ao=function parseDisplayValue(en){switch(en){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},oo={name:"float",initialValue:"none",prefix:!1,type:2,parse:function parse(en,tn){switch(tn){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},so={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function parse(en,tn){return 20===tn.type&&"normal"===tn.value?0:17===tn.type||15===tn.type?tn.number:0}};!function(en){en.NORMAL="normal",en.STRICT="strict"}(Ua||(Ua={}));var Ao,lo={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function parse(en,tn){return"strict"===tn?Ua.STRICT:Ua.NORMAL}},co={name:"line-height",initialValue:"normal",prefix:!1,type:4},uo=function computeLineHeight(en,tn){return Li(en)&&"normal"===en.value?1.2*tn:17===en.type?tn*en.number:Ri(en)?Vi(en,tn):tn},ho={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function parse(en,tn){return 20===tn.type&&"none"===tn.value?null:_a(en,tn)}},po={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function parse(en,tn){return"inside"===tn?0:1}},go={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function parse(en,tn){switch(tn){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},fo=function marginForSide(en){return{name:"margin-"+en,initialValue:"0",prefix:!1,type:4}},mo=fo("top"),vo=fo("right"),yo=fo("bottom"),bo=fo("left"),wo={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function parse(en,tn){return tn.filter(Li).map((function(en){switch(en.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}}))}},Co={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function parse(en,tn){return"break-word"===tn?"break-word":"normal"}},xo=function paddingForSide(en){return{name:"padding-"+en,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Bo=xo("top"),_o=xo("right"),So=xo("bottom"),ko=xo("left"),Eo={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function parse(en,tn){switch(tn){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Po={name:"position",initialValue:"static",prefix:!1,type:2,parse:function parse(en,tn){switch(tn){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Fo={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function parse(en,tn){return 1===tn.length&&Ui(tn[0],"none")?[]:Ni(tn).map((function(tn){for(var nn={color:sa.TRANSPARENT,offsetX:Di,offsetY:Di,blur:Di},rn=0,an=0;an<tn.length;an++){var sn=tn[an];Mi(sn)?(0===rn?nn.offsetX=sn:1===rn?nn.offsetY=sn:nn.blur=sn,rn++):nn.color=Ji(en,sn)}return nn}))}},Lo={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function parse(en,tn){switch(tn){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Io={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function parse(en,tn){if(20===tn.type&&"none"===tn.value)return null;if(18===tn.type){var nn=Uo[tn.name];if(void 0===nn)throw new Error('Attempting to parse an unsupported transform function "'+tn.name+'"');return nn(tn.values)}return null}},Uo={matrix:function matrix(en){var tn=en.filter((function(en){return 17===en.type})).map((function(en){return en.number}));return 6===tn.length?tn:null},matrix3d:function matrix3d(en){var tn=en.filter((function(en){return 17===en.type})).map((function(en){return en.number})),nn=tn[0],rn=tn[1];tn[2],tn[3];var an=tn[4],sn=tn[5];tn[6],tn[7],tn[8],tn[9],tn[10],tn[11];var An=tn[12],cn=tn[13];return tn[14],tn[15],16===tn.length?[nn,rn,an,sn,An,cn]:null}},To={type:16,number:50,flags:4},Qo=[To,To],No={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function parse(en,tn){var nn=tn.filter(Ri);return 2!==nn.length?Qo:[nn[0],nn[1]]}},Oo={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function parse(en,tn){switch(tn){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(en){en.NORMAL="normal",en.BREAK_ALL="break-all",en.KEEP_ALL="keep-all"}(Ao||(Ao={}));for(var Mo={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function parse(en,tn){switch(tn){case"break-all":return Ao.BREAK_ALL;case"keep-all":return Ao.KEEP_ALL;default:return Ao.NORMAL}}},Ro={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function parse(en,tn){if(20===tn.type)return{auto:!0,order:0};if(Fi(tn))return{auto:!1,order:tn.number};throw new Error("Invalid z-index number parsed")}},Ho={name:"time",parse:function parse(en,tn){if(15===tn.type)switch(tn.unit.toLowerCase()){case"s":return 1e3*tn.number;case"ms":return tn.number}throw new Error("Unsupported time type")}},Do={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function parse(en,tn){return Fi(tn)?tn.number:1}},$o={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Go={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function parse(en,tn){return tn.filter(Li).map((function(en){switch(en.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(en){return 0!==en}))}},jo={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function parse(en,tn){var nn=[],rn=[];return tn.forEach((function(en){switch(en.type){case 20:case 0:nn.push(en.value);break;case 17:nn.push(en.number.toString());break;case 4:rn.push(nn.join(" ")),nn.length=0}})),nn.length&&rn.push(nn.join(" ")),rn.map((function(en){return-1===en.indexOf(" ")?en:"'"+en+"'"}))}},Vo={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Ko={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function parse(en,tn){return Fi(tn)?tn.number:Li(tn)&&"bold"===tn.value?700:400}},qo={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function parse(en,tn){return tn.filter(Li).map((function(en){return en.value}))}},zo={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function parse(en,tn){switch(tn){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},Wo=function contains(en,tn){return 0!=(en&tn)},Xo={name:"content",initialValue:"none",type:1,prefix:!1,parse:function parse(en,tn){if(0===tn.length)return[];var nn=tn[0];return 20===nn.type&&"none"===nn.value?[]:tn}},Yo={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function parse(en,tn){if(0===tn.length)return null;var nn=tn[0];if(20===nn.type&&"none"===nn.value)return null;for(var rn=[],an=tn.filter(Ti),sn=0;sn<an.length;sn++){var An=an[sn],cn=an[sn+1];if(20===An.type){var un=cn&&Fi(cn)?cn.number:1;rn.push({counter:An.value,increment:un})}}return rn}},Jo={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function parse(en,tn){if(0===tn.length)return[];for(var nn=[],rn=tn.filter(Ti),an=0;an<rn.length;an++){var sn=rn[an],An=rn[an+1];if(Li(sn)&&"none"!==sn.value){var cn=An&&Fi(An)?An.number:0;nn.push({counter:sn.value,reset:cn})}}return nn}},Zo={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function parse(en,tn){return tn.filter(Pi).map((function(tn){return Ho.parse(en,tn)}))}},es={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function parse(en,tn){if(0===tn.length)return null;var nn=tn[0];if(20===nn.type&&"none"===nn.value)return null;var rn=[],an=tn.filter(Ii);if(an.length%2!=0)return null;for(var sn=0;sn<an.length;sn+=2){var An=an[sn].value,cn=an[sn+1].value;rn.push({open:An,close:cn})}return rn}},ts=function getQuote(en,tn,nn){if(!en)return"";var rn=en[Math.min(tn,en.length-1)];return rn?nn?rn.open:rn.close:""},ns={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function parse(en,tn){return 1===tn.length&&Ui(tn[0],"none")?[]:Ni(tn).map((function(tn){for(var nn={color:255,offsetX:Di,offsetY:Di,blur:Di,spread:Di,inset:!1},rn=0,an=0;an<tn.length;an++){var sn=tn[an];Ui(sn,"inset")?nn.inset=!0:Mi(sn)?(0===rn?nn.offsetX=sn:1===rn?nn.offsetY=sn:2===rn?nn.blur=sn:nn.spread=sn,rn++):nn.color=Ji(en,sn)}return nn}))}},rs={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function parse(en,tn){var nn=[];return tn.filter(Li).forEach((function(en){switch(en.value){case"stroke":nn.push(1);break;case"fill":nn.push(0);break;case"markers":nn.push(2)}})),[0,1,2].forEach((function(en){-1===nn.indexOf(en)&&nn.push(en)})),nn}},is={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},as={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function parse(en,tn){return Pi(tn)?tn.number:0}},os=function(){function CSSParsedDeclaration(en,tn){var nn,rn;this.animationDuration=ls(en,Zo,tn.animationDuration),this.backgroundClip=ls(en,Aa,tn.backgroundClip),this.backgroundColor=ls(en,la,tn.backgroundColor),this.backgroundImage=ls(en,Ea,tn.backgroundImage),this.backgroundOrigin=ls(en,Pa,tn.backgroundOrigin),this.backgroundPosition=ls(en,Fa,tn.backgroundPosition),this.backgroundRepeat=ls(en,La,tn.backgroundRepeat),this.backgroundSize=ls(en,Ta,tn.backgroundSize),this.borderTopColor=ls(en,Oa,tn.borderTopColor),this.borderRightColor=ls(en,Ma,tn.borderRightColor),this.borderBottomColor=ls(en,Ra,tn.borderBottomColor),this.borderLeftColor=ls(en,Ha,tn.borderLeftColor),this.borderTopLeftRadius=ls(en,$a,tn.borderTopLeftRadius),this.borderTopRightRadius=ls(en,Ga,tn.borderTopRightRadius),this.borderBottomRightRadius=ls(en,ja,tn.borderBottomRightRadius),this.borderBottomLeftRadius=ls(en,Va,tn.borderBottomLeftRadius),this.borderTopStyle=ls(en,qa,tn.borderTopStyle),this.borderRightStyle=ls(en,za,tn.borderRightStyle),this.borderBottomStyle=ls(en,Wa,tn.borderBottomStyle),this.borderLeftStyle=ls(en,Xa,tn.borderLeftStyle),this.borderTopWidth=ls(en,Ja,tn.borderTopWidth),this.borderRightWidth=ls(en,Za,tn.borderRightWidth),this.borderBottomWidth=ls(en,eo,tn.borderBottomWidth),this.borderLeftWidth=ls(en,to,tn.borderLeftWidth),this.boxShadow=ls(en,ns,tn.boxShadow),this.color=ls(en,no,tn.color),this.direction=ls(en,ro,tn.direction),this.display=ls(en,io,tn.display),this.float=ls(en,oo,tn.cssFloat),this.fontFamily=ls(en,jo,tn.fontFamily),this.fontSize=ls(en,Vo,tn.fontSize),this.fontStyle=ls(en,zo,tn.fontStyle),this.fontVariant=ls(en,qo,tn.fontVariant),this.fontWeight=ls(en,Ko,tn.fontWeight),this.letterSpacing=ls(en,so,tn.letterSpacing),this.lineBreak=ls(en,lo,tn.lineBreak),this.lineHeight=ls(en,co,tn.lineHeight),this.listStyleImage=ls(en,ho,tn.listStyleImage),this.listStylePosition=ls(en,po,tn.listStylePosition),this.listStyleType=ls(en,go,tn.listStyleType),this.marginTop=ls(en,mo,tn.marginTop),this.marginRight=ls(en,vo,tn.marginRight),this.marginBottom=ls(en,yo,tn.marginBottom),this.marginLeft=ls(en,bo,tn.marginLeft),this.opacity=ls(en,Do,tn.opacity);var an=ls(en,wo,tn.overflow);this.overflowX=an[0],this.overflowY=an[an.length>1?1:0],this.overflowWrap=ls(en,Co,tn.overflowWrap),this.paddingTop=ls(en,Bo,tn.paddingTop),this.paddingRight=ls(en,_o,tn.paddingRight),this.paddingBottom=ls(en,So,tn.paddingBottom),this.paddingLeft=ls(en,ko,tn.paddingLeft),this.paintOrder=ls(en,rs,tn.paintOrder),this.position=ls(en,Po,tn.position),this.textAlign=ls(en,Eo,tn.textAlign),this.textDecorationColor=ls(en,$o,null!==(nn=tn.textDecorationColor)&&void 0!==nn?nn:tn.color),this.textDecorationLine=ls(en,Go,null!==(rn=tn.textDecorationLine)&&void 0!==rn?rn:tn.textDecoration),this.textShadow=ls(en,Fo,tn.textShadow),this.textTransform=ls(en,Lo,tn.textTransform),this.transform=ls(en,Io,tn.transform),this.transformOrigin=ls(en,No,tn.transformOrigin),this.visibility=ls(en,Oo,tn.visibility),this.webkitTextStrokeColor=ls(en,is,tn.webkitTextStrokeColor),this.webkitTextStrokeWidth=ls(en,as,tn.webkitTextStrokeWidth),this.wordBreak=ls(en,Mo,tn.wordBreak),this.zIndex=ls(en,Ro,tn.zIndex)}return CSSParsedDeclaration.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},CSSParsedDeclaration.prototype.isTransparent=function(){return Zi(this.backgroundColor)},CSSParsedDeclaration.prototype.isTransformed=function(){return null!==this.transform},CSSParsedDeclaration.prototype.isPositioned=function(){return 0!==this.position},CSSParsedDeclaration.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},CSSParsedDeclaration.prototype.isFloating=function(){return 0!==this.float},CSSParsedDeclaration.prototype.isInlineLevel=function(){return Wo(this.display,4)||Wo(this.display,33554432)||Wo(this.display,268435456)||Wo(this.display,536870912)||Wo(this.display,67108864)||Wo(this.display,134217728)},CSSParsedDeclaration}(),ss=function CSSParsedPseudoDeclaration(en,tn){this.content=ls(en,Xo,tn.content),this.quotes=ls(en,es,tn.quotes)},As=function CSSParsedCounterDeclaration(en,tn){this.counterIncrement=ls(en,Yo,tn.counterIncrement),this.counterReset=ls(en,Jo,tn.counterReset)},ls=function parse(en,tn,nn){var rn=new ki,an=null!=nn?nn.toString():tn.initialValue;rn.write(an);var sn=new Ei(rn.read());switch(tn.type){case 2:var An=sn.parseComponentValue();return tn.parse(en,Li(An)?An.value:tn.initialValue);case 0:return tn.parse(en,sn.parseComponentValue());case 1:return tn.parse(en,sn.parseComponentValues());case 4:return sn.parseComponentValue();case 3:switch(tn.format){case"angle":return zi(en,sn.parseComponentValue());case"color":return Ji(en,sn.parseComponentValue());case"image":return _a(en,sn.parseComponentValue());case"length":var cn=sn.parseComponentValue();return Mi(cn)?cn:Di;case"length-percentage":var un=sn.parseComponentValue();return Ri(un)?un:Di;case"time":return Ho.parse(en,sn.parseComponentValue())}}},cs=function isDebugging(en,tn){var nn=function getElementDebugType(en){switch(en.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(en);return 1===nn||tn===nn},us=function ElementContainer(en,tn){this.context=en,this.textNodes=[],this.elements=[],this.flags=0,cs(tn,3),this.styles=new os(en,window.getComputedStyle(tn,null)),SA(tn)&&(this.styles.animationDuration.some((function(en){return en>0}))&&(tn.style.animationDuration="0s"),null!==this.styles.transform&&(tn.style.transform="none")),this.bounds=rn(this.context,tn),cs(tn,4)&&(this.flags|=16)},hs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ds="undefined"==typeof Uint8Array?[]:new Uint8Array(256),ps=0;ps<hs.length;ps++)ds[hs.charCodeAt(ps)]=ps;for(var gs=function slice16(en,tn,nn){return en.slice?en.slice(tn,nn):new Uint16Array(Array.prototype.slice.call(en,tn,nn))},fs=function(){function Trie(en,tn,nn,rn,an,sn){this.initialValue=en,this.errorValue=tn,this.highStart=nn,this.highValueIndex=rn,this.index=an,this.data=sn}return Trie.prototype.get=function(en){var tn;if(en>=0){if(en<55296||en>56319&&en<=65535)return tn=((tn=this.index[en>>5])<<2)+(31&en),this.data[tn];if(en<=65535)return tn=((tn=this.index[2048+(en-55296>>5)])<<2)+(31&en),this.data[tn];if(en<this.highStart)return tn=2080+(en>>11),tn=this.index[tn],tn+=en>>5&63,tn=((tn=this.index[tn])<<2)+(31&en),this.data[tn];if(en<=1114111)return this.data[this.highValueIndex]}return this.errorValue},Trie}(),ms="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vs="undefined"==typeof Uint8Array?[]:new Uint8Array(256),ys=0;ys<ms.length;ys++)vs[ms.charCodeAt(ys)]=ys;var bs,ws=8,Cs=9,Bs=11,_s=12,ks=function fromCodePoint(){for(var en=[],tn=0;tn<arguments.length;tn++)en[tn]=arguments[tn];if(String.fromCodePoint)return String.fromCodePoint.apply(String,en);var nn=en.length;if(!nn)return"";for(var rn=[],an=-1,sn="";++an<nn;){var An=en[an];An<=65535?rn.push(An):(An-=65536,rn.push(55296+(An>>10),An%1024+56320)),(an+1===nn||rn.length>16384)&&(sn+=String.fromCharCode.apply(String,rn),rn.length=0)}return sn},Ps=function createTrieFromBase64(en,tn){var nn=function decode(en){var tn,nn,rn,an,sn,An=.75*en.length,cn=en.length,un=0;"="===en[en.length-1]&&(An--,"="===en[en.length-2]&&An--);var hn="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(An):new Array(An),dn=Array.isArray(hn)?hn:new Uint8Array(hn);for(tn=0;tn<cn;tn+=4)nn=ds[en.charCodeAt(tn)],rn=ds[en.charCodeAt(tn+1)],an=ds[en.charCodeAt(tn+2)],sn=ds[en.charCodeAt(tn+3)],dn[un++]=nn<<2|rn>>4,dn[un++]=(15&rn)<<4|an>>2,dn[un++]=(3&an)<<6|63&sn;return hn}(en),rn=Array.isArray(nn)?function polyUint32Array(en){for(var tn=en.length,nn=[],rn=0;rn<tn;rn+=4)nn.push(en[rn+3]<<24|en[rn+2]<<16|en[rn+1]<<8|en[rn]);return nn}(nn):new Uint32Array(nn),an=Array.isArray(nn)?function polyUint16Array(en){for(var tn=en.length,nn=[],rn=0;rn<tn;rn+=2)nn.push(en[rn+1]<<8|en[rn]);return nn}(nn):new Uint16Array(nn),sn=gs(an,12,rn[4]/2),An=2===rn[5]?gs(an,(24+rn[4])/2):function slice32(en,tn,nn){return en.slice?en.slice(tn,nn):new Uint32Array(Array.prototype.slice.call(en,tn,nn))}(rn,Math.ceil((24+rn[4])/4));return new fs(rn[0],rn[1],rn[2],rn[3],sn,An)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),Ls="×",Is=function codePointToClass(en){return Ps.get(en)},Ts=function _graphemeBreakAtIndex(en,tn,nn){var rn=nn-2,an=tn[rn],sn=tn[nn-1],An=tn[nn];if(2===sn&&3===An)return Ls;if(2===sn||3===sn||4===sn)return"÷";if(2===An||3===An||4===An)return"÷";if(sn===ws&&-1!==[ws,Cs,Bs,_s].indexOf(An))return Ls;if(!(sn!==Bs&&sn!==Cs||An!==Cs&&10!==An))return Ls;if((sn===_s||10===sn)&&10===An)return Ls;if(13===An||5===An)return Ls;if(7===An)return Ls;if(1===sn)return Ls;if(13===sn&&14===An){for(;5===an;)an=tn[--rn];if(14===an)return Ls}if(15===sn&&15===An){for(var cn=0;15===an;)cn++,an=tn[--rn];if(cn%2==0)return Ls}return"÷"},Qs=function GraphemeBreaker(en){var tn=function toCodePoints(en){for(var tn=[],nn=0,rn=en.length;nn<rn;){var an=en.charCodeAt(nn++);if(an>=55296&&an<=56319&&nn<rn){var sn=en.charCodeAt(nn++);56320==(64512&sn)?tn.push(((1023&an)<<10)+(1023&sn)+65536):(tn.push(an),nn--)}else tn.push(an)}return tn}(en),nn=tn.length,rn=0,an=0,sn=tn.map(Is);return{next:function next(){if(rn>=nn)return{done:!0,value:null};for(var en=Ls;rn<nn&&(en=Ts(0,sn,++rn))===Ls;);if(en!==Ls||rn===nn){var An=ks.apply(null,tn.slice(an,rn));return an=rn,{value:An,done:!1}}return{done:!0,value:null}}}},Ns=function isGreenPixel(en){return 0===en[0]&&255===en[1]&&0===en[2]&&255===en[3]},Os=function createForeignObjectSVG(en,tn,nn,rn,an){var sn="http://www.w3.org/2000/svg",An=document.createElementNS(sn,"svg"),cn=document.createElementNS(sn,"foreignObject");return An.setAttributeNS(null,"width",en.toString()),An.setAttributeNS(null,"height",tn.toString()),cn.setAttributeNS(null,"width","100%"),cn.setAttributeNS(null,"height","100%"),cn.setAttributeNS(null,"x",nn.toString()),cn.setAttributeNS(null,"y",rn.toString()),cn.setAttributeNS(null,"externalResourcesRequired","true"),An.appendChild(cn),cn.appendChild(an),An},Ms=function loadSerializedSVG$1(en){return new Promise((function(tn,nn){var rn=new Image;rn.onload=function(){return tn(rn)},rn.onerror=nn,rn.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(en))}))},Rs={get SUPPORT_RANGE_BOUNDS(){var en=function testRangeBounds(en){if(en.createRange){var tn=en.createRange();if(tn.getBoundingClientRect){var nn=en.createElement("boundtest");nn.style.height="123px",nn.style.display="block",en.body.appendChild(nn),tn.selectNode(nn);var rn=tn.getBoundingClientRect(),an=Math.round(rn.height);if(en.body.removeChild(nn),123===an)return!0}}return!1}(document);return Object.defineProperty(Rs,"SUPPORT_RANGE_BOUNDS",{value:en}),en},get SUPPORT_WORD_BREAKING(){var en=Rs.SUPPORT_RANGE_BOUNDS&&function testIOSLineBreak(en){var tn=en.createElement("boundtest");tn.style.width="50px",tn.style.display="block",tn.style.fontSize="12px",tn.style.letterSpacing="0px",tn.style.wordSpacing="0px",en.body.appendChild(tn);var nn=en.createRange();tn.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var rn=tn.firstChild,An=an(rn.data).map((function(en){return sn(en)})),cn=0,un={},hn=An.every((function(en,tn){nn.setStart(rn,cn),nn.setEnd(rn,cn+en.length);var an=nn.getBoundingClientRect();cn+=en.length;var sn=an.x>un.x||an.y>un.y;return un=an,0===tn||sn}));return en.body.removeChild(tn),hn}(document);return Object.defineProperty(Rs,"SUPPORT_WORD_BREAKING",{value:en}),en},get SUPPORT_SVG_DRAWING(){var en=function testSVG(en){var tn=new Image,nn=en.createElement("canvas"),rn=nn.getContext("2d");if(!rn)return!1;tn.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{rn.drawImage(tn,0,0),nn.toDataURL()}catch(en){return!1}return!0}(document);return Object.defineProperty(Rs,"SUPPORT_SVG_DRAWING",{value:en}),en},get SUPPORT_FOREIGNOBJECT_DRAWING(){var en="function"==typeof Array.from&&"function"==typeof window.fetch?function testForeignObject(en){var tn=en.createElement("canvas"),nn=100;tn.width=nn,tn.height=nn;var rn=tn.getContext("2d");if(!rn)return Promise.reject(!1);rn.fillStyle="rgb(0, 255, 0)",rn.fillRect(0,0,nn,nn);var an=new Image,sn=tn.toDataURL();an.src=sn;var An=Os(nn,nn,0,0,an);return rn.fillStyle="red",rn.fillRect(0,0,nn,nn),Ms(An).then((function(tn){rn.drawImage(tn,0,0);var an=rn.getImageData(0,0,nn,nn).data;rn.fillStyle="red",rn.fillRect(0,0,nn,nn);var An=en.createElement("div");return An.style.backgroundImage="url("+sn+")",An.style.height="100px",Ns(an)?Ms(Os(nn,nn,0,0,An)):Promise.reject(!1)})).then((function(en){return rn.drawImage(en,0,0),Ns(rn.getImageData(0,0,nn,nn).data)})).catch((function(){return!1}))}(document):Promise.resolve(!1);return Object.defineProperty(Rs,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:en}),en},get SUPPORT_CORS_IMAGES(){var en=function testCORS(){return void 0!==(new Image).crossOrigin}();return Object.defineProperty(Rs,"SUPPORT_CORS_IMAGES",{value:en}),en},get SUPPORT_RESPONSE_TYPE(){var en=function testResponseType(){return"string"==typeof(new XMLHttpRequest).responseType}();return Object.defineProperty(Rs,"SUPPORT_RESPONSE_TYPE",{value:en}),en},get SUPPORT_CORS_XHR(){var en="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Rs,"SUPPORT_CORS_XHR",{value:en}),en},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var en=!("undefined"==typeof Intl||!Intl.Segmenter);return Object.defineProperty(Rs,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:en}),en}},Hs=function TextBounds(en,tn){this.text=en,this.bounds=tn},Ds=function parseTextBounds(en,tn,rn,an){var sn=Vs(tn,rn),An=[],cn=0;return sn.forEach((function(tn){if(rn.textDecorationLine.length||tn.trim().length>0)if(Rs.SUPPORT_RANGE_BOUNDS){var sn=Gs(an,cn,tn.length).getClientRects();if(sn.length>1){var un=js(tn),hn=0;un.forEach((function(tn){An.push(new Hs(tn,nn.fromDOMRectList(en,Gs(an,hn+cn,tn.length).getClientRects()))),hn+=tn.length}))}else An.push(new Hs(tn,nn.fromDOMRectList(en,sn)))}else{var dn=an.splitText(tn.length);An.push(new Hs(tn,$s(en,an))),an=dn}else Rs.SUPPORT_RANGE_BOUNDS||(an=an.splitText(tn.length));cn+=tn.length})),An},$s=function getWrapperBounds(en,tn){var an=tn.ownerDocument;if(an){var sn=an.createElement("html2canvaswrapper");sn.appendChild(tn.cloneNode(!0));var An=tn.parentNode;if(An){An.replaceChild(sn,tn);var cn=rn(en,sn);return sn.firstChild&&An.replaceChild(sn.firstChild,sn),cn}}return nn.EMPTY},Gs=function createRange(en,tn,nn){var rn=en.ownerDocument;if(!rn)throw new Error("Node has no owner document");var an=rn.createRange();return an.setStart(en,tn),an.setEnd(en,tn+nn),an},js=function segmentGraphemes(en){if(Rs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var tn=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(tn.segment(en)).map((function(en){return en.segment}))}return function splitGraphemes(en){for(var tn,nn=Qs(en),rn=[];!(tn=nn.next()).done;)tn.value&&rn.push(tn.value.slice());return rn}(en)},Vs=function breakText(en,tn){return 0!==tn.letterSpacing?js(en):function segmentWords(en,tn){if(Rs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var nn=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(nn.segment(en)).map((function(en){return en.segment}))}return zs(en,tn)}(en,tn)},Ks=[32,160,4961,65792,65793,4153,4241],zs=function breakWords(en,tn){for(var nn,rn=function LineBreaker(en,tn){var nn=an(en),rn=Dr(nn,tn),sn=rn[0],An=rn[1],cn=rn[2],un=nn.length,hn=0,dn=0;return{next:function next(){if(dn>=un)return{done:!0,value:null};for(var en=Kn;dn<un&&(en=Hr(nn,An,sn,++dn,cn))===Kn;);if(en!==Kn||dn===un){var tn=new $r(nn,en,hn,dn);return hn=dn,{value:tn,done:!1}}return{done:!0,value:null}}}}(en,{lineBreak:tn.lineBreak,wordBreak:"break-word"===tn.overflowWrap?"break-word":tn.wordBreak}),An=[],cn=function _loop_1(){if(nn.value){var en=nn.value.slice(),tn=an(en),rn="";tn.forEach((function(en){-1===Ks.indexOf(en)?rn+=sn(en):(rn.length&&An.push(rn),An.push(sn(en)),rn="")})),rn.length&&An.push(rn)}};!(nn=rn.next()).done;)cn();return An},Ws=function TextContainer(en,tn,nn){this.text=Xs(tn.data,nn.textTransform),this.textBounds=Ds(en,this.text,nn,tn)},Xs=function transform(en,tn){switch(tn){case 1:return en.toLowerCase();case 3:return en.replace(Ys,Js);case 2:return en.toUpperCase();default:return en}},Ys=/(^|\s|:|-|\(|\))([a-z])/g,Js=function capitalize(en,tn,nn){return en.length>0?tn+nn.toUpperCase():en},Zs=function(en){function ImageElementContainer(tn,nn){var rn=en.call(this,tn,nn)||this;return rn.src=nn.currentSrc||nn.src,rn.intrinsicWidth=nn.naturalWidth,rn.intrinsicHeight=nn.naturalHeight,rn.context.cache.addImage(rn.src),rn}return __extends(ImageElementContainer,en),ImageElementContainer}(us),nA=function(en){function CanvasElementContainer(tn,nn){var rn=en.call(this,tn,nn)||this;return rn.canvas=nn,rn.intrinsicWidth=nn.width,rn.intrinsicHeight=nn.height,rn}return __extends(CanvasElementContainer,en),CanvasElementContainer}(us),rA=function(en){function SVGElementContainer(tn,nn){var an=en.call(this,tn,nn)||this,sn=new XMLSerializer,An=rn(tn,nn);return nn.setAttribute("width",An.width+"px"),nn.setAttribute("height",An.height+"px"),an.svg="data:image/svg+xml,"+encodeURIComponent(sn.serializeToString(nn)),an.intrinsicWidth=nn.width.baseVal.value,an.intrinsicHeight=nn.height.baseVal.value,an.context.cache.addImage(an.svg),an}return __extends(SVGElementContainer,en),SVGElementContainer}(us),iA=function(en){function LIElementContainer(tn,nn){var rn=en.call(this,tn,nn)||this;return rn.value=nn.value,rn}return __extends(LIElementContainer,en),LIElementContainer}(us),aA=function(en){function OLElementContainer(tn,nn){var rn=en.call(this,tn,nn)||this;return rn.start=nn.start,rn.reversed="boolean"==typeof nn.reversed&&!0===nn.reversed,rn}return __extends(OLElementContainer,en),OLElementContainer}(us),oA=[{type:15,flags:0,unit:"px",number:3}],sA=[{type:16,flags:0,number:50}],lA=function reformatInputBounds(en){return en.width>en.height?new nn(en.left+(en.width-en.height)/2,en.top,en.height,en.height):en.width<en.height?new nn(en.left,en.top+(en.height-en.width)/2,en.width,en.width):en},cA="checkbox",uA="radio",hA="password",dA=707406591,pA=function(en){function InputElementContainer(tn,nn){var rn=en.call(this,tn,nn)||this;switch(rn.type=nn.type.toLowerCase(),rn.checked=nn.checked,rn.value=function getInputValue(en){var tn=en.type===hA?new Array(en.value.length+1).join("•"):en.value;return 0===tn.length?en.placeholder||"":tn}(nn),rn.type!==cA&&rn.type!==uA||(rn.styles.backgroundColor=3739148031,rn.styles.borderTopColor=rn.styles.borderRightColor=rn.styles.borderBottomColor=rn.styles.borderLeftColor=2779096575,rn.styles.borderTopWidth=rn.styles.borderRightWidth=rn.styles.borderBottomWidth=rn.styles.borderLeftWidth=1,rn.styles.borderTopStyle=rn.styles.borderRightStyle=rn.styles.borderBottomStyle=rn.styles.borderLeftStyle=1,rn.styles.backgroundClip=[0],rn.styles.backgroundOrigin=[0],rn.bounds=lA(rn.bounds)),rn.type){case cA:rn.styles.borderTopRightRadius=rn.styles.borderTopLeftRadius=rn.styles.borderBottomRightRadius=rn.styles.borderBottomLeftRadius=oA;break;case uA:rn.styles.borderTopRightRadius=rn.styles.borderTopLeftRadius=rn.styles.borderBottomRightRadius=rn.styles.borderBottomLeftRadius=sA}return rn}return __extends(InputElementContainer,en),InputElementContainer}(us),gA=function(en){function SelectElementContainer(tn,nn){var rn=en.call(this,tn,nn)||this,an=nn.options[nn.selectedIndex||0];return rn.value=an&&an.text||"",rn}return __extends(SelectElementContainer,en),SelectElementContainer}(us),fA=function(en){function TextareaElementContainer(tn,nn){var rn=en.call(this,tn,nn)||this;return rn.value=nn.value,rn}return __extends(TextareaElementContainer,en),TextareaElementContainer}(us),mA=function(en){function IFrameElementContainer(tn,nn){var rn=en.call(this,tn,nn)||this;rn.src=nn.src,rn.width=parseInt(nn.width,10)||0,rn.height=parseInt(nn.height,10)||0,rn.backgroundColor=rn.styles.backgroundColor;try{if(nn.contentWindow&&nn.contentWindow.document&&nn.contentWindow.document.documentElement){rn.tree=wA(tn,nn.contentWindow.document.documentElement);var an=nn.contentWindow.document.documentElement?oa(tn,getComputedStyle(nn.contentWindow.document.documentElement).backgroundColor):sa.TRANSPARENT,sn=nn.contentWindow.document.body?oa(tn,getComputedStyle(nn.contentWindow.document.body).backgroundColor):sa.TRANSPARENT;rn.backgroundColor=Zi(an)?Zi(sn)?rn.styles.backgroundColor:sn:an}}catch(en){}return rn}return __extends(IFrameElementContainer,en),IFrameElementContainer}(us),vA=["OL","UL","MENU"],yA=function parseNodeTree(en,tn,nn,rn){for(var an=tn.firstChild,sn=void 0;an;an=sn)if(sn=an.nextSibling,BA(an)&&an.data.trim().length>0)nn.textNodes.push(new Ws(en,an,nn.styles));else if(_A(an))if(HA(an)&&an.assignedNodes)an.assignedNodes().forEach((function(tn){return parseNodeTree(en,tn,nn,rn)}));else{var An=bA(en,an);An.styles.isVisible()&&(CA(an,An,rn)?An.flags|=4:xA(An.styles)&&(An.flags|=2),-1!==vA.indexOf(an.tagName)&&(An.flags|=8),nn.elements.push(An),an.slot,an.shadowRoot?parseNodeTree(en,an.shadowRoot,An,rn):MA(an)||LA(an)||RA(an)||parseNodeTree(en,an,An,rn))}},bA=function createContainer(en,tn){return QA(tn)?new Zs(en,tn):UA(tn)?new nA(en,tn):LA(tn)?new rA(en,tn):EA(tn)?new iA(en,tn):PA(tn)?new aA(en,tn):FA(tn)?new pA(en,tn):RA(tn)?new gA(en,tn):MA(tn)?new fA(en,tn):NA(tn)?new mA(en,tn):new us(en,tn)},wA=function parseTree(en,tn){var nn=bA(en,tn);return nn.flags|=4,yA(en,tn,nn,nn),nn},CA=function createsRealStackingContext(en,tn,nn){return tn.styles.isPositionedWithZIndex()||tn.styles.opacity<1||tn.styles.isTransformed()||IA(en)&&nn.styles.isTransparent()},xA=function createsStackingContext(en){return en.isPositioned()||en.isFloating()},BA=function isTextNode(en){return en.nodeType===Node.TEXT_NODE},_A=function isElementNode(en){return en.nodeType===Node.ELEMENT_NODE},SA=function isHTMLElementNode(en){return _A(en)&&void 0!==en.style&&!kA(en)},kA=function isSVGElementNode(en){return"object"==_typeof$3(en.className)},EA=function isLIElement(en){return"LI"===en.tagName},PA=function isOLElement(en){return"OL"===en.tagName},FA=function isInputElement(en){return"INPUT"===en.tagName},LA=function isSVGElement(en){return"svg"===en.tagName},IA=function isBodyElement(en){return"BODY"===en.tagName},UA=function isCanvasElement(en){return"CANVAS"===en.tagName},TA=function isVideoElement(en){return"VIDEO"===en.tagName},QA=function isImageElement(en){return"IMG"===en.tagName},NA=function isIFrameElement(en){return"IFRAME"===en.tagName},OA=function isStyleElement(en){return"STYLE"===en.tagName},MA=function isTextareaElement(en){return"TEXTAREA"===en.tagName},RA=function isSelectElement(en){return"SELECT"===en.tagName},HA=function isSlotElement(en){return"SLOT"===en.tagName},DA=function isCustomElement(en){return en.tagName.indexOf("-")>0},$A=function(){function CounterState(){this.counters={}}return CounterState.prototype.getCounterValue=function(en){var tn=this.counters[en];return tn&&tn.length?tn[tn.length-1]:1},CounterState.prototype.getCounterValues=function(en){return this.counters[en]||[]},CounterState.prototype.pop=function(en){var tn=this;en.forEach((function(en){return tn.counters[en].pop()}))},CounterState.prototype.parse=function(en){var tn=this,nn=en.counterIncrement,rn=en.counterReset,an=!0;null!==nn&&nn.forEach((function(en){var nn=tn.counters[en.counter];nn&&0!==en.increment&&(an=!1,nn.length||nn.push(1),nn[Math.max(0,nn.length-1)]+=en.increment)}));var sn=[];return an&&rn.forEach((function(en){var nn=tn.counters[en.counter];sn.push(en.counter),nn||(nn=tn.counters[en.counter]=[]),nn.push(en.reset)})),sn},CounterState}(),GA={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},jA={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},VA={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},KA={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},qA=function createAdditiveCounter(en,tn,nn,rn,an,sn){return en<tn||en>nn?nl(en,an,sn.length>0):rn.integers.reduce((function(tn,nn,an){for(;en>=nn;)en-=nn,tn+=rn.values[an];return tn}),"")+sn},zA=function createCounterStyleWithSymbolResolver(en,tn,nn,rn){var an="";do{nn||en--,an=rn(en)+an,en/=tn}while(en*tn>=tn);return an},WA=function createCounterStyleFromRange(en,tn,nn,rn,an){var An=nn-tn+1;return(en<0?"-":"")+(zA(Math.abs(en),An,rn,(function(en){return sn(Math.floor(en%An)+tn)}))+an)},XA=function createCounterStyleFromSymbols(en,tn,nn){void 0===nn&&(nn=". ");var rn=tn.length;return zA(Math.abs(en),rn,!1,(function(en){return tn[Math.floor(en%rn)]}))+nn},YA=function createCJKCounter(en,tn,nn,rn,an,sn){if(en<-9999||en>9999)return nl(en,4,an.length>0);var An=Math.abs(en),cn=an;if(0===An)return tn[0]+cn;for(var un=0;An>0&&un<=4;un++){var hn=An%10;0===hn&&Wo(sn,1)&&""!==cn?cn=tn[hn]+cn:hn>1||1===hn&&0===un||1===hn&&1===un&&Wo(sn,2)||1===hn&&1===un&&Wo(sn,4)&&en>100||1===hn&&un>1&&Wo(sn,8)?cn=tn[hn]+(un>0?nn[un-1]:"")+cn:1===hn&&un>0&&(cn=nn[un-1]+cn),An=Math.floor(An/10)}return(en<0?rn:"")+cn},JA="十百千萬",ZA="拾佰仟萬",el="マイナス",tl="마이너스",nl=function createCounterText(en,tn,nn){var rn=nn?". ":"",an=nn?"、":"",sn=nn?", ":"",An=nn?" ":"";switch(tn){case 0:return"•"+An;case 1:return"◦"+An;case 2:return"◾"+An;case 5:var cn=WA(en,48,57,!0,rn);return cn.length<4?"0"+cn:cn;case 4:return XA(en,"〇一二三四五六七八九",an);case 6:return qA(en,1,3999,GA,3,rn).toLowerCase();case 7:return qA(en,1,3999,GA,3,rn);case 8:return WA(en,945,969,!1,rn);case 9:return WA(en,97,122,!1,rn);case 10:return WA(en,65,90,!1,rn);case 11:return WA(en,1632,1641,!0,rn);case 12:case 49:return qA(en,1,9999,jA,3,rn);case 35:return qA(en,1,9999,jA,3,rn).toLowerCase();case 13:return WA(en,2534,2543,!0,rn);case 14:case 30:return WA(en,6112,6121,!0,rn);case 15:return XA(en,"子丑寅卯辰巳午未申酉戌亥",an);case 16:return XA(en,"甲乙丙丁戊己庚辛壬癸",an);case 17:case 48:return YA(en,"零一二三四五六七八九",JA,"負",an,14);case 47:return YA(en,"零壹貳參肆伍陸柒捌玖",ZA,"負",an,15);case 42:return YA(en,"零一二三四五六七八九",JA,"负",an,14);case 41:return YA(en,"零壹贰叁肆伍陆柒捌玖",ZA,"负",an,15);case 26:return YA(en,"〇一二三四五六七八九","十百千万",el,an,0);case 25:return YA(en,"零壱弐参四伍六七八九","拾百千万",el,an,7);case 31:return YA(en,"영일이삼사오육칠팔구","십백천만",tl,sn,7);case 33:return YA(en,"零一二三四五六七八九","十百千萬",tl,sn,0);case 32:return YA(en,"零壹貳參四五六七八九","拾百千",tl,sn,7);case 18:return WA(en,2406,2415,!0,rn);case 20:return qA(en,1,19999,KA,3,rn);case 21:return WA(en,2790,2799,!0,rn);case 22:return WA(en,2662,2671,!0,rn);case 22:return qA(en,1,10999,VA,3,rn);case 23:return XA(en,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return XA(en,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return WA(en,3302,3311,!0,rn);case 28:return XA(en,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",an);case 29:return XA(en,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",an);case 34:return WA(en,3792,3801,!0,rn);case 37:return WA(en,6160,6169,!0,rn);case 38:return WA(en,4160,4169,!0,rn);case 39:return WA(en,2918,2927,!0,rn);case 40:return WA(en,1776,1785,!0,rn);case 43:return WA(en,3046,3055,!0,rn);case 44:return WA(en,3174,3183,!0,rn);case 45:return WA(en,3664,3673,!0,rn);case 46:return WA(en,3872,3881,!0,rn);default:return WA(en,48,57,!0,rn)}},rl="data-html2canvas-ignore",il=function(){function DocumentCloner(en,tn,nn){if(this.context=en,this.options=nn,this.scrolledElements=[],this.referenceElement=tn,this.counters=new $A,this.quoteDepth=0,!tn.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(tn.ownerDocument.documentElement,!1)}return DocumentCloner.prototype.toIFrame=function(en,tn){var nn=this,rn=ol(en,tn);if(!rn.contentWindow)return Promise.reject("Unable to find iframe window");var an=en.defaultView.pageXOffset,sn=en.defaultView.pageYOffset,An=rn.contentWindow,cn=An.document,un=ll(rn).then((function(){return __awaiter(nn,void 0,void 0,(function(){var en,nn;return __generator(this,(function(an){switch(an.label){case 0:return this.scrolledElements.forEach(pl),An&&(An.scrollTo(tn.left,tn.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||An.scrollY===tn.top&&An.scrollX===tn.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(An.scrollX-tn.left,An.scrollY-tn.top,0,0))),en=this.options.onclone,void 0===(nn=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:cn.fonts&&cn.fonts.ready?[4,cn.fonts.ready]:[3,2];case 1:an.sent(),an.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Al(cn)]:[3,4];case 3:an.sent(),an.label=4;case 4:return"function"==typeof en?[2,Promise.resolve().then((function(){return en(cn,nn)})).then((function(){return rn}))]:[2,rn]}}))}))}));return cn.open(),cn.write(hl(document.doctype)+"<html></html>"),dl(this.referenceElement.ownerDocument,an,sn),cn.replaceChild(cn.adoptNode(this.documentElement),cn.documentElement),cn.close(),un},DocumentCloner.prototype.createElementClone=function(en){if(cs(en,2),UA(en))return this.createCanvasClone(en);if(TA(en))return this.createVideoClone(en);if(OA(en))return this.createStyleClone(en);var tn=en.cloneNode(!1);return QA(tn)&&(QA(en)&&en.currentSrc&&en.currentSrc!==en.src&&(tn.src=en.currentSrc,tn.srcset=""),"lazy"===tn.loading&&(tn.loading="eager")),DA(tn)?this.createCustomElementClone(tn):tn},DocumentCloner.prototype.createCustomElementClone=function(en){var tn=document.createElement("html2canvascustomelement");return ul(en.style,tn),tn},DocumentCloner.prototype.createStyleClone=function(en){try{var tn=en.sheet;if(tn&&tn.cssRules){var nn=[].slice.call(tn.cssRules,0).reduce((function(en,tn){return tn&&"string"==typeof tn.cssText?en+tn.cssText:en}),""),rn=en.cloneNode(!1);return rn.textContent=nn,rn}}catch(en){if(this.context.logger.error("Unable to access cssRules property",en),"SecurityError"!==en.name)throw en}return en.cloneNode(!1)},DocumentCloner.prototype.createCanvasClone=function(en){var tn;if(this.options.inlineImages&&en.ownerDocument){var nn=en.ownerDocument.createElement("img");try{return nn.src=en.toDataURL(),nn}catch(tn){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",en)}}var rn=en.cloneNode(!1);try{rn.width=en.width,rn.height=en.height;var an=en.getContext("2d"),sn=rn.getContext("2d");if(sn)if(!this.options.allowTaint&&an)sn.putImageData(an.getImageData(0,0,en.width,en.height),0,0);else{var An=null!==(tn=en.getContext("webgl2"))&&void 0!==tn?tn:en.getContext("webgl");if(An){var cn=An.getContextAttributes();!1===(null==cn?void 0:cn.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",en)}sn.drawImage(en,0,0)}return rn}catch(tn){this.context.logger.info("Unable to clone canvas as it is tainted",en)}return rn},DocumentCloner.prototype.createVideoClone=function(en){var tn=en.ownerDocument.createElement("canvas");tn.width=en.offsetWidth,tn.height=en.offsetHeight;var nn=tn.getContext("2d");try{return nn&&(nn.drawImage(en,0,0,tn.width,tn.height),this.options.allowTaint||nn.getImageData(0,0,tn.width,tn.height)),tn}catch(tn){this.context.logger.info("Unable to clone video as it is tainted",en)}var rn=en.ownerDocument.createElement("canvas");return rn.width=en.offsetWidth,rn.height=en.offsetHeight,rn},DocumentCloner.prototype.appendChildNode=function(en,tn,nn){_A(tn)&&(function isScriptElement(en){return"SCRIPT"===en.tagName}(tn)||tn.hasAttribute(rl)||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(tn))||this.options.copyStyles&&_A(tn)&&OA(tn)||en.appendChild(this.cloneNode(tn,nn))},DocumentCloner.prototype.cloneChildNodes=function(en,tn,nn){for(var rn=this,an=en.shadowRoot?en.shadowRoot.firstChild:en.firstChild;an;an=an.nextSibling)if(_A(an)&&HA(an)&&"function"==typeof an.assignedNodes){var sn=an.assignedNodes();sn.length&&sn.forEach((function(en){return rn.appendChildNode(tn,en,nn)}))}else this.appendChildNode(tn,an,nn)},DocumentCloner.prototype.cloneNode=function(en,tn){if(BA(en))return document.createTextNode(en.data);if(!en.ownerDocument)return en.cloneNode(!1);var nn=en.ownerDocument.defaultView;if(nn&&_A(en)&&(SA(en)||kA(en))){var rn=this.createElementClone(en);rn.style.transitionProperty="none";var an=nn.getComputedStyle(en),sn=nn.getComputedStyle(en,":before"),An=nn.getComputedStyle(en,":after");this.referenceElement===en&&SA(rn)&&(this.clonedReferenceElement=rn),IA(rn)&&vl(rn);var cn=this.counters.parse(new As(this.context,an)),un=this.resolvePseudoContent(en,rn,sn,bs.BEFORE);DA(en)&&(tn=!0),TA(en)||this.cloneChildNodes(en,rn,tn),un&&rn.insertBefore(un,rn.firstChild);var hn=this.resolvePseudoContent(en,rn,An,bs.AFTER);return hn&&rn.appendChild(hn),this.counters.pop(cn),(an&&(this.options.copyStyles||kA(en))&&!NA(en)||tn)&&ul(an,rn),0===en.scrollTop&&0===en.scrollLeft||this.scrolledElements.push([rn,en.scrollLeft,en.scrollTop]),(MA(en)||RA(en))&&(MA(rn)||RA(rn))&&(rn.value=en.value),rn}return en.cloneNode(!1)},DocumentCloner.prototype.resolvePseudoContent=function(en,tn,nn,rn){var an=this;if(nn){var sn=nn.content,An=tn.ownerDocument;if(An&&sn&&"none"!==sn&&"-moz-alt-content"!==sn&&"none"!==nn.display){this.counters.parse(new As(this.context,nn));var cn=new ss(this.context,nn),un=An.createElement("html2canvaspseudoelement");ul(nn,un),cn.content.forEach((function(tn){if(0===tn.type)un.appendChild(An.createTextNode(tn.value));else if(22===tn.type){var nn=An.createElement("img");nn.src=tn.value,nn.style.opacity="1",un.appendChild(nn)}else if(18===tn.type){if("attr"===tn.name){var rn=tn.values.filter(Li);rn.length&&un.appendChild(An.createTextNode(en.getAttribute(rn[0].value)||""))}else if("counter"===tn.name){var sn=tn.values.filter(Qi),hn=sn[0],dn=sn[1];if(hn&&Li(hn)){var pn=an.counters.getCounterValue(hn.value),gn=dn&&Li(dn)?go.parse(an.context,dn.value):3;un.appendChild(An.createTextNode(nl(pn,gn,!1)))}}else if("counters"===tn.name){var mn=tn.values.filter(Qi),vn=(hn=mn[0],mn[1]);if(dn=mn[2],hn&&Li(hn)){var yn=an.counters.getCounterValues(hn.value),bn=dn&&Li(dn)?go.parse(an.context,dn.value):3,wn=vn&&0===vn.type?vn.value:"",Cn=yn.map((function(en){return nl(en,bn,!1)})).join(wn);un.appendChild(An.createTextNode(Cn))}}}else if(20===tn.type)switch(tn.value){case"open-quote":un.appendChild(An.createTextNode(ts(cn.quotes,an.quoteDepth++,!0)));break;case"close-quote":un.appendChild(An.createTextNode(ts(cn.quotes,--an.quoteDepth,!1)));break;default:un.appendChild(An.createTextNode(tn.value))}})),un.className=gl+" "+fl;var hn=rn===bs.BEFORE?" "+gl:" "+fl;return kA(tn)?tn.className.baseValue+=hn:tn.className+=hn,un}}},DocumentCloner.destroy=function(en){return!!en.parentNode&&(en.parentNode.removeChild(en),!0)},DocumentCloner}();!function(en){en[en.BEFORE=0]="BEFORE",en[en.AFTER=1]="AFTER"}(bs||(bs={}));var al,ol=function createIFrameContainer(en,tn){var nn=en.createElement("iframe");return nn.className="html2canvas-container",nn.style.visibility="hidden",nn.style.position="fixed",nn.style.left="-10000px",nn.style.top="0px",nn.style.border="0",nn.width=tn.width.toString(),nn.height=tn.height.toString(),nn.scrolling="no",nn.setAttribute(rl,"true"),en.body.appendChild(nn),nn},sl=function imageReady(en){return new Promise((function(tn){en.complete?tn():en.src?(en.onload=tn,en.onerror=tn):tn()}))},Al=function imagesReady(en){return Promise.all([].slice.call(en.images,0).map(sl))},ll=function iframeLoader(en){return new Promise((function(tn,nn){var rn=en.contentWindow;if(!rn)return nn("No window assigned for iframe");var an=rn.document;rn.onload=en.onload=function(){rn.onload=en.onload=null;var nn=setInterval((function(){an.body.childNodes.length>0&&"complete"===an.readyState&&(clearInterval(nn),tn(en))}),50)}}))},cl=["all","d","content"],ul=function copyCSSStyles(en,tn){for(var nn=en.length-1;nn>=0;nn--){var rn=en.item(nn);-1===cl.indexOf(rn)&&tn.style.setProperty(rn,en.getPropertyValue(rn))}return tn},hl=function serializeDoctype(en){var tn="";return en&&(tn+="<!DOCTYPE ",en.name&&(tn+=en.name),en.internalSubset&&(tn+=en.internalSubset),en.publicId&&(tn+='"'+en.publicId+'"'),en.systemId&&(tn+='"'+en.systemId+'"'),tn+=">"),tn},dl=function restoreOwnerScroll(en,tn,nn){en&&en.defaultView&&(tn!==en.defaultView.pageXOffset||nn!==en.defaultView.pageYOffset)&&en.defaultView.scrollTo(tn,nn)},pl=function restoreNodeScroll(en){var tn=en[0],nn=en[1],rn=en[2];tn.scrollLeft=nn,tn.scrollTop=rn},gl="___html2canvas___pseudoelement_before",fl="___html2canvas___pseudoelement_after",ml='{\n    content: "" !important;\n    display: none !important;\n}',vl=function createPseudoHideStyles(en){yl(en,"."+gl+":before"+ml+"\n         ."+fl+":after"+ml)},yl=function createStyles(en,tn){var nn=en.ownerDocument;if(nn){var rn=nn.createElement("style");rn.textContent=tn,en.appendChild(rn)}},bl=function(){function CacheStorage(){}return CacheStorage.getOrigin=function(en){var tn=CacheStorage._link;return tn?(tn.href=en,tn.href=tn.href,tn.protocol+tn.hostname+tn.port):"about:blank"},CacheStorage.isSameOrigin=function(en){return CacheStorage.getOrigin(en)===CacheStorage._origin},CacheStorage.setContext=function(en){CacheStorage._link=en.document.createElement("a"),CacheStorage._origin=CacheStorage.getOrigin(en.location.href)},CacheStorage._origin="about:blank",CacheStorage}(),wl=function(){function Cache(en,tn){this.context=en,this._options=tn,this._cache={}}return Cache.prototype.addImage=function(en){var tn=Promise.resolve();return this.has(en)?tn:El(en)||_l(en)?((this._cache[en]=this.loadImage(en)).catch((function(){})),tn):tn},Cache.prototype.match=function(en){return this._cache[en]},Cache.prototype.loadImage=function(en){return __awaiter(this,void 0,void 0,(function(){var tn,nn,rn,an,sn=this;return __generator(this,(function(An){switch(An.label){case 0:return tn=bl.isSameOrigin(en),nn=!Sl(en)&&!0===this._options.useCORS&&Rs.SUPPORT_CORS_IMAGES&&!tn,rn=!Sl(en)&&!tn&&!El(en)&&"string"==typeof this._options.proxy&&Rs.SUPPORT_CORS_XHR&&!nn,tn||!1!==this._options.allowTaint||Sl(en)||El(en)||rn||nn?(an=en,rn?[4,this.proxy(an)]:[3,2]):[2];case 1:an=An.sent(),An.label=2;case 2:return this.context.logger.debug("Added image "+en.substring(0,256)),[4,new Promise((function(en,tn){var rn=new Image;rn.onload=function(){return en(rn)},rn.onerror=tn,(kl(an)||nn)&&(rn.crossOrigin="anonymous"),rn.src=an,!0===rn.complete&&setTimeout((function(){return en(rn)}),500),sn._options.imageTimeout>0&&setTimeout((function(){return tn("Timed out ("+sn._options.imageTimeout+"ms) loading image")}),sn._options.imageTimeout)}))];case 3:return[2,An.sent()]}}))}))},Cache.prototype.has=function(en){return void 0!==this._cache[en]},Cache.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},Cache.prototype.proxy=function(en){var tn=this,nn=this._options.proxy;if(!nn)throw new Error("No proxy defined");var rn=en.substring(0,256);return new Promise((function(an,sn){var An=Rs.SUPPORT_RESPONSE_TYPE?"blob":"text",cn=new XMLHttpRequest;cn.onload=function(){if(200===cn.status)if("text"===An)an(cn.response);else{var en=new FileReader;en.addEventListener("load",(function(){return an(en.result)}),!1),en.addEventListener("error",(function(en){return sn(en)}),!1),en.readAsDataURL(cn.response)}else sn("Failed to proxy resource "+rn+" with status code "+cn.status)},cn.onerror=sn;var un=nn.indexOf("?")>-1?"&":"?";if(cn.open("GET",""+nn+un+"url="+encodeURIComponent(en)+"&responseType="+An),"text"!==An&&cn instanceof XMLHttpRequest&&(cn.responseType=An),tn._options.imageTimeout){var hn=tn._options.imageTimeout;cn.timeout=hn,cn.ontimeout=function(){return sn("Timed out ("+hn+"ms) proxying "+rn)}}cn.send()}))},Cache}(),Cl=/^data:image\/svg\+xml/i,xl=/^data:image\/.*;base64,/i,Bl=/^data:image\/.*/i,_l=function isRenderable(en){return Rs.SUPPORT_SVG_DRAWING||!Pl(en)},Sl=function isInlineImage(en){return Bl.test(en)},kl=function isInlineBase64Image(en){return xl.test(en)},El=function isBlobImage(en){return"blob"===en.substr(0,4)},Pl=function isSVG(en){return"svg"===en.substr(-3).toLowerCase()||Cl.test(en)},Fl=function(){function Vector(en,tn){this.type=0,this.x=en,this.y=tn}return Vector.prototype.add=function(en,tn){return new Vector(this.x+en,this.y+tn)},Vector}(),Ll=function lerp(en,tn,nn){return new Fl(en.x+(tn.x-en.x)*nn,en.y+(tn.y-en.y)*nn)},Il=function(){function BezierCurve(en,tn,nn,rn){this.type=1,this.start=en,this.startControl=tn,this.endControl=nn,this.end=rn}return BezierCurve.prototype.subdivide=function(en,tn){var nn=Ll(this.start,this.startControl,en),rn=Ll(this.startControl,this.endControl,en),an=Ll(this.endControl,this.end,en),sn=Ll(nn,rn,en),An=Ll(rn,an,en),cn=Ll(sn,An,en);return tn?new BezierCurve(this.start,nn,sn,cn):new BezierCurve(cn,An,an,this.end)},BezierCurve.prototype.add=function(en,tn){return new BezierCurve(this.start.add(en,tn),this.startControl.add(en,tn),this.endControl.add(en,tn),this.end.add(en,tn))},BezierCurve.prototype.reverse=function(){return new BezierCurve(this.end,this.endControl,this.startControl,this.start)},BezierCurve}(),Ul=function isBezierCurve(en){return 1===en.type},Tl=function BoundCurves(en){var tn=en.styles,nn=en.bounds,rn=ji(tn.borderTopLeftRadius,nn.width,nn.height),an=rn[0],sn=rn[1],An=ji(tn.borderTopRightRadius,nn.width,nn.height),cn=An[0],un=An[1],hn=ji(tn.borderBottomRightRadius,nn.width,nn.height),dn=hn[0],pn=hn[1],gn=ji(tn.borderBottomLeftRadius,nn.width,nn.height),mn=gn[0],vn=gn[1],yn=[];yn.push((an+cn)/nn.width),yn.push((mn+dn)/nn.width),yn.push((sn+vn)/nn.height),yn.push((un+pn)/nn.height);var bn=Math.max.apply(Math,yn);bn>1&&(an/=bn,sn/=bn,cn/=bn,un/=bn,dn/=bn,pn/=bn,mn/=bn,vn/=bn);var wn=nn.width-cn,Cn=nn.height-pn,xn=nn.width-dn,Bn=nn.height-vn,_n=tn.borderTopWidth,Sn=tn.borderRightWidth,kn=tn.borderBottomWidth,En=tn.borderLeftWidth,Pn=Vi(tn.paddingTop,en.bounds.width),Fn=Vi(tn.paddingRight,en.bounds.width),Ln=Vi(tn.paddingBottom,en.bounds.width),In=Vi(tn.paddingLeft,en.bounds.width);this.topLeftBorderDoubleOuterBox=an>0||sn>0?Ql(nn.left+En/3,nn.top+_n/3,an-En/3,sn-_n/3,al.TOP_LEFT):new Fl(nn.left+En/3,nn.top+_n/3),this.topRightBorderDoubleOuterBox=an>0||sn>0?Ql(nn.left+wn,nn.top+_n/3,cn-Sn/3,un-_n/3,al.TOP_RIGHT):new Fl(nn.left+nn.width-Sn/3,nn.top+_n/3),this.bottomRightBorderDoubleOuterBox=dn>0||pn>0?Ql(nn.left+xn,nn.top+Cn,dn-Sn/3,pn-kn/3,al.BOTTOM_RIGHT):new Fl(nn.left+nn.width-Sn/3,nn.top+nn.height-kn/3),this.bottomLeftBorderDoubleOuterBox=mn>0||vn>0?Ql(nn.left+En/3,nn.top+Bn,mn-En/3,vn-kn/3,al.BOTTOM_LEFT):new Fl(nn.left+En/3,nn.top+nn.height-kn/3),this.topLeftBorderDoubleInnerBox=an>0||sn>0?Ql(nn.left+2*En/3,nn.top+2*_n/3,an-2*En/3,sn-2*_n/3,al.TOP_LEFT):new Fl(nn.left+2*En/3,nn.top+2*_n/3),this.topRightBorderDoubleInnerBox=an>0||sn>0?Ql(nn.left+wn,nn.top+2*_n/3,cn-2*Sn/3,un-2*_n/3,al.TOP_RIGHT):new Fl(nn.left+nn.width-2*Sn/3,nn.top+2*_n/3),this.bottomRightBorderDoubleInnerBox=dn>0||pn>0?Ql(nn.left+xn,nn.top+Cn,dn-2*Sn/3,pn-2*kn/3,al.BOTTOM_RIGHT):new Fl(nn.left+nn.width-2*Sn/3,nn.top+nn.height-2*kn/3),this.bottomLeftBorderDoubleInnerBox=mn>0||vn>0?Ql(nn.left+2*En/3,nn.top+Bn,mn-2*En/3,vn-2*kn/3,al.BOTTOM_LEFT):new Fl(nn.left+2*En/3,nn.top+nn.height-2*kn/3),this.topLeftBorderStroke=an>0||sn>0?Ql(nn.left+En/2,nn.top+_n/2,an-En/2,sn-_n/2,al.TOP_LEFT):new Fl(nn.left+En/2,nn.top+_n/2),this.topRightBorderStroke=an>0||sn>0?Ql(nn.left+wn,nn.top+_n/2,cn-Sn/2,un-_n/2,al.TOP_RIGHT):new Fl(nn.left+nn.width-Sn/2,nn.top+_n/2),this.bottomRightBorderStroke=dn>0||pn>0?Ql(nn.left+xn,nn.top+Cn,dn-Sn/2,pn-kn/2,al.BOTTOM_RIGHT):new Fl(nn.left+nn.width-Sn/2,nn.top+nn.height-kn/2),this.bottomLeftBorderStroke=mn>0||vn>0?Ql(nn.left+En/2,nn.top+Bn,mn-En/2,vn-kn/2,al.BOTTOM_LEFT):new Fl(nn.left+En/2,nn.top+nn.height-kn/2),this.topLeftBorderBox=an>0||sn>0?Ql(nn.left,nn.top,an,sn,al.TOP_LEFT):new Fl(nn.left,nn.top),this.topRightBorderBox=cn>0||un>0?Ql(nn.left+wn,nn.top,cn,un,al.TOP_RIGHT):new Fl(nn.left+nn.width,nn.top),this.bottomRightBorderBox=dn>0||pn>0?Ql(nn.left+xn,nn.top+Cn,dn,pn,al.BOTTOM_RIGHT):new Fl(nn.left+nn.width,nn.top+nn.height),this.bottomLeftBorderBox=mn>0||vn>0?Ql(nn.left,nn.top+Bn,mn,vn,al.BOTTOM_LEFT):new Fl(nn.left,nn.top+nn.height),this.topLeftPaddingBox=an>0||sn>0?Ql(nn.left+En,nn.top+_n,Math.max(0,an-En),Math.max(0,sn-_n),al.TOP_LEFT):new Fl(nn.left+En,nn.top+_n),this.topRightPaddingBox=cn>0||un>0?Ql(nn.left+Math.min(wn,nn.width-Sn),nn.top+_n,wn>nn.width+Sn?0:Math.max(0,cn-Sn),Math.max(0,un-_n),al.TOP_RIGHT):new Fl(nn.left+nn.width-Sn,nn.top+_n),this.bottomRightPaddingBox=dn>0||pn>0?Ql(nn.left+Math.min(xn,nn.width-En),nn.top+Math.min(Cn,nn.height-kn),Math.max(0,dn-Sn),Math.max(0,pn-kn),al.BOTTOM_RIGHT):new Fl(nn.left+nn.width-Sn,nn.top+nn.height-kn),this.bottomLeftPaddingBox=mn>0||vn>0?Ql(nn.left+En,nn.top+Math.min(Bn,nn.height-kn),Math.max(0,mn-En),Math.max(0,vn-kn),al.BOTTOM_LEFT):new Fl(nn.left+En,nn.top+nn.height-kn),this.topLeftContentBox=an>0||sn>0?Ql(nn.left+En+In,nn.top+_n+Pn,Math.max(0,an-(En+In)),Math.max(0,sn-(_n+Pn)),al.TOP_LEFT):new Fl(nn.left+En+In,nn.top+_n+Pn),this.topRightContentBox=cn>0||un>0?Ql(nn.left+Math.min(wn,nn.width+En+In),nn.top+_n+Pn,wn>nn.width+En+In?0:cn-En+In,un-(_n+Pn),al.TOP_RIGHT):new Fl(nn.left+nn.width-(Sn+Fn),nn.top+_n+Pn),this.bottomRightContentBox=dn>0||pn>0?Ql(nn.left+Math.min(xn,nn.width-(En+In)),nn.top+Math.min(Cn,nn.height+_n+Pn),Math.max(0,dn-(Sn+Fn)),pn-(kn+Ln),al.BOTTOM_RIGHT):new Fl(nn.left+nn.width-(Sn+Fn),nn.top+nn.height-(kn+Ln)),this.bottomLeftContentBox=mn>0||vn>0?Ql(nn.left+En+In,nn.top+Bn,Math.max(0,mn-(En+In)),vn-(kn+Ln),al.BOTTOM_LEFT):new Fl(nn.left+En+In,nn.top+nn.height-(kn+Ln))};!function(en){en[en.TOP_LEFT=0]="TOP_LEFT",en[en.TOP_RIGHT=1]="TOP_RIGHT",en[en.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",en[en.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(al||(al={}));var Ql=function getCurvePoints(en,tn,nn,rn,an){var sn=(Math.sqrt(2)-1)/3*4,An=nn*sn,cn=rn*sn,un=en+nn,hn=tn+rn;switch(an){case al.TOP_LEFT:return new Il(new Fl(en,hn),new Fl(en,hn-cn),new Fl(un-An,tn),new Fl(un,tn));case al.TOP_RIGHT:return new Il(new Fl(en,tn),new Fl(en+An,tn),new Fl(un,hn-cn),new Fl(un,hn));case al.BOTTOM_RIGHT:return new Il(new Fl(un,tn),new Fl(un,tn+cn),new Fl(en+An,hn),new Fl(en,hn));case al.BOTTOM_LEFT:default:return new Il(new Fl(un,hn),new Fl(un-An,hn),new Fl(en,tn+cn),new Fl(en,tn))}},Nl=function calculateBorderBoxPath(en){return[en.topLeftBorderBox,en.topRightBorderBox,en.bottomRightBorderBox,en.bottomLeftBorderBox]},Ol=function calculatePaddingBoxPath(en){return[en.topLeftPaddingBox,en.topRightPaddingBox,en.bottomRightPaddingBox,en.bottomLeftPaddingBox]},Ml=function TransformEffect(en,tn,nn){this.offsetX=en,this.offsetY=tn,this.matrix=nn,this.type=0,this.target=6},Rl=function ClipEffect(en,tn){this.path=en,this.target=tn,this.type=1},Hl=function OpacityEffect(en){this.opacity=en,this.type=2,this.target=6},Dl=function isClipEffect(en){return 1===en.type},$l=function equalPath(en,tn){return en.length===tn.length&&en.some((function(en,nn){return en===tn[nn]}))},Gl=function StackingContext(en){this.element=en,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},jl=function(){function ElementPaint(en,tn){if(this.container=en,this.parent=tn,this.effects=[],this.curves=new Tl(this.container),this.container.styles.opacity<1&&this.effects.push(new Hl(this.container.styles.opacity)),null!==this.container.styles.transform){var nn=this.container.bounds.left+this.container.styles.transformOrigin[0].number,rn=this.container.bounds.top+this.container.styles.transformOrigin[1].number,an=this.container.styles.transform;this.effects.push(new Ml(nn,rn,an))}if(0!==this.container.styles.overflowX){var sn=Nl(this.curves),An=Ol(this.curves);$l(sn,An)?this.effects.push(new Rl(sn,6)):(this.effects.push(new Rl(sn,2)),this.effects.push(new Rl(An,4)))}}return ElementPaint.prototype.getEffects=function(en){for(var tn=-1===[2,3].indexOf(this.container.styles.position),nn=this.parent,rn=this.effects.slice(0);nn;){var an=nn.effects.filter((function(en){return!Dl(en)}));if(tn||0!==nn.container.styles.position||!nn.parent){if(rn.unshift.apply(rn,an),tn=-1===[2,3].indexOf(nn.container.styles.position),0!==nn.container.styles.overflowX){var sn=Nl(nn.curves),An=Ol(nn.curves);$l(sn,An)||rn.unshift(new Rl(An,6))}}else rn.unshift.apply(rn,an);nn=nn.parent}return rn.filter((function(tn){return Wo(tn.target,en)}))},ElementPaint}(),Vl=function parseStackTree(en,tn,nn,rn){en.container.elements.forEach((function(an){var sn=Wo(an.flags,4),An=Wo(an.flags,2),cn=new jl(an,en);Wo(an.styles.display,2048)&&rn.push(cn);var un=Wo(an.flags,8)?[]:rn;if(sn||An){var hn=sn||an.styles.isPositioned()?nn:tn,dn=new Gl(cn);if(an.styles.isPositioned()||an.styles.opacity<1||an.styles.isTransformed()){var pn=an.styles.zIndex.order;if(pn<0){var gn=0;hn.negativeZIndex.some((function(en,tn){return pn>en.element.container.styles.zIndex.order?(gn=tn,!1):gn>0})),hn.negativeZIndex.splice(gn,0,dn)}else if(pn>0){var mn=0;hn.positiveZIndex.some((function(en,tn){return pn>=en.element.container.styles.zIndex.order?(mn=tn+1,!1):mn>0})),hn.positiveZIndex.splice(mn,0,dn)}else hn.zeroOrAutoZIndexOrTransformedOrOpacity.push(dn)}else an.styles.isFloating()?hn.nonPositionedFloats.push(dn):hn.nonPositionedInlineLevel.push(dn);parseStackTree(cn,dn,sn?dn:nn,un)}else an.styles.isInlineLevel()?tn.inlineLevel.push(cn):tn.nonInlineLevel.push(cn),parseStackTree(cn,tn,nn,un);Wo(an.flags,8)&&Kl(an,un)}))},Kl=function processListItems(en,tn){for(var nn=en instanceof aA?en.start:1,rn=en instanceof aA&&en.reversed,an=0;an<tn.length;an++){var sn=tn[an];sn.container instanceof iA&&"number"==typeof sn.container.value&&0!==sn.container.value&&(nn=sn.container.value),sn.listValue=nl(nn,sn.container.styles.listStyleType,!0),nn+=rn?-1:1}},ql=function parseStackingContexts(en){var tn=new jl(en,null),nn=new Gl(tn),rn=[];return Vl(tn,nn,nn,rn),Kl(tn.container,rn),nn},zl=function parsePathForBorder(en,tn){switch(tn){case 0:return Xl(en.topLeftBorderBox,en.topLeftPaddingBox,en.topRightBorderBox,en.topRightPaddingBox);case 1:return Xl(en.topRightBorderBox,en.topRightPaddingBox,en.bottomRightBorderBox,en.bottomRightPaddingBox);case 2:return Xl(en.bottomRightBorderBox,en.bottomRightPaddingBox,en.bottomLeftBorderBox,en.bottomLeftPaddingBox);default:return Xl(en.bottomLeftBorderBox,en.bottomLeftPaddingBox,en.topLeftBorderBox,en.topLeftPaddingBox)}},Wl=function createStrokePathFromCurves(en,tn){var nn=[];return Ul(en)?nn.push(en.subdivide(.5,!1)):nn.push(en),Ul(tn)?nn.push(tn.subdivide(.5,!0)):nn.push(tn),nn},Xl=function createPathFromCurves(en,tn,nn,rn){var an=[];return Ul(en)?an.push(en.subdivide(.5,!1)):an.push(en),Ul(nn)?an.push(nn.subdivide(.5,!0)):an.push(nn),Ul(rn)?an.push(rn.subdivide(.5,!0).reverse()):an.push(rn),Ul(tn)?an.push(tn.subdivide(.5,!1).reverse()):an.push(tn),an},Yl=function paddingBox(en){var tn=en.bounds,nn=en.styles;return tn.add(nn.borderLeftWidth,nn.borderTopWidth,-(nn.borderRightWidth+nn.borderLeftWidth),-(nn.borderTopWidth+nn.borderBottomWidth))},Jl=function contentBox(en){var tn=en.styles,nn=en.bounds,rn=Vi(tn.paddingLeft,nn.width),an=Vi(tn.paddingRight,nn.width),sn=Vi(tn.paddingTop,nn.width),An=Vi(tn.paddingBottom,nn.width);return nn.add(rn+tn.borderLeftWidth,sn+tn.borderTopWidth,-(tn.borderRightWidth+tn.borderLeftWidth+rn+an),-(tn.borderTopWidth+tn.borderBottomWidth+sn+An))},Zl=function calculateBackgroundRendering(en,tn,nn){var rn=function calculateBackgroundPositioningArea(en,tn){return 0===en?tn.bounds:2===en?Jl(tn):Yl(tn)}(ac(en.styles.backgroundOrigin,tn),en),an=function calculateBackgroundPaintingArea(en,tn){return 0===en?tn.bounds:2===en?Jl(tn):Yl(tn)}(ac(en.styles.backgroundClip,tn),en),sn=ic(ac(en.styles.backgroundSize,tn),nn,rn),An=sn[0],cn=sn[1],un=ji(ac(en.styles.backgroundPosition,tn),rn.width-An,rn.height-cn);return[oc(ac(en.styles.backgroundRepeat,tn),un,sn,rn,an),Math.round(rn.left+un[0]),Math.round(rn.top+un[1]),An,cn]},tc=function isAuto(en){return Li(en)&&en.value===Sa.AUTO},nc=function hasIntrinsicValue(en){return"number"==typeof en},ic=function calculateBackgroundSize(en,tn,nn){var rn=tn[0],an=tn[1],sn=tn[2],An=en[0],cn=en[1];if(!An)return[0,0];if(Ri(An)&&cn&&Ri(cn))return[Vi(An,nn.width),Vi(cn,nn.height)];var un=nc(sn);if(Li(An)&&(An.value===Sa.CONTAIN||An.value===Sa.COVER))return nc(sn)?nn.width/nn.height<sn!=(An.value===Sa.COVER)?[nn.width,nn.width/sn]:[nn.height*sn,nn.height]:[nn.width,nn.height];var hn=nc(rn),dn=nc(an),pn=hn||dn;if(tc(An)&&(!cn||tc(cn)))return hn&&dn?[rn,an]:un||pn?pn&&un?[hn?rn:an*sn,dn?an:rn/sn]:[hn?rn:nn.width,dn?an:nn.height]:[nn.width,nn.height];if(un){var gn=0,mn=0;return Ri(An)?gn=Vi(An,nn.width):Ri(cn)&&(mn=Vi(cn,nn.height)),tc(An)?gn=mn*sn:cn&&!tc(cn)||(mn=gn/sn),[gn,mn]}var vn=null,yn=null;if(Ri(An)?vn=Vi(An,nn.width):cn&&Ri(cn)&&(yn=Vi(cn,nn.height)),null===vn||cn&&!tc(cn)||(yn=hn&&dn?vn/rn*an:nn.height),null!==yn&&tc(An)&&(vn=hn&&dn?yn/an*rn:nn.width),null!==vn&&null!==yn)return[vn,yn];throw new Error("Unable to calculate background-size for element")},ac=function getBackgroundValueForIndex(en,tn){var nn=en[tn];return void 0===nn?en[0]:nn},oc=function calculateBackgroundRepeatPath(en,tn,nn,rn,an){var sn=tn[0],An=tn[1],cn=nn[0],un=nn[1];switch(en){case 2:return[new Fl(Math.round(rn.left),Math.round(rn.top+An)),new Fl(Math.round(rn.left+rn.width),Math.round(rn.top+An)),new Fl(Math.round(rn.left+rn.width),Math.round(un+rn.top+An)),new Fl(Math.round(rn.left),Math.round(un+rn.top+An))];case 3:return[new Fl(Math.round(rn.left+sn),Math.round(rn.top)),new Fl(Math.round(rn.left+sn+cn),Math.round(rn.top)),new Fl(Math.round(rn.left+sn+cn),Math.round(rn.height+rn.top)),new Fl(Math.round(rn.left+sn),Math.round(rn.height+rn.top))];case 1:return[new Fl(Math.round(rn.left+sn),Math.round(rn.top+An)),new Fl(Math.round(rn.left+sn+cn),Math.round(rn.top+An)),new Fl(Math.round(rn.left+sn+cn),Math.round(rn.top+An+un)),new Fl(Math.round(rn.left+sn),Math.round(rn.top+An+un))];default:return[new Fl(Math.round(an.left),Math.round(an.top)),new Fl(Math.round(an.left+an.width),Math.round(an.top)),new Fl(Math.round(an.left+an.width),Math.round(an.height+an.top)),new Fl(Math.round(an.left),Math.round(an.height+an.top))]}},sc="Hidden Text",cc=function(){function FontMetrics(en){this._data={},this._document=en}return FontMetrics.prototype.parseMetrics=function(en,tn){var nn=this._document.createElement("div"),rn=this._document.createElement("img"),an=this._document.createElement("span"),sn=this._document.body;nn.style.visibility="hidden",nn.style.fontFamily=en,nn.style.fontSize=tn,nn.style.margin="0",nn.style.padding="0",nn.style.whiteSpace="nowrap",sn.appendChild(nn),rn.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",rn.width=1,rn.height=1,rn.style.margin="0",rn.style.padding="0",rn.style.verticalAlign="baseline",an.style.fontFamily=en,an.style.fontSize=tn,an.style.margin="0",an.style.padding="0",an.appendChild(this._document.createTextNode(sc)),nn.appendChild(an),nn.appendChild(rn);var An=rn.offsetTop-an.offsetTop+2;nn.removeChild(an),nn.appendChild(this._document.createTextNode(sc)),nn.style.lineHeight="normal",rn.style.verticalAlign="super";var cn=rn.offsetTop-nn.offsetTop+2;return sn.removeChild(nn),{baseline:An,middle:cn}},FontMetrics.prototype.getMetrics=function(en,tn){var nn=en+" "+tn;return void 0===this._data[nn]&&(this._data[nn]=this.parseMetrics(en,tn)),this._data[nn]},FontMetrics}(),uc=function Renderer(en,tn){this.context=en,this.options=tn},hc=function(en){function CanvasRenderer(tn,nn){var rn=en.call(this,tn,nn)||this;return rn._activeEffects=[],rn.canvas=nn.canvas?nn.canvas:document.createElement("canvas"),rn.ctx=rn.canvas.getContext("2d"),nn.canvas||(rn.canvas.width=Math.floor(nn.width*nn.scale),rn.canvas.height=Math.floor(nn.height*nn.scale),rn.canvas.style.width=nn.width+"px",rn.canvas.style.height=nn.height+"px"),rn.fontMetrics=new cc(document),rn.ctx.scale(rn.options.scale,rn.options.scale),rn.ctx.translate(-nn.x,-nn.y),rn.ctx.textBaseline="bottom",rn._activeEffects=[],rn.context.logger.debug("Canvas renderer initialized ("+nn.width+"x"+nn.height+") with scale "+nn.scale),rn}return __extends(CanvasRenderer,en),CanvasRenderer.prototype.applyEffects=function(en){for(var tn=this;this._activeEffects.length;)this.popEffect();en.forEach((function(en){return tn.applyEffect(en)}))},CanvasRenderer.prototype.applyEffect=function(en){this.ctx.save(),function isOpacityEffect(en){return 2===en.type}(en)&&(this.ctx.globalAlpha=en.opacity),function isTransformEffect(en){return 0===en.type}(en)&&(this.ctx.translate(en.offsetX,en.offsetY),this.ctx.transform(en.matrix[0],en.matrix[1],en.matrix[2],en.matrix[3],en.matrix[4],en.matrix[5]),this.ctx.translate(-en.offsetX,-en.offsetY)),Dl(en)&&(this.path(en.path),this.ctx.clip()),this._activeEffects.push(en)},CanvasRenderer.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},CanvasRenderer.prototype.renderStack=function(en){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(tn){switch(tn.label){case 0:return en.element.container.styles.isVisible()?[4,this.renderStackContent(en)]:[3,2];case 1:tn.sent(),tn.label=2;case 2:return[2]}}))}))},CanvasRenderer.prototype.renderNode=function(en){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(tn){switch(tn.label){case 0:return Wo(en.container.flags,16),en.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(en)]:[3,3];case 1:return tn.sent(),[4,this.renderNodeContent(en)];case 2:tn.sent(),tn.label=3;case 3:return[2]}}))}))},CanvasRenderer.prototype.renderTextWithLetterSpacing=function(en,tn,nn){var rn=this;0===tn?this.ctx.fillText(en.text,en.bounds.left,en.bounds.top+nn):js(en.text).reduce((function(tn,an){return rn.ctx.fillText(an,tn,en.bounds.top+nn),tn+rn.ctx.measureText(an).width}),en.bounds.left)},CanvasRenderer.prototype.createFontStyle=function(en){var tn=en.fontVariant.filter((function(en){return"normal"===en||"small-caps"===en})).join(""),nn=mc(en.fontFamily).join(", "),rn=Pi(en.fontSize)?""+en.fontSize.number+en.fontSize.unit:en.fontSize.number+"px";return[[en.fontStyle,tn,en.fontWeight,rn,nn].join(" "),nn,rn]},CanvasRenderer.prototype.renderTextNode=function(en,tn){return __awaiter(this,void 0,void 0,(function(){var nn,rn,an,sn,An,cn,un,hn,dn=this;return __generator(this,(function(pn){return nn=this.createFontStyle(tn),rn=nn[0],an=nn[1],sn=nn[2],this.ctx.font=rn,this.ctx.direction=1===tn.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",An=this.fontMetrics.getMetrics(an,sn),cn=An.baseline,un=An.middle,hn=tn.paintOrder,en.textBounds.forEach((function(en){hn.forEach((function(nn){switch(nn){case 0:dn.ctx.fillStyle=ea(tn.color),dn.renderTextWithLetterSpacing(en,tn.letterSpacing,cn);var rn=tn.textShadow;rn.length&&en.text.trim().length&&(rn.slice(0).reverse().forEach((function(nn){dn.ctx.shadowColor=ea(nn.color),dn.ctx.shadowOffsetX=nn.offsetX.number*dn.options.scale,dn.ctx.shadowOffsetY=nn.offsetY.number*dn.options.scale,dn.ctx.shadowBlur=nn.blur.number,dn.renderTextWithLetterSpacing(en,tn.letterSpacing,cn)})),dn.ctx.shadowColor="",dn.ctx.shadowOffsetX=0,dn.ctx.shadowOffsetY=0,dn.ctx.shadowBlur=0),tn.textDecorationLine.length&&(dn.ctx.fillStyle=ea(tn.textDecorationColor||tn.color),tn.textDecorationLine.forEach((function(tn){switch(tn){case 1:dn.ctx.fillRect(en.bounds.left,Math.round(en.bounds.top+cn),en.bounds.width,1);break;case 2:dn.ctx.fillRect(en.bounds.left,Math.round(en.bounds.top),en.bounds.width,1);break;case 3:dn.ctx.fillRect(en.bounds.left,Math.ceil(en.bounds.top+un),en.bounds.width,1)}})));break;case 1:tn.webkitTextStrokeWidth&&en.text.trim().length&&(dn.ctx.strokeStyle=ea(tn.webkitTextStrokeColor),dn.ctx.lineWidth=tn.webkitTextStrokeWidth,dn.ctx.lineJoin=window.chrome?"miter":"round",dn.ctx.strokeText(en.text,en.bounds.left,en.bounds.top+cn)),dn.ctx.strokeStyle="",dn.ctx.lineWidth=0,dn.ctx.lineJoin="miter"}}))})),[2]}))}))},CanvasRenderer.prototype.renderReplacedElement=function(en,tn,nn){if(nn&&en.intrinsicWidth>0&&en.intrinsicHeight>0){var rn=Jl(en),an=Ol(tn);this.path(an),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(nn,0,0,en.intrinsicWidth,en.intrinsicHeight,rn.left,rn.top,rn.width,rn.height),this.ctx.restore()}},CanvasRenderer.prototype.renderNodeContent=function(en){return __awaiter(this,void 0,void 0,(function(){var tn,rn,an,sn,An,cn,un,hn,dn,pn,gn,mn,vn,yn,bn,wn,Cn,xn;return __generator(this,(function(Bn){switch(Bn.label){case 0:this.applyEffects(en.getEffects(4)),tn=en.container,rn=en.curves,an=tn.styles,sn=0,An=tn.textNodes,Bn.label=1;case 1:return sn<An.length?(cn=An[sn],[4,this.renderTextNode(cn,an)]):[3,4];case 2:Bn.sent(),Bn.label=3;case 3:return sn++,[3,1];case 4:if(!(tn instanceof Zs))return[3,8];Bn.label=5;case 5:return Bn.trys.push([5,7,,8]),[4,this.context.cache.match(tn.src)];case 6:return bn=Bn.sent(),this.renderReplacedElement(tn,rn,bn),[3,8];case 7:return Bn.sent(),this.context.logger.error("Error loading image "+tn.src),[3,8];case 8:if(tn instanceof nA&&this.renderReplacedElement(tn,rn,tn.canvas),!(tn instanceof rA))return[3,12];Bn.label=9;case 9:return Bn.trys.push([9,11,,12]),[4,this.context.cache.match(tn.svg)];case 10:return bn=Bn.sent(),this.renderReplacedElement(tn,rn,bn),[3,12];case 11:return Bn.sent(),this.context.logger.error("Error loading svg "+tn.svg.substring(0,255)),[3,12];case 12:return tn instanceof mA&&tn.tree?[4,new CanvasRenderer(this.context,{scale:this.options.scale,backgroundColor:tn.backgroundColor,x:0,y:0,width:tn.width,height:tn.height}).render(tn.tree)]:[3,14];case 13:un=Bn.sent(),tn.width&&tn.height&&this.ctx.drawImage(un,0,0,tn.width,tn.height,tn.bounds.left,tn.bounds.top,tn.bounds.width,tn.bounds.height),Bn.label=14;case 14:if(tn instanceof pA&&(hn=Math.min(tn.bounds.width,tn.bounds.height),tn.type===cA?tn.checked&&(this.ctx.save(),this.path([new Fl(tn.bounds.left+.39363*hn,tn.bounds.top+.79*hn),new Fl(tn.bounds.left+.16*hn,tn.bounds.top+.5549*hn),new Fl(tn.bounds.left+.27347*hn,tn.bounds.top+.44071*hn),new Fl(tn.bounds.left+.39694*hn,tn.bounds.top+.5649*hn),new Fl(tn.bounds.left+.72983*hn,tn.bounds.top+.23*hn),new Fl(tn.bounds.left+.84*hn,tn.bounds.top+.34085*hn),new Fl(tn.bounds.left+.39363*hn,tn.bounds.top+.79*hn)]),this.ctx.fillStyle=ea(dA),this.ctx.fill(),this.ctx.restore()):tn.type===uA&&tn.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(tn.bounds.left+hn/2,tn.bounds.top+hn/2,hn/4,0,2*Math.PI,!0),this.ctx.fillStyle=ea(dA),this.ctx.fill(),this.ctx.restore())),dc(tn)&&tn.value.length){switch(dn=this.createFontStyle(an),Cn=dn[0],pn=dn[1],gn=this.fontMetrics.getMetrics(Cn,pn).baseline,this.ctx.font=Cn,this.ctx.fillStyle=ea(an.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=gc(tn.styles.textAlign),xn=Jl(tn),mn=0,tn.styles.textAlign){case 1:mn+=xn.width/2;break;case 2:mn+=xn.width}vn=xn.add(mn,0,0,-xn.height/2+1),this.ctx.save(),this.path([new Fl(xn.left,xn.top),new Fl(xn.left+xn.width,xn.top),new Fl(xn.left+xn.width,xn.top+xn.height),new Fl(xn.left,xn.top+xn.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Hs(tn.value,vn),an.letterSpacing,gn),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Wo(tn.styles.display,2048))return[3,20];if(null===tn.styles.listStyleImage)return[3,19];if(0!==(yn=tn.styles.listStyleImage).type)return[3,18];bn=void 0,wn=yn.url,Bn.label=15;case 15:return Bn.trys.push([15,17,,18]),[4,this.context.cache.match(wn)];case 16:return bn=Bn.sent(),this.ctx.drawImage(bn,tn.bounds.left-(bn.width+10),tn.bounds.top),[3,18];case 17:return Bn.sent(),this.context.logger.error("Error loading list-style-image "+wn),[3,18];case 18:return[3,20];case 19:en.listValue&&-1!==tn.styles.listStyleType&&(Cn=this.createFontStyle(an)[0],this.ctx.font=Cn,this.ctx.fillStyle=ea(an.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",xn=new nn(tn.bounds.left,tn.bounds.top+Vi(tn.styles.paddingTop,tn.bounds.width),tn.bounds.width,uo(an.lineHeight,an.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Hs(en.listValue,xn),an.letterSpacing,uo(an.lineHeight,an.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Bn.label=20;case 20:return[2]}}))}))},CanvasRenderer.prototype.renderStackContent=function(en){return __awaiter(this,void 0,void 0,(function(){var tn,nn,rn,an,sn,An,cn,un,hn,dn,pn,gn,mn,vn,yn;return __generator(this,(function(bn){switch(bn.label){case 0:return Wo(en.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(en.element)];case 1:bn.sent(),tn=0,nn=en.negativeZIndex,bn.label=2;case 2:return tn<nn.length?(yn=nn[tn],[4,this.renderStack(yn)]):[3,5];case 3:bn.sent(),bn.label=4;case 4:return tn++,[3,2];case 5:return[4,this.renderNodeContent(en.element)];case 6:bn.sent(),rn=0,an=en.nonInlineLevel,bn.label=7;case 7:return rn<an.length?(yn=an[rn],[4,this.renderNode(yn)]):[3,10];case 8:bn.sent(),bn.label=9;case 9:return rn++,[3,7];case 10:sn=0,An=en.nonPositionedFloats,bn.label=11;case 11:return sn<An.length?(yn=An[sn],[4,this.renderStack(yn)]):[3,14];case 12:bn.sent(),bn.label=13;case 13:return sn++,[3,11];case 14:cn=0,un=en.nonPositionedInlineLevel,bn.label=15;case 15:return cn<un.length?(yn=un[cn],[4,this.renderStack(yn)]):[3,18];case 16:bn.sent(),bn.label=17;case 17:return cn++,[3,15];case 18:hn=0,dn=en.inlineLevel,bn.label=19;case 19:return hn<dn.length?(yn=dn[hn],[4,this.renderNode(yn)]):[3,22];case 20:bn.sent(),bn.label=21;case 21:return hn++,[3,19];case 22:pn=0,gn=en.zeroOrAutoZIndexOrTransformedOrOpacity,bn.label=23;case 23:return pn<gn.length?(yn=gn[pn],[4,this.renderStack(yn)]):[3,26];case 24:bn.sent(),bn.label=25;case 25:return pn++,[3,23];case 26:mn=0,vn=en.positiveZIndex,bn.label=27;case 27:return mn<vn.length?(yn=vn[mn],[4,this.renderStack(yn)]):[3,30];case 28:bn.sent(),bn.label=29;case 29:return mn++,[3,27];case 30:return[2]}}))}))},CanvasRenderer.prototype.mask=function(en){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(en.slice(0).reverse()),this.ctx.closePath()},CanvasRenderer.prototype.path=function(en){this.ctx.beginPath(),this.formatPath(en),this.ctx.closePath()},CanvasRenderer.prototype.formatPath=function(en){var tn=this;en.forEach((function(en,nn){var rn=Ul(en)?en.start:en;0===nn?tn.ctx.moveTo(rn.x,rn.y):tn.ctx.lineTo(rn.x,rn.y),Ul(en)&&tn.ctx.bezierCurveTo(en.startControl.x,en.startControl.y,en.endControl.x,en.endControl.y,en.end.x,en.end.y)}))},CanvasRenderer.prototype.renderRepeat=function(en,tn,nn,rn){this.path(en),this.ctx.fillStyle=tn,this.ctx.translate(nn,rn),this.ctx.fill(),this.ctx.translate(-nn,-rn)},CanvasRenderer.prototype.resizeImage=function(en,tn,nn){var rn;if(en.width===tn&&en.height===nn)return en;var an=(null!==(rn=this.canvas.ownerDocument)&&void 0!==rn?rn:document).createElement("canvas");return an.width=Math.max(1,tn),an.height=Math.max(1,nn),an.getContext("2d").drawImage(en,0,0,en.width,en.height,0,0,tn,nn),an},CanvasRenderer.prototype.renderBackgroundImage=function(en){return __awaiter(this,void 0,void 0,(function(){var tn,nn,rn,an,sn,An;return __generator(this,(function(cn){switch(cn.label){case 0:tn=en.styles.backgroundImage.length-1,nn=function AA(nn){var an,sn,An,cn,un,hn,dn,pn,gn,mn,vn,yn,bn,wn,Cn,xn,Bn,_n,Sn,kn,En,Pn,Fn,Ln,In,Un,Tn,Qn,Nn,On,Mn;return __generator(this,(function(Rn){switch(Rn.label){case 0:if(0!==nn.type)return[3,5];an=void 0,sn=nn.url,Rn.label=1;case 1:return Rn.trys.push([1,3,,4]),[4,rn.context.cache.match(sn)];case 2:return an=Rn.sent(),[3,4];case 3:return Rn.sent(),rn.context.logger.error("Error loading background-image "+sn),[3,4];case 4:return an&&(An=Zl(en,tn,[an.width,an.height,an.width/an.height]),xn=An[0],Pn=An[1],Fn=An[2],Sn=An[3],kn=An[4],wn=rn.ctx.createPattern(rn.resizeImage(an,Sn,kn),"repeat"),rn.renderRepeat(xn,wn,Pn,Fn)),[3,6];case 5:!function isLinearGradient(en){return 1===en.type}(nn)?function isRadialGradient(en){return 2===en.type}(nn)&&(Cn=Zl(en,tn,[null,null,null]),xn=Cn[0],Bn=Cn[1],_n=Cn[2],Sn=Cn[3],kn=Cn[4],En=0===nn.position.length?[$i]:nn.position,Pn=Vi(En[0],Sn),Fn=Vi(En[En.length-1],kn),Ln=function calculateRadius(en,tn,nn,rn,an){var sn=0,An=0;switch(en.size){case 0:0===en.shape?sn=An=Math.min(Math.abs(tn),Math.abs(tn-rn),Math.abs(nn),Math.abs(nn-an)):1===en.shape&&(sn=Math.min(Math.abs(tn),Math.abs(tn-rn)),An=Math.min(Math.abs(nn),Math.abs(nn-an)));break;case 2:if(0===en.shape)sn=An=Math.min(da(tn,nn),da(tn,nn-an),da(tn-rn,nn),da(tn-rn,nn-an));else if(1===en.shape){var cn=Math.min(Math.abs(nn),Math.abs(nn-an))/Math.min(Math.abs(tn),Math.abs(tn-rn)),un=pa(rn,an,tn,nn,!0),hn=un[0],dn=un[1];An=cn*(sn=da(hn-tn,(dn-nn)/cn))}break;case 1:0===en.shape?sn=An=Math.max(Math.abs(tn),Math.abs(tn-rn),Math.abs(nn),Math.abs(nn-an)):1===en.shape&&(sn=Math.max(Math.abs(tn),Math.abs(tn-rn)),An=Math.max(Math.abs(nn),Math.abs(nn-an)));break;case 3:if(0===en.shape)sn=An=Math.max(da(tn,nn),da(tn,nn-an),da(tn-rn,nn),da(tn-rn,nn-an));else if(1===en.shape){cn=Math.max(Math.abs(nn),Math.abs(nn-an))/Math.max(Math.abs(tn),Math.abs(tn-rn));var pn=pa(rn,an,tn,nn,!1);hn=pn[0],dn=pn[1],An=cn*(sn=da(hn-tn,(dn-nn)/cn))}}return Array.isArray(en.size)&&(sn=Vi(en.size[0],rn),An=2===en.size.length?Vi(en.size[1],an):sn),[sn,An]}(nn,Pn,Fn,Sn,kn),In=Ln[0],Un=Ln[1],In>0&&Un>0&&(Tn=rn.ctx.createRadialGradient(Bn+Pn,_n+Fn,0,Bn+Pn,_n+Fn,In),ua(nn.stops,2*In).forEach((function(en){return Tn.addColorStop(en.stop,ea(en.color))})),rn.path(xn),rn.ctx.fillStyle=Tn,In!==Un?(Qn=en.bounds.left+.5*en.bounds.width,Nn=en.bounds.top+.5*en.bounds.height,Mn=1/(On=Un/In),rn.ctx.save(),rn.ctx.translate(Qn,Nn),rn.ctx.transform(1,0,0,On,0,0),rn.ctx.translate(-Qn,-Nn),rn.ctx.fillRect(Bn,Mn*(_n-Nn)+Nn,Sn,kn*Mn),rn.ctx.restore()):rn.ctx.fill())):(cn=Zl(en,tn,[null,null,null]),xn=cn[0],Pn=cn[1],Fn=cn[2],Sn=cn[3],kn=cn[4],un=ha(nn.angle,Sn,kn),hn=un[0],dn=un[1],pn=un[2],gn=un[3],mn=un[4],(vn=document.createElement("canvas")).width=Sn,vn.height=kn,yn=vn.getContext("2d"),bn=yn.createLinearGradient(dn,gn,pn,mn),ua(nn.stops,hn).forEach((function(en){return bn.addColorStop(en.stop,ea(en.color))})),yn.fillStyle=bn,yn.fillRect(0,0,Sn,kn),Sn>0&&kn>0&&(wn=rn.ctx.createPattern(vn,"repeat"),rn.renderRepeat(xn,wn,Pn,Fn))),Rn.label=6;case 6:return tn--,[2]}}))},rn=this,an=0,sn=en.styles.backgroundImage.slice(0).reverse(),cn.label=1;case 1:return an<sn.length?(An=sn[an],[5,nn(An)]):[3,4];case 2:cn.sent(),cn.label=3;case 3:return an++,[3,1];case 4:return[2]}}))}))},CanvasRenderer.prototype.renderSolidBorder=function(en,tn,nn){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(rn){return this.path(zl(nn,tn)),this.ctx.fillStyle=ea(en),this.ctx.fill(),[2]}))}))},CanvasRenderer.prototype.renderDoubleBorder=function(en,tn,nn,rn){return __awaiter(this,void 0,void 0,(function(){var an,sn;return __generator(this,(function(An){switch(An.label){case 0:return tn<3?[4,this.renderSolidBorder(en,nn,rn)]:[3,2];case 1:return An.sent(),[2];case 2:return an=function parsePathForBorderDoubleOuter(en,tn){switch(tn){case 0:return Xl(en.topLeftBorderBox,en.topLeftBorderDoubleOuterBox,en.topRightBorderBox,en.topRightBorderDoubleOuterBox);case 1:return Xl(en.topRightBorderBox,en.topRightBorderDoubleOuterBox,en.bottomRightBorderBox,en.bottomRightBorderDoubleOuterBox);case 2:return Xl(en.bottomRightBorderBox,en.bottomRightBorderDoubleOuterBox,en.bottomLeftBorderBox,en.bottomLeftBorderDoubleOuterBox);default:return Xl(en.bottomLeftBorderBox,en.bottomLeftBorderDoubleOuterBox,en.topLeftBorderBox,en.topLeftBorderDoubleOuterBox)}}(rn,nn),this.path(an),this.ctx.fillStyle=ea(en),this.ctx.fill(),sn=function parsePathForBorderDoubleInner(en,tn){switch(tn){case 0:return Xl(en.topLeftBorderDoubleInnerBox,en.topLeftPaddingBox,en.topRightBorderDoubleInnerBox,en.topRightPaddingBox);case 1:return Xl(en.topRightBorderDoubleInnerBox,en.topRightPaddingBox,en.bottomRightBorderDoubleInnerBox,en.bottomRightPaddingBox);case 2:return Xl(en.bottomRightBorderDoubleInnerBox,en.bottomRightPaddingBox,en.bottomLeftBorderDoubleInnerBox,en.bottomLeftPaddingBox);default:return Xl(en.bottomLeftBorderDoubleInnerBox,en.bottomLeftPaddingBox,en.topLeftBorderDoubleInnerBox,en.topLeftPaddingBox)}}(rn,nn),this.path(sn),this.ctx.fill(),[2]}}))}))},CanvasRenderer.prototype.renderNodeBackgroundAndBorders=function(en){return __awaiter(this,void 0,void 0,(function(){var tn,nn,rn,an,sn,An,cn,un,hn=this;return __generator(this,(function(dn){switch(dn.label){case 0:return this.applyEffects(en.getEffects(2)),tn=en.container.styles,nn=!Zi(tn.backgroundColor)||tn.backgroundImage.length,rn=[{style:tn.borderTopStyle,color:tn.borderTopColor,width:tn.borderTopWidth},{style:tn.borderRightStyle,color:tn.borderRightColor,width:tn.borderRightWidth},{style:tn.borderBottomStyle,color:tn.borderBottomColor,width:tn.borderBottomWidth},{style:tn.borderLeftStyle,color:tn.borderLeftColor,width:tn.borderLeftWidth}],an=pc(ac(tn.backgroundClip,0),en.curves),nn||tn.boxShadow.length?(this.ctx.save(),this.path(an),this.ctx.clip(),Zi(tn.backgroundColor)||(this.ctx.fillStyle=ea(tn.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(en.container)]):[3,2];case 1:dn.sent(),this.ctx.restore(),tn.boxShadow.slice(0).reverse().forEach((function(tn){hn.ctx.save();var nn=Nl(en.curves),rn=tn.inset?0:1e4,an=function transformPath(en,tn,nn,rn,an){return en.map((function(en,sn){switch(sn){case 0:return en.add(tn,nn);case 1:return en.add(tn+rn,nn);case 2:return en.add(tn+rn,nn+an);case 3:return en.add(tn,nn+an)}return en}))}(nn,-rn+(tn.inset?1:-1)*tn.spread.number,(tn.inset?1:-1)*tn.spread.number,tn.spread.number*(tn.inset?-2:2),tn.spread.number*(tn.inset?-2:2));tn.inset?(hn.path(nn),hn.ctx.clip(),hn.mask(an)):(hn.mask(nn),hn.ctx.clip(),hn.path(an)),hn.ctx.shadowOffsetX=tn.offsetX.number+rn,hn.ctx.shadowOffsetY=tn.offsetY.number,hn.ctx.shadowColor=ea(tn.color),hn.ctx.shadowBlur=tn.blur.number,hn.ctx.fillStyle=tn.inset?ea(tn.color):"rgba(0,0,0,1)",hn.ctx.fill(),hn.ctx.restore()})),dn.label=2;case 2:sn=0,An=0,cn=rn,dn.label=3;case 3:return An<cn.length?0!==(un=cn[An]).style&&!Zi(un.color)&&un.width>0?2!==un.style?[3,5]:[4,this.renderDashedDottedBorder(un.color,un.width,sn,en.curves,2)]:[3,11]:[3,13];case 4:return dn.sent(),[3,11];case 5:return 3!==un.style?[3,7]:[4,this.renderDashedDottedBorder(un.color,un.width,sn,en.curves,3)];case 6:return dn.sent(),[3,11];case 7:return 4!==un.style?[3,9]:[4,this.renderDoubleBorder(un.color,un.width,sn,en.curves)];case 8:return dn.sent(),[3,11];case 9:return[4,this.renderSolidBorder(un.color,sn,en.curves)];case 10:dn.sent(),dn.label=11;case 11:sn++,dn.label=12;case 12:return An++,[3,3];case 13:return[2]}}))}))},CanvasRenderer.prototype.renderDashedDottedBorder=function(en,tn,nn,rn,an){return __awaiter(this,void 0,void 0,(function(){var sn,An,cn,un,hn,dn,pn,gn,mn,vn,yn,bn,wn,Cn,xn,Bn;return __generator(this,(function(_n){return this.ctx.save(),sn=function parsePathForBorderStroke(en,tn){switch(tn){case 0:return Wl(en.topLeftBorderStroke,en.topRightBorderStroke);case 1:return Wl(en.topRightBorderStroke,en.bottomRightBorderStroke);case 2:return Wl(en.bottomRightBorderStroke,en.bottomLeftBorderStroke);default:return Wl(en.bottomLeftBorderStroke,en.topLeftBorderStroke)}}(rn,nn),An=zl(rn,nn),2===an&&(this.path(An),this.ctx.clip()),Ul(An[0])?(cn=An[0].start.x,un=An[0].start.y):(cn=An[0].x,un=An[0].y),Ul(An[1])?(hn=An[1].end.x,dn=An[1].end.y):(hn=An[1].x,dn=An[1].y),pn=0===nn||2===nn?Math.abs(cn-hn):Math.abs(un-dn),this.ctx.beginPath(),3===an?this.formatPath(sn):this.formatPath(An.slice(0,2)),gn=tn<3?3*tn:2*tn,mn=tn<3?2*tn:tn,3===an&&(gn=tn,mn=tn),vn=!0,pn<=2*gn?vn=!1:pn<=2*gn+mn?(gn*=yn=pn/(2*gn+mn),mn*=yn):(bn=Math.floor((pn+mn)/(gn+mn)),wn=(pn-bn*gn)/(bn-1),mn=(Cn=(pn-(bn+1)*gn)/bn)<=0||Math.abs(mn-wn)<Math.abs(mn-Cn)?wn:Cn),vn&&(3===an?this.ctx.setLineDash([0,gn+mn]):this.ctx.setLineDash([gn,mn])),3===an?(this.ctx.lineCap="round",this.ctx.lineWidth=tn):this.ctx.lineWidth=2*tn+1.1,this.ctx.strokeStyle=ea(en),this.ctx.stroke(),this.ctx.setLineDash([]),2===an&&(Ul(An[0])&&(xn=An[3],Bn=An[0],this.ctx.beginPath(),this.formatPath([new Fl(xn.end.x,xn.end.y),new Fl(Bn.start.x,Bn.start.y)]),this.ctx.stroke()),Ul(An[1])&&(xn=An[1],Bn=An[2],this.ctx.beginPath(),this.formatPath([new Fl(xn.end.x,xn.end.y),new Fl(Bn.start.x,Bn.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},CanvasRenderer.prototype.render=function(en){return __awaiter(this,void 0,void 0,(function(){var tn;return __generator(this,(function(nn){switch(nn.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ea(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),tn=ql(en),[4,this.renderStack(tn)];case 1:return nn.sent(),this.applyEffects([]),[2,this.canvas]}}))}))},CanvasRenderer}(uc),dc=function isTextInputElement(en){return en instanceof fA||en instanceof gA||en instanceof pA&&en.type!==uA&&en.type!==cA},pc=function calculateBackgroundCurvedPaintingArea(en,tn){switch(en){case 0:return Nl(tn);case 2:return function calculateContentBoxPath(en){return[en.topLeftContentBox,en.topRightContentBox,en.bottomRightContentBox,en.bottomLeftContentBox]}(tn);default:return Ol(tn)}},gc=function canvasTextAlign(en){switch(en){case 1:return"center";case 2:return"right";default:return"left"}},fc=["-apple-system","system-ui"],mc=function fixIOSSystemFonts(en){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?en.filter((function(en){return-1===fc.indexOf(en)})):en},vc=function(en){function ForeignObjectRenderer(tn,nn){var rn=en.call(this,tn,nn)||this;return rn.canvas=nn.canvas?nn.canvas:document.createElement("canvas"),rn.ctx=rn.canvas.getContext("2d"),rn.options=nn,rn.canvas.width=Math.floor(nn.width*nn.scale),rn.canvas.height=Math.floor(nn.height*nn.scale),rn.canvas.style.width=nn.width+"px",rn.canvas.style.height=nn.height+"px",rn.ctx.scale(rn.options.scale,rn.options.scale),rn.ctx.translate(-nn.x,-nn.y),rn.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+nn.width+"x"+nn.height+" at "+nn.x+","+nn.y+") with scale "+nn.scale),rn}return __extends(ForeignObjectRenderer,en),ForeignObjectRenderer.prototype.render=function(en){return __awaiter(this,void 0,void 0,(function(){var tn,nn;return __generator(this,(function(rn){switch(rn.label){case 0:return tn=Os(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,en),[4,yc(tn)];case 1:return nn=rn.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ea(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(nn,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},ForeignObjectRenderer}(uc),yc=function loadSerializedSVG(en){return new Promise((function(tn,nn){var rn=new Image;rn.onload=function(){tn(rn)},rn.onerror=nn,rn.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(en))}))},bc=function(){function Logger(en){var tn=en.id,nn=en.enabled;this.id=tn,this.enabled=nn,this.start=Date.now()}return Logger.prototype.debug=function(){for(var en=[],tn=0;tn<arguments.length;tn++)en[tn]=arguments[tn];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,__spreadArray([this.id,this.getTime()+"ms"],en)):this.info.apply(this,en))},Logger.prototype.getTime=function(){return Date.now()-this.start},Logger.prototype.info=function(){for(var en=[],tn=0;tn<arguments.length;tn++)en[tn]=arguments[tn];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,__spreadArray([this.id,this.getTime()+"ms"],en))},Logger.prototype.warn=function(){for(var en=[],tn=0;tn<arguments.length;tn++)en[tn]=arguments[tn];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.warn?console.warn.apply(console,__spreadArray([this.id,this.getTime()+"ms"],en)):this.info.apply(this,en))},Logger.prototype.error=function(){for(var en=[],tn=0;tn<arguments.length;tn++)en[tn]=arguments[tn];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,__spreadArray([this.id,this.getTime()+"ms"],en)):this.info.apply(this,en))},Logger.instances={},Logger}(),wc=function(){function Context(en,tn){var nn;this.windowBounds=tn,this.instanceName="#"+Context.instanceCount++,this.logger=new bc({id:this.instanceName,enabled:en.logging}),this.cache=null!==(nn=en.cache)&&void 0!==nn?nn:new wl(this,en)}return Context.instanceCount=1,Context}();"undefined"!=typeof window&&bl.setContext(window);var Cc=function renderElement(en,an){return __awaiter(void 0,void 0,void 0,(function(){var sn,An,cn,un,hn,dn,pn,gn,mn,vn,yn,bn,wn,Cn,xn,Bn,_n,Sn,kn,En,Pn,Fn,Ln,In,Un,Tn,Qn,Nn,On,Mn,Rn,Hn,Dn,$n,Gn,jn,Vn,Kn;return __generator(this,(function(qn){switch(qn.label){case 0:if(!en||"object"!=_typeof$3(en))return[2,Promise.reject("Invalid element provided as first argument")];if(!(sn=en.ownerDocument))throw new Error("Element is not attached to a Document");if(!(An=sn.defaultView))throw new Error("Document is not attached to a Window");return cn={allowTaint:null!==(Fn=an.allowTaint)&&void 0!==Fn&&Fn,imageTimeout:null!==(Ln=an.imageTimeout)&&void 0!==Ln?Ln:15e3,proxy:an.proxy,useCORS:null!==(In=an.useCORS)&&void 0!==In&&In},un=tn({logging:null===(Un=an.logging)||void 0===Un||Un,cache:an.cache},cn),hn={windowWidth:null!==(Tn=an.windowWidth)&&void 0!==Tn?Tn:An.innerWidth,windowHeight:null!==(Qn=an.windowHeight)&&void 0!==Qn?Qn:An.innerHeight,scrollX:null!==(Nn=an.scrollX)&&void 0!==Nn?Nn:An.pageXOffset,scrollY:null!==(On=an.scrollY)&&void 0!==On?On:An.pageYOffset},dn=new nn(hn.scrollX,hn.scrollY,hn.windowWidth,hn.windowHeight),pn=new wc(un,dn),gn=null!==(Mn=an.foreignObjectRendering)&&void 0!==Mn&&Mn,mn={allowTaint:null!==(Rn=an.allowTaint)&&void 0!==Rn&&Rn,onclone:an.onclone,ignoreElements:an.ignoreElements,inlineImages:gn,copyStyles:gn},pn.logger.debug("Starting document clone with size "+dn.width+"x"+dn.height+" scrolled to "+-dn.left+","+-dn.top),vn=new il(pn,en,mn),(yn=vn.clonedReferenceElement)?[4,vn.toIFrame(sn,dn)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return bn=qn.sent(),wn=IA(yn)||function isHTMLElement(en){return"HTML"===en.tagName}(yn)?function parseDocumentSize(en){var tn=en.body,rn=en.documentElement;if(!tn||!rn)throw new Error("Unable to get document size");var an=Math.max(Math.max(tn.scrollWidth,rn.scrollWidth),Math.max(tn.offsetWidth,rn.offsetWidth),Math.max(tn.clientWidth,rn.clientWidth)),sn=Math.max(Math.max(tn.scrollHeight,rn.scrollHeight),Math.max(tn.offsetHeight,rn.offsetHeight),Math.max(tn.clientHeight,rn.clientHeight));return new nn(0,0,an,sn)}(yn.ownerDocument):rn(pn,yn),Cn=wn.width,xn=wn.height,Bn=wn.left,_n=wn.top,Sn=xc(pn,yn,an.backgroundColor),kn={canvas:an.canvas,backgroundColor:Sn,scale:null!==(Dn=null!==(Hn=an.scale)&&void 0!==Hn?Hn:An.devicePixelRatio)&&void 0!==Dn?Dn:1,x:(null!==($n=an.x)&&void 0!==$n?$n:0)+Bn,y:(null!==(Gn=an.y)&&void 0!==Gn?Gn:0)+_n,width:null!==(jn=an.width)&&void 0!==jn?jn:Math.ceil(Cn),height:null!==(Vn=an.height)&&void 0!==Vn?Vn:Math.ceil(xn)},gn?(pn.logger.debug("Document cloned, using foreign object rendering"),[4,new vc(pn,kn).render(yn)]):[3,3];case 2:return En=qn.sent(),[3,5];case 3:return pn.logger.debug("Document cloned, element located at "+Bn+","+_n+" with size "+Cn+"x"+xn+" using computed rendering"),pn.logger.debug("Starting DOM parsing"),Pn=wA(pn,yn),Sn===Pn.styles.backgroundColor&&(Pn.styles.backgroundColor=sa.TRANSPARENT),pn.logger.debug("Starting renderer for element at "+kn.x+","+kn.y+" with size "+kn.width+"x"+kn.height),[4,new hc(pn,kn).render(Pn)];case 4:En=qn.sent(),qn.label=5;case 5:return(null===(Kn=an.removeContainer)||void 0===Kn||Kn)&&(il.destroy(bn)||pn.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),pn.logger.debug("Finished rendering"),[2,En]}}))}))},xc=function parseBackgroundColor(en,tn,nn){var rn=tn.ownerDocument,an=rn.documentElement?oa(en,getComputedStyle(rn.documentElement).backgroundColor):sa.TRANSPARENT,sn=rn.body?oa(en,getComputedStyle(rn.body).backgroundColor):sa.TRANSPARENT,An="string"==typeof nn?oa(en,nn):null===nn?sa.TRANSPARENT:4294967295;return tn===rn.documentElement?Zi(an)?Zi(sn)?An:sn:an:An};return function html2canvas(en,tn){return void 0===tn&&(tn={}),Cc(en,tn)}}(),Sf=_mergeNamespaces({__proto__:null,default:_f},[Bf.exports]),kf=DA.InsertElementCommand,Ef=DA.RemoveElementCommand,Pf=DA.ChangeElementCommand,Ff=DA.BatchCommand,Lf=null,If=function svgCanvasToString(){for(;Lf.removeUnusedDefElems()>0;);Lf.pathActions.clear(!0),Lf.getSvgContent().childNodes.forEach((function(en,tn){tn&&8===en.nodeType&&en.data.includes("Created with")&&Lf.getSvgContent().firstChild.before(en)})),Lf.getCurrentGroup()&&(dc(),Lf.selectOnly([Lf.getCurrentGroup()]));var en=[],tn=Lf.getSvgContent().querySelectorAll("g[data-gsvg]");Array.prototype.forEach.call(tn,(function(tn){for(var nn=tn.attributes,rn=nn.length,an=0;an<rn;an++)"id"!==nn[an].nodeName&&"style"!==nn[an].nodeName||rn--;if(rn<=0){var sn=tn.firstChild;en.push(sn),tn.replaceWith(sn)}}));var nn=Lf.svgToString(Lf.getSvgContent(),0);return en.length&&Array.prototype.forEach.call(en,(function(en){Lf.groupSvgElem(en)})),nn},Uf=function svgToString(en,tn){var nn=Lf.getCurConfig(),rn=Lf.getNsMap(),an=[],sn=nn.baseUnit,An=new RegExp("^-?[\\d\\.]+"+sn+"$");if(en){_A(en);var cn=_toConsumableArray(en.attributes),un=en.childNodes;cn.sort((function(en,tn){return en.name>tn.name?-1:1}));for(var hn=0;hn<tn;hn++)an.push(" ");if(an.push("<"),an.push(en.nodeName),"svgcontent"===en.id){var dn=Lf.getResolution(),pn="";nn.dynamicOutput?(pn=en.getAttribute("viewBox"),an.push(' viewBox="'+pn+'" xmlns="'+Ts.SVG+'"')):("px"!==sn&&(dn.w=Ps(dn.w,sn)+sn,dn.h=Ps(dn.h,sn)+sn),an.push(' width="'+dn.w+'" height="'+dn.h+'" xmlns="'+Ts.SVG+'"'));var gn={},mn=en.querySelectorAll("*"),vn=Array.prototype.slice.call(mn);vn.push(en),Array.prototype.forEach.call(vn,(function(en){var tn=en.namespaceURI;if(tn&&!gn[tn]&&rn[tn]&&"xmlns"!==rn[tn]&&"xml"!==rn[tn]&&(gn[tn]=!0,an.push(" xmlns:"+rn[tn]+'="'+tn+'"')),en.attributes.length>0)for(var nn=0,sn=Object.entries(en.attributes);nn<sn.length;nn++){var An=_slicedToArray(sn[nn],2)[1].namespaceURI;An&&!gn[An]&&"xmlns"!==rn[An]&&"xml"!==rn[An]&&(gn[An]=!0,an.push(" xmlns:"+rn[An]+'="'+An+'"'))}}));for(var yn=cn.length,bn=["width","height","xmlns","x","y","viewBox","id","overflow"];yn--;){var wn=cn[yn],Cn=Xs(wn.value);wn.nodeName.startsWith("xmlns:")||""===Cn||bn.includes(wn.localName)||wn.namespaceURI&&!rn[wn.namespaceURI]||(an.push(" "),an.push(wn.nodeName),an.push('="'),an.push(Cn),an.push('"'))}}else{if("defs"===en.nodeName&&!en.firstChild)return"";for(var xn=["-moz-math-font-style","_moz-math-font-style"],Bn=cn.length-1;Bn>=0;Bn--){var _n=cn[Bn],Sn=Xs(_n.value);if(!xn.includes(_n.localName)){if("null"===Sn){var kn=_n.localName.replace(/-[a-z]/g,(function(en){return en[1].toUpperCase()}));if(Object.prototype.hasOwnProperty.call(en.style,kn))continue}if(""!==Sn){if(Sn.startsWith("pointer-events"))continue;if("class"===_n.localName&&Sn.startsWith("se_"))continue;if(an.push(" "),"d"===_n.localName&&(Sn=Lf.pathActions.convertPath(en,!0)),isNaN(Sn)?An.test(Sn)&&(Sn=ks(Sn)+sn):Sn=ks(Sn),Lf.getSvgOptionApply()&&"image"===en.nodeName&&"href"===_n.localName&&Lf.getSvgOptionImages()&&"embed"===Lf.getSvgOptionImages()){var En=Lf.getEncodableImages(Sn);En&&(Sn=En)}_n.namespaceURI&&_n.namespaceURI!==Ts.SVG&&!rn[_n.namespaceURI]||(an.push(_n.nodeName),an.push('="'),an.push(Sn),an.push('"'))}}}}if(en.hasChildNodes()){an.push(">"),tn++;for(var Pn=!1,Fn=0;Fn<un.length;Fn++){var Ln=un.item(Fn);switch(Ln.nodeType){case 1:an.push("\n"),an.push(Lf.svgToString(Ln,tn));break;case 3:var In=Ln.nodeValue.replace(/^\s+|\s+$/g,"");""!==In&&(Pn=!0,an.push(String(Xs(In))));break;case 4:an.push("\n"),an.push(new Array(tn+1).join(" ")),an.push("<![CDATA["),an.push(Ln.nodeValue),an.push("]]>");break;case 8:an.push("\n"),an.push(new Array(tn+1).join(" ")),an.push("\x3c!--"),an.push(Ln.data),an.push("--\x3e")}}if(tn--,!Pn){an.push("\n");for(var Un=0;Un<tn;Un++)an.push(" ")}an.push("</"),an.push(en.nodeName),an.push(">")}else an.push("/>")}return an.join("")},Tf=function setSvgString(en,tn){var nn=Lf.getCurConfig(),rn=Lf.getDataStorage();try{var an=nA(en);if(an.firstElementChild&&an.firstElementChild.namespaceURI!==Ts.SVG)return!1;Lf.prepareSvg(an);var sn=new Ff("Change Source"),An=Lf.getSvgContent().nextSibling;Lf.getSvgContent().remove();var cn=Lf.getSvgContent();sn.addSubCommand(new Ef(cn,An,Lf.getSvgRoot())),Lf.getDOMDocument().adoptNode?Lf.setSvgContent(Lf.getDOMDocument().adoptNode(an.documentElement)):Lf.setSvgContent(Lf.getDOMDocument().importNode(an.documentElement,!0)),Lf.getSvgRoot().append(Lf.getSvgContent());var un=Lf.getSvgContent();Lf.current_drawing_=new Wl(Lf.getSvgContent(),Lf.getIdPrefix());var hn=Lf.getCurrentDrawing().getNonce();hn?Lf.call("setnonce",hn):Lf.call("unsetnonce");var dn=un.querySelectorAll("image");Array.prototype.forEach.call(dn,(function(en){kA(en);var tn=Lf.getHref(en);if(tn){if(tn.startsWith("data:")){var nn=tn.match(/svgedit_url=(.*?);/);if(nn){var rn=decodeURIComponent(nn[1]),an=new Image;an.addEventListener("load",(function(){en.setAttributeNS(Ts.XLINK,"xlink:href",rn)})),an.src=rn}}Lf.embedImage(tn)}}));for(var pn=un.querySelectorAll("[id]"),gn={},mn=pn.length,vn=0;vn<mn;vn++){var yn=pn[vn].id?pn[vn].id:"undefined";isNaN(gn[yn])&&(gn[yn]=0),gn[yn]++}Object.entries(gn).forEach((function(en){var tn=_slicedToArray(en,2),nn=tn[0];if(tn[1]>1)for(var rn=un.querySelectorAll('[id="'+nn+'"]'),an=1;an<rn.length;an++)rn[an].setAttribute("id",Lf.getNextId())}));var bn=un.querySelectorAll("svg");if(Array.prototype.forEach.call(bn,(function(en){if(!getClosest(en.parentNode,"defs")){Lf.uniquifyElems(en);var tn=en.parentNode;1===tn.childNodes.length&&"g"===tn.nodeName?(rn.put(tn,"gsvg",en),tn.id=tn.id||Lf.getNextId()):Lf.groupSvgElem(en)}})),Ec()){var wn=sA(),Cn=un.querySelectorAll("linearGradient, radialGradient, pattern");Array.prototype.forEach.call(Cn,(function(en){wn.appendChild(en)}))}Lf.setUseData(un),Lf.convertGradients(un);var xn={id:"svgcontent",overflow:nn.show_outside_canvas?"visible":"hidden"},Bn=!1;if(un.getAttribute("viewBox")){var _n=un.getAttribute("viewBox").split(" ");xn.width=_n[2],xn.height=_n[3]}else["width","height"].forEach((function(en){var tn=un.getAttribute(en)||"100%";"%"===String(tn).substr(-1)?Bn=!0:xn[en]=Is(en,tn)}));Yl();var Sn=un.children;if(Array.prototype.forEach.call(Sn,(function(en){var tn=en.querySelectorAll(Lf.getVisElems());Array.prototype.forEach.call(tn,(function(en){en.id||(en.id=Lf.getNextId())}))})),Bn){var kn=vA();xn.width=kn.width+kn.x,xn.height=kn.height+kn.y}xn.width<=0&&(xn.width=100),xn.height<=0&&(xn.height=100);for(var En=0,Pn=Object.entries(xn);En<Pn.length;En++){var Fn=_slicedToArray(Pn[En],2),Ln=Fn[0],In=Fn[1];un.setAttribute(Ln,In)}Lf.contentW=xn.width,Lf.contentH=xn.height,sn.addSubCommand(new kf(Lf.getSvgContent()));var Un={width:un.getAttribute("width"),height:un.getAttribute("height")};sn.addSubCommand(new Pf(Lf.getSvgRoot(),Un)),Lf.setZoom(1),Lf.clearSelection(),Nl(),Lf.getSvgRoot().append(Lf.selectorManager.selectorParentGroup),tn||Lf.addCommandToHistory(sn),Lf.call("sourcechanged",[Lf.getSvgContent()])}catch(en){return console.error(en),!1}return!0},Qf=function importSvgString(en){var tn,nn,rn,an=Lf.getDataStorage();try{var sn,An=function hashCode(en){var tn=0;if(0===en.length)return tn;for(var nn=0;nn<en.length;nn++)tn=(tn<<5)-tn+en.charCodeAt(nn),tn|=0;return tn}(en),cn=!1;if(Lf.getImportIds(An)&&Lf.getImportIds(An).symbol)(null===(sn=getParents(Lf.getImportIds(An).symbol,"#svgroot"))||void 0===sn?void 0:sn.length)&&(cn=!0);var un,hn=new Ff("Import Image");if(cn)un=Lf.getImportIds(An).symbol,nn=Lf.getImportIds(An).xform;else{var dn=nA(en);Lf.prepareSvg(dn);var pn=Lf.getDOMDocument().adoptNode?Lf.getDOMDocument().adoptNode(dn.documentElement):Lf.getDOMDocument().importNode(dn.documentElement,!0);Lf.uniquifyElems(pn);var gn=Is("width",pn.getAttribute("width")),mn=Is("height",pn.getAttribute("height")),vn=pn.getAttribute("viewBox"),yn=vn?vn.split(" "):[0,0,gn,mn];for(tn=0;tn<4;++tn)yn[tn]=Number(yn[tn]);var bn=Number(Lf.getSvgContent().getAttribute("height"));nn="translate(0) "+(nn=mn>gn?"scale("+bn/3/yn[3]+")":"scale("+bn/3/yn[2]+")")+" translate(0)",un=Lf.getDOMDocument().createElementNS(Ts.SVG,"symbol");var wn=sA();if(Ec()){var Cn=pn.querySelectorAll("linearGradient, radialGradient, pattern");Array.prototype.forEach.call(Cn,(function(en){wn.appendChild(en)}))}for(;pn.firstChild;){var xn=pn.firstChild;un.append(xn)}var Bn,_n=_createForOfIteratorHelper(pn.attributes);try{for(_n.s();!(Bn=_n.n()).done;){var Sn=Bn.value;un.setAttribute(Sn.nodeName,Sn.value)}}catch(en){_n.e(en)}finally{_n.f()}un.id=Lf.getNextId(),Lf.setImportIds(An,{symbol:un,xform:nn}),sA().append(un),hn.addSubCommand(new kf(un))}(rn=Lf.getDOMDocument().createElementNS(Ts.SVG,"use")).id=Lf.getNextId(),Lf.setHref(rn,"#"+un.id),(Lf.getCurrentGroup()||Lf.getCurrentDrawing().getCurrentLayer()).append(rn),hn.addSubCommand(new kf(rn)),Lf.clearSelection(),rn.setAttribute("transform",nn),Zu(rn),an.put(rn,"symbol",un),an.put(rn,"ref",un),Lf.addToSelection([rn]),Lf.addCommandToHistory(hn),Lf.call("changed",[Lf.getSvgContent()])}catch(en){return console.error(en),null}return rn},Nf=function embedImage(en){return new Promise((function(tn,nn){var rn=new Image;rn.addEventListener("load",(function(nn){var rn=document.createElement("canvas");rn.width=nn.currentTarget.width,rn.height=nn.currentTarget.height,rn.getContext("2d").drawImage(nn.currentTarget,0,0);try{var an=";svgedit_url="+encodeURIComponent(en);an=rn.toDataURL().replace(";base64",an+";base64"),Lf.setEncodableImages(en,an)}catch(nn){Lf.setEncodableImages(en,!1)}Lf.setGoodImage(en),tn(Lf.getEncodableImages(en))})),rn.addEventListener("error",(function(en){nn(new Error("error loading image: ".concat(en.currentTarget.attributes.src.value)))})),rn.setAttribute("src",en)}))},Mf=function getIssues(){var en=Lf.getUIStrings();Lf.clearSelection();var tn=[],nn=[],rn={feGaussianBlur:en.NoBlur,foreignObject:en.NoforeignObject,"[stroke-dasharray]":en.NoDashArray},an=Lf.getSvgContent();"font"in document.querySelector("CANVAS").getContext("2d")||(rn.text=en.NoText);for(var sn=0,An=Object.entries(rn);sn<An.length;sn++){var cn=_slicedToArray(An[sn],2),un=cn[0],hn=cn[1];an.querySelectorAll(un).length&&(nn.push(un),tn.push(hn))}return{issues:tn,issueCodes:nn}},Rf=function(){var en=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee(en,tn,nn){var rn,an,sn,An,cn,un,hn,dn,pn=arguments;return _regeneratorRuntime().wrap((function _callee$(gn){for(;;)switch(gn.prev=gn.next){case 0:rn=pn.length>3&&void 0!==pn[3]?pn[3]:{},sn="image/"+(an="ICO"===en?"BMP":en||"PNG").toLowerCase(),An=Mf(),cn=An.issues,un=An.issueCodes,hn=Lf.svgCanvasToString(),(dn=document.createElement("iframe")).onload=function(){var An=dn.contentDocument||dn.contentWindow.document,pn=Lf.getSvgContent().cloneNode(!0);An.body.appendChild(pn),setTimeout((function(){_f(An.body,{useCORS:!0,allowTaint:!0}).then((function(An){return new Promise((function(pn){var gn,mn=an.toLowerCase(),vn=tn?An.toDataURL("image/"+mn,tn):An.toDataURL("image/"+mn);dn.parentNode.removeChild(dn);var yn=function done(){var an={datauri:vn,bloburl:gn,svg:hn,issues:cn,issueCodes:un,type:en,mimeType:sn,quality:tn,WindowName:nn};rn.avoidEvent||Lf.call("ed",an),pn(an)};An.toBlob?An.toBlob((function(en){gn=Js(en),yn()}),sn,tn):(gn=function(en){if("undefined"==typeof Uint8Array||"undefined"==typeof Blob||"undefined"==typeof URL||!URL.createObjectURL)return"";for(var tn=en.split(","),nn=tn[0].match(/:(.*?);/)[1],rn=atob(tn[1]),an=rn.length,sn=new Uint8Array(an);an--;)sn[an]=rn.charCodeAt(an);var An=new Blob([sn],{type:nn});return URL.createObjectURL(An)}(vn),yn())}))}))}),1e3)},document.body.appendChild(dn);case 3:case"end":return gn.stop()}}),_callee)})));return function rasterExport(tn,nn,rn){return en.apply(this,arguments)}}(),Hf=function(){var en=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee2(en){var tn,nn,rn,an,sn=arguments;return _regeneratorRuntime().wrap((function _callee2$(An){for(;;)switch(An.prev=An.next){case 0:tn=sn.length>1&&void 0!==sn[1]?sn[1]:Bc?"save":void 0,nn=Lf.getResolution(),rn=nn.w>nn.h?"landscape":"portrait",(an=document.createElement("iframe")).onload=function(){var sn=an.contentDocument||an.contentWindow.document,An=Lf.getSvgContent().cloneNode(!0);sn.body.appendChild(An),setTimeout((function(){_f(sn.body,{useCORS:!0,allowTaint:!0}).then((function(sn){var An=sn.toDataURL("image/png"),cn=new E({orientation:rn,unit:"pt",format:[nn.w,nn.h]}),un=Lf.getDocumentTitle();cn.setProperties({title:un}),cn.addImage(An,"PNG",0,0,nn.w,nn.h),an.parentNode.removeChild(an);var hn=Mf(),dn={issues:hn.issues,issueCodes:hn.issueCodes,WindowName:en,outputType:tn=tn||"dataurlstring"};return dn.output=cn.output(tn,"save"===tn?en||"svg.pdf":void 0),Lf.call("edPDF",dn),dn}))}),1e3)},document.body.appendChild(an);case 3:case"end":return An.stop()}}),_callee2)})));return function exportPDF(tn){return en.apply(this,arguments)}}(),Df=function uniquifyElemsMethod(en){var tn={},nn=["filter","linearGradient","pattern","radialGradient","symbol","textPath","use"];for(var rn in rA(en,(function(en){if(1===en.nodeType){en.id&&(en.id in tn||(tn[en.id]={elem:null,attrs:[],hrefs:[]}),tn[en.id].elem=en),Lf.getrefAttrs().forEach((function(nn){var rn=en.getAttributeNode(nn);if(rn){var an=Lf.getUrlFromAttr(rn.value),sn=an?an.substr(1):null;sn&&(sn in tn||(tn[sn]={elem:null,attrs:[],hrefs:[]}),tn[sn].attrs.push(rn))}}));var rn=Lf.getHref(en);if(rn&&nn.includes(en.nodeName)){var an=rn.substr(1);an&&(an in tn||(tn[an]={elem:null,attrs:[],hrefs:[]}),tn[an].hrefs.push(en))}}})),tn)if(rn){var an=tn[rn].elem;if(an){var sn=Lf.getNextId();an.id=sn;for(var An=tn[rn].attrs,cn=An.length;cn--;){var un=An[cn];un.ownerElement.setAttribute(un.name,"url(#"+sn+")")}for(var hn=tn[rn].hrefs,dn=hn.length;dn--;){var pn=hn[dn];Lf.setHref(pn,"#"+sn)}}}},$f=function setUseDataMethod(en){var tn=en;"use"!==en.tagName&&(tn=tn.querySelectorAll("use")),Array.prototype.forEach.call(tn,(function(en,tn){var nn=Lf.getDataStorage(),rn=Lf.getHref(en).substr(1),an=Lf.getElement(rn);an&&(nn.put(en,"ref",an),"symbol"!==an.tagName&&"svg"!==an.tagName||(nn.put(en,"symbol",an),nn.put(en,"ref",an)))}))},Gf=function removeUnusedDefElemsMethod(){var en=Lf.getSvgContent().getElementsByTagNameNS(Ts.SVG,"defs");if(!en||!en.length)return 0;var tn,nn,rn=[],an=0,sn=["fill","stroke","filter","marker-start","marker-mid","marker-end"],An=sn.length,cn=Lf.getSvgContent().getElementsByTagNameNS(Ts.SVG,"*"),un=cn.length;for(tn=0;tn<un;tn++){var hn=cn[tn];for(nn=0;nn<An;nn++){var dn=Lf.getUrlFromAttr(hn.getAttribute(sn[nn]));dn&&rn.push(dn.substr(1))}var pn=aA(hn);pn&&pn.startsWith("#")&&rn.push(pn.substr(1))}return Array.prototype.forEach.call(en,(function(en,tn){var nn=en.querySelectorAll("linearGradient, radialGradient, filter, marker, svg, symbol");for(tn=nn.length;tn--;){var sn=nn[tn],An=sn.id;rn.includes(An)||(Lf.setRemovedElements(An,sn),sn.remove(),an++)}})),an},jf=function convertGradientsMethod(en){var tn=en.querySelectorAll("linearGradient, radialGradient");!tn.length&&kc()&&(tn=Array.prototype.filter.call(en.querySelectorAll("*"),(function(en){return en.tagName.includes("Gradient")}))),Array.prototype.forEach.call(tn,(function(en){if("userSpaceOnUse"===en.getAttribute("gradientUnits")){var tn=Lf.getSvgContent(),nn=tn.querySelectorAll('[fill="url(#'+en.id+')"],[stroke="url(#'+en.id+')"]');if(!nn.length){var rn=tn.querySelectorAll('[*|href="#'+en.id+'"]');if(!rn.length)return;if("linearGradient"!==rn[0].tagName&&"radialGradient"!==rn[0].tagName||"userSpaceOnUse"!==rn[0].getAttribute("gradientUnits"))return;nn=tn.querySelectorAll('[fill="url(#'+rn[0].id+')"],[stroke="url(#'+rn[0].id+')"]')}var an=lA(nn[0]);if(!an)return;if("linearGradient"===en.tagName){var sn={x1:en.getAttribute("x1"),y1:en.getAttribute("y1"),x2:en.getAttribute("x2"),y2:en.getAttribute("y2")},An=en.gradientTransform.baseVal;if((null==An?void 0:An.numberOfItems)>0){var cn=$s(An).matrix,un=Os(sn.x1,sn.y1,cn),hn=Os(sn.x2,sn.y2,cn);sn.x1=un.x,sn.y1=un.y,sn.x2=hn.x,sn.y2=hn.y,en.removeAttribute("gradientTransform")}en.setAttribute("x1",(sn.x1-an.x)/an.width),en.setAttribute("y1",(sn.y1-an.y)/an.height),en.setAttribute("x2",(sn.x2-an.x)/an.width),en.setAttribute("y2",(sn.y2-an.y)/an.height),en.removeAttribute("gradientUnits")}}}))},Vf=window.ontouchstart?10:4,Kf=function(){function Selector(en,tn,nn){_classCallCheck$1(this,Selector),this.id=en,this.selectedElement=tn,this.locked=!0,this.selectorGroup=Cf.createSVGElement({element:"g",attr:{id:"selectorGroup"+this.id}}),this.selectorRect=Cf.createSVGElement({element:"path",attr:{id:"selectedBox"+this.id,fill:"none",stroke:"#22C","stroke-width":"1","stroke-dasharray":"5,5",style:"pointer-events:none"}}),this.selectorGroup.append(this.selectorRect),this.gripCoords={nw:null,n:null,ne:null,e:null,se:null,s:null,sw:null,w:null},this.reset(this.selectedElement,nn)}return _createClass$1(Selector,[{key:"reset",value:function reset(en,tn){this.locked=!0,this.selectedElement=en,this.resize(tn),this.selectorGroup.setAttribute("display","inline")}},{key:"showGrips",value:function showGrips(en){var tn=en?"inline":"none";xf.selectorGripsGroup.setAttribute("display",tn);var nn=this.selectedElement;this.hasGrips=en,nn&&en&&(this.selectorGroup.append(xf.selectorGripsGroup),Selector.updateGripCursors(bA(nn)))}},{key:"resize",value:function resize(en){var tn=Cf.getDataStorage(),nn=this.selectorRect,rn=xf,an=rn.selectorGrips,sn=this.selectedElement,An=Cf.getZoom(),cn=1/An,un=sn.getAttribute("stroke-width");"none"===sn.getAttribute("stroke")||isNaN(un)||(cn+=un/2);var hn=sn.tagName;"text"===hn&&(cn+=2/An);var dn=sn.transform.baseVal,pn=$s(dn).matrix;if(pn.e*=An,pn.f*=An,en||(en=lA(sn)),"g"===hn&&!tn.has(sn,"gsvg")){var gn=fA([sn.childNodes]);gn&&(en=gn)}var mn=en.x,vn=en.y,yn=en.width,bn=en.height;cn*=An;var wn=Ds(mn*An,vn*An,yn*An,bn*An,pn),Cn=wn.aabox,xn=Cn.x-cn,Bn=Cn.y-cn,_n=Cn.width+2*cn,Sn=Cn.height+2*cn,kn=xn+_n/2,En=Bn+Sn/2,Pn=bA(sn);if(Pn){var Fn=Cf.getSvgRoot().createSVGTransform();Fn.setRotate(-Pn,kn,En);var Ln=Fn.matrix;wn.tl=Os(wn.tl.x,wn.tl.y,Ln),wn.tr=Os(wn.tr.x,wn.tr.y,Ln),wn.bl=Os(wn.bl.x,wn.bl.y,Ln),wn.br=Os(wn.br.x,wn.br.y,Ln);var In=wn.tl,Un=In.x,Tn=In.y,Qn=In.x,Nn=In.y,On=Math.min,Mn=Math.max;xn=Un=On(Un,On(wn.tr.x,On(wn.bl.x,wn.br.x)))-cn,Bn=Tn=On(Tn,On(wn.tr.y,On(wn.bl.y,wn.br.y)))-cn,_n=(Qn=Mn(Qn,Mn(wn.tr.x,Mn(wn.bl.x,wn.br.x)))+cn)-Un,Sn=(Nn=Mn(Nn,Mn(wn.tr.y,Mn(wn.bl.y,wn.br.y)))+cn)-Tn}var Rn="M"+xn+","+Bn+" L"+(xn+_n)+","+Bn+" "+(xn+_n)+","+(Bn+Sn)+" "+xn+","+(Bn+Sn)+"z",Hn=Pn?"rotate("+[Pn,kn,En].join(",")+")":"";this.gripCoords={nw:[xn,Bn],ne:[xn+_n,Bn],sw:[xn,Bn+Sn],se:[xn+_n,Bn+Sn],n:[xn+_n/2,Bn],w:[xn,Bn+Sn/2],e:[xn+_n,Bn+Sn/2],s:[xn+_n/2,Bn+Sn]},nn.setAttribute("d",Rn),this.selectorGroup.setAttribute("transform",Hn),Object.entries(this.gripCoords).forEach((function(en){var tn=_slicedToArray(en,2),nn=tn[0],rn=tn[1];an[nn].setAttribute("cx",rn[0]),an[nn].setAttribute("cy",rn[1])})),rn.rotateGripConnector.setAttribute("x1",xn+_n/2),rn.rotateGripConnector.setAttribute("y1",Bn),rn.rotateGripConnector.setAttribute("x2",xn+_n/2),rn.rotateGripConnector.setAttribute("y2",Bn-5*Vf),rn.rotateGrip.setAttribute("cx",xn+_n/2),rn.rotateGrip.setAttribute("cy",Bn-5*Vf)}}],[{key:"updateGripCursors",value:function updateGripCursors(en){var tn=Object.keys(xf.selectorGrips),nn=Math.round(en/45);for(nn<0&&(nn+=8);nn>0;)tn.push(tn.shift()),nn--;Object.values(xf.selectorGrips).forEach((function(en,nn){en.setAttribute("style","cursor:"+tn[nn]+"-resize")}))}}]),Selector}(),qf=function(){function SelectorManager(){_classCallCheck$1(this,SelectorManager),this.selectorParentGroup=null,this.rubberBandBox=null,this.selectors=[],this.selectorMap={},this.selectorGrips={nw:null,n:null,ne:null,e:null,se:null,s:null,sw:null,w:null},this.selectorGripsGroup=null,this.rotateGripConnector=null,this.rotateGrip=null,this.initGroup()}return _createClass$1(SelectorManager,[{key:"initGroup",value:function initGroup(){var en,tn=this,nn=Cf.getDataStorage();if(null!==(en=this.selectorParentGroup)&&void 0!==en&&en.parentNode&&this.selectorParentGroup.remove(),this.selectorParentGroup=Cf.createSVGElement({element:"g",attr:{id:"selectorParentGroup"}}),this.selectorGripsGroup=Cf.createSVGElement({element:"g",attr:{display:"none"}}),this.selectorParentGroup.append(this.selectorGripsGroup),Cf.getSvgRoot().append(this.selectorParentGroup),this.selectorMap={},this.selectors=[],this.rubberBandBox=null,Object.keys(this.selectorGrips).forEach((function(en){var rn=Cf.createSVGElement({element:"circle",attr:{id:"selectorGrip_resize_"+en,fill:"#22C",r:Vf,style:"cursor:"+en+"-resize","stroke-width":2,"pointer-events":"all"}});nn.put(rn,"dir",en),nn.put(rn,"type","resize"),tn.selectorGrips[en]=rn,tn.selectorGripsGroup.append(rn)})),this.rotateGripConnector=Cf.createSVGElement({element:"line",attr:{id:"selectorGrip_rotateconnector",stroke:"#22C","stroke-width":"1"}}),this.selectorGripsGroup.append(this.rotateGripConnector),this.rotateGrip=Cf.createSVGElement({element:"circle",attr:{id:"selectorGrip_rotate",fill:"lime",r:Vf,stroke:"#22C","stroke-width":2,style:"cursor:url(".concat(Cf.curConfig.imgPath,"/rotate.svg) 12 12, auto;")}}),this.selectorGripsGroup.append(this.rotateGrip),nn.put(this.rotateGrip,"type","rotate"),!document.getElementById("canvasBackground")){var rn=_slicedToArray(Cf.curConfig.dimensions,2),an=rn[0],sn=rn[1],An=Cf.createSVGElement({element:"svg",attr:{id:"canvasBackground",width:an,height:sn,x:0,y:0,overflow:kc()?"none":"visible",style:"pointer-events:none"}}),cn=Cf.createSVGElement({element:"rect",attr:{width:"100%",height:"100%",x:0,y:0,"stroke-width":1,stroke:"#000",fill:"#FFF",style:"pointer-events:none"}});An.append(cn),Cf.getSvgRoot().insertBefore(An,Cf.getSvgContent())}}},{key:"requestSelector",value:function requestSelector(en,tn){if(!en)return null;var nn=this.selectors.length;if("object"==_typeof$3(this.selectorMap[en.id]))return this.selectorMap[en.id].locked=!0,this.selectorMap[en.id];for(var rn=0;rn<nn;++rn){var an;if(null===(an=this.selectors[rn])||void 0===an||!an.locked)return this.selectors[rn].locked=!0,this.selectors[rn].reset(en,tn),this.selectorMap[en.id]=this.selectors[rn],this.selectors[rn]}return this.selectors[nn]=new Kf(nn,en,tn),this.selectorParentGroup.append(this.selectors[nn].selectorGroup),this.selectorMap[en.id]=this.selectors[nn],this.selectors[nn]}},{key:"releaseSelector",value:function releaseSelector(en){if(en){var tn=this.selectors.length,nn=this.selectorMap[en.id];(null==nn?void 0:nn.locked)||console.warn("WARNING! selector was released but was already unlocked");for(var rn=0;rn<tn;++rn)if(this.selectors[rn]&&this.selectors[rn]===nn){delete this.selectorMap[en.id],nn.locked=!1,nn.selectedElement=null,nn.showGrips(!1);try{nn.selectorGroup.setAttribute("display","none")}catch(en){}break}}}},{key:"getRubberBandBox",value:function getRubberBandBox(){return this.rubberBandBox||(this.rubberBandBox=Cf.createSVGElement({element:"rect",attr:{id:"selectorRubberBand",fill:"#22C","fill-opacity":.15,stroke:"#22C","stroke-width":.5,display:"none",style:"pointer-events:none"}}),this.selectorParentGroup.append(this.rubberBandBox)),this.rubberBandBox}}]),SelectorManager}(),zf=null,Wf=function clearSvgContentElementInit(){for(var en=zf.getCurConfig(),tn=en.dimensions,nn=zf.getSvgContent();nn.firstChild;)nn.removeChild(nn.firstChild);var rn=zf.getSvgRoot();nn.setAttribute("id","svgcontent"),nn.setAttribute("width",tn[0]),nn.setAttribute("height",tn[1]),nn.setAttribute("x",tn[0]),nn.setAttribute("y",tn[1]),nn.setAttribute("overflow",en.show_outside_canvas?"visible":"hidden"),nn.setAttribute("xmlns",Ts.SVG),nn.setAttribute("xmlns:se",Ts.SE),nn.setAttribute("xmlns:xlink",Ts.XLINK),rn.appendChild(nn);var an=zf.getDOMDocument().createComment(" Created with SVG-edit - https://github.com/SVG-Edit/svgedit");zf.getSvgContent().append(an)},Xf={_storage:new WeakMap,put:function put(en,tn,nn){this._storage.has(en)||this._storage.set(en,new Map),this._storage.get(en).set(tn,nn)},get:function get(en,tn){var nn;return null===(nn=this._storage.get(en))||void 0===nn?void 0:nn.get(tn)},has:function has(en,tn){return this._storage.has(en)&&this._storage.get(en).has(tn)},remove:function remove(en,tn){var nn=this._storage.get(en).delete(tn);return 0===this._storage.get(en).size&&this._storage.delete(en),nn}},Yf=["clip-path","fill","filter","marker-end","marker-mid","marker-start","mask","stroke"],Jf="svgedit_clipboard",Zf=function(){function SvgCanvas(en,tn){var nn,rn,an,sn=this;_classCallCheck$1(this,SvgCanvas),this.initializeSvgCanvasMethods(),function(en){ms=en;var tn=document.createElementNS(ys,"svg");document.body.append(tn);var nn=document.createElementNS(ys,"rect");nn.setAttribute("width","1em"),nn.setAttribute("height","1ex"),nn.setAttribute("x","1in"),tn.append(nn);var rn=nn.getBBox();tn.remove();var an=rn.x;Bs={em:rn.width,ex:rn.height,in:an,cm:an/2.54,mm:an/25.4,pt:an/72,pc:an/6,px:1,"%":0}}(this);var An=Dl.pathActions;this.saveOptions={round_digits:2},this.importIds={},this.extensions={},this.removedElements={},this.started=!1,this.startTransform=null,this.currentMode="select",this.currentResizeMode="none",this.justSelected=null,this.rubberBox=null,this.curBBoxes=[],this.lastClickPoint=null,this.events={},this.rootSctm=null,this.drawnPath=null,this.freehand={minx:null,miny:null,maxx:null,maxy:null},this.dAttr=null,this.startX=null,this.startY=null,this.rStartX=null,this.rStartY=null,this.initBbox={},this.sumDistance=0,this.controllPoint2={x:0,y:0},this.controllPoint1={x:0,y:0},this.start={x:0,y:0},this.end={x:0,y:0},this.bSpline={x:0,y:0},this.nextPos={x:0,y:0},this.idprefix="svg_",this.encodableImages={},this.curConfig={show_outside_canvas:!0,selectNew:!0,dimensions:[640,480]},tn&&(this.curConfig=SvgCanvas.mergeDeep(this.curConfig,tn)),this.lastGoodImgUrl="".concat(this.curConfig.imgPath,"/logo.svg");var cn=this.curConfig.dimensions;this.svgdoc=window.document,this.container=en,this.svgroot=function(en,tn){return en.importNode(nA('<svg id="svgroot" xmlns="'.concat(Ts.SVG,'" xlinkns="').concat(Ts.XLINK,'" width="').concat(tn[0],'" \n        height="').concat(tn[1],'" x="').concat(tn[0],'" y="').concat(tn[1],'" overflow="visible">\n        <defs>\n          <filter id="canvashadow" filterUnits="objectBoundingBox">\n            <feGaussianBlur in="SourceAlpha" stdDeviation="4" result="blur"/>\n            <feOffset in="blur" dx="5" dy="5" result="offsetBlur"/>\n            <feMerge>\n              <feMergeNode in="offsetBlur"/>\n              <feMergeNode in="SourceGraphic"/>\n            </feMerge>\n          </filter>\n        </defs>\n      </svg>')).documentElement,!0)}(this.svgdoc,cn),en.append(this.svgroot),this.svgContent=this.svgdoc.createElementNS(Ts.SVG,"svg"),function(en){en.svgroot.addEventListener("touchstart",yc),en.svgroot.addEventListener("touchmove",yc),en.svgroot.addEventListener("touchend",yc),en.svgroot.addEventListener("touchcancel",yc)}(this),zf=this,this.clearSvgContentElement(),this.current_drawing_=new Wl(this.svgContent,this.idprefix),this.zoom=1,this.currentGroup=null;var un={shape:{fill:("none"===this.curConfig.initFill.color?"":"#")+this.curConfig.initFill.color,fill_paint:null,fill_opacity:this.curConfig.initFill.opacity,stroke:"#"+this.curConfig.initStroke.color,stroke_paint:null,stroke_opacity:this.curConfig.initStroke.opacity,stroke_width:this.curConfig.initStroke.width,stroke_dasharray:"none",stroke_linejoin:"miter",stroke_linecap:"butt",opacity:this.curConfig.initOpacity}};un.text=SvgCanvas.mergeDeep({},un.shape),un.text=SvgCanvas.mergeDeep(un.text,{fill:"#000000",stroke_width:null===(nn=this.curConfig.text)||void 0===nn?void 0:nn.stroke_width,font_size:null===(rn=this.curConfig.text)||void 0===rn?void 0:rn.font_size,font_family:null===(an=this.curConfig.text)||void 0===an?void 0:an.font_family}),this.curText=un.text,this.curShape=un.shape,this.curProperties=this.curShape,this.selectedElements=[],function(en){ru=en,iu=en.getDOMDocument()}(this),function(en){zs=en,Ws=en.getSvgRoot()}(this),function(en){Xu=en}(this),function(en){_c=en}(this),function(en){Cf=en,xf=new qf}(this),function(en){Lc=en,en.undoMgr=function getUndoManager(){return new Pc({handleHistoryEvent:function handleHistoryEvent(en,tn){var nn=Fc;if(en===nn.BEFORE_UNAPPLY||en===nn.BEFORE_APPLY)Lc.clearSelection();else if(en===nn.AFTER_APPLY||en===nn.AFTER_UNAPPLY){var rn,an=tn.elements();Lc.pathActions.clear(),Lc.call("changed",an);var sn=tn.type(),An=en===nn.AFTER_APPLY;if("MoveElementCommand"===sn)(An?tn.newParent:tn.oldParent)===Lc.getSvgContent()&&Yl();else if("InsertElementCommand"===sn||"RemoveElementCommand"===sn)tn.parent===Lc.getSvgContent()&&Yl(),"InsertElementCommand"===sn?An&&Lc.restoreRefElements(tn.elem):An||Lc.restoreRefElements(tn.elem),"use"===(null===(rn=tn.elem)||void 0===rn?void 0:rn.tagName)&&Lc.setUseData(tn.elem);else if("ChangeElementCommand"===sn){"title"===tn.elem.tagName&&tn.elem.parentNode.parentNode===Lc.getSvgContent()&&Yl();var cn=An?tn.newValues:tn.oldValues;if(cn.stdDeviation&&Lc.setBlurOffsets(tn.elem.parentNode,cn.stdDeviation),"text"===tn.elem.tagName)for(var un=tn.newValues.x-tn.oldValues.x,hn=tn.newValues.y-tn.oldValues.y,dn=tn.elem.children,pn=0;pn<dn.length;pn++){var gn=Number(dn[pn].getAttribute("x")),mn=Number(dn[pn].getAttribute("y")),vn=en===nn.AFTER_UNAPPLY;gn=vn?gn-un:gn+un,mn=vn?mn-hn:mn+hn,dn[pn].setAttribute("x",gn),dn[pn].setAttribute("y",mn)}}}}})}()}(this),function(en){(Nc=en).getMouseTarget=Rc,Nc.clearSelection=Oc,Nc.addToSelection=Mc,Nc.getIntersectionList=Dc,Nc.runExtensions=Hc,Nc.groupSvgElem=$c,Nc.prepareSvg=Gc,Nc.recalculateAllSelectedDimensions=Vc,Nc.setRotationAngle=jc}(this),this.nsMap=Qs(),this.selectorManager=xf,this.pathActions=An,bl(this),this.uiStrings={},this.opacAni=document.createElementNS(Ts.SVG,"animate"),this.opacAni.setAttribute("attributeName","opacity"),this.opacAni.setAttribute("begin","indefinite"),this.opacAni.setAttribute("dur",1),this.opacAni.setAttribute("fill","freeze"),this.svgroot.appendChild(this.opacAni),function(en){(Wc=en).mouseDownEvent=tu,Wc.mouseMoveEvent=Yc,Wc.dblClickEvent=eu,Wc.mouseUpEvent=Zc,Wc.mouseOutEvent=Jc,Wc.DOMMouseScrollEvent=nu}(this),function(en){Kc=en}(this),function(en){(Lf=en).setSvgString=Tf,Lf.importSvgString=Qf,Lf.uniquifyElems=Df,Lf.setUseData=$f,Lf.convertGradients=jf,Lf.removeUnusedDefElems=Gf,Lf.svgCanvasToString=If,Lf.svgToString=Uf,Lf.embedImage=Nf,Lf.rasterExport=Rf,Lf.exportPDF=Hf}(this),function(en){zl=en}(this),function(en){(su=en).getBold=Cu,su.setBold=xu,su.getItalic=ku,su.setItalic=Eu,su.hasTextDecoration=Bu,su.addTextDecoration=_u,su.removeTextDecoration=Su,su.setTextAnchor=Pu,su.setLetterSpacing=Fu,su.setWordSpacing=Lu,su.setTextLength=Iu,su.setLengthAdjust=Uu,su.getFontFamily=Tu,su.setFontFamily=Qu,su.setFontColor=Nu,su.getFontColor=Ou,su.getFontSize=Mu,su.setFontSize=Ru,su.getText=Hu,su.setTextContent=Du,su.setImageURL=$u,su.setLinkURL=Gu,su.setRectRadius=ju,su.makeHyperlink=Vu,su.removeHyperlink=Ku,su.setSegType=qu,su.setStrokeWidth=bu,su.getResolution=Au,su.getTitle=lu,su.setGroupTitle=cu,su.setStrokeAttr=wu,su.setBackground=zu,su.setDocumentTitle=uu,su.getEditorNS=du,su.setResolution=hu,su.setBBoxZoom=pu,su.setCurrentZoom=gu,su.setColor=fu,su.setGradient=mu,su.setPaint=yu}(this),en.addEventListener("mousedown",this.mouseDownEvent),en.addEventListener("mousemove",this.mouseMoveEvent),UA(en,(function(en){return en.preventDefault(),!1})),en.addEventListener("dblclick",this.dblClickEvent),en.addEventListener("mouseup",this.mouseUpEvent),en.addEventListener("mouseleave",this.mouseOutEvent),en.addEventListener("mousewheel",this.DOMMouseScrollEvent),en.addEventListener("DOMMouseScroll",this.DOMMouseScrollEvent),this.linkControlPoints=An.linkControlPoints,this.curCommand=null,this.filter=null,this.filterHidden=!1,function(en){xh=en}(this),function(en){(ah=en).copySelectedElements=fh,ah.groupSelectedElements=mh,ah.pushGroupProperties=vh,ah.ungroupSelectedElement=bh,ah.moveToTopSelectedElement=oh,ah.moveToBottomSelectedElement=sh,ah.moveUpDownSelected=Ah,ah.moveSelectedElements=lh,ah.cloneSelectedElements=ch,ah.alignSelectedElements=uh,ah.updateCanvas=wh,ah.cycleElement=Ch,ah.deleteSelectedElements=gh}(this),window.addEventListener("storage",(function(en){en.newValue&&(en.key===Jf+"_startup"?(localStorage.removeItem(Jf+"_startup"),sn.flashStorage()):en.key===Jf&&sessionStorage.setItem(Jf,en.newValue))}),!1),localStorage.setItem(Jf+"_startup",Math.random()),function(en){mc=en}(this),this.contentW=this.getResolution().w,this.contentH=this.getResolution().h,this.clear()}var en;return _createClass$1(SvgCanvas,[{key:"getSvgOption",value:function getSvgOption(){return this.saveOptions}},{key:"setSvgOption",value:function setSvgOption(en,tn){this.saveOptions[en]=tn}},{key:"getSelectedElements",value:function getSelectedElements(){return this.selectedElements}},{key:"setSelectedElements",value:function setSelectedElements(en,tn){this.selectedElements[en]=tn}},{key:"setEmptySelectedElements",value:function setEmptySelectedElements(){this.selectedElements=[]}},{key:"getSvgRoot",value:function getSvgRoot(){return this.svgroot}},{key:"getDOMDocument",value:function getDOMDocument(){return this.svgdoc}},{key:"getDOMContainer",value:function getDOMContainer(){return this.container}},{key:"getCurConfig",value:function getCurConfig(){return this.curConfig}},{key:"setIdPrefix",value:function setIdPrefix(en){this.idprefix=en}},{key:"getCurrentDrawing",value:function getCurrentDrawing(){return this.current_drawing_}},{key:"getCurShape",value:function getCurShape(){return this.curShape}},{key:"getCurrentGroup",value:function getCurrentGroup(){return this.currentGroup}},{key:"getBaseUnit",value:function getBaseUnit(){return this.curConfig.baseUnit}},{key:"getHeight",value:function getHeight(){return this.svgContent.getAttribute("height")/this.zoom}},{key:"getWidth",value:function getWidth(){return this.svgContent.getAttribute("width")/this.zoom}},{key:"getRoundDigits",value:function getRoundDigits(){return this.saveOptions.round_digits}},{key:"getSnappingStep",value:function getSnappingStep(){return this.curConfig.snappingStep}},{key:"getGridSnapping",value:function getGridSnapping(){return this.curConfig.gridSnapping}},{key:"getStartTransform",value:function getStartTransform(){return this.startTransform}},{key:"setStartTransform",value:function setStartTransform(en){this.startTransform=en}},{key:"getZoom",value:function getZoom(){return this.zoom}},{key:"round",value:function round(en){return Number.parseInt(en*this.zoom)/this.zoom}},{key:"createSVGElement",value:function createSVGElement(en){return this.addSVGElementsFromJson(en)}},{key:"getContainer",value:function getContainer(){return this.container}},{key:"setStarted",value:function setStarted(en){this.started=en}},{key:"getRubberBox",value:function getRubberBox(){return this.rubberBox}},{key:"setRubberBox",value:function setRubberBox(en){return this.rubberBox=en,this.rubberBox}},{key:"addPtsToSelection",value:function addPtsToSelection(en){var tn=en.closedSubpath,nn=en.grips;this.pathActions.canDeleteNodes=!0,this.pathActions.closed_subpath=tn,this.call("pointsAdded",{closedSubpath:tn,grips:nn}),this.call("selected",nn)}},{key:"endChanges",value:function endChanges(en){var tn=en.cmd,nn=en.elem;this.addCommandToHistory(tn),this.call("changed",[nn])}},{key:"getCurrentMode",value:function getCurrentMode(){return this.currentMode}},{key:"setCurrentMode",value:function setCurrentMode(en){return this.currentMode=en,this.currentMode}},{key:"getDrawnPath",value:function getDrawnPath(){return this.drawnPath}},{key:"setDrawnPath",value:function setDrawnPath(en){return this.drawnPath=en,this.drawnPath}},{key:"setCurrentGroup",value:function setCurrentGroup(en){this.currentGroup=en}},{key:"changeSvgContent",value:function changeSvgContent(){this.call("changed",[this.svgContent])}},{key:"getStarted",value:function getStarted(){return this.started}},{key:"getCanvas",value:function getCanvas(){return this}},{key:"getrootSctm",value:function getrootSctm(){return this.rootSctm}},{key:"getStartX",value:function getStartX(){return this.startX}},{key:"setStartX",value:function setStartX(en){this.startX=en}},{key:"getStartY",value:function getStartY(){return this.startY}},{key:"setStartY",value:function setStartY(en){this.startY=en}},{key:"getRStartX",value:function getRStartX(){return this.rStartX}},{key:"getRStartY",value:function getRStartY(){return this.rStartY}},{key:"getInitBbox",value:function getInitBbox(){return this.initBbox}},{key:"getCurrentResizeMode",value:function getCurrentResizeMode(){return this.currentResizeMode}},{key:"getJustSelected",value:function getJustSelected(){return this.justSelected}},{key:"getOpacAni",value:function getOpacAni(){return this.opacAni}},{key:"getParameter",value:function getParameter(){return this.parameter}},{key:"getNextParameter",value:function getNextParameter(){return this.nextParameter}},{key:"getStepCount",value:function getStepCount(){return 10}},{key:"getThreSholdDist",value:function getThreSholdDist(){return.8}},{key:"getSumDistance",value:function getSumDistance(){return this.sumDistance}},{key:"getStart",value:function getStart(en){return this.start[en]}},{key:"getEnd",value:function getEnd(en){return this.end[en]}},{key:"getbSpline",value:function getbSpline(en){return this.bSpline[en]}},{key:"getNextPos",value:function getNextPos(en){return this.nextPos[en]}},{key:"getControllPoint1",value:function getControllPoint1(en){return this.controllPoint1[en]}},{key:"getControllPoint2",value:function getControllPoint2(en){return this.controllPoint2[en]}},{key:"getFreehand",value:function getFreehand(en){return this.freehand[en]}},{key:"getDrawing",value:function getDrawing(){return this.getCurrentDrawing()}},{key:"getDAttr",value:function getDAttr(){return this.dAttr}},{key:"getLastGoodImgUrl",value:function getLastGoodImgUrl(){return this.lastGoodImgUrl}},{key:"getCurText",value:function getCurText(en){return this.curText[en]}},{key:"setDAttr",value:function setDAttr(en){this.dAttr=en}},{key:"setEnd",value:function setEnd(en,tn){this.end[en]=tn}},{key:"setControllPoint1",value:function setControllPoint1(en,tn){this.controllPoint1[en]=tn}},{key:"setControllPoint2",value:function setControllPoint2(en,tn){this.controllPoint2[en]=tn}},{key:"setJustSelected",value:function setJustSelected(en){this.justSelected=en}},{key:"setParameter",value:function setParameter(en){this.parameter=en}},{key:"setStart",value:function setStart(en){this.start=en}},{key:"setRStartX",value:function setRStartX(en){this.rStartX=en}},{key:"setRStartY",value:function setRStartY(en){this.rStartY=en}},{key:"setSumDistance",value:function setSumDistance(en){this.sumDistance=en}},{key:"setbSpline",value:function setbSpline(en){this.bSpline=en}},{key:"setNextPos",value:function setNextPos(en){this.nextPos=en}},{key:"setNextParameter",value:function setNextParameter(en){this.nextParameter=en}},{key:"setCurText",value:function setCurText(en,tn){this.curText[en]=tn}},{key:"setFreehand",value:function setFreehand(en,tn){this.freehand[en]=tn}},{key:"setCurBBoxes",value:function setCurBBoxes(en){this.curBBoxes=en}},{key:"getCurBBoxes",value:function getCurBBoxes(){return this.curBBoxes}},{key:"setInitBbox",value:function setInitBbox(en){this.initBbox=en}},{key:"setRootSctm",value:function setRootSctm(en){this.rootSctm=en}},{key:"setCurrentResizeMode",value:function setCurrentResizeMode(en){this.currentResizeMode=en}},{key:"getLastClickPoint",value:function getLastClickPoint(en){return this.lastClickPoint[en]}},{key:"setLastClickPoint",value:function setLastClickPoint(en){this.lastClickPoint=en}},{key:"getId",value:function getId(){return this.getCurrentDrawing().getId()}},{key:"getUIStrings",value:function getUIStrings(){return this.uiStrings}},{key:"getNsMap",value:function getNsMap(){return this.nsMap}},{key:"getSvgOptionApply",value:function getSvgOptionApply(){return this.saveOptions.apply}},{key:"getSvgOptionImages",value:function getSvgOptionImages(){return this.saveOptions.images}},{key:"getEncodableImages",value:function getEncodableImages(en){return this.encodableImages[en]}},{key:"setEncodableImages",value:function setEncodableImages(en,tn){this.encodableImages[en]=tn}},{key:"getVisElems",value:function getVisElems(){return"a,circle,ellipse,foreignObject,g,image,line,path,polygon,polyline,rect,svg,text,tspan,use"}},{key:"getIdPrefix",value:function getIdPrefix(){return this.idprefix}},{key:"getDataStorage",value:function getDataStorage(){return Xf}},{key:"setZoom",value:function setZoom(en){this.zoom=en}},{key:"getImportIds",value:function getImportIds(en){return this.importIds[en]}},{key:"setImportIds",value:function setImportIds(en,tn){this.importIds[en]=tn}},{key:"setRemovedElements",value:function setRemovedElements(en,tn){this.removedElements[en]=tn}},{key:"setSvgContent",value:function setSvgContent(en){this.svgContent=en}},{key:"getrefAttrs",value:function getrefAttrs(){return Yf}},{key:"setCanvas",value:function setCanvas(en,tn){this[en]=tn}},{key:"setCurProperties",value:function setCurProperties(en,tn){this.curProperties[en]=tn}},{key:"getCurProperties",value:function getCurProperties(en){return this.curProperties[en]}},{key:"setCurShape",value:function setCurShape(en,tn){this.curShape[en]=tn}},{key:"gettingSelectorManager",value:function gettingSelectorManager(){return this.selectorManager}},{key:"getContentW",value:function getContentW(){return this.contentW}},{key:"getContentH",value:function getContentH(){return this.contentH}},{key:"getClipboardID",value:function getClipboardID(){return Jf}},{key:"getSvgContent",value:function getSvgContent(){return this.svgContent}},{key:"getExtensions",value:function getExtensions(){return this.extensions}},{key:"getSelector",value:function getSelector(){return Kf}},{key:"getMode",value:function getMode(){return this.currentMode}},{key:"getNextId",value:function getNextId(){return this.getCurrentDrawing().getNextId()}},{key:"getCurCommand",value:function getCurCommand(){return this.curCommand}},{key:"setCurCommand",value:function setCurCommand(en){this.curCommand=en}},{key:"getFilter",value:function getFilter(){return this.filter}},{key:"setFilter",value:function setFilter(en){this.filter=en}},{key:"getFilterHidden",value:function getFilterHidden(){return this.filterHidden}},{key:"setFilterHidden",value:function setFilterHidden(en){this.filterHidden=en}},{key:"setMode",value:function setMode(en){var tn;this.pathActions.clear(!0),this.textActions.clear(),this.curProperties="text"===(null===(tn=this.selectedElements[0])||void 0===tn?void 0:tn.nodeName)?this.curText:this.curShape,this.currentMode=en}},{key:"clear",value:function clear(){this.call("beforeClear"),this.pathActions.clear(),this.clearSelection(),this.clearSvgContentElement(),this.current_drawing_=new Wl(this.svgContent),this.createLayer("Layer 1"),this.undoMgr.resetUndoStack(),this.selectorManager.initGroup(),this.rubberBox=this.selectorManager.getRubberBandBox(),this.call("afterClear")}},{key:"addExtension",value:(en=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee3(en,tn,nn){var rn,an,sn;return _regeneratorRuntime().wrap((function _callee3$(An){for(;;)switch(An.prev=An.next){case 0:if(rn=nn.importLocale,"function"==typeof tn){An.next=3;break}throw new TypeError("Function argument expected for `svgcanvas.addExtension`");case 3:if(!(en in this.extensions)){An.next=5;break}throw new Error('Cannot add extension "'+en+'", an extension by that name already exists.');case 5:return an={importLocale:rn,svgroot:this.svgroot,svgContent:this.svgContent,nonce:this.getCurrentDrawing().getNonce(),selectorManager:this.selectorManager},An.next=8,tn(an);case 8:return sn=An.sent,An.abrupt("return",(sn&&(sn.name=en),this.extensions[en]=sn,this.call("extension_added",sn)));case 10:case"end":return An.stop()}}),_callee3,this)}))),function addExtension(tn,nn,rn){return en.apply(this,arguments)})},{key:"addCommandToHistory",value:function addCommandToHistory(en){this.undoMgr.addCommandToHistory(en)}},{key:"restoreRefElements",value:function restoreRefElements(en){var tn=this,nn={};Yf.forEach((function(tn,rn){nn[tn]=en.getAttribute(tn)})),Object.values(nn).forEach((function(en){if(null!=en&&en.startsWith("url(")){var nn=iA(en).substr(1);xA(nn)||(sA().append(tn.removedElements[nn]),delete tn.removedElements[nn])}}));var rn=en.getElementsByTagName("*");if(rn.length)for(var an=0,sn=rn.length;an<sn;an++)this.restoreRefElements(rn[an])}},{key:"call",value:function call(en,tn){if(this.events[en])return this.events[en](window,tn)}},{key:"bind",value:function bind(en,tn){var nn=this.events[en];return this.events[en]=tn,nn}},{key:"flashStorage",value:function flashStorage(){var en=sessionStorage.getItem(Jf);localStorage.setItem(Jf,en),setTimeout((function(){localStorage.removeItem(Jf)}),1)}},{key:"selectOnly",value:function selectOnly(en,tn){this.clearSelection(!0),this.addToSelection(en,tn)}},{key:"removeFromSelection",value:function removeFromSelection(en){if(this.selectedElements[0]&&en.length){for(var tn=[],nn=this.selectedElements.length,rn=0;rn<nn;++rn){var an=this.selectedElements[rn];an&&(en.includes(an)?this.selectorManager.releaseSelector(an):tn.push(an))}this.selectedElements=tn}}},{key:"selectAllInCurrentLayer",value:function selectAllInCurrentLayer(){var en=this.getCurrentDrawing().getCurrentLayer();en&&(this.currentMode="select",this.currentGroup?this.selectOnly(this.currentGroup.children):this.selectOnly(en.children))}},{key:"getOpacity",value:function getOpacity(){return this.curShape.opacity}},{key:"getSnapToGrid",value:function getSnapToGrid(){return this.curConfig.gridSnapping}},{key:"getVersion",value:function getVersion(){return"svgcanvas.js ($Rev$)"}},{key:"setUiStrings",value:function setUiStrings(en){Object.assign(this.uiStrings,en.notification),pl(en)}},{key:"setConfig",value:function setConfig(en){Object.assign(this.curConfig,en)}},{key:"getDocumentTitle",value:function getDocumentTitle(){return this.getTitle(this.svgContent)}},{key:"getOffset",value:function getOffset(){return{x:Number(this.svgContent.getAttribute("x")),y:Number(this.svgContent.getAttribute("y"))}}},{key:"getColor",value:function getColor(en){return this.curProperties[en]}},{key:"setStrokePaint",value:function setStrokePaint(en){this.setPaint("stroke",en)}},{key:"setFillPaint",value:function setFillPaint(en){this.setPaint("fill",en)}},{key:"getStrokeWidth",value:function getStrokeWidth(){return this.curProperties.stroke_width}},{key:"getStyle",value:function getStyle(){return this.curShape}},{key:"setOpacity",value:function setOpacity(en){this.curShape.opacity=en,this.changeSelectedAttribute("opacity",en)}},{key:"getFillOpacity",value:function getFillOpacity(){return this.curShape.fill_opacity}},{key:"getStrokeOpacity",value:function getStrokeOpacity(){return this.curShape.stroke_opacity}},{key:"setPaintOpacity",value:function setPaintOpacity(en,tn,nn){this.curShape[en+"_opacity"]=tn,nn?this.changeSelectedAttributeNoUndo(en+"-opacity",tn):this.changeSelectedAttribute(en+"-opacity",tn)}},{key:"getPaintOpacity",value:function getPaintOpacity(en){return"fill"===en?this.getFillOpacity():this.getStrokeOpacity()}},{key:"getBlur",value:function getBlur(en){var tn=0;if(en){var nn=en.getAttribute("filter");if(nn){var rn=xA(en.id+"_blur");if(rn)tn=rn.firstChild.getAttribute("stdDeviation");else{var an=wA(nn),sn=CA(an);null!==sn&&(tn=sn.getAttribute("stdDeviation"))}}}return tn}},{key:"setGoodImage",value:function setGoodImage(en){this.lastGoodImgUrl=en}},{key:"getSvgString",value:function getSvgString(){return this.saveOptions.apply=!1,this.svgCanvasToString()}},{key:"randomizeIds",value:function randomizeIds(en){Xl(!(arguments.length>0&&!1===en),this.getCurrentDrawing())}},{key:"convertToPath",value:function convertToPath(en,tn){var nn=this;if(en)return tn?dA(en,this.addSVGElementsFromJson,this.pathActions):function(en,tn,nn){var rn=new nn.history.BatchCommand("Convert element to Path");tn=mergeDeep$1(tn,hA(en));var an=nn.addSVGElementsFromJson({element:"path",attr:tn}),sn=en.getAttribute("transform");sn&&an.setAttribute("transform",sn);var An=en.id,cn=en.parentNode;en.nextSibling?en.before(an):cn.append(an);var un=uA(en);if(un){if(an.setAttribute("d",un),sn){var hn=an.transform.baseVal;Hs(hn)&&nn.pathActions.resetOrientation(an)}var dn=en.nextSibling;return rn.addSubCommand(new nn.history.RemoveElementCommand(en,dn,en.parentNode)),nn.clearSelection(),en.remove(),rn.addSubCommand(new nn.history.InsertElementCommand(an)),an.setAttribute("id",An),an.removeAttribute("visibility"),nn.addToSelection([an],!0),nn.addCommandToHistory(rn),an}return an.remove(),null}(en,{fill:this.curShape.fill,"fill-opacity":this.curShape.fill_opacity,stroke:this.curShape.stroke,"stroke-width":this.curShape.stroke_width,"stroke-dasharray":this.curShape.stroke_dasharray,"stroke-linejoin":this.curShape.stroke_linejoin,"stroke-linecap":this.curShape.stroke_linecap,"stroke-opacity":this.curShape.stroke_opacity,opacity:this.curShape.opacity,visibility:"hidden"},this);this.selectedElements.forEach((function(en){en&&nn.convertToPath(en)}))}},{key:"cutSelectedElements",value:function cutSelectedElements(){this.copySelectedElements(),this.deleteSelectedElements()}},{key:"initializeSvgCanvasMethods",value:function initializeSvgCanvasMethods(){this.getJsonFromSvgElements=au,this.addSVGElementsFromJson=ou,this.clearSvgContentElement=Wf,this.textActions=qc,this.getStrokedBBox=vA,this.getVisibleElements=mA,this.stringToHTML=EA,this.insertChildAtIndex=PA,this.getClosest=getClosest,this.getParents=getParents,this.isLayer=$l.isLayer,this.matrixMultiply=Rs,this.hasMatrixTransform=Hs,this.transformListToTransform=$s,this.convertToNum=Is,this.findDefs=sA,this.getUrlFromAttr=iA,this.getHref=aA,this.setHref=oA,this.getBBox=lA,this.getRotationAngle=bA,this.getElement=xA,this.getRefElem=wA,this.assignAttributes=BA,this.cleanupElement=_A,this.remapElement=Yu,this.recalculateDimensions=Zu,this.sanitizeSvg=Ih,this.pasteElements=vc,this.identifyLayers=Yl,this.createLayer=Zl,this.cloneLayer=tc,this.deleteCurrentLayer=nc,this.setCurrentLayer=ic,this.renameCurrentLayer=ac,this.setCurrentLayerPosition=oc,this.indexCurrentLayer=Jl,this.setLayerVisibility=sc,this.moveSelectedToLayer=cc,this.mergeLayer=uc,this.mergeAllLayers=hc,this.leaveContext=dc,this.setContext=pc,this.changeSelectedAttributeNoUndo=Uc,this.changeSelectedAttribute=Tc,this.setBlurNoUndo=Bh,this.setBlurOffsets=_h,this.setBlur=kh,this.smoothControlPoints=Il,this.getTypeMap=_s,this.history=DA,this.NS=Ts,this.$id=FA,this.$qq=LA,this.$qa=IA,this.$click=UA,this.encode64=encode64,this.decode64=decode64$1,this.mergeDeep=mergeDeep$1}}]),SvgCanvas}();
/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */
/**
 * Tools for svg.
 * @module svg
 * @license MIT
 * @copyright 2011 Jeff Schiller
 */Zf.$id=FA,Zf.$qq=LA,Zf.$qa=IA,Zf.$click=UA,Zf.encode64=encode64,Zf.decode64=decode64$1,Zf.mergeDeep=mergeDeep$1,Zf.getClosest=getClosest,Zf.getParents=getParents,Zf.blankPageObjectURL=Zs,Zf.Paint=vs,Zf.getTypeMap=_s,Zf.convertToNum=Is,Zf.isValidUnit=function(en,tn,nn){if(Cs.includes(en))return!isNaN(tn)||(tn=tn.toLowerCase(),Object.keys(Bs).some((function(en){return new RegExp("^-?[\\d\\.]+"+en+"$").test(tn)})));if("id"===en){var rn=!1;try{var an=ms.getElement(tn);rn=!an||an===nn}catch(en){console.error(en)}return rn}return!0},Zf.convertUnit=Ps;var em={exports:{}},tm=_mergeNamespaces({__proto__:null,default:em.exports=function(){var en=Object.hasOwnProperty,tn=Object.setPrototypeOf,nn=Object.isFrozen,rn=Object.getPrototypeOf,an=Object.getOwnPropertyDescriptor,sn=Object.freeze,An=Object.seal,cn=Object.create,un="undefined"!=typeof Reflect&&Reflect,hn=un.apply,dn=un.construct;hn||(hn=function apply(en,tn,nn){return en.apply(tn,nn)}),sn||(sn=function freeze(en){return en}),An||(An=function seal(en){return en}),dn||(dn=function construct(en,tn){return new(Function.prototype.bind.apply(en,[null].concat(function _toConsumableArray(en){if(Array.isArray(en)){for(var tn=0,nn=Array(en.length);tn<en.length;tn++)nn[tn]=en[tn];return nn}return Array.from(en)}(tn))))});var pn=unapply(Array.prototype.forEach),gn=unapply(Array.prototype.pop),mn=unapply(Array.prototype.push),vn=unapply(String.prototype.toLowerCase),yn=unapply(String.prototype.match),bn=unapply(String.prototype.replace),wn=unapply(String.prototype.indexOf),Cn=unapply(String.prototype.trim),xn=unapply(RegExp.prototype.test),Bn=function unconstruct(en){return function(){for(var tn=arguments.length,nn=Array(tn),rn=0;rn<tn;rn++)nn[rn]=arguments[rn];return dn(en,nn)}}(TypeError);function unapply(en){return function(tn){for(var nn=arguments.length,rn=Array(nn>1?nn-1:0),an=1;an<nn;an++)rn[an-1]=arguments[an];return hn(en,tn,rn)}}function addToSet(en,rn){tn&&tn(en,null);for(var an=rn.length;an--;){var sn=rn[an];if("string"==typeof sn){var An=vn(sn);An!==sn&&(nn(rn)||(rn[an]=An),sn=An)}en[sn]=!0}return en}function clone(tn){var nn=cn(null),rn=void 0;for(rn in tn)hn(en,tn,[rn])&&(nn[rn]=tn[rn]);return nn}function lookupGetter(en,tn){for(;null!==en;){var nn=an(en,tn);if(nn){if(nn.get)return unapply(nn.get);if("function"==typeof nn.value)return unapply(nn.value)}en=rn(en)}return null}var _n=sn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Sn=sn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),kn=sn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),En=sn(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Pn=sn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Fn=sn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ln=sn(["#text"]),In=sn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),Un=sn(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Tn=sn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Qn=sn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Nn=An(/\{\{[\s\S]*|[\s\S]*\}\}/gm),On=An(/<%[\s\S]*|[\s\S]*%>/gm),Mn=An(/^data-[\-\w.\u00B7-\uFFFF]/),Rn=An(/^aria-[\-\w]+$/),Hn=An(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Dn=An(/^(?:\w+script|data):/i),$n=An(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Gn="function"==typeof Symbol&&"symbol"==_typeof$3(Symbol.iterator)?function(en){return _typeof$3(en)}:function(en){return en&&"function"==typeof Symbol&&en.constructor===Symbol&&en!==Symbol.prototype?"symbol":_typeof$3(en)};function _toConsumableArray$1(en){if(Array.isArray(en)){for(var tn=0,nn=Array(en.length);tn<en.length;tn++)nn[tn]=en[tn];return nn}return Array.from(en)}var jn=function getGlobal(){return"undefined"==typeof window?null:window},Vn=function _createTrustedTypesPolicy(en,tn){if("object"!==(void 0===en?"undefined":Gn(en))||"function"!=typeof en.createPolicy)return null;var nn=null,rn="data-tt-policy-suffix";tn.currentScript&&tn.currentScript.hasAttribute(rn)&&(nn=tn.currentScript.getAttribute(rn));var an="dompurify"+(nn?"#"+nn:"");try{return en.createPolicy(an,{createHTML:function createHTML(en){return en}})}catch(en){return console.warn("TrustedTypes policy "+an+" could not be created."),null}};return function createDOMPurify(){var en=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn(),tn=function DOMPurify(en){return createDOMPurify(en)};if(tn.version="2.2.6",tn.removed=[],!en||!en.document||9!==en.document.nodeType)return tn.isSupported=!1,tn;var nn=en.document,rn=en.document,an=en.DocumentFragment,An=en.HTMLTemplateElement,cn=en.Node,un=en.Element,hn=en.NodeFilter,dn=en.NamedNodeMap,Kn=void 0===dn?en.NamedNodeMap||en.MozNamedAttrMap:dn,qn=en.Text,zn=en.Comment,Wn=en.DOMParser,Xn=en.trustedTypes,Yn=un.prototype,Jn=lookupGetter(Yn,"cloneNode"),Zn=lookupGetter(Yn,"nextSibling"),Ur=lookupGetter(Yn,"childNodes"),Tr=lookupGetter(Yn,"parentNode");if("function"==typeof An){var Qr=rn.createElement("template");Qr.content&&Qr.content.ownerDocument&&(rn=Qr.content.ownerDocument)}var Rr=Vn(Xn,nn),Hr=Rr&&wi?Rr.createHTML(""):"",Dr=rn,$r=Dr.implementation,Gr=Dr.createNodeIterator,Vr=Dr.getElementsByTagName,Kr=Dr.createDocumentFragment,zr=nn.importNode,Wr={};try{Wr=clone(rn).documentMode?rn.documentMode:{}}catch(en){}var Xr={};tn.isSupported=$r&&void 0!==$r.createHTMLDocument&&9!==Wr;var Yr=Nn,Jr=On,Zr=Mn,ei=Rn,ti=Dn,ni=$n,ri=Hn,ii=null,ai=addToSet({},[].concat(_toConsumableArray$1(_n),_toConsumableArray$1(Sn),_toConsumableArray$1(kn),_toConsumableArray$1(Pn),_toConsumableArray$1(Ln))),oi=null,si=addToSet({},[].concat(_toConsumableArray$1(In),_toConsumableArray$1(Un),_toConsumableArray$1(Tn),_toConsumableArray$1(Qn))),Ai=null,li=null,ci=!0,ui=!0,hi=!1,di=!1,pi=!1,gi=!1,fi=!1,mi=!1,yi=!1,bi=!0,wi=!1,xi=!0,Bi=!0,_i=!1,Si={},ki=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ei=null,Pi=addToSet({},["audio","video","img","source","image","track"]),Fi=null,Li=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Ii=null,Ui=rn.createElement("form"),Ti=function _parseConfig(en){Ii&&Ii===en||(en&&"object"===(void 0===en?"undefined":Gn(en))||(en={}),en=clone(en),ii="ALLOWED_TAGS"in en?addToSet({},en.ALLOWED_TAGS):ai,oi="ALLOWED_ATTR"in en?addToSet({},en.ALLOWED_ATTR):si,Fi="ADD_URI_SAFE_ATTR"in en?addToSet(clone(Li),en.ADD_URI_SAFE_ATTR):Li,Ei="ADD_DATA_URI_TAGS"in en?addToSet(clone(Pi),en.ADD_DATA_URI_TAGS):Pi,Ai="FORBID_TAGS"in en?addToSet({},en.FORBID_TAGS):{},li="FORBID_ATTR"in en?addToSet({},en.FORBID_ATTR):{},Si="USE_PROFILES"in en&&en.USE_PROFILES,ci=!1!==en.ALLOW_ARIA_ATTR,ui=!1!==en.ALLOW_DATA_ATTR,hi=en.ALLOW_UNKNOWN_PROTOCOLS||!1,di=en.SAFE_FOR_TEMPLATES||!1,pi=en.WHOLE_DOCUMENT||!1,mi=en.RETURN_DOM||!1,yi=en.RETURN_DOM_FRAGMENT||!1,bi=!1!==en.RETURN_DOM_IMPORT,wi=en.RETURN_TRUSTED_TYPE||!1,fi=en.FORCE_BODY||!1,xi=!1!==en.SANITIZE_DOM,Bi=!1!==en.KEEP_CONTENT,_i=en.IN_PLACE||!1,ri=en.ALLOWED_URI_REGEXP||ri,di&&(ui=!1),yi&&(mi=!0),Si&&(ii=addToSet({},[].concat(_toConsumableArray$1(Ln))),oi=[],!0===Si.html&&(addToSet(ii,_n),addToSet(oi,In)),!0===Si.svg&&(addToSet(ii,Sn),addToSet(oi,Un),addToSet(oi,Qn)),!0===Si.svgFilters&&(addToSet(ii,kn),addToSet(oi,Un),addToSet(oi,Qn)),!0===Si.mathMl&&(addToSet(ii,Pn),addToSet(oi,Tn),addToSet(oi,Qn))),en.ADD_TAGS&&(ii===ai&&(ii=clone(ii)),addToSet(ii,en.ADD_TAGS)),en.ADD_ATTR&&(oi===si&&(oi=clone(oi)),addToSet(oi,en.ADD_ATTR)),en.ADD_URI_SAFE_ATTR&&addToSet(Fi,en.ADD_URI_SAFE_ATTR),Bi&&(ii["#text"]=!0),pi&&addToSet(ii,["html","head","body"]),ii.table&&(addToSet(ii,["tbody"]),delete Ai.tbody),sn&&sn(en),Ii=en)},Qi=addToSet({},["mi","mo","mn","ms","mtext"]),Ni=addToSet({},["foreignobject","desc","title","annotation-xml"]),Oi=addToSet({},Sn);addToSet(Oi,kn),addToSet(Oi,En);var Mi=addToSet({},Pn);addToSet(Mi,Fn);var Ri="http://www.w3.org/1998/Math/MathML",Hi="http://www.w3.org/2000/svg",Di="http://www.w3.org/1999/xhtml",$i=function _checkValidNamespace(en){var tn=Tr(en);tn&&tn.tagName||(tn={namespaceURI:Di,tagName:"template"});var nn=vn(en.tagName),rn=vn(tn.tagName);if(en.namespaceURI===Hi)return tn.namespaceURI===Di?"svg"===nn:tn.namespaceURI===Ri?"svg"===nn&&("annotation-xml"===rn||Qi[rn]):Boolean(Oi[nn]);if(en.namespaceURI===Ri)return tn.namespaceURI===Di?"math"===nn:tn.namespaceURI===Hi?"math"===nn&&Ni[rn]:Boolean(Mi[nn]);if(en.namespaceURI===Di){if(tn.namespaceURI===Hi&&!Ni[rn])return!1;if(tn.namespaceURI===Ri&&!Qi[rn])return!1;var an=addToSet({},["title","style","font","a","script"]);return!Mi[nn]&&(an[nn]||!Oi[nn])}return!1},Gi=function _forceRemove(en){mn(tn.removed,{element:en});try{en.parentNode.removeChild(en)}catch(tn){try{en.outerHTML=Hr}catch(tn){en.remove()}}},ji=function _removeAttribute(en,nn){try{mn(tn.removed,{attribute:nn.getAttributeNode(en),from:nn})}catch(en){mn(tn.removed,{attribute:null,from:nn})}nn.removeAttribute(en)},Vi=function _initDocument(en){var tn=void 0,nn=void 0;if(fi)en="<remove></remove>"+en;else{var an=yn(en,/^[\r\n\t ]+/);nn=an&&an[0]}var sn=Rr?Rr.createHTML(en):en;try{tn=(new Wn).parseFromString(sn,"text/html")}catch(en){}if(!tn||!tn.documentElement){var An=(tn=$r.createHTMLDocument("")).body;An.parentNode.removeChild(An.parentNode.firstElementChild),An.outerHTML=sn}return en&&nn&&tn.body.insertBefore(rn.createTextNode(nn),tn.body.childNodes[0]||null),Vr.call(tn,pi?"html":"body")[0]},Ki=function _createIterator(en){return Gr.call(en.ownerDocument||en,en,hn.SHOW_ELEMENT|hn.SHOW_COMMENT|hn.SHOW_TEXT,(function(){return hn.FILTER_ACCEPT}),!1)},qi=function _isClobbered(en){return!(en instanceof qn||en instanceof zn||"string"==typeof en.nodeName&&"string"==typeof en.textContent&&"function"==typeof en.removeChild&&en.attributes instanceof Kn&&"function"==typeof en.removeAttribute&&"function"==typeof en.setAttribute&&"string"==typeof en.namespaceURI&&"function"==typeof en.insertBefore)},zi=function _isNode(en){return"object"===(void 0===cn?"undefined":Gn(cn))?en instanceof cn:en&&"object"===(void 0===en?"undefined":Gn(en))&&"number"==typeof en.nodeType&&"string"==typeof en.nodeName},Wi=function _executeHook(en,nn,rn){Xr[en]&&pn(Xr[en],(function(en){en.call(tn,nn,rn,Ii)}))},Xi=function _sanitizeElements(en){var nn=void 0;if(Wi("beforeSanitizeElements",en,null),qi(en))return Gi(en),!0;if(yn(en.nodeName,/[\u0080-\uFFFF]/))return Gi(en),!0;var rn=vn(en.nodeName);if(Wi("uponSanitizeElement",en,{tagName:rn,allowedTags:ii}),!zi(en.firstElementChild)&&(!zi(en.content)||!zi(en.content.firstElementChild))&&xn(/<[/\w]/g,en.innerHTML)&&xn(/<[/\w]/g,en.textContent))return Gi(en),!0;if(!ii[rn]||Ai[rn]){if(Bi&&!ki[rn])for(var an=Tr(en),sn=Ur(en),An=sn.length-1;An>=0;--An)an.insertBefore(Jn(sn[An],!0),Zn(en));return Gi(en),!0}return en instanceof un&&!$i(en)?(Gi(en),!0):"noscript"!==rn&&"noembed"!==rn||!xn(/<\/no(script|embed)/i,en.innerHTML)?(di&&3===en.nodeType&&(nn=en.textContent,nn=bn(nn,Yr," "),nn=bn(nn,Jr," "),en.textContent!==nn&&(mn(tn.removed,{element:en.cloneNode()}),en.textContent=nn)),Wi("afterSanitizeElements",en,null),!1):(Gi(en),!0)},Yi=function _isValidAttribute(en,tn,nn){if(xi&&("id"===tn||"name"===tn)&&(nn in rn||nn in Ui))return!1;if(ui&&xn(Zr,tn));else if(ci&&xn(ei,tn));else{if(!oi[tn]||li[tn])return!1;if(Fi[tn]);else if(xn(ri,bn(nn,ni,"")));else if("src"!==tn&&"xlink:href"!==tn&&"href"!==tn||"script"===en||0!==wn(nn,"data:")||!Ei[en])if(hi&&!xn(ti,bn(nn,ni,"")));else if(nn)return!1}return!0},Ji=function _sanitizeAttributes(en){var nn=void 0,rn=void 0,an=void 0,sn=void 0;Wi("beforeSanitizeAttributes",en,null);var An=en.attributes;if(An){var cn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:oi};for(sn=An.length;sn--;){var un=nn=An[sn],hn=un.name,dn=un.namespaceURI;if(rn=Cn(nn.value),an=vn(hn),cn.attrName=an,cn.attrValue=rn,cn.keepAttr=!0,cn.forceKeepAttr=void 0,Wi("uponSanitizeAttribute",en,cn),rn=cn.attrValue,!cn.forceKeepAttr&&(ji(hn,en),cn.keepAttr))if(xn(/\/>/i,rn))ji(hn,en);else{di&&(rn=bn(rn,Yr," "),rn=bn(rn,Jr," "));var pn=en.nodeName.toLowerCase();if(Yi(pn,an,rn))try{dn?en.setAttributeNS(dn,hn,rn):en.setAttribute(hn,rn),gn(tn.removed)}catch(en){}}}Wi("afterSanitizeAttributes",en,null)}},Zi=function _sanitizeShadowDOM(en){var tn=void 0,nn=Ki(en);for(Wi("beforeSanitizeShadowDOM",en,null);tn=nn.nextNode();)Wi("uponSanitizeShadowNode",tn,null),Xi(tn)||(tn.content instanceof an&&_sanitizeShadowDOM(tn.content),Ji(tn));Wi("afterSanitizeShadowDOM",en,null)};return tn.sanitize=function(rn,sn){var An=void 0,un=void 0,hn=void 0,dn=void 0,pn=void 0;if(rn||(rn="\x3c!--\x3e"),"string"!=typeof rn&&!zi(rn)){if("function"!=typeof rn.toString)throw Bn("toString is not a function");if("string"!=typeof(rn=rn.toString()))throw Bn("dirty is not a string, aborting")}if(!tn.isSupported){if("object"===Gn(en.toStaticHTML)||"function"==typeof en.toStaticHTML){if("string"==typeof rn)return en.toStaticHTML(rn);if(zi(rn))return en.toStaticHTML(rn.outerHTML)}return rn}if(gi||Ti(sn),tn.removed=[],"string"==typeof rn&&(_i=!1),_i);else if(rn instanceof cn)1===(un=(An=Vi("\x3c!----\x3e")).ownerDocument.importNode(rn,!0)).nodeType&&"BODY"===un.nodeName||"HTML"===un.nodeName?An=un:An.appendChild(un);else{if(!mi&&!di&&!pi&&-1===rn.indexOf("<"))return Rr&&wi?Rr.createHTML(rn):rn;if(!(An=Vi(rn)))return mi?null:Hr}An&&fi&&Gi(An.firstChild);for(var gn=Ki(_i?rn:An);hn=gn.nextNode();)3===hn.nodeType&&hn===dn||Xi(hn)||(hn.content instanceof an&&Zi(hn.content),Ji(hn),dn=hn);if(dn=null,_i)return rn;if(mi){if(yi)for(pn=Kr.call(An.ownerDocument);An.firstChild;)pn.appendChild(An.firstChild);else pn=An;return bi&&(pn=zr.call(nn,pn,!0)),pn}var mn=pi?An.outerHTML:An.innerHTML;return di&&(mn=bn(mn,Yr," "),mn=bn(mn,Jr," ")),Rr&&wi?Rr.createHTML(mn):mn},tn.setConfig=function(en){Ti(en),gi=!0},tn.clearConfig=function(){Ii=null,gi=!1},tn.isValidAttribute=function(en,tn,nn){Ii||Ti({});var rn=vn(en),an=vn(tn);return Yi(rn,an,nn)},tn.addHook=function(en,tn){"function"==typeof tn&&(Xr[en]=Xr[en]||[],mn(Xr[en],tn))},tn.removeHook=function(en){Xr[en]&&gn(Xr[en])},tn.removeHooks=function(en){Xr[en]&&(Xr[en]=[])},tn.removeAllHooks=function(){Xr={}},tn}()}()},[em.exports]),nm=function check(en){return en&&en.Math==Math&&en},rm=nm("object"==("undefined"==typeof globalThis?"undefined":_typeof$3(globalThis))&&globalThis)||nm("object"==("undefined"==typeof window?"undefined":_typeof$3(window))&&window)||nm("object"==("undefined"==typeof self?"undefined":_typeof$3(self))&&self)||nm("object"==_typeof$3(Yp)&&Yp)||function(){return this}()||Function("return this")(),im={},am=function fails$l(en){try{return!!en()}catch(en){return!0}},om=!am((function(){return 7!=Object.defineProperty({},1,{get:function get(){return 7}})[1]})),sm=!am((function(){var en=function(){}.bind();return"function"!=typeof en||en.hasOwnProperty("prototype")})),Am=sm,lm=Function.prototype.call,cm=Am?lm.bind(lm):function(){return lm.apply(lm,arguments)},um={},hm={}.propertyIsEnumerable,dm=Object.getOwnPropertyDescriptor,pm=dm&&!hm.call({1:2},1);/*! @license DOMPurify | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.2.2/LICENSE */um.f=pm?function propertyIsEnumerable(en){var tn=dm(this,en);return!!tn&&tn.enumerable}:hm;var gm,fm,mm=function createPropertyDescriptor$4(en,tn){return{enumerable:!(1&en),configurable:!(2&en),writable:!(4&en),value:tn}},vm=sm,ym=Function.prototype,bm=ym.bind,wm=ym.call,Cm=vm&&bm.bind(wm,wm),xm=vm?function(en){return en&&Cm(en)}:function(en){return en&&function(){return wm.apply(en,arguments)}},Bm=xm,_m=Bm({}.toString),Sm=Bm("".slice),km=function classofRaw$1(en){return Sm(_m(en),8,-1)},Em=am,Pm=km,Fm=Object,Lm=xm("".split),Im=Em((function(){return!Fm("z").propertyIsEnumerable(0)}))?function(en){return"String"==Pm(en)?Lm(en,""):Fm(en)}:Fm,Um=TypeError,Tm=function requireObjectCoercible$a(en){if(null==en)throw Um("Can't call method on "+en);return en},Qm=Im,Nm=Tm,Om=function toIndexedObject$5(en){return Qm(Nm(en))},Mm=function isCallable$m(en){return"function"==typeof en},Rm=Mm,Hm=function isObject$8(en){return"object"==_typeof$3(en)?null!==en:Rm(en)},Dm=rm,$m=Mm,Gm=function aFunction(en){return $m(en)?en:void 0},jm=function getBuiltIn$8(en,tn){return arguments.length<2?Gm(Dm[en]):Dm[en]&&Dm[en][tn]},Vm=xm({}.isPrototypeOf),Km=jm("navigator","userAgent")||"",qm=rm,zm=Km,Wm=qm.process,Xm=qm.Deno,Ym=Wm&&Wm.versions||Xm&&Xm.version,Jm=Ym&&Ym.v8;Jm&&(fm=(gm=Jm.split("."))[0]>0&&gm[0]<4?1:+(gm[0]+gm[1])),!fm&&zm&&(!(gm=zm.match(/Edge\/(\d+)/))||gm[1]>=74)&&(gm=zm.match(/Chrome\/(\d+)/))&&(fm=+gm[1]);var Zm=fm,ev=Zm,tv=am,nv=!!Object.getOwnPropertySymbols&&!tv((function(){var en=Symbol();return!String(en)||!(Object(en)instanceof Symbol)||!Symbol.sham&&ev&&ev<41})),rv=nv&&!Symbol.sham&&"symbol"==_typeof$3(Symbol.iterator),iv=jm,av=Mm,ov=Vm,sv=Object,Av=rv?function(en){return"symbol"==_typeof$3(en)}:function(en){var tn=iv("Symbol");return av(tn)&&ov(tn.prototype,sv(en))},lv=String,cv=function tryToString$4(en){try{return lv(en)}catch(en){return"Object"}},uv=Mm,hv=cv,dv=TypeError,pv=function aCallable$8(en){if(uv(en))return en;throw dv(hv(en)+" is not a function")},gv=pv,fv=function getMethod$6(en,tn){var nn=en[tn];return null==nn?void 0:gv(nn)},mv=cm,vv=Mm,yv=Hm,bv=TypeError,wv={exports:{}},Cv=rm,xv=Object.defineProperty,Bv=function defineGlobalProperty$3(en,tn){try{xv(Cv,en,{value:tn,configurable:!0,writable:!0})}catch(nn){Cv[en]=tn}return tn},_v=Bv,Sv=rm["__core-js_shared__"]||_v("__core-js_shared__",{}),kv=Sv;(wv.exports=function(en,tn){return kv[en]||(kv[en]=void 0!==tn?tn:{})})("versions",[]).push({version:"3.24.1",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Ev=Tm,Pv=Object,Fv=function toObject$4(en){return Pv(Ev(en))},Lv=Fv,Iv=xm({}.hasOwnProperty),Uv=Object.hasOwn||function hasOwn(en,tn){return Iv(Lv(en),tn)},Tv=xm,Qv=0,Nv=Math.random(),Ov=Tv(1..toString),Mv=function uid$2(en){return"Symbol("+(void 0===en?"":en)+")_"+Ov(++Qv+Nv,36)},Rv=rm,Hv=wv.exports,Dv=Uv,$v=Mv,Gv=nv,jv=rv,Vv=Hv("wks"),Kv=Rv.Symbol,qv=Kv&&Kv.for,zv=jv?Kv:Kv&&Kv.withoutSetter||$v,Wv=function wellKnownSymbol$i(en){if(!Dv(Vv,en)||!Gv&&"string"!=typeof Vv[en]){var tn="Symbol."+en;Gv&&Dv(Kv,en)?Vv[en]=Kv[en]:Vv[en]=jv&&qv?qv(tn):zv(tn)}return Vv[en]},Xv=cm,Yv=Hm,Jv=Av,Zv=fv,ey=TypeError,ty=Wv("toPrimitive"),ny=function toPrimitive(en,tn){if(!Yv(en)||Jv(en))return en;var nn,rn=Zv(en,ty);if(rn){if(void 0===tn&&(tn="default"),nn=Xv(rn,en,tn),!Yv(nn)||Jv(nn))return nn;throw ey("Can't convert object to primitive value")}return void 0===tn&&(tn="number"),function ordinaryToPrimitive(en,tn){var nn,rn;if("string"===tn&&vv(nn=en.toString)&&!yv(rn=mv(nn,en)))return rn;if(vv(nn=en.valueOf)&&!yv(rn=mv(nn,en)))return rn;if("string"!==tn&&vv(nn=en.toString)&&!yv(rn=mv(nn,en)))return rn;throw bv("Can't convert object to primitive value")}(en,tn)},ry=Av,iy=function toPropertyKey$3(en){var tn=ny(en,"string");return ry(tn)?tn:tn+""},ay=Hm,oy=rm.document,sy=ay(oy)&&ay(oy.createElement),Ay=function documentCreateElement$2(en){return sy?oy.createElement(en):{}},ly=Ay,cy=!om&&!am((function(){return 7!=Object.defineProperty(ly("div"),"a",{get:function get(){return 7}}).a})),uy=om,hy=cm,dy=um,py=mm,gy=Om,fy=iy,my=Uv,vy=cy,yy=Object.getOwnPropertyDescriptor;im.f=uy?yy:function getOwnPropertyDescriptor(en,tn){if(en=gy(en),tn=fy(tn),vy)try{return yy(en,tn)}catch(en){}if(my(en,tn))return py(!hy(dy.f,en,tn),en[tn])};var by={},wy=om&&am((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Cy=Hm,xy=String,By=TypeError,_y=function anObject$g(en){if(Cy(en))return en;throw By(xy(en)+" is not an object")},Sy=om,ky=cy,Ey=wy,Py=_y,Fy=iy,Ly=TypeError,Iy=Object.defineProperty,Uy=Object.getOwnPropertyDescriptor;by.f=Sy?Ey?function defineProperty(en,tn,nn){if(Py(en),tn=Fy(tn),Py(nn),"function"==typeof en&&"prototype"===tn&&"value"in nn&&"writable"in nn&&!nn.writable){var rn=Uy(en,tn);rn&&rn.writable&&(en[tn]=nn.value,nn={configurable:"configurable"in nn?nn.configurable:rn.configurable,enumerable:"enumerable"in nn?nn.enumerable:rn.enumerable,writable:!1})}return Iy(en,tn,nn)}:Iy:function defineProperty(en,tn,nn){if(Py(en),tn=Fy(tn),Py(nn),ky)try{return Iy(en,tn,nn)}catch(en){}if("get"in nn||"set"in nn)throw Ly("Accessors not supported");return"value"in nn&&(en[tn]=nn.value),en};var Ty=by,Qy=mm,Ny=om?function(en,tn,nn){return Ty.f(en,tn,Qy(1,nn))}:function(en,tn,nn){return en[tn]=nn,en},Oy={exports:{}},My=om,Ry=Uv,Hy=Function.prototype,Dy=My&&Object.getOwnPropertyDescriptor,$y=Ry(Hy,"name"),Gy={EXISTS:$y,PROPER:$y&&"something"===function something(){}.name,CONFIGURABLE:$y&&(!My||My&&Dy(Hy,"name").configurable)},jy=Mm,Vy=Sv,Ky=xm(Function.toString);jy(Vy.inspectSource)||(Vy.inspectSource=function(en){return Ky(en)});var qy,zy,Wy,Xy=Vy.inspectSource,Yy=Mm,Jy=Xy,Zy=rm.WeakMap,eb=Yy(Zy)&&/native code/.test(Jy(Zy)),tb=wv.exports,nb=Mv,rb=tb("keys"),ib=function sharedKey$3(en){return rb[en]||(rb[en]=nb(en))},ab={},ob=eb,sb=rm,Ab=xm,lb=Hm,cb=Ny,ub=Uv,hb=Sv,db=ib,pb=ab,gb=sb.TypeError,fb=sb.WeakMap;if(ob||hb.state){var mb=hb.state||(hb.state=new fb),vb=Ab(mb.get),yb=Ab(mb.has),bb=Ab(mb.set);qy=function ec(en,tn){if(yb(mb,en))throw new gb("Object already initialized");return tn.facade=en,bb(mb,en,tn),tn},zy=function Ac(en){return vb(mb,en)||{}},Wy=function rc(en){return yb(mb,en)}}else{var wb=db("state");pb[wb]=!0,qy=function ec(en,tn){if(ub(en,wb))throw new gb("Object already initialized");return tn.facade=en,cb(en,wb,tn),tn},zy=function Ac(en){return ub(en,wb)?en[wb]:{}},Wy=function rc(en){return ub(en,wb)}}var Cb={set:qy,get:zy,has:Wy,enforce:function enforce(en){return Wy(en)?zy(en):qy(en,{})},getterFor:function getterFor(en){return function(tn){var nn;if(!lb(tn)||(nn=zy(tn)).type!==en)throw gb("Incompatible receiver, "+en+" required");return nn}}},xb=am,Bb=Mm,_b=Uv,Sb=om,kb=Gy.CONFIGURABLE,Eb=Xy,Pb=Cb.enforce,Fb=Cb.get,Lb=Object.defineProperty,Ib=Sb&&!xb((function(){return 8!==Lb((function(){}),"length",{value:8}).length})),Ub=String(String).split("String"),Tb=Oy.exports=function(en,tn,nn){"Symbol("===String(tn).slice(0,7)&&(tn="["+String(tn).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),nn&&nn.getter&&(tn="get "+tn),nn&&nn.setter&&(tn="set "+tn),(!_b(en,"name")||kb&&en.name!==tn)&&(Sb?Lb(en,"name",{value:tn,configurable:!0}):en.name=tn),Ib&&nn&&_b(nn,"arity")&&en.length!==nn.arity&&Lb(en,"length",{value:nn.arity});try{nn&&_b(nn,"constructor")&&nn.constructor?Sb&&Lb(en,"prototype",{writable:!1}):en.prototype&&(en.prototype=void 0)}catch(en){}var rn=Pb(en);return _b(rn,"source")||(rn.source=Ub.join("string"==typeof tn?tn:"")),en};Function.prototype.toString=Tb((function toString(){return Bb(this)&&Fb(this).source||Eb(this)}),"toString");var Qb=Mm,Nb=by,Ob=Oy.exports,Mb=Bv,Rb=function defineBuiltIn$7(en,tn,nn,rn){rn||(rn={});var an=rn.enumerable,sn=void 0!==rn.name?rn.name:tn;if(Qb(nn)&&Ob(nn,sn,rn),rn.global)an?en[tn]=nn:Mb(tn,nn);else{try{rn.unsafe?en[tn]&&(an=!0):delete en[tn]}catch(en){}an?en[tn]=nn:Nb.f(en,tn,{value:nn,enumerable:!1,configurable:!rn.nonConfigurable,writable:!rn.nonWritable})}return en},Hb={},Db=Math.ceil,$b=Math.floor,Gb=Math.trunc||function trunc(en){var tn=+en;return(tn>0?$b:Db)(tn)},jb=Gb,Vb=function toIntegerOrInfinity$4(en){var tn=+en;return tn!=tn||0===tn?0:jb(tn)},Kb=Vb,qb=Math.max,zb=Math.min,Wb=function toAbsoluteIndex$2(en,tn){var nn=Kb(en);return nn<0?qb(nn+tn,0):zb(nn,tn)},Xb=Vb,Yb=Math.min,Jb=function toLength$6(en){return en>0?Yb(Xb(en),9007199254740991):0},Zb=Jb,ew=function lengthOfArrayLike$4(en){return Zb(en.length)},tw=Om,nw=Wb,rw=ew,iw=function createMethod$3(en){return function(tn,nn,rn){var an,sn=tw(tn),An=rw(sn),cn=nw(rn,An);if(en&&nn!=nn){for(;An>cn;)if((an=sn[cn++])!=an)return!0}else for(;An>cn;cn++)if((en||cn in sn)&&sn[cn]===nn)return en||cn||0;return!en&&-1}},aw={includes:iw(!0),indexOf:iw(!1)},ow=Uv,sw=Om,Aw=aw.indexOf,lw=ab,cw=xm([].push),uw=function objectKeysInternal(en,tn){var nn,rn=sw(en),an=0,sn=[];for(nn in rn)!ow(lw,nn)&&ow(rn,nn)&&cw(sn,nn);for(;tn.length>an;)ow(rn,nn=tn[an++])&&(~Aw(sn,nn)||cw(sn,nn));return sn},hw=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],dw=uw,pw=hw.concat("length","prototype");Hb.f=Object.getOwnPropertyNames||function getOwnPropertyNames(en){return dw(en,pw)};var gw={};gw.f=Object.getOwnPropertySymbols;var fw=jm,mw=Hb,vw=gw,yw=_y,bw=xm([].concat),ww=fw("Reflect","ownKeys")||function ownKeys(en){var tn=mw.f(yw(en)),nn=vw.f;return nn?bw(tn,nn(en)):tn},Cw=Uv,xw=ww,Bw=im,_w=by,Sw=am,kw=Mm,Ew=/#|\.prototype\./,Pw=function isForced$2(en,tn){var nn=Lw[Fw(en)];return nn==Uw||nn!=Iw&&(kw(tn)?Sw(tn):!!tn)},Fw=Pw.normalize=function(en){return String(en).replace(Ew,".").toLowerCase()},Lw=Pw.data={},Iw=Pw.NATIVE="N",Uw=Pw.POLYFILL="P",Tw=Pw,Qw=rm,Nw=im.f,Ow=Ny,Mw=Rb,Rw=Bv,Hw=function copyConstructorProperties(en,tn,nn){for(var rn=xw(tn),an=_w.f,sn=Bw.f,An=0;An<rn.length;An++){var cn=rn[An];Cw(en,cn)||nn&&Cw(nn,cn)||an(en,cn,sn(tn,cn))}},Dw=Tw,$w=function _export(en,tn){var nn,rn,an,sn,An,cn=en.target,un=en.global,hn=en.stat;if(nn=un?Qw:hn?Qw[cn]||Rw(cn,{}):(Qw[cn]||{}).prototype)for(rn in tn){if(sn=tn[rn],an=en.dontCallGetSet?(An=Nw(nn,rn))&&An.value:nn[rn],!Dw(un?rn:cn+(hn?".":"#")+rn,en.forced)&&void 0!==an){if(_typeof$3(sn)==_typeof$3(an))continue;Hw(sn,an)}(en.sham||an&&an.sham)&&Ow(sn,"sham",!0),Mw(nn,rn,sn,en)}},Gw="process"==km(rm.process),jw=Mm,Vw=String,Kw=TypeError,qw=xm,zw=_y,Ww=Object.setPrototypeOf||("__proto__"in{}?function(){var en,tn=!1,nn={};try{(en=qw(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(nn,[]),tn=nn instanceof Array}catch(en){}return function setPrototypeOf(nn,rn){return zw(nn),function aPossiblePrototype(en){if("object"==_typeof$3(en)||jw(en))return en;throw Kw("Can't set "+Vw(en)+" as a prototype")}(rn),tn?en(nn,rn):nn.__proto__=rn,nn}}():void 0),Xw=by.f,Yw=Uv,Jw=Wv("toStringTag"),Zw=function setToStringTag$3(en,tn,nn){en&&!nn&&(en=en.prototype),en&&!Yw(en,Jw)&&Xw(en,Jw,{configurable:!0,value:tn})},eC=jm,tC=by,nC=om,rC=Wv("species"),iC=Vm,aC=TypeError,oC={};oC[Wv("toStringTag")]="z";var sC="[object z]"===String(oC),AC=Mm,lC=km,cC=Wv("toStringTag"),uC=Object,hC="Arguments"==lC(function(){return arguments}()),dC=sC?lC:function(en){var tn,nn,rn;return void 0===en?"Undefined":null===en?"Null":"string"==typeof(nn=function(en,tn){try{return en[tn]}catch(en){}}(tn=uC(en),cC))?nn:hC?lC(tn):"Object"==(rn=lC(tn))&&AC(tn.callee)?"Arguments":rn},pC=xm,gC=am,fC=Mm,mC=dC,vC=Xy,yC=function noop$1(){},bC=[],wC=jm("Reflect","construct"),CC=/^\s*(?:class|function)\b/,xC=pC(CC.exec),BC=!CC.exec(yC),_C=function isConstructor(en){if(!fC(en))return!1;try{return wC(yC,bC,en),!0}catch(en){return!1}},SC=function isConstructor(en){if(!fC(en))return!1;switch(mC(en)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return BC||!!xC(CC,vC(en))}catch(en){return!0}};SC.sham=!0;var kC,EC,PC,FC,LC=!wC||gC((function(){var en;return _C(_C.call)||!_C(Object)||!_C((function(){en=!0}))||en}))?SC:_C,IC=LC,UC=cv,TC=TypeError,QC=_y,NC=Wv("species"),OC=function speciesConstructor$2(en,tn){var nn,rn=QC(en).constructor;return void 0===rn||null==(nn=QC(rn)[NC])?tn:function aConstructor(en){if(IC(en))return en;throw TC(UC(en)+" is not a constructor")}(nn)},MC=sm,RC=Function.prototype,HC=RC.apply,DC=RC.call,$C="object"==("undefined"==typeof Reflect?"undefined":_typeof$3(Reflect))&&Reflect.apply||(MC?DC.bind(HC):function(){return DC.apply(HC,arguments)}),GC=pv,jC=sm,VC=xm(xm.bind),KC=function functionBindContext(en,tn){return GC(en),void 0===tn?en:jC?VC(en,tn):function(){return en.apply(tn,arguments)}},qC=jm("document","documentElement"),zC=xm([].slice),WC=TypeError,XC=/(?:ipad|iphone|ipod).*applewebkit/i.test(Km),YC=rm,JC=$C,ZC=KC,ex=Mm,tx=Uv,nx=am,rx=qC,ix=zC,ax=Ay,ox=function validateArgumentsLength(en,tn){if(en<tn)throw WC("Not enough arguments");return en},sx=XC,Ax=Gw,lx=YC.setImmediate,cx=YC.clearImmediate,ux=YC.process,hx=YC.Dispatch,dx=YC.Function,px=YC.MessageChannel,gx=YC.String,fx=0,mx={};try{kC=YC.location}catch(ys){}var vx=function run(en){if(tx(mx,en)){var tn=mx[en];delete mx[en],tn()}},yx=function runner(en){return function(){vx(en)}},bx=function listener(en){vx(en.data)},wx=function post(en){YC.postMessage(gx(en),kC.protocol+"//"+kC.host)};lx&&cx||(lx=function setImmediate(en){ox(arguments.length,1);var tn=ex(en)?en:dx(en),nn=ix(arguments,1);return mx[++fx]=function(){JC(tn,void 0,nn)},EC(fx),fx},cx=function clearImmediate(en){delete mx[en]},Ax?EC=function Sh(en){ux.nextTick(yx(en))}:hx&&hx.now?EC=function Sh(en){hx.now(yx(en))}:px&&!sx?(FC=(PC=new px).port2,PC.port1.onmessage=bx,EC=ZC(FC.postMessage,FC)):YC.addEventListener&&ex(YC.postMessage)&&!YC.importScripts&&kC&&"file:"!==kC.protocol&&!nx(wx)?(EC=wx,YC.addEventListener("message",bx,!1)):EC="onreadystatechange"in ax("script")?function(en){rx.appendChild(ax("script")).onreadystatechange=function(){rx.removeChild(this),vx(en)}}:function(en){setTimeout(yx(en),0)});var Cx,xx,Bx,_x,Sx,kx,Ex,Px,Fx={set:lx,clear:cx},Lx=rm,Ix=/ipad|iphone|ipod/i.test(Km)&&void 0!==Lx.Pebble,Ux=/web0s(?!.*chrome)/i.test(Km),Tx=rm,Qx=KC,Nx=im.f,Ox=Fx.set,Mx=XC,Rx=Ix,Hx=Ux,Dx=Gw,$x=Tx.MutationObserver||Tx.WebKitMutationObserver,Gx=Tx.document,jx=Tx.process,Vx=Tx.Promise,Kx=Nx(Tx,"queueMicrotask"),qx=Kx&&Kx.value;qx||(Cx=function ud(){var en,tn;for(Dx&&(en=jx.domain)&&en.exit();xx;){tn=xx.fn,xx=xx.next;try{tn()}catch(en){throw xx?_x():Bx=void 0,en}}Bx=void 0,en&&en.enter()},Mx||Dx||Hx||!$x||!Gx?!Rx&&Vx&&Vx.resolve?((Ex=Vx.resolve(void 0)).constructor=Vx,Px=Qx(Ex.then,Ex),_x=function fd(){Px(Cx)}):Dx?_x=function fd(){jx.nextTick(Cx)}:(Ox=Qx(Ox,Tx),_x=function fd(){Ox(Cx)}):(Sx=!0,kx=Gx.createTextNode(""),new $x(Cx).observe(kx,{characterData:!0}),_x=function fd(){kx.data=Sx=!Sx}));var zx=qx||function(en){var tn={fn:en,next:void 0};Bx&&(Bx.next=tn),xx||(xx=tn,_x()),Bx=tn},Wx=rm,Xx=function perform$3(en){try{return{error:!1,value:en()}}catch(en){return{error:!0,value:en}}},Yx=function Queue$1(){this.head=null,this.tail=null};Yx.prototype={add:function add(en){var tn={item:en,next:null};this.head?this.tail.next=tn:this.head=tn,this.tail=tn},get:function get(){var en=this.head;if(en)return this.head=en.next,this.tail===en&&(this.tail=null),en.item}};var Jx=Yx,Zx=rm.Promise,eB="object"==("undefined"==typeof Deno?"undefined":_typeof$3(Deno))&&Deno&&"object"==_typeof$3(Deno.version),tB=!eB&&!Gw&&"object"==("undefined"==typeof window?"undefined":_typeof$3(window))&&"object"==("undefined"==typeof document?"undefined":_typeof$3(document)),nB=rm,rB=Zx,iB=Mm,aB=Tw,oB=Xy,sB=Wv,AB=tB,lB=eB,cB=Zm;rB&&rB.prototype;var uB=sB("species"),hB=!1,dB=iB(nB.PromiseRejectionEvent),pB=aB("Promise",(function(){var en=oB(rB),tn=en!==String(rB);if(!tn&&66===cB)return!0;if(!cB||cB<51||!/native code/.test(en)){var nn=new rB((function(en){en(1)})),rn=function FakePromise(en){en((function(){}),(function(){}))};if((nn.constructor={})[uB]=rn,!(hB=nn.then((function(){}))instanceof rn))return!0}return!tn&&(AB||lB)&&!dB})),gB={CONSTRUCTOR:pB,REJECTION_EVENT:dB,SUBCLASSING:hB},fB={},mB=pv,vB=function PromiseCapability(en){var tn,nn;this.promise=new en((function(en,rn){if(void 0!==tn||void 0!==nn)throw TypeError("Bad Promise constructor");tn=en,nn=rn})),this.resolve=mB(tn),this.reject=mB(nn)};fB.f=function(en){return new vB(en)};var yB,bB,wB,CB=$w,xB=Gw,BB=rm,_B=cm,SB=Rb,EB=Ww,PB=Zw,FB=pv,LB=Mm,IB=Hm,UB=OC,TB=Fx.set,QB=zx,NB=Xx,OB=Jx,RB=Cb,HB=Zx,DB=fB,$B=gB.CONSTRUCTOR,GB=gB.REJECTION_EVENT,jB=gB.SUBCLASSING,VB=RB.getterFor("Promise"),KB=RB.set,qB=HB&&HB.prototype,zB=HB,WB=qB,XB=BB.TypeError,YB=BB.document,JB=BB.process,ZB=DB.f,e_=ZB,t_=!!(YB&&YB.createEvent&&BB.dispatchEvent),n_=function isThenable(en){var tn;return!(!IB(en)||!LB(tn=en.then))&&tn},r_=function callReaction(en,tn){var nn,rn,an,sn=tn.value,An=1==tn.state,cn=An?en.ok:en.fail,un=en.resolve,hn=en.reject,dn=en.domain;try{cn?(An||(2===tn.rejection&&A_(tn),tn.rejection=1),!0===cn?nn=sn:(dn&&dn.enter(),nn=cn(sn),dn&&(dn.exit(),an=!0)),nn===en.promise?hn(XB("Promise-chain cycle")):(rn=n_(nn))?_B(rn,nn,un,hn):un(nn)):hn(sn)}catch(en){dn&&!an&&dn.exit(),hn(en)}},i_=function notify(en,tn){en.notified||(en.notified=!0,QB((function(){for(var nn,rn=en.reactions;nn=rn.get();)r_(nn,en);en.notified=!1,tn&&!en.rejection&&o_(en)})))},a_=function dispatchEvent(en,tn,nn){var rn,an;t_?((rn=YB.createEvent("Event")).promise=tn,rn.reason=nn,rn.initEvent(en,!1,!0),BB.dispatchEvent(rn)):rn={promise:tn,reason:nn},!GB&&(an=BB["on"+en])?an(rn):"unhandledrejection"===en&&function hostReportErrors(en,tn){var nn=Wx.console;nn&&nn.error&&(1==arguments.length?nn.error(en):nn.error(en,tn))}("Unhandled promise rejection",nn)},o_=function onUnhandled(en){_B(TB,BB,(function(){var tn,nn=en.facade,rn=en.value;if(s_(en)&&(tn=NB((function(){xB?JB.emit("unhandledRejection",rn,nn):a_("unhandledrejection",nn,rn)})),en.rejection=xB||s_(en)?2:1,tn.error))throw tn.value}))},s_=function isUnhandled(en){return 1!==en.rejection&&!en.parent},A_=function onHandleUnhandled(en){_B(TB,BB,(function(){var tn=en.facade;xB?JB.emit("rejectionHandled",tn):a_("rejectionhandled",tn,en.value)}))},l_=function bind$1(en,tn,nn){return function(rn){en(tn,rn,nn)}},c_=function internalReject(en,tn,nn){en.done||(en.done=!0,nn&&(en=nn),en.value=tn,en.state=2,i_(en,!0))},u_=function internalResolve(en,tn,nn){if(!en.done){en.done=!0,nn&&(en=nn);try{if(en.facade===tn)throw XB("Promise can't be resolved itself");var rn=n_(tn);rn?QB((function(){var nn={done:!1};try{_B(rn,tn,l_(internalResolve,nn,en),l_(c_,nn,en))}catch(tn){c_(nn,tn,en)}})):(en.value=tn,en.state=1,i_(en,!1))}catch(tn){c_({done:!1},tn,en)}}};if($B&&(WB=(zB=function Promise(en){(function anInstance(en,tn){if(iC(tn,en))return en;throw aC("Incorrect invocation")})(this,WB),FB(en),_B(yB,this);var tn=VB(this);try{en(l_(u_,tn),l_(c_,tn))}catch(en){c_(tn,en)}}).prototype,(yB=function Promise(en){KB(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new OB,rejection:!1,state:0,value:void 0})}).prototype=SB(WB,"then",(function then(en,tn){var nn=VB(this),rn=ZB(UB(this,zB));return nn.parent=!0,rn.ok=!LB(en)||en,rn.fail=LB(tn)&&tn,rn.domain=xB?JB.domain:void 0,0==nn.state?nn.reactions.add(rn):QB((function(){r_(rn,nn)})),rn.promise})),bB=function of(){var en=new yB,tn=VB(en);this.promise=en,this.resolve=l_(u_,tn),this.reject=l_(c_,tn)},DB.f=ZB=function Of(en){return en===zB||void 0===en?new bB(en):e_(en)},LB(HB)&&qB!==Object.prototype)){wB=qB.then,jB||SB(qB,"then",(function then(en,tn){var nn=this;return new zB((function(en,tn){_B(wB,nn,en,tn)})).then(en,tn)}),{unsafe:!0});try{delete qB.constructor}catch(ys){}EB&&EB(qB,WB)}CB({global:!0,constructor:!0,wrap:!0,forced:$B},{Promise:zB}),PB(zB,"Promise",!1),function setSpecies(en){var tn=eC(en),nn=tC.f;nC&&tn&&!tn[rC]&&nn(tn,rC,{configurable:!0,get:function get(){return this}})}("Promise");var h_={},d_=h_,p_=Wv("iterator"),g_=Array.prototype,f_=dC,m_=fv,v_=h_,y_=Wv("iterator"),b_=function getIteratorMethod$2(en){if(null!=en)return m_(en,y_)||m_(en,"@@iterator")||v_[f_(en)]},w_=cm,C_=pv,x_=_y,B_=cv,S_=b_,k_=TypeError,E_=cm,P_=_y,F_=fv,L_=KC,I_=cm,U_=_y,T_=cv,Q_=ew,N_=Vm,O_=b_,M_=function iteratorClose(en,tn,nn){var rn,an;P_(en);try{if(!(rn=F_(en,"return"))){if("throw"===tn)throw nn;return nn}rn=E_(rn,en)}catch(en){an=!0,rn=en}if("throw"===tn)throw nn;if(an)throw rn;return P_(rn),nn},R_=TypeError,H_=function Result(en,tn){this.stopped=en,this.result=tn},D_=H_.prototype,$_=function iterate$2(en,tn,nn){var rn,an,sn,An,cn,un,hn,dn=nn&&nn.that,pn=!(!nn||!nn.AS_ENTRIES),gn=!(!nn||!nn.IS_RECORD),mn=!(!nn||!nn.IS_ITERATOR),vn=!(!nn||!nn.INTERRUPTED),yn=L_(tn,dn),bn=function stop(en){return rn&&M_(rn,"normal",en),new H_(!0,en)},wn=function callFn(en){return pn?(U_(en),vn?yn(en[0],en[1],bn):yn(en[0],en[1])):vn?yn(en,bn):yn(en)};if(gn)rn=en.iterator;else if(mn)rn=en;else{if(!(an=O_(en)))throw R_(T_(en)+" is not iterable");if(function isArrayIteratorMethod(en){return void 0!==en&&(d_.Array===en||g_[p_]===en)}(an)){for(sn=0,An=Q_(en);An>sn;sn++)if((cn=wn(en[sn]))&&N_(D_,cn))return cn;return new H_(!1)}rn=function getIterator(en,tn){var nn=arguments.length<2?S_(en):tn;if(C_(nn))return x_(w_(nn,en));throw k_(B_(en)+" is not iterable")}(en,an)}for(un=gn?en.next:rn.next;!(hn=I_(un,rn)).done;){try{cn=wn(hn.value)}catch(en){M_(rn,"throw",en)}if("object"==_typeof$3(cn)&&cn&&N_(D_,cn))return cn}return new H_(!1)},G_=Wv("iterator"),j_=!1;try{var V_=0,K_={next:function next(){return{done:!!V_++}},return:function _return(){j_=!0}};K_[G_]=function(){return this},Array.from(K_,(function(){throw 2}))}catch(ys){}var q_=Zx,z_=gB.CONSTRUCTOR||!function checkCorrectnessOfIteration(en,tn){if(!tn&&!j_)return!1;var nn=!1;try{var rn={};rn[G_]=function(){return{next:function next(){return{done:nn=!0}}}},en(rn)}catch(en){}return nn}((function(en){q_.all(en).then(void 0,(function(){}))})),W_=cm,X_=pv,Y_=fB,J_=Xx,Z_=$_;$w({target:"Promise",stat:!0,forced:z_},{all:function all(en){var tn=this,nn=Y_.f(tn),rn=nn.resolve,an=nn.reject,sn=J_((function(){var nn=X_(tn.resolve),sn=[],An=0,cn=1;Z_(en,(function(en){var un=An++,hn=!1;cn++,W_(nn,tn,en).then((function(en){hn||(hn=!0,sn[un]=en,--cn||rn(sn))}),an)})),--cn||rn(sn)}));return sn.error&&an(sn.value),nn.promise}});var eS=$w,tS=gB.CONSTRUCTOR,nS=Zx,rS=jm,iS=Mm,aS=Rb,oS=nS&&nS.prototype;if(eS({target:"Promise",proto:!0,forced:tS,real:!0},{catch:function _catch(en){return this.then(void 0,en)}}),iS(nS)){var sS=rS("Promise").prototype.catch;oS.catch!==sS&&aS(oS,"catch",sS,{unsafe:!0})}var AS=cm,lS=pv,cS=fB,uS=Xx,hS=$_;$w({target:"Promise",stat:!0,forced:z_},{race:function race(en){var tn=this,nn=cS.f(tn),rn=nn.reject,an=uS((function(){var an=lS(tn.resolve);hS(en,(function(en){AS(an,tn,en).then(nn.resolve,rn)}))}));return an.error&&rn(an.value),nn.promise}});var dS=cm,pS=fB;$w({target:"Promise",stat:!0,forced:gB.CONSTRUCTOR},{reject:function reject(en){var tn=pS.f(this);return dS(tn.reject,void 0,en),tn.promise}});var gS=_y,fS=Hm,mS=fB,vS=$w,yS=gB.CONSTRUCTOR;function asyncGeneratorStep(en,tn,nn,rn,an,sn,An){try{var cn=en[sn](An),un=cn.value}catch(en){return void nn(en)}cn.done?tn(un):Promise.resolve(un).then(rn,an)}function _asyncToGenerator(en){return function(){var tn=this,nn=arguments;return new Promise((function(rn,an){var sn=en.apply(tn,nn);function _next(en){asyncGeneratorStep(sn,rn,an,_next,_throw,"next",en)}function _throw(en){asyncGeneratorStep(sn,rn,an,_next,_throw,"throw",en)}_next(void 0)}))}}jm("Promise"),vS({target:"Promise",stat:!0,forced:yS},{resolve:function resolve(en){return function promiseResolve(en,tn){if(gS(en),fS(tn)&&tn.constructor===en)return tn;var nn=mS.f(en);return(0,nn.resolve)(tn),nn.promise}(this,en)}});var bS=dC,wS=String,CS=function toString$9(en){if("Symbol"===bS(en))throw TypeError("Cannot convert a Symbol value to a string");return wS(en)},xS=_y,BS=function regexpFlags$1(){var en=xS(this),tn="";return en.hasIndices&&(tn+="d"),en.global&&(tn+="g"),en.ignoreCase&&(tn+="i"),en.multiline&&(tn+="m"),en.dotAll&&(tn+="s"),en.unicode&&(tn+="u"),en.unicodeSets&&(tn+="v"),en.sticky&&(tn+="y"),tn},_S=am,SS=rm.RegExp,kS=_S((function(){var en=SS("a","y");return en.lastIndex=2,null!=en.exec("abcd")})),ES=kS||_S((function(){return!SS("a","y").sticky})),PS=kS||_S((function(){var en=SS("^r","gy");return en.lastIndex=2,null!=en.exec("str")})),FS={BROKEN_CARET:PS,MISSED_STICKY:ES,UNSUPPORTED_Y:kS},LS={},IS=uw,US=hw,TS=Object.keys||function keys(en){return IS(en,US)},QS=om,NS=wy,OS=by,MS=_y,RS=Om,HS=TS;LS.f=QS&&!NS?Object.defineProperties:function defineProperties(en,tn){MS(en);for(var nn,rn=RS(tn),an=HS(tn),sn=an.length,An=0;sn>An;)OS.f(en,nn=an[An++],rn[nn]);return en};var DS,$S=_y,GS=LS,jS=hw,VS=ab,KS=qC,qS=Ay,zS=ib("IE_PROTO"),WS=function EmptyConstructor(){},XS=function scriptTag(en){return"<script>"+en+"<\/script>"},YS=function NullProtoObjectViaActiveX(en){en.write(XS("")),en.close();var tn=en.parentWindow.Object;return en=null,tn},JS=function NullProtoObject(){try{DS=new ActiveXObject("htmlfile")}catch(en){}var en,tn;JS="undefined"!=typeof document?document.domain&&DS?YS(DS):((tn=qS("iframe")).style.display="none",KS.appendChild(tn),tn.src=String("javascript:"),(en=tn.contentWindow.document).open(),en.write(XS("document.F=Object")),en.close(),en.F):YS(DS);for(var nn=jS.length;nn--;)delete JS.prototype[jS[nn]];return JS()};VS[zS]=!0;var ZS,ek,tk=Object.create||function create(en,tn){var nn;return null!==en?(WS.prototype=$S(en),nn=new WS,WS.prototype=null,nn[zS]=en):nn=JS(),void 0===tn?nn:GS.f(nn,tn)},nk=am,rk=rm.RegExp,ik=nk((function(){var en=rk(".","s");return!(en.dotAll&&en.exec("\n")&&"s"===en.flags)})),ak=am,ok=rm.RegExp,sk=ak((function(){var en=ok("(?<a>b)","g");return"b"!==en.exec("b").groups.a||"bc"!=="b".replace(en,"$<a>c")})),Ak=cm,lk=xm,ck=CS,uk=BS,hk=FS,dk=wv.exports,pk=tk,gk=Cb.get,fk=ik,mk=sk,vk=dk("native-string-replace",String.prototype.replace),yk=RegExp.prototype.exec,bk=yk,wk=lk("".charAt),Ck=lk("".indexOf),xk=lk("".replace),Bk=lk("".slice),_k=(ek=/b*/g,Ak(yk,ZS=/a/,"a"),Ak(yk,ek,"a"),0!==ZS.lastIndex||0!==ek.lastIndex),Sk=hk.BROKEN_CARET,kk=void 0!==/()??/.exec("")[1];(_k||kk||Sk||fk||mk)&&(bk=function exec(en){var tn,nn,rn,an,sn,An,cn,un=this,hn=gk(un),dn=ck(en),pn=hn.raw;if(pn)return pn.lastIndex=un.lastIndex,tn=Ak(bk,pn,dn),un.lastIndex=pn.lastIndex,tn;var gn=hn.groups,mn=Sk&&un.sticky,vn=Ak(uk,un),yn=un.source,bn=0,wn=dn;if(mn&&(vn=xk(vn,"y",""),-1===Ck(vn,"g")&&(vn+="g"),wn=Bk(dn,un.lastIndex),un.lastIndex>0&&(!un.multiline||un.multiline&&"\n"!==wk(dn,un.lastIndex-1))&&(yn="(?: "+yn+")",wn=" "+wn,bn++),nn=new RegExp("^(?:"+yn+")",vn)),kk&&(nn=new RegExp("^"+yn+"$(?!\\s)",vn)),_k&&(rn=un.lastIndex),an=Ak(yk,mn?nn:un,wn),mn?an?(an.input=Bk(an.input,bn),an[0]=Bk(an[0],bn),an.index=un.lastIndex,un.lastIndex+=an[0].length):un.lastIndex=0:_k&&an&&(un.lastIndex=un.global?an.index+an[0].length:rn),kk&&an&&an.length>1&&Ak(vk,an[0],nn,(function(){for(sn=1;sn<arguments.length-2;sn++)void 0===arguments[sn]&&(an[sn]=void 0)})),an&&gn)for(an.groups=An=pk(null),sn=0;sn<gn.length;sn++)An[(cn=gn[sn])[0]]=an[cn[1]];return an});var Ek=bk;$w({target:"RegExp",proto:!0,forced:/./.exec!==Ek},{exec:Ek});var Pk=xm,Fk=Rb,Lk=Ek,Ik=am,Uk=Wv,Tk=Ny,Qk=Uk("species"),Nk=RegExp.prototype,Ok=function fixRegexpWellKnownSymbolLogic(en,tn,nn,rn){var an=Uk(en),sn=!Ik((function(){var tn={};return tn[an]=function(){return 7},7!=""[en](tn)})),An=sn&&!Ik((function(){var tn=!1,nn=/a/;return"split"===en&&((nn={}).constructor={},nn.constructor[Qk]=function(){return nn},nn.flags="",nn[an]=/./[an]),nn.exec=function(){return tn=!0,null},nn[an](""),!tn}));if(!sn||!An||nn){var cn=Pk(/./[an]),un=tn(an,""[en],(function(en,tn,nn,rn,an){var An=Pk(en),un=tn.exec;return un===Lk||un===Nk.exec?sn&&!an?{done:!0,value:cn(tn,nn,rn)}:{done:!0,value:An(nn,tn,rn)}:{done:!1}}));Fk(String.prototype,en,un[0]),Fk(Nk,an,un[1])}rn&&Tk(Nk[an],"sham",!0)},Mk=xm,Rk=Vb,Hk=CS,Dk=Tm,$k=Mk("".charAt),Gk=Mk("".charCodeAt),jk=Mk("".slice),Vk=function createMethod$2(en){return function(tn,nn){var rn,an,sn=Hk(Dk(tn)),An=Rk(nn),cn=sn.length;return An<0||An>=cn?en?"":void 0:(rn=Gk(sn,An))<55296||rn>56319||An+1===cn||(an=Gk(sn,An+1))<56320||an>57343?en?$k(sn,An):rn:en?jk(sn,An,An+2):an-56320+(rn-55296<<10)+65536}},Kk=(Vk(!1),Vk(!0)),qk=function advanceStringIndex$3(en,tn,nn){return tn+(nn?Kk(en,tn).length:1)},zk=cm,Wk=_y,Xk=Mm,Yk=km,Jk=Ek,Zk=TypeError,eE=function regexpExecAbstract(en,tn){var nn=en.exec;if(Xk(nn)){var rn=zk(nn,en,tn);return null!==rn&&Wk(rn),rn}if("RegExp"===Yk(en))return zk(Jk,en,tn);throw Zk("RegExp#exec called on incompatible receiver")},tE=cm,nE=_y,rE=Jb,iE=CS,aE=Tm,oE=fv,sE=qk,AE=eE;Ok("match",(function(en,tn,nn){return[function match(tn){var nn=aE(this),rn=null==tn?void 0:oE(tn,en);return rn?tE(rn,tn,nn):new RegExp(tn)[en](iE(nn))},function(en){var rn=nE(this),an=iE(en),sn=nn(tn,rn,an);if(sn.done)return sn.value;if(!rn.global)return AE(rn,an);var An=rn.unicode;rn.lastIndex=0;for(var cn,un=[],hn=0;null!==(cn=AE(rn,an));){var dn=iE(cn[0]);un[hn]=dn,""===dn&&(rn.lastIndex=sE(an,rE(rn.lastIndex),An)),hn++}return 0===hn?null:un}]}));var lE=xm,cE=Fv,uE=Math.floor,hE=lE("".charAt),dE=lE("".replace),pE=lE("".slice),gE=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,fE=/\$([$&'`]|\d{1,2})/g,mE=$C,vE=cm,yE=xm,bE=Ok,wE=am,CE=_y,xE=Mm,BE=Vb,_E=Jb,SE=CS,kE=Tm,EE=qk,PE=fv,FE=function getSubstitution(en,tn,nn,rn,an,sn){var An=nn+en.length,cn=rn.length,un=fE;return void 0!==an&&(an=cE(an),un=gE),dE(sn,un,(function(sn,un){var hn;switch(hE(un,0)){case"$":return"$";case"&":return en;case"`":return pE(tn,0,nn);case"'":return pE(tn,An);case"<":hn=an[pE(un,1,-1)];break;default:var dn=+un;if(0===dn)return sn;if(dn>cn){var pn=uE(dn/10);return 0===pn?sn:pn<=cn?void 0===rn[pn-1]?hE(un,1):rn[pn-1]+hE(un,1):sn}hn=rn[dn-1]}return void 0===hn?"":hn}))},LE=eE,IE=Wv("replace"),UE=Math.max,TE=Math.min,QE=yE([].concat),NE=yE([].push),OE=yE("".indexOf),ME=yE("".slice),RE=function maybeToString(en){return void 0===en?en:String(en)},HE="$0"==="a".replace(/./,"$0"),DE=!!/./[IE]&&""===/./[IE]("a","$0"),$E=!wE((function(){var en=/./;return en.exec=function(){var en=[];return en.groups={a:"7"},en},"7"!=="".replace(en,"$<a>")}));bE("replace",(function(en,tn,nn){var rn=DE?"$":"$0";return[function replace(en,nn){var rn=kE(this),an=null==en?void 0:PE(en,IE);return an?vE(an,en,rn,nn):vE(tn,SE(rn),en,nn)},function(en,an){var sn=CE(this),An=SE(en);if("string"==typeof an&&-1===OE(an,rn)&&-1===OE(an,"$<")){var cn=nn(tn,sn,An,an);if(cn.done)return cn.value}var un=xE(an);un||(an=SE(an));var hn=sn.global;if(hn){var dn=sn.unicode;sn.lastIndex=0}for(var pn=[];;){var gn=LE(sn,An);if(null===gn)break;if(NE(pn,gn),!hn)break;""===SE(gn[0])&&(sn.lastIndex=EE(An,_E(sn.lastIndex),dn))}for(var mn="",vn=0,yn=0;yn<pn.length;yn++){for(var bn=SE((gn=pn[yn])[0]),wn=UE(TE(BE(gn.index),An.length),0),Cn=[],xn=1;xn<gn.length;xn++)NE(Cn,RE(gn[xn]));var Bn=gn.groups;if(un){var _n=QE([bn],Cn,wn,An);void 0!==Bn&&NE(_n,Bn);var Sn=SE(mE(an,void 0,_n))}else Sn=FE(bn,An,wn,Cn,Bn,an);wn>=vn&&(mn+=ME(An,vn,wn)+Sn,vn=wn+bn.length)}return mn+ME(An,vn)}]}),!$E||!HE||DE);var GE,jE=Hm,VE=km,KE=Wv("match"),qE=function isRegexp(en){var tn;return jE(en)&&(void 0!==(tn=en[KE])?!!tn:"RegExp"==VE(en))},zE=qE,WE=TypeError,XE=function notARegexp(en){if(zE(en))throw WE("The method doesn't accept regular expressions");return en},YE=Wv("match"),JE=function correctIsRegexpLogic(en){var tn=/./;try{"/./"[en](tn)}catch(nn){try{return tn[YE]=!1,"/./"[en](tn)}catch(en){}}return!1},ZE=$w,eP=xm,tP=im.f,nP=Jb,rP=CS,iP=XE,aP=Tm,oP=JE,sP=eP("".startsWith),AP=eP("".slice),lP=Math.min,cP=oP("startsWith");ZE({target:"String",proto:!0,forced:!(!cP&&(GE=tP(String.prototype,"startsWith"),GE&&!GE.writable)||cP)},{startsWith:function startsWith(en){var tn=rP(aP(this));iP(en);var nn=nP(lP(arguments.length>1?arguments[1]:void 0,tn.length)),rn=rP(en);return sP?sP(tn,rn,nn):AP(tn,nn,nn+rn.length)===rn}});var uP=Wv,hP=tk,dP=by.f,pP=uP("unscopables"),gP=Array.prototype;null==gP[pP]&&dP(gP,pP,{configurable:!0,value:hP(null)});var fP,mP,vP,yP=!am((function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F)!==F.prototype})),bP=Uv,wP=Mm,CP=Fv,xP=yP,BP=ib("IE_PROTO"),_P=Object,SP=_P.prototype,kP=xP?_P.getPrototypeOf:function(en){var tn=CP(en);if(bP(tn,BP))return tn[BP];var nn=tn.constructor;return wP(nn)&&tn instanceof nn?nn.prototype:tn instanceof _P?SP:null},EP=am,PP=Mm,FP=kP,LP=Rb,IP=Wv("iterator"),UP=!1;[].keys&&("next"in(vP=[].keys())?(mP=FP(FP(vP)))!==Object.prototype&&(fP=mP):UP=!0);var TP=null==fP||EP((function(){var en={};return fP[IP].call(en)!==en}));TP&&(fP={}),PP(fP[IP])||LP(fP,IP,(function(){return this}));var QP={IteratorPrototype:fP,BUGGY_SAFARI_ITERATORS:UP},NP=QP.IteratorPrototype,OP=tk,MP=mm,RP=Zw,HP=h_,DP=function returnThis$1(){return this},$P=$w,GP=cm,jP=Mm,VP=kP,KP=Ww,qP=Zw,zP=Ny,WP=Rb,XP=h_,YP=Gy.PROPER,JP=Gy.CONFIGURABLE,ZP=QP.IteratorPrototype,eF=QP.BUGGY_SAFARI_ITERATORS,tF=Wv("iterator"),nF=function returnThis(){return this},rF=Om,iF=function addToUnscopables(en){gP[pP][en]=!0},aF=h_,oF=Cb,sF=by.f,AF=om,lF=oF.set,cF=oF.getterFor("Array Iterator"),uF=function defineIterator(en,tn,nn,rn,an,sn,An){!function createIteratorConstructor(en,tn,nn,rn){var an=tn+" Iterator";en.prototype=OP(NP,{next:MP(+!rn,nn)}),RP(en,an,!1),HP[an]=DP}(nn,tn,rn);var cn,un,hn,dn=function getIterationMethod(en){if(en===an&&yn)return yn;if(!eF&&en in mn)return mn[en];switch(en){case"keys":return function keys(){return new nn(this,en)};case"values":return function values(){return new nn(this,en)};case"entries":return function entries(){return new nn(this,en)}}return function(){return new nn(this)}},pn=tn+" Iterator",gn=!1,mn=en.prototype,vn=mn[tF]||mn["@@iterator"]||an&&mn[an],yn=!eF&&vn||dn(an),bn="Array"==tn&&mn.entries||vn;if(bn&&(cn=VP(bn.call(new en)))!==Object.prototype&&cn.next&&(VP(cn)!==ZP&&(KP?KP(cn,ZP):jP(cn[tF])||WP(cn,tF,nF)),qP(cn,pn,!0)),YP&&"values"==an&&vn&&"values"!==vn.name&&(JP?zP(mn,"name","values"):(gn=!0,yn=function values(){return GP(vn,this)})),an)if(un={values:dn("values"),keys:sn?yn:dn("keys"),entries:dn("entries")},An)for(hn in un)(eF||gn||!(hn in mn))&&WP(mn,hn,un[hn]);else $P({target:tn,proto:!0,forced:eF||gn},un);return mn[tF]!==yn&&WP(mn,tF,yn,{name:an}),XP[tn]=yn,un}(Array,"Array",(function(en,tn){lF(this,{type:"Array Iterator",target:rF(en),index:0,kind:tn})}),(function(){var en=cF(this),tn=en.target,nn=en.kind,rn=en.index++;return!tn||rn>=tn.length?(en.target=void 0,{value:void 0,done:!0}):"keys"==nn?{value:rn,done:!1}:"values"==nn?{value:tn[rn],done:!1}:{value:[rn,tn[rn]],done:!1}}),"values"),hF=aF.Arguments=aF.Array;if(iF("keys"),iF("values"),iF("entries"),AF&&"values"!==hF.name)try{sF(hF,"name",{value:"values"})}catch(ys){}var dF=Ay("span").classList,pF=dF&&dF.constructor&&dF.constructor.prototype,gF=pF===Object.prototype?void 0:pF,fF=rm,mF={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},vF=gF,yF=uF,bF=Ny,wF=Wv,CF=wF("iterator"),xF=wF("toStringTag"),BF=yF.values,_F=function handlePrototype(en,tn){if(en){if(en[CF]!==BF)try{bF(en,CF,BF)}catch(tn){en[CF]=BF}if(en[xF]||bF(en,xF,tn),mF[tn])for(var nn in yF)if(en[nn]!==yF[nn])try{bF(en,nn,yF[nn])}catch(tn){en[nn]=yF[nn]}}};for(var SF in mF)_F(fF[SF]&&fF[SF].prototype,SF);function _defineProperty(en,tn,nn){return tn in en?Object.defineProperty(en,tn,{value:nn,enumerable:!0,configurable:!0,writable:!0}):en[tn]=nn,en}_F(vF,"DOMTokenList");var kF=pv,EF=Fv,PF=Im,FF=ew,LF=TypeError,IF=function createMethod$1(en){return function(tn,nn,rn,an){kF(nn);var sn=EF(tn),An=PF(sn),cn=FF(sn),un=en?cn-1:0,hn=en?-1:1;if(rn<2)for(;;){if(un in An){an=An[un],un+=hn;break}if(un+=hn,en?un<0:cn<=un)throw LF("Reduce of empty array with no initial value")}for(;en?un>=0:cn>un;un+=hn)un in An&&(an=nn(an,An[un],un,sn));return an}},UF={left:IF(!1),right:IF(!0)},TF=am,QF=function arrayMethodIsStrict$2(en,tn){var nn=[][en];return!!nn&&TF((function(){nn.call(null,tn||function(){return 1},1)}))},NF=UF.left,OF=Zm,MF=Gw;$w({target:"Array",proto:!0,forced:!QF("reduce")||!MF&&OF>79&&OF<83},{reduce:function reduce(en){var tn=arguments.length;return NF(this,en,tn,tn>1?arguments[1]:void 0)}});var RF=$w,HF=xm,DF=im.f,$F=Jb,GF=CS,jF=XE,VF=Tm,KF=JE,qF=HF("".endsWith),zF=HF("".slice),WF=Math.min,XF=KF("endsWith"),YF=!XF&&!!function(){var en=DF(String.prototype,"endsWith");return en&&!en.writable}();RF({target:"String",proto:!0,forced:!YF&&!XF},{endsWith:function endsWith(en){var tn=GF(VF(this));jF(en);var nn=arguments.length>1?arguments[1]:void 0,rn=tn.length,an=void 0===nn?rn:WF($F(nn),rn),sn=GF(en);return qF?qF(tn,sn,an):zF(tn,an-sn.length,an)===sn}});var JF=iy,ZF=by,eL=mm,tL=Wb,nL=ew,rL=function createProperty(en,tn,nn){var rn=JF(tn);rn in en?ZF.f(en,rn,eL(0,nn)):en[rn]=nn},iL=Array,aL=Math.max,oL=$C,sL=cm,AL=xm,lL=Ok,cL=qE,uL=_y,hL=Tm,dL=OC,pL=qk,gL=Jb,fL=CS,mL=fv,vL=function arraySlice(en,tn,nn){for(var rn=nL(en),an=tL(tn,rn),sn=tL(void 0===nn?rn:nn,rn),An=iL(aL(sn-an,0)),cn=0;an<sn;an++,cn++)rL(An,cn,en[an]);return An.length=cn,An},yL=eE,bL=Ek,wL=am,CL=FS.UNSUPPORTED_Y,xL=Math.min,BL=[].push,_L=AL(/./.exec),SL=AL(BL),kL=AL("".slice),EL=!wL((function(){var en=/(?:)/,tn=en.exec;en.exec=function(){return tn.apply(this,arguments)};var nn="ab".split(en);return 2!==nn.length||"a"!==nn[0]||"b"!==nn[1]}));lL("split",(function(en,tn,nn){var rn;return rn="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(en,nn){var rn=fL(hL(this)),an=void 0===nn?4294967295:nn>>>0;if(0===an)return[];if(void 0===en)return[rn];if(!cL(en))return sL(tn,rn,en,an);for(var sn,An,cn,un=[],hn=(en.ignoreCase?"i":"")+(en.multiline?"m":"")+(en.unicode?"u":"")+(en.sticky?"y":""),dn=0,pn=new RegExp(en.source,hn+"g");(sn=sL(bL,pn,rn))&&!((An=pn.lastIndex)>dn&&(SL(un,kL(rn,dn,sn.index)),sn.length>1&&sn.index<rn.length&&oL(BL,un,vL(sn,1)),cn=sn[0].length,dn=An,un.length>=an));)pn.lastIndex===sn.index&&pn.lastIndex++;return dn===rn.length?!cn&&_L(pn,"")||SL(un,""):SL(un,kL(rn,dn)),un.length>an?vL(un,0,an):un}:"0".split(void 0,0).length?function(en,nn){return void 0===en&&0===nn?[]:sL(tn,this,en,nn)}:tn,[function split(tn,nn){var an=hL(this),sn=null==tn?void 0:mL(tn,en);return sn?sL(sn,tn,an,nn):sL(rn,fL(an),tn,nn)},function(en,an){var sn=uL(this),An=fL(en),cn=nn(rn,sn,An,an,rn!==tn);if(cn.done)return cn.value;var un=dL(sn,RegExp),hn=sn.unicode,dn=(sn.ignoreCase?"i":"")+(sn.multiline?"m":"")+(sn.unicode?"u":"")+(CL?"g":"y"),pn=new un(CL?"^(?:"+sn.source+")":sn,dn),gn=void 0===an?4294967295:an>>>0;if(0===gn)return[];if(0===An.length)return null===yL(pn,An)?[An]:[];for(var mn=0,vn=0,yn=[];vn<An.length;){pn.lastIndex=CL?0:vn;var bn,wn=yL(pn,CL?kL(An,vn):An);if(null===wn||(bn=xL(gL(pn.lastIndex+(CL?vn:0)),An.length))===mn)vn=pL(An,vn,hn);else{if(SL(yn,kL(An,mn,vn)),yn.length===gn)return yn;for(var Cn=1;Cn<=wn.length-1;Cn++)if(SL(yn,wn[Cn]),yn.length===gn)return yn;vn=mn=bn}}return SL(yn,kL(An,mn)),yn}]}),!EL,CL);var PL={exports:{}},FL={exports:{}};(function(){var en,tn,nn,rn,an,sn;"undefined"!=typeof performance&&null!==performance&&performance.now?FL.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(FL.exports=function(){return(en()-an)/1e6},tn=process.hrtime,rn=(en=function tA(){var tA;return 1e9*(tA=tn())[0]+tA[1]})(),sn=1e9*process.uptime(),an=rn-sn):Date.now?(FL.exports=function(){return Date.now()-nn},nn=Date.now()):(FL.exports=function(){return(new Date).getTime()-nn},nn=(new Date).getTime())}).call(Yp);for(var LL=FL.exports,IL="undefined"==typeof window?Yp:window,UL=["moz","webkit"],TL="AnimationFrame",QL=IL["request"+TL],NL=IL["cancel"+TL]||IL["cancelRequest"+TL],OL=0;!QL&&OL<UL.length;OL++)QL=IL[UL[OL]+"Request"+TL],NL=IL[UL[OL]+"Cancel"+TL]||IL[UL[OL]+"CancelRequest"+TL];if(!QL||!NL){var ML=0,RL=0,HL=[];QL=function kB(en){if(0===HL.length){var tn=LL(),nn=Math.max(0,16.666666666666668-(tn-ML));ML=nn+tn,setTimeout((function(){var en=HL.slice(0);HL.length=0;for(var tn=0;tn<en.length;tn++)if(!en[tn].cancelled)try{en[tn].callback(ML)}catch(en){setTimeout((function(){throw en}),0)}}),Math.round(nn))}return HL.push({handle:++RL,callback:en,cancelled:!1}),RL},NL=function MB(en){for(var tn=0;tn<HL.length;tn++)HL[tn].handle===en&&(HL[tn].cancelled=!0)}}PL.exports=function(en){return QL.call(IL,en)},PL.exports.cancel=function(){NL.apply(IL,arguments)},PL.exports.polyfill=function(en){en||(en=IL),en.requestAnimationFrame=QL,en.cancelAnimationFrame=NL};var DL=PL.exports,$L=Tm,GL=CS,jL=xm("".replace),VL="[\t\n\v\f\r                　\u2028\u2029\ufeff]",KL=RegExp("^"+VL+VL+"*"),qL=RegExp(VL+VL+"*$"),zL=function createMethod(en){return function(tn){var nn=GL($L(tn));return 1&en&&(nn=jL(nn,KL,"")),2&en&&(nn=jL(nn,qL,"")),nn}},WL={start:zL(1),end:zL(2),trim:zL(3)},XL=Gy.PROPER,YL=am,JL="\t\n\v\f\r                　\u2028\u2029\ufeff",ZL=WL.trim;$w({target:"String",proto:!0,forced:function(en){return YL((function(){return!!JL[en]()||"​᠎"!=="​᠎"[en]()||XL&&JL[en].name!==en}))}("trim")},{trim:function trim(){return ZL(this)}});var eI=function rgbcolor(en){this.ok=!1,this.alpha=1,"#"==en.charAt(0)&&(en=en.substr(1,6)),en=(en=en.replace(/ /g,"")).toLowerCase();var tn={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};en=tn[en]||en;for(var nn=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function process(en){return[parseInt(en[1]),parseInt(en[2]),parseInt(en[3]),parseFloat(en[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function process(en){return[parseInt(en[1]),parseInt(en[2]),parseInt(en[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function process(en){return[parseInt(en[1],16),parseInt(en[2],16),parseInt(en[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function process(en){return[parseInt(en[1]+en[1],16),parseInt(en[2]+en[2],16),parseInt(en[3]+en[3],16)]}}],rn=0;rn<nn.length;rn++){var an=nn[rn].re,sn=nn[rn].process,An=an.exec(en);if(An){var cn=sn(An);this.r=cn[0],this.g=cn[1],this.b=cn[2],cn.length>3&&(this.alpha=cn[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var en=this.r.toString(16),tn=this.g.toString(16),nn=this.b.toString(16);return 1==en.length&&(en="0"+en),1==tn.length&&(tn="0"+tn),1==nn.length&&(nn="0"+nn),"#"+en+tn+nn},this.getHelpXML=function(){for(var en=new Array,rn=0;rn<nn.length;rn++)for(var an=nn[rn].example,sn=0;sn<an.length;sn++)en[en.length]=an[sn];for(var An in tn)en[en.length]=An;var cn=document.createElement("ul");for(cn.setAttribute("id","rgbcolor-examples"),rn=0;rn<en.length;rn++)try{var un=document.createElement("li"),hn=new RGBColor(en[rn]),dn=document.createElement("div");dn.style.cssText="margin: 3px; border: 1px solid black; background:"+hn.toHex()+"; color:"+hn.toHex(),dn.appendChild(document.createTextNode("test"));var pn=document.createTextNode(" "+en[rn]+" -> "+hn.toRGB()+" -> "+hn.toHex());un.appendChild(dn),un.appendChild(pn),cn.appendChild(un)}catch(en){}return cn}},tI=$w,nI=aw.indexOf,rI=QF,iI=xm([].indexOf),aI=!!iI&&1/iI([1],1,-0)<0,oI=rI("indexOf");tI({target:"Array",proto:!0,forced:aI||!oI},{indexOf:function indexOf(en){var tn=arguments.length>1?arguments[1]:void 0;return aI?iI(this,en,tn)||0:nI(this,en,tn)}});var sI=$w,AI=XE,lI=Tm,cI=CS,uI=JE,hI=xm("".indexOf);sI({target:"String",proto:!0,forced:!uI("includes")},{includes:function includes(en){return!!~hI(cI(lI(this)),cI(AI(en)),arguments.length>1?arguments[1]:void 0)}});var dI=km,pI=$w,gI=Array.isArray||function isArray(en){return"Array"==dI(en)},fI=xm([].reverse),mI=[1,2];pI({target:"Array",proto:!0,forced:String(mI)===String(mI.reverse())},{reverse:function reverse(){return gI(this)&&(this.length=this.length),fI(this)}});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var vI=function t(en,tn){return(vI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(en,tn){en.__proto__=tn}||function(en,tn){for(var nn in tn)Object.prototype.hasOwnProperty.call(tn,nn)&&(en[nn]=tn[nn])})(en,tn)};function r(en,tn){if("function"!=typeof tn&&null!==tn)throw new TypeError("Class extends value "+String(tn)+" is not a constructor or null");function i(){this.constructor=en}vI(en,tn),en.prototype=null===tn?Object.create(tn):(i.prototype=tn.prototype,new i)}function i(en,tn){var nn=en[0],rn=en[1];return[nn*Math.cos(tn)-rn*Math.sin(tn),nn*Math.sin(tn)+rn*Math.cos(tn)]}function a(){for(var en=[],tn=0;tn<arguments.length;tn++)en[tn]=arguments[tn];for(var nn=0;nn<en.length;nn++)if("number"!=typeof en[nn])throw new Error("assertNumbers arguments["+nn+"] is not a number. "+_typeof$3(en[nn])+" == typeof "+en[nn]);return!0}var yI=Math.PI;function o(en,tn,nn){en.lArcFlag=0===en.lArcFlag?0:1,en.sweepFlag=0===en.sweepFlag?0:1;var rn=en.rX,an=en.rY,sn=en.x,An=en.y;rn=Math.abs(en.rX),an=Math.abs(en.rY);var cn=i([(tn-sn)/2,(nn-An)/2],-en.xRot/180*yI),un=cn[0],hn=cn[1],dn=Math.pow(un,2)/Math.pow(rn,2)+Math.pow(hn,2)/Math.pow(an,2);1<dn&&(rn*=Math.sqrt(dn),an*=Math.sqrt(dn)),en.rX=rn,en.rY=an;var pn=Math.pow(rn,2)*Math.pow(hn,2)+Math.pow(an,2)*Math.pow(un,2),gn=(en.lArcFlag!==en.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(rn,2)*Math.pow(an,2)-pn)/pn)),mn=rn*hn/an*gn,vn=-an*un/rn*gn,yn=i([mn,vn],en.xRot/180*yI);en.cX=yn[0]+(tn+sn)/2,en.cY=yn[1]+(nn+An)/2,en.phi1=Math.atan2((hn-vn)/an,(un-mn)/rn),en.phi2=Math.atan2((-hn-vn)/an,(-un-mn)/rn),0===en.sweepFlag&&en.phi2>en.phi1&&(en.phi2-=2*yI),1===en.sweepFlag&&en.phi2<en.phi1&&(en.phi2+=2*yI),en.phi1*=180/yI,en.phi2*=180/yI}function s(en,tn,nn){a(en,tn,nn);var rn=en*en+tn*tn-nn*nn;if(0>rn)return[];if(0===rn)return[[en*nn/(en*en+tn*tn),tn*nn/(en*en+tn*tn)]];var an=Math.sqrt(rn);return[[(en*nn+tn*an)/(en*en+tn*tn),(tn*nn-en*an)/(en*en+tn*tn)],[(en*nn-tn*an)/(en*en+tn*tn),(tn*nn+en*an)/(en*en+tn*tn)]]}var bI,wI=Math.PI/180;function c$1(en,tn,nn){return(1-nn)*en+nn*tn}function y(en,tn,nn,rn){return en+Math.cos(rn/180*yI)*tn+Math.sin(rn/180*yI)*nn}function p(en,tn,nn,rn){var an=1e-6,sn=tn-en,An=nn-tn,cn=3*sn+3*(rn-nn)-6*An,un=6*(An-sn),hn=3*sn;return Math.abs(cn)<an?[-hn/un]:function(en,tn,nn){void 0===nn&&(nn=1e-6);var rn=en*en/4-tn;if(rn<-nn)return[];if(rn<=nn)return[-en/2];var an=Math.sqrt(rn);return[-en/2-an,-en/2+an]}(un/cn,hn/cn,an)}function m$1(en,tn,nn,rn,an){var sn=1-an;return en*(sn*sn*sn)+tn*(3*sn*sn*an)+nn*(3*sn*an*an)+rn*(an*an*an)}!function(en){function r(){return u((function(en,tn,nn){return en.relative&&(void 0!==en.x1&&(en.x1+=tn),void 0!==en.y1&&(en.y1+=nn),void 0!==en.x2&&(en.x2+=tn),void 0!==en.y2&&(en.y2+=nn),void 0!==en.x&&(en.x+=tn),void 0!==en.y&&(en.y+=nn),en.relative=!1),en}))}function e(){var en=NaN,tn=NaN,nn=NaN,rn=NaN;return u((function(an,sn,An){return an.type&kI.SMOOTH_CURVE_TO&&(an.type=kI.CURVE_TO,en=isNaN(en)?sn:en,tn=isNaN(tn)?An:tn,an.x1=an.relative?sn-en:2*sn-en,an.y1=an.relative?An-tn:2*An-tn),an.type&kI.CURVE_TO?(en=an.relative?sn+an.x2:an.x2,tn=an.relative?An+an.y2:an.y2):(en=NaN,tn=NaN),an.type&kI.SMOOTH_QUAD_TO&&(an.type=kI.QUAD_TO,nn=isNaN(nn)?sn:nn,rn=isNaN(rn)?An:rn,an.x1=an.relative?sn-nn:2*sn-nn,an.y1=an.relative?An-rn:2*An-rn),an.type&kI.QUAD_TO?(nn=an.relative?sn+an.x1:an.x1,rn=an.relative?An+an.y1:an.y1):(nn=NaN,rn=NaN),an}))}function n(){var en=NaN,tn=NaN;return u((function(nn,rn,an){if(nn.type&kI.SMOOTH_QUAD_TO&&(nn.type=kI.QUAD_TO,en=isNaN(en)?rn:en,tn=isNaN(tn)?an:tn,nn.x1=nn.relative?rn-en:2*rn-en,nn.y1=nn.relative?an-tn:2*an-tn),nn.type&kI.QUAD_TO){en=nn.relative?rn+nn.x1:nn.x1,tn=nn.relative?an+nn.y1:nn.y1;var sn=nn.x1,An=nn.y1;nn.type=kI.CURVE_TO,nn.x1=((nn.relative?0:rn)+2*sn)/3,nn.y1=((nn.relative?0:an)+2*An)/3,nn.x2=(nn.x+2*sn)/3,nn.y2=(nn.y+2*An)/3}else en=NaN,tn=NaN;return nn}))}function u(en){var tn=0,nn=0,rn=NaN,an=NaN;return function(sn){if(isNaN(rn)&&!(sn.type&kI.MOVE_TO))throw new Error("path must start with moveto");var An=en(sn,tn,nn,rn,an);return sn.type&kI.CLOSE_PATH&&(tn=rn,nn=an),void 0!==sn.x&&(tn=sn.relative?tn+sn.x:sn.x),void 0!==sn.y&&(nn=sn.relative?nn+sn.y:sn.y),sn.type&kI.MOVE_TO&&(rn=tn,an=nn),An}}function O(en,tn,nn,rn,an,sn){return a(en,tn,nn,rn,an,sn),u((function(An,cn,un,hn){var dn=An.x1,pn=An.x2,gn=An.relative&&!isNaN(hn),mn=void 0!==An.x?An.x:gn?0:cn,vn=void 0!==An.y?An.y:gn?0:un;function l(en){return en*en}An.type&kI.HORIZ_LINE_TO&&0!==tn&&(An.type=kI.LINE_TO,An.y=An.relative?0:un),An.type&kI.VERT_LINE_TO&&0!==nn&&(An.type=kI.LINE_TO,An.x=An.relative?0:cn),void 0!==An.x&&(An.x=An.x*en+vn*nn+(gn?0:an)),void 0!==An.y&&(An.y=mn*tn+An.y*rn+(gn?0:sn)),void 0!==An.x1&&(An.x1=An.x1*en+An.y1*nn+(gn?0:an)),void 0!==An.y1&&(An.y1=dn*tn+An.y1*rn+(gn?0:sn)),void 0!==An.x2&&(An.x2=An.x2*en+An.y2*nn+(gn?0:an)),void 0!==An.y2&&(An.y2=pn*tn+An.y2*rn+(gn?0:sn));var yn=en*rn-tn*nn;if(void 0!==An.xRot&&(1!==en||0!==tn||0!==nn||1!==rn))if(0===yn)delete An.rX,delete An.rY,delete An.xRot,delete An.lArcFlag,delete An.sweepFlag,An.type=kI.LINE_TO;else{var bn=An.xRot*Math.PI/180,wn=Math.sin(bn),Cn=Math.cos(bn),xn=1/l(An.rX),Bn=1/l(An.rY),_n=l(Cn)*xn+l(wn)*Bn,Sn=2*wn*Cn*(xn-Bn),kn=l(wn)*xn+l(Cn)*Bn,En=_n*rn*rn-Sn*tn*rn+kn*tn*tn,Pn=Sn*(en*rn+tn*nn)-2*(_n*nn*rn+kn*en*tn),Fn=_n*nn*nn-Sn*en*nn+kn*en*en,Ln=(Math.atan2(Pn,En-Fn)+Math.PI)%Math.PI/2,In=Math.sin(Ln),Un=Math.cos(Ln);An.rX=Math.abs(yn)/Math.sqrt(En*l(Un)+Pn*In*Un+Fn*l(In)),An.rY=Math.abs(yn)/Math.sqrt(En*l(In)-Pn*In*Un+Fn*l(Un)),An.xRot=180*Ln/Math.PI}return void 0!==An.sweepFlag&&0>yn&&(An.sweepFlag=+!An.sweepFlag),An}))}en.ROUND=function(en){function r(tn){return Math.round(tn*en)/en}return void 0===en&&(en=1e13),a(en),function(en){return void 0!==en.x1&&(en.x1=r(en.x1)),void 0!==en.y1&&(en.y1=r(en.y1)),void 0!==en.x2&&(en.x2=r(en.x2)),void 0!==en.y2&&(en.y2=r(en.y2)),void 0!==en.x&&(en.x=r(en.x)),void 0!==en.y&&(en.y=r(en.y)),void 0!==en.rX&&(en.rX=r(en.rX)),void 0!==en.rY&&(en.rY=r(en.rY)),en}},en.TO_ABS=r,en.TO_REL=function(){return u((function(en,tn,nn){return en.relative||(void 0!==en.x1&&(en.x1-=tn),void 0!==en.y1&&(en.y1-=nn),void 0!==en.x2&&(en.x2-=tn),void 0!==en.y2&&(en.y2-=nn),void 0!==en.x&&(en.x-=tn),void 0!==en.y&&(en.y-=nn),en.relative=!0),en}))},en.NORMALIZE_HVZ=function(en,tn,nn){return void 0===en&&(en=!0),void 0===tn&&(tn=!0),void 0===nn&&(nn=!0),u((function(rn,an,sn,An,cn){if(isNaN(An)&&!(rn.type&kI.MOVE_TO))throw new Error("path must start with moveto");return tn&&rn.type&kI.HORIZ_LINE_TO&&(rn.type=kI.LINE_TO,rn.y=rn.relative?0:sn),nn&&rn.type&kI.VERT_LINE_TO&&(rn.type=kI.LINE_TO,rn.x=rn.relative?0:an),en&&rn.type&kI.CLOSE_PATH&&(rn.type=kI.LINE_TO,rn.x=rn.relative?An-an:An,rn.y=rn.relative?cn-sn:cn),rn.type&kI.ARC&&(0===rn.rX||0===rn.rY)&&(rn.type=kI.LINE_TO,delete rn.rX,delete rn.rY,delete rn.xRot,delete rn.lArcFlag,delete rn.sweepFlag),rn}))},en.NORMALIZE_ST=e,en.QT_TO_C=n,en.INFO=u,en.SANITIZE=function(en){void 0===en&&(en=0),a(en);var tn=NaN,nn=NaN,rn=NaN,an=NaN;return u((function(sn,An,cn,un,hn){var dn=Math.abs,pn=!1,gn=0,mn=0;if(sn.type&kI.SMOOTH_CURVE_TO&&(gn=isNaN(tn)?0:An-tn,mn=isNaN(nn)?0:cn-nn),sn.type&(kI.CURVE_TO|kI.SMOOTH_CURVE_TO)?(tn=sn.relative?An+sn.x2:sn.x2,nn=sn.relative?cn+sn.y2:sn.y2):(tn=NaN,nn=NaN),sn.type&kI.SMOOTH_QUAD_TO?(rn=isNaN(rn)?An:2*An-rn,an=isNaN(an)?cn:2*cn-an):sn.type&kI.QUAD_TO?(rn=sn.relative?An+sn.x1:sn.x1,an=sn.relative?cn+sn.y1:sn.y2):(rn=NaN,an=NaN),sn.type&kI.LINE_COMMANDS||sn.type&kI.ARC&&(0===sn.rX||0===sn.rY||!sn.lArcFlag)||sn.type&kI.CURVE_TO||sn.type&kI.SMOOTH_CURVE_TO||sn.type&kI.QUAD_TO||sn.type&kI.SMOOTH_QUAD_TO){var vn=void 0===sn.x?0:sn.relative?sn.x:sn.x-An,yn=void 0===sn.y?0:sn.relative?sn.y:sn.y-cn;gn=isNaN(rn)?void 0===sn.x1?gn:sn.relative?sn.x:sn.x1-An:rn-An,mn=isNaN(an)?void 0===sn.y1?mn:sn.relative?sn.y:sn.y1-cn:an-cn;var bn=void 0===sn.x2?0:sn.relative?sn.x:sn.x2-An,wn=void 0===sn.y2?0:sn.relative?sn.y:sn.y2-cn;dn(vn)<=en&&dn(yn)<=en&&dn(gn)<=en&&dn(mn)<=en&&dn(bn)<=en&&dn(wn)<=en&&(pn=!0)}return sn.type&kI.CLOSE_PATH&&dn(An-un)<=en&&dn(cn-hn)<=en&&(pn=!0),pn?[]:sn}))},en.MATRIX=O,en.ROTATE=function(en,tn,nn){void 0===tn&&(tn=0),void 0===nn&&(nn=0),a(en,tn,nn);var rn=Math.sin(en),an=Math.cos(en);return O(an,rn,-rn,an,tn-tn*an+nn*rn,nn-tn*rn-nn*an)},en.TRANSLATE=function(en,tn){return void 0===tn&&(tn=0),a(en,tn),O(1,0,0,1,en,tn)},en.SCALE=function(en,tn){return void 0===tn&&(tn=en),a(en,tn),O(en,0,0,tn,0,0)},en.SKEW_X=function(en){return a(en),O(1,0,Math.atan(en),1,0,0)},en.SKEW_Y=function(en){return a(en),O(1,Math.atan(en),0,1,0,0)},en.X_AXIS_SYMMETRY=function(en){return void 0===en&&(en=0),a(en),O(-1,0,0,1,en,0)},en.Y_AXIS_SYMMETRY=function(en){return void 0===en&&(en=0),a(en),O(1,0,0,-1,0,en)},en.A_TO_C=function(){return u((function(en,tn,nn){return kI.ARC===en.type?function(en,tn,nn){var rn,an,sn,An;en.cX||o(en,tn,nn);for(var cn=Math.min(en.phi1,en.phi2),un=Math.max(en.phi1,en.phi2)-cn,hn=Math.ceil(un/90),dn=new Array(hn),pn=tn,gn=nn,mn=0;mn<hn;mn++){var vn=c$1(en.phi1,en.phi2,mn/hn),yn=c$1(en.phi1,en.phi2,(mn+1)/hn),bn=yn-vn,wn=4/3*Math.tan(bn*wI/4),Cn=[Math.cos(vn*wI)-wn*Math.sin(vn*wI),Math.sin(vn*wI)+wn*Math.cos(vn*wI)],xn=Cn[0],Bn=Cn[1],_n=[Math.cos(yn*wI),Math.sin(yn*wI)],Sn=_n[0],kn=_n[1],En=[Sn+wn*Math.sin(yn*wI),kn-wn*Math.cos(yn*wI)],Pn=En[0],Fn=En[1];dn[mn]={relative:en.relative,type:kI.CURVE_TO};var Ln=function H(tn,nn){var rn=i([tn*en.rX,nn*en.rY],en.xRot),an=rn[0],sn=rn[1];return[en.cX+an,en.cY+sn]};rn=Ln(xn,Bn),dn[mn].x1=rn[0],dn[mn].y1=rn[1],an=Ln(Pn,Fn),dn[mn].x2=an[0],dn[mn].y2=an[1],sn=Ln(Sn,kn),dn[mn].x=sn[0],dn[mn].y=sn[1],en.relative&&(dn[mn].x1-=pn,dn[mn].y1-=gn,dn[mn].x2-=pn,dn[mn].y2-=gn,dn[mn].x-=pn,dn[mn].y-=gn),pn=(An=[dn[mn].x,dn[mn].y])[0],gn=An[1]}return dn}(en,en.relative?0:tn,en.relative?0:nn):en}))},en.ANNOTATE_ARCS=function(){return u((function(en,tn,nn){return en.relative&&(tn=0,nn=0),kI.ARC===en.type&&o(en,tn,nn),en}))},en.CLONE=function l(){return function(en){var tn={};for(var nn in en)tn[nn]=en[nn];return tn}},en.CALCULATE_BOUNDS=function(){var en=r(),tn=n(),nn=e(),rn=u((function(an,sn,An){var cn=nn(tn(en(function(en){var tn={};for(var nn in en)tn[nn]=en[nn];return tn}(an))));function O(en){en>rn.maxX&&(rn.maxX=en),en<rn.minX&&(rn.minX=en)}function l(en){en>rn.maxY&&(rn.maxY=en),en<rn.minY&&(rn.minY=en)}if(cn.type&kI.DRAWING_COMMANDS&&(O(sn),l(An)),cn.type&kI.HORIZ_LINE_TO&&O(cn.x),cn.type&kI.VERT_LINE_TO&&l(cn.y),cn.type&kI.LINE_TO&&(O(cn.x),l(cn.y)),cn.type&kI.CURVE_TO){O(cn.x),l(cn.y);for(var un=0,hn=p(sn,cn.x1,cn.x2,cn.x);un<hn.length;un++)0<(Pn=hn[un])&&1>Pn&&O(m$1(sn,cn.x1,cn.x2,cn.x,Pn));for(var dn=0,pn=p(An,cn.y1,cn.y2,cn.y);dn<pn.length;dn++)0<(Pn=pn[dn])&&1>Pn&&l(m$1(An,cn.y1,cn.y2,cn.y,Pn))}if(cn.type&kI.ARC){O(cn.x),l(cn.y),o(cn,sn,An);for(var gn=cn.xRot/180*Math.PI,mn=Math.cos(gn)*cn.rX,vn=Math.sin(gn)*cn.rX,yn=-Math.sin(gn)*cn.rY,bn=Math.cos(gn)*cn.rY,wn=cn.phi1<cn.phi2?[cn.phi1,cn.phi2]:-180>cn.phi2?[cn.phi2+360,cn.phi1+360]:[cn.phi2,cn.phi1],Cn=wn[0],xn=wn[1],Bn=function I(en){var tn=en[0],nn=en[1],rn=180*Math.atan2(nn,tn)/Math.PI;return rn<Cn?rn+360:rn},_n=0,Sn=s(yn,-mn,0).map(Bn);_n<Sn.length;_n++)(Pn=Sn[_n])>Cn&&Pn<xn&&O(y(cn.cX,mn,yn,Pn));for(var kn=0,En=s(bn,-vn,0).map(Bn);kn<En.length;kn++){var Pn;(Pn=En[kn])>Cn&&Pn<xn&&l(y(cn.cY,vn,bn,Pn))}}return an}));return rn.minX=1/0,rn.maxX=-1/0,rn.minY=1/0,rn.maxY=-1/0,rn}}(bI||(bI={}));var CI,xI=function(){function t(){}return t.prototype.round=function(en){return this.transform(bI.ROUND(en))},t.prototype.toAbs=function(){return this.transform(bI.TO_ABS())},t.prototype.toRel=function(){return this.transform(bI.TO_REL())},t.prototype.normalizeHVZ=function(en,tn,nn){return this.transform(bI.NORMALIZE_HVZ(en,tn,nn))},t.prototype.normalizeST=function(){return this.transform(bI.NORMALIZE_ST())},t.prototype.qtToC=function(){return this.transform(bI.QT_TO_C())},t.prototype.aToC=function(){return this.transform(bI.A_TO_C())},t.prototype.sanitize=function(en){return this.transform(bI.SANITIZE(en))},t.prototype.translate=function(en,tn){return this.transform(bI.TRANSLATE(en,tn))},t.prototype.scale=function(en,tn){return this.transform(bI.SCALE(en,tn))},t.prototype.rotate=function(en,tn,nn){return this.transform(bI.ROTATE(en,tn,nn))},t.prototype.matrix=function(en,tn,nn,rn,an,sn){return this.transform(bI.MATRIX(en,tn,nn,rn,an,sn))},t.prototype.skewX=function(en){return this.transform(bI.SKEW_X(en))},t.prototype.skewY=function(en){return this.transform(bI.SKEW_Y(en))},t.prototype.xSymmetry=function(en){return this.transform(bI.X_AXIS_SYMMETRY(en))},t.prototype.ySymmetry=function(en){return this.transform(bI.Y_AXIS_SYMMETRY(en))},t.prototype.annotateArcs=function(){return this.transform(bI.ANNOTATE_ARCS())},t}(),BI=function T(en){return" "===en||"\t"===en||"\r"===en||"\n"===en},_I=function v(en){return"0".charCodeAt(0)<=en.charCodeAt(0)&&en.charCodeAt(0)<="9".charCodeAt(0)},SI=function(en){function e(){var tn=en.call(this)||this;return tn.curNumber="",tn.curCommandType=-1,tn.curCommandRelative=!1,tn.canParseCommandOrComma=!0,tn.curNumberHasExp=!1,tn.curNumberHasExpDigits=!1,tn.curNumberHasDecimal=!1,tn.curArgs=[],tn}return r(e,en),e.prototype.finish=function(en){if(void 0===en&&(en=[]),this.parse(" ",en),0!==this.curArgs.length||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return en},e.prototype.parse=function(en,tn){var nn=this;void 0===tn&&(tn=[]);for(var rn=function i(en){tn.push(en),nn.curArgs.length=0,nn.canParseCommandOrComma=!0},an=0;an<en.length;an++){var sn=en[an],An=!(this.curCommandType!==kI.ARC||3!==this.curArgs.length&&4!==this.curArgs.length||1!==this.curNumber.length||"0"!==this.curNumber&&"1"!==this.curNumber),cn=_I(sn)&&("0"===this.curNumber&&"0"===sn||An);if(!_I(sn)||cn)if("e"!==sn&&"E"!==sn)if("-"!==sn&&"+"!==sn||!this.curNumberHasExp||this.curNumberHasExpDigits)if("."!==sn||this.curNumberHasExp||this.curNumberHasDecimal||An){if(this.curNumber&&-1!==this.curCommandType){var un=Number(this.curNumber);if(isNaN(un))throw new SyntaxError("Invalid number ending at "+an);if(this.curCommandType===kI.ARC)if(0===this.curArgs.length||1===this.curArgs.length){if(0>un)throw new SyntaxError('Expected positive number, got "'+un+'" at index "'+an+'"')}else if((3===this.curArgs.length||4===this.curArgs.length)&&"0"!==this.curNumber&&"1"!==this.curNumber)throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+an+'"');this.curArgs.push(un),this.curArgs.length===EI[this.curCommandType]&&(kI.HORIZ_LINE_TO===this.curCommandType?rn({type:kI.HORIZ_LINE_TO,relative:this.curCommandRelative,x:un}):kI.VERT_LINE_TO===this.curCommandType?rn({type:kI.VERT_LINE_TO,relative:this.curCommandRelative,y:un}):this.curCommandType===kI.MOVE_TO||this.curCommandType===kI.LINE_TO||this.curCommandType===kI.SMOOTH_QUAD_TO?(rn({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),kI.MOVE_TO===this.curCommandType&&(this.curCommandType=kI.LINE_TO)):this.curCommandType===kI.CURVE_TO?rn({type:kI.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===kI.SMOOTH_CURVE_TO?rn({type:kI.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===kI.QUAD_TO?rn({type:kI.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===kI.ARC&&rn({type:kI.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!BI(sn))if(","===sn&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if("+"!==sn&&"-"!==sn&&"."!==sn)if(cn)this.curNumber=sn,this.curNumberHasDecimal=!1;else{if(0!==this.curArgs.length)throw new SyntaxError("Unterminated command at index "+an+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+sn+'" at index '+an+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,"z"!==sn&&"Z"!==sn)if("h"===sn||"H"===sn)this.curCommandType=kI.HORIZ_LINE_TO,this.curCommandRelative="h"===sn;else if("v"===sn||"V"===sn)this.curCommandType=kI.VERT_LINE_TO,this.curCommandRelative="v"===sn;else if("m"===sn||"M"===sn)this.curCommandType=kI.MOVE_TO,this.curCommandRelative="m"===sn;else if("l"===sn||"L"===sn)this.curCommandType=kI.LINE_TO,this.curCommandRelative="l"===sn;else if("c"===sn||"C"===sn)this.curCommandType=kI.CURVE_TO,this.curCommandRelative="c"===sn;else if("s"===sn||"S"===sn)this.curCommandType=kI.SMOOTH_CURVE_TO,this.curCommandRelative="s"===sn;else if("q"===sn||"Q"===sn)this.curCommandType=kI.QUAD_TO,this.curCommandRelative="q"===sn;else if("t"===sn||"T"===sn)this.curCommandType=kI.SMOOTH_QUAD_TO,this.curCommandRelative="t"===sn;else{if("a"!==sn&&"A"!==sn)throw new SyntaxError('Unexpected character "'+sn+'" at index '+an+".");this.curCommandType=kI.ARC,this.curCommandRelative="a"===sn}else tn.push({type:kI.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=sn,this.curNumberHasDecimal="."===sn}else this.curNumber+=sn,this.curNumberHasDecimal=!0;else this.curNumber+=sn;else this.curNumber+=sn,this.curNumberHasExp=!0;else this.curNumber+=sn,this.curNumberHasExpDigits=this.curNumberHasExp}return tn},e.prototype.transform=function(en){return Object.create(this,{parse:{value:function value(tn,nn){void 0===nn&&(nn=[]);for(var rn=0,an=Object.getPrototypeOf(this).parse.call(this,tn);rn<an.length;rn++){var sn=an[rn],An=en(sn);Array.isArray(An)?nn.push.apply(nn,An):nn.push(An)}return nn}}})},e}(xI),kI=function(en){function i(tn){var nn=en.call(this)||this;return nn.commands="string"==typeof tn?i.parse(tn):tn,nn}return r(i,en),i.prototype.encode=function(){return i.encode(this.commands)},i.prototype.getBounds=function(){var en=bI.CALCULATE_BOUNDS();return this.transform(en),en},i.prototype.transform=function(en){for(var tn=[],nn=0,rn=this.commands;nn<rn.length;nn++){var an=en(rn[nn]);Array.isArray(an)?tn.push.apply(tn,an):tn.push(an)}return this.commands=tn,this},i.encode=function(en){return function e(en){var tn="";Array.isArray(en)||(en=[en]);for(var nn=0;nn<en.length;nn++){var rn=en[nn];if(rn.type===kI.CLOSE_PATH)tn+="z";else if(rn.type===kI.HORIZ_LINE_TO)tn+=(rn.relative?"h":"H")+rn.x;else if(rn.type===kI.VERT_LINE_TO)tn+=(rn.relative?"v":"V")+rn.y;else if(rn.type===kI.MOVE_TO)tn+=(rn.relative?"m":"M")+rn.x+" "+rn.y;else if(rn.type===kI.LINE_TO)tn+=(rn.relative?"l":"L")+rn.x+" "+rn.y;else if(rn.type===kI.CURVE_TO)tn+=(rn.relative?"c":"C")+rn.x1+" "+rn.y1+" "+rn.x2+" "+rn.y2+" "+rn.x+" "+rn.y;else if(rn.type===kI.SMOOTH_CURVE_TO)tn+=(rn.relative?"s":"S")+rn.x2+" "+rn.y2+" "+rn.x+" "+rn.y;else if(rn.type===kI.QUAD_TO)tn+=(rn.relative?"q":"Q")+rn.x1+" "+rn.y1+" "+rn.x+" "+rn.y;else if(rn.type===kI.SMOOTH_QUAD_TO)tn+=(rn.relative?"t":"T")+rn.x+" "+rn.y;else{if(rn.type!==kI.ARC)throw new Error('Unexpected command type "'+rn.type+'" at index '+nn+".");tn+=(rn.relative?"a":"A")+rn.rX+" "+rn.rY+" "+rn.xRot+" "+ +rn.lArcFlag+" "+ +rn.sweepFlag+" "+rn.x+" "+rn.y}}return tn}(en)},i.parse=function(en){var tn=new SI,nn=[];return tn.parse(en,nn),tn.finish(nn),nn},i.CLOSE_PATH=1,i.MOVE_TO=2,i.HORIZ_LINE_TO=4,i.VERT_LINE_TO=8,i.LINE_TO=16,i.CURVE_TO=32,i.SMOOTH_CURVE_TO=64,i.QUAD_TO=128,i.SMOOTH_QUAD_TO=256,i.ARC=512,i.LINE_COMMANDS=i.LINE_TO|i.HORIZ_LINE_TO|i.VERT_LINE_TO,i.DRAWING_COMMANDS=i.HORIZ_LINE_TO|i.VERT_LINE_TO|i.LINE_TO|i.CURVE_TO|i.SMOOTH_CURVE_TO|i.QUAD_TO|i.SMOOTH_QUAD_TO|i.ARC,i}(xI),EI=((CI={})[kI.MOVE_TO]=2,CI[kI.LINE_TO]=2,CI[kI.HORIZ_LINE_TO]=1,CI[kI.VERT_LINE_TO]=1,CI[kI.CLOSE_PATH]=0,CI[kI.QUAD_TO]=4,CI[kI.SMOOTH_QUAD_TO]=2,CI[kI.CURVE_TO]=6,CI[kI.SMOOTH_CURVE_TO]=4,CI[kI.ARC]=7,CI),PI=cm,FI=Uv,LI=Vm,II=BS,UI=RegExp.prototype,TI=Gy.PROPER,QI=Rb,NI=_y,OI=CS,MI=am,RI=RegExp.prototype.toString,HI=MI((function(){return"/a/b"!=RI.call({source:"a",flags:"b"})})),DI=TI&&"toString"!=RI.name;function _typeof(en){return _typeof="function"==typeof Symbol&&"symbol"==_typeof$3(Symbol.iterator)?function(en){return _typeof$3(en)}:function(en){return en&&"function"==typeof Symbol&&en.constructor===Symbol&&en!==Symbol.prototype?"symbol":_typeof$3(en)},_typeof(en)}(HI||DI)&&QI(RegExp.prototype,"toString",(function toString(){var en=NI(this);return"/"+OI(en.source)+"/"+OI(function getRegExpFlags(en){var tn=en.flags;return void 0!==tn||"flags"in UI||FI(en,"flags")||!LI(UI,en)?tn:PI(II,en)}(en))}),{unsafe:!0});
/**
* StackBlur - a fast almost Gaussian Blur For Canvas
*
* In case you find this class useful - especially in commercial projects -
* I am not totally unhappy for a small donation to my PayPal account
* mario@quasimondo.de
*
* Or support me on flattr:
* {@link https://flattr.com/thing/72791/StackBlur-a-fast-almost-Gaussian-Blur-Effect-for-CanvasJavascript}.
*
* @module StackBlur
* @author Mario Klingemann
* Contact: mario@quasimondo.com
* Website: {@link http://www.quasimondo.com/StackBlurForCanvas/StackBlurDemo.html}
* Twitter: @quasimondo
*
* @copyright (c) 2010 Mario Klingemann
*
* Permission is hereby granted, free of charge, to any person
* obtaining a copy of this software and associated documentation
* files (the "Software"), to deal in the Software without
* restriction, including without limitation the rights to use,
* copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the
* Software is furnished to do so, subject to the following
* conditions:
*
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
* OTHER DEALINGS IN THE SOFTWARE.
*/
var $I=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],GI=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];var jI=function BlurStack(){!function _classCallCheck(en,tn){if(!(en instanceof tn))throw new TypeError("Cannot call a class as a function")}(this,BlurStack),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null},VI=Object.freeze({__proto__:null,offscreen:function offscreen(){var en=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},tn=en.DOMParser,nn={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:tn,createCanvas:function createCanvas(en,tn){return new OffscreenCanvas(en,tn)},createImage:function createImage(en){return _asyncToGenerator(_regeneratorRuntime().mark((function _callee4(){var tn,nn;return _regeneratorRuntime().wrap((function _callee4$(rn){for(;;)switch(rn.prev=rn.next){case 0:return rn.next=2,fetch(en);case 2:return tn=rn.sent,rn.next=5,tn.blob();case 5:return nn=rn.sent,rn.next=8,createImageBitmap(nn);case 8:return rn.abrupt("return",rn.sent);case 9:case"end":return rn.stop()}}),_callee4)})))()}};return"undefined"==typeof DOMParser&&void 0!==tn||Reflect.deleteProperty(nn,"DOMParser"),nn},node:function node(en){var tn=en.DOMParser,nn=en.canvas;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:tn,fetch:en.fetch,createCanvas:nn.createCanvas,createImage:nn.loadImage}}});function compressSpaces(en){return en.replace(/(?!\u3000)\s+/gm," ")}function trimLeft(en){return en.replace(/^[\n \t]+/,"")}function trimRight(en){return en.replace(/[\n \t]+$/,"")}function toNumbers(en){return((en||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[]).map(parseFloat)}var KI=/^[A-Z-]+$/;function normalizeAttributeName(en){return KI.test(en)?en.toLowerCase():en}function parseExternalUrl(en){var tn=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(en)||[];return tn[2]||tn[3]||tn[4]}function normalizeColor(en){if(!en.startsWith("rgb"))return en;var tn=3;return en.replace(/\d+(\.\d+)?/g,(function(en,nn){return tn--&&nn?String(Math.round(parseFloat(en))):en}))}var qI=/(\[[^\]]+\])/g,zI=/(#[^\s+>~.[:]+)/g,WI=/(\.[^\s+>~.[:]+)/g,XI=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,YI=/(:[\w-]+\([^)]*\))/gi,JI=/(:[^\s+>~.[:]+)/g,ZI=/([^\s+>~.[:]+)/g;function findSelectorMatch(en,tn){var nn=tn.exec(en);return nn?[en.replace(tn," "),nn.length]:[en,0]}function getSelectorSpecificity(en){var tn,nn,rn,an,sn,An,cn,un=[0,0,0],hn=en.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),dn=0;return hn=(tn=_slicedToArray(findSelectorMatch(hn,qI),2))[0],dn=tn[1],un[1]+=dn,hn=(nn=_slicedToArray(findSelectorMatch(hn,zI),2))[0],dn=nn[1],un[0]+=dn,hn=(rn=_slicedToArray(findSelectorMatch(hn,WI),2))[0],dn=rn[1],un[1]+=dn,hn=(an=_slicedToArray(findSelectorMatch(hn,XI),2))[0],dn=an[1],un[2]+=dn,hn=(sn=_slicedToArray(findSelectorMatch(hn,YI),2))[0],dn=sn[1],un[1]+=dn,hn=(An=_slicedToArray(findSelectorMatch(hn,JI),2))[0],dn=An[1],un[1]+=dn,hn=(cn=_slicedToArray(findSelectorMatch(hn=hn.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),ZI),2))[0],dn=cn[1],un[2]+=dn,un.join("")}function vectorMagnitude(en){return Math.sqrt(Math.pow(en[0],2)+Math.pow(en[1],2))}function vectorsRatio(en,tn){return(en[0]*tn[0]+en[1]*tn[1])/(vectorMagnitude(en)*vectorMagnitude(tn))}function vectorsAngle(en,tn){return(en[0]*tn[1]<en[1]*tn[0]?-1:1)*Math.acos(vectorsRatio(en,tn))}function CB1(en){return en*en*en}function CB2(en){return 3*en*en*(1-en)}function CB3(en){return 3*en*(1-en)*(1-en)}function CB4(en){return(1-en)*(1-en)*(1-en)}function QB1(en){return en*en}function QB2(en){return 2*en*(1-en)}function QB3(en){return(1-en)*(1-en)}var eU=function(){function Property(en,tn,nn){_classCallCheck$1(this,Property),this.document=en,this.name=tn,this.value=nn,this.isNormalizedColor=!1}return _createClass$1(Property,[{key:"split",value:function split(){var en=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",tn=this.document,nn=this.name;return compressSpaces(this.getString()).trim().split(en).map((function(en){return new Property(tn,nn,en)}))}},{key:"hasValue",value:function hasValue(en){var tn=this.value;return null!==tn&&""!==tn&&(en||0!==tn)&&void 0!==tn}},{key:"isString",value:function isString(en){var tn=this.value,nn="string"==typeof tn;return nn&&en?en.test(tn):nn}},{key:"isUrlDefinition",value:function isUrlDefinition(){return this.isString(/^url\(/)}},{key:"isPixels",value:function isPixels(){if(!this.hasValue())return!1;var en=this.getString();switch(!0){case en.endsWith("px"):case/^[0-9]+$/.test(en):return!0;default:return!1}}},{key:"setValue",value:function setValue(en){return this.value=en,this}},{key:"getValue",value:function getValue(en){return void 0===en||this.hasValue()?this.value:en}},{key:"getNumber",value:function getNumber(en){if(!this.hasValue())return void 0===en?0:parseFloat(en);var tn=this.value,nn=parseFloat(tn);return this.isString(/%$/)&&(nn/=100),nn}},{key:"getString",value:function getString(en){return void 0===en||this.hasValue()?void 0===this.value?"":String(this.value):String(en)}},{key:"getColor",value:function getColor(en){var tn=this.getString(en);return this.isNormalizedColor||(this.isNormalizedColor=!0,tn=normalizeColor(tn),this.value=tn),tn}},{key:"getDpi",value:function getDpi(){return 96}},{key:"getRem",value:function getRem(){return this.document.rootEmSize}},{key:"getEm",value:function getEm(){return this.document.emSize}},{key:"getUnits",value:function getUnits(){return this.getString().replace(/[0-9.-]/g,"")}},{key:"getPixels",value:function getPixels(en){var tn=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.hasValue())return 0;var nn="boolean"==typeof en?[void 0,en]:[en],rn=_slicedToArray(nn,2),an=rn[0],sn=rn[1],An=this.document.screen.viewPort;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(An.computeSize("x"),An.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(An.computeSize("x"),An.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*An.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*An.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return 15*this.getNumber();case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case this.isString(/%$/)&&sn:return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*An.computeSize(an);default:var cn=this.getNumber();return tn&&cn<1?cn*An.computeSize(an):cn}}},{key:"getMilliseconds",value:function getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():1e3*this.getNumber():0}},{key:"getRadians",value:function getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}},{key:"getDefinition",value:function getDefinition(){var en=this.getString(),tn=/#([^)'"]+)/.exec(en);return tn&&(tn=tn[1]),tn||(tn=en),this.document.definitions[tn]}},{key:"getFillStyleDefinition",value:function getFillStyleDefinition(en,tn){var nn=this.getDefinition();if(!nn)return null;if("function"==typeof nn.createGradient)return nn.createGradient(this.document.ctx,en,tn);if("function"==typeof nn.createPattern){if(nn.getHrefAttribute().hasValue()){var rn=nn.getAttribute("patternTransform");nn=nn.getHrefAttribute().getDefinition(),rn.hasValue()&&nn.getAttribute("patternTransform",!0).setValue(rn.value)}return nn.createPattern(this.document.ctx,en,tn)}return null}},{key:"getTextBaseline",value:function getTextBaseline(){return this.hasValue()?Property.textBaselineMapping[this.getString()]:null}},{key:"addOpacity",value:function addOpacity(en){for(var tn=this.getColor(),nn=tn.length,rn=0,an=0;an<nn&&(","===tn[an]&&rn++,3!==rn);an++);if(en.hasValue()&&this.isString()&&3!==rn){var sn=new eI(tn);sn.ok&&(sn.alpha=en.getNumber(),tn=sn.toRGBA())}return new Property(this.document,this.name,tn)}}],[{key:"empty",value:function empty(en){return new Property(en,"EMPTY","")}}]),Property}();eU.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};var tU=function(){function ViewPort(){_classCallCheck$1(this,ViewPort),this.viewPorts=[]}return _createClass$1(ViewPort,[{key:"clear",value:function clear(){this.viewPorts=[]}},{key:"setCurrent",value:function setCurrent(en,tn){this.viewPorts.push({width:en,height:tn})}},{key:"removeCurrent",value:function removeCurrent(){this.viewPorts.pop()}},{key:"getCurrent",value:function getCurrent(){var en=this.viewPorts;return en[en.length-1]}},{key:"width",get:function get(){return this.getCurrent().width}},{key:"height",get:function get(){return this.getCurrent().height}},{key:"computeSize",value:function computeSize(en){return"number"==typeof en?en:"x"===en?this.width:"y"===en?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}]),ViewPort}(),nU=function(){function Point(en,tn){_classCallCheck$1(this,Point),this.x=en,this.y=tn}return _createClass$1(Point,[{key:"angleTo",value:function angleTo(en){return Math.atan2(en.y-this.y,en.x-this.x)}},{key:"applyTransform",value:function applyTransform(en){var tn=this.x,nn=this.y,rn=tn*en[0]+nn*en[2]+en[4],an=tn*en[1]+nn*en[3]+en[5];this.x=rn,this.y=an}}],[{key:"parse",value:function parse(en){var tn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,nn=toNumbers(en),rn=_slicedToArray(nn,2),an=rn[0],sn=void 0===an?tn:an,An=rn[1],cn=void 0===An?tn:An;return new Point(sn,cn)}},{key:"parseScale",value:function parseScale(en){var tn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,nn=toNumbers(en),rn=_slicedToArray(nn,2),an=rn[0],sn=void 0===an?tn:an,An=rn[1],cn=void 0===An?sn:An;return new Point(sn,cn)}},{key:"parsePath",value:function parsePath(en){for(var tn=toNumbers(en),nn=tn.length,rn=[],an=0;an<nn;an+=2)rn.push(new Point(tn[an],tn[an+1]));return rn}}]),Point}(),rU=function(){function Mouse(en){_classCallCheck$1(this,Mouse),this.screen=en,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}return _createClass$1(Mouse,[{key:"isWorking",value:function isWorking(){return this.working}},{key:"start",value:function start(){if(!this.working){var en=this.screen,tn=this.onClick,nn=this.onMouseMove,rn=en.ctx.canvas;rn.onclick=tn,rn.onmousemove=nn,this.working=!0}}},{key:"stop",value:function stop(){if(this.working){var en=this.screen.ctx.canvas;this.working=!1,en.onclick=null,en.onmousemove=null}}},{key:"hasEvents",value:function hasEvents(){return this.working&&this.events.length>0}},{key:"runEvents",value:function runEvents(){if(this.working){var en=this.screen,tn=this.events,nn=this.eventElements,rn=en.ctx.canvas.style;rn&&(rn.cursor=""),tn.forEach((function(en,tn){for(var rn=en.run,an=nn[tn];an;)rn(an),an=an.parent})),this.events=[],this.eventElements=[]}}},{key:"checkPath",value:function checkPath(en,tn){if(this.working&&tn){var nn=this.events,rn=this.eventElements;nn.forEach((function(nn,an){var sn=nn.x,An=nn.y;!rn[an]&&tn.isPointInPath&&tn.isPointInPath(sn,An)&&(rn[an]=en)}))}}},{key:"checkBoundingBox",value:function checkBoundingBox(en,tn){if(this.working&&tn){var nn=this.events,rn=this.eventElements;nn.forEach((function(nn,an){var sn=nn.x,An=nn.y;!rn[an]&&tn.isPointInBox(sn,An)&&(rn[an]=en)}))}}},{key:"mapXY",value:function mapXY(en,tn){for(var nn=this.screen,rn=nn.window,an=nn.ctx,sn=new nU(en,tn),An=an.canvas;An;)sn.x-=An.offsetLeft,sn.y-=An.offsetTop,An=An.offsetParent;return rn.scrollX&&(sn.x+=rn.scrollX),rn.scrollY&&(sn.y+=rn.scrollY),sn}},{key:"onClick",value:function onClick(en){var tn=this.mapXY(en.clientX,en.clientY),nn=tn.x,rn=tn.y;this.events.push({type:"onclick",x:nn,y:rn,run:function run(en){en.onClick&&en.onClick()}})}},{key:"onMouseMove",value:function onMouseMove(en){var tn=this.mapXY(en.clientX,en.clientY),nn=tn.x,rn=tn.y;this.events.push({type:"onmousemove",x:nn,y:rn,run:function run(en){en.onMouseMove&&en.onMouseMove()}})}}]),Mouse}(),iU="undefined"!=typeof window?window:null,aU="undefined"!=typeof fetch?fetch.bind(void 0):null,oU=function(){function Screen(en){_classCallCheck$1(this,Screen);var tn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},nn=tn.fetch,rn=void 0===nn?aU:nn,an=tn.window,sn=void 0===an?iU:an;this.ctx=en,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new tU,this.mouse=new rU(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=sn,this.fetch=rn}return _createClass$1(Screen,[{key:"wait",value:function wait(en){this.waits.push(en)}},{key:"ready",value:function ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}},{key:"isReady",value:function isReady(){if(this.isReadyLock)return!0;var en=this.waits.every((function(en){return en()}));return en&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=en,en}},{key:"setDefaults",value:function setDefaults(en){en.strokeStyle="rgba(0,0,0,0)",en.lineCap="butt",en.lineJoin="miter",en.miterLimit=4}},{key:"setViewBox",value:function setViewBox(en){var tn=en.document,nn=en.ctx,rn=en.aspectRatio,an=en.width,sn=en.desiredWidth,An=en.height,cn=en.desiredHeight,un=en.minX,hn=void 0===un?0:un,dn=en.minY,pn=void 0===dn?0:dn,gn=en.refX,mn=en.refY,vn=en.clip,yn=void 0!==vn&&vn,bn=en.clipX,wn=void 0===bn?0:bn,Cn=en.clipY,xn=void 0===Cn?0:Cn,Bn=_slicedToArray(compressSpaces(rn).replace(/^defer\s/,"").split(" "),2),_n=Bn[0]||"xMidYMid",Sn=Bn[1]||"meet",kn=an/sn,En=An/cn,Pn=Math.min(kn,En),Fn=Math.max(kn,En),Ln=sn,In=cn;"meet"===Sn&&(Ln*=Pn,In*=Pn),"slice"===Sn&&(Ln*=Fn,In*=Fn);var Un=new eU(tn,"refX",gn),Tn=new eU(tn,"refY",mn),Qn=Un.hasValue()&&Tn.hasValue();if(Qn&&nn.translate(-Pn*Un.getPixels("x"),-Pn*Tn.getPixels("y")),yn){var Nn=Pn*wn,On=Pn*xn;nn.beginPath(),nn.moveTo(Nn,On),nn.lineTo(an,On),nn.lineTo(an,An),nn.lineTo(Nn,An),nn.closePath(),nn.clip()}if(!Qn){var Mn="meet"===Sn&&Pn===En,Rn="slice"===Sn&&Fn===En,Hn="meet"===Sn&&Pn===kn,Dn="slice"===Sn&&Fn===kn;_n.startsWith("xMid")&&(Mn||Rn)&&nn.translate(an/2-Ln/2,0),_n.endsWith("YMid")&&(Hn||Dn)&&nn.translate(0,An/2-In/2),_n.startsWith("xMax")&&(Mn||Rn)&&nn.translate(an-Ln,0),_n.endsWith("YMax")&&(Hn||Dn)&&nn.translate(0,An-In)}switch(!0){case"none"===_n:nn.scale(kn,En);break;case"meet"===Sn:nn.scale(Pn,Pn);break;case"slice"===Sn:nn.scale(Fn,Fn)}nn.translate(-hn,-pn)}},{key:"start",value:function start(en){var tn=this,nn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},rn=nn.enableRedraw,an=void 0!==rn&&rn,sn=nn.ignoreMouse,An=void 0!==sn&&sn,cn=nn.ignoreAnimation,un=void 0!==cn&&cn,hn=nn.ignoreDimensions,dn=void 0!==hn&&hn,pn=nn.ignoreClear,gn=void 0!==pn&&pn,mn=nn.forceRedraw,vn=nn.scaleWidth,yn=nn.scaleHeight,bn=nn.offsetX,wn=nn.offsetY,Cn=this.FRAMERATE,xn=this.mouse,Bn=1e3/Cn;if(this.frameDuration=Bn,this.readyPromise=new Promise((function(en){tn.resolveReady=en})),this.isReady()&&this.render(en,dn,gn,vn,yn,bn,wn),an){var _n=Date.now(),Sn=_n,kn=0,En=function tick(){_n=Date.now(),(kn=_n-Sn)>=Bn&&(Sn=_n-kn%Bn,tn.shouldUpdate(un,mn)&&(tn.render(en,dn,gn,vn,yn,bn,wn),xn.runEvents())),tn.intervalId=DL(tick)};An||xn.start(),this.intervalId=DL(En)}}},{key:"stop",value:function stop(){this.intervalId&&(DL.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}},{key:"shouldUpdate",value:function shouldUpdate(en,tn){if(!en){var nn=this.frameDuration;if(this.animations.reduce((function(en,tn){return tn.update(nn)||en}),!1))return!0}return!("function"!=typeof tn||!tn())||!(this.isReadyLock||!this.isReady())||!!this.mouse.hasEvents()}},{key:"render",value:function render(en,tn,nn,rn,an,sn,An){var cn=this.CLIENT_WIDTH,un=this.CLIENT_HEIGHT,hn=this.viewPort,dn=this.ctx,pn=this.isFirstRender,gn=dn.canvas;hn.clear(),gn.width&&gn.height?hn.setCurrent(gn.width,gn.height):hn.setCurrent(cn,un);var mn=en.getStyle("width"),vn=en.getStyle("height");!tn&&(pn||"number"!=typeof rn&&"number"!=typeof an)&&(mn.hasValue()&&(gn.width=mn.getPixels("x"),gn.style&&(gn.style.width="".concat(gn.width,"px"))),vn.hasValue()&&(gn.height=vn.getPixels("y"),gn.style&&(gn.style.height="".concat(gn.height,"px"))));var yn=gn.clientWidth||gn.width,bn=gn.clientHeight||gn.height;if(tn&&mn.hasValue()&&vn.hasValue()&&(yn=mn.getPixels("x"),bn=vn.getPixels("y")),hn.setCurrent(yn,bn),"number"==typeof sn&&en.getAttribute("x",!0).setValue(sn),"number"==typeof An&&en.getAttribute("y",!0).setValue(An),"number"==typeof rn||"number"==typeof an){var wn=toNumbers(en.getAttribute("viewBox").getString()),Cn=0,xn=0;if("number"==typeof rn){var Bn=en.getStyle("width");Bn.hasValue()?Cn=Bn.getPixels("x")/rn:isNaN(wn[2])||(Cn=wn[2]/rn)}if("number"==typeof an){var _n=en.getStyle("height");_n.hasValue()?xn=_n.getPixels("y")/an:isNaN(wn[3])||(xn=wn[3]/an)}Cn||(Cn=xn),xn||(xn=Cn),en.getAttribute("width",!0).setValue(rn),en.getAttribute("height",!0).setValue(an);var Sn=en.getStyle("transform",!0,!0);Sn.setValue("".concat(Sn.getString()," scale(").concat(1/Cn,", ").concat(1/xn,")"))}nn||dn.clearRect(0,0,yn,bn),en.render(dn),pn&&(this.isFirstRender=!1)}}]),Screen}();oU.defaultWindow=iU,oU.defaultFetch=aU;var sU=oU.defaultFetch,AU="undefined"!=typeof DOMParser?DOMParser:null,lU=function(){function Parser(){_classCallCheck$1(this,Parser);var en=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},tn=en.fetch,nn=void 0===tn?sU:tn,rn=en.DOMParser,an=void 0===rn?AU:rn;this.fetch=nn,this.DOMParser=an}return _createClass$1(Parser,[{key:"parse",value:function parse(en){var tn=this;return _asyncToGenerator(_regeneratorRuntime().mark((function _callee5(){return _regeneratorRuntime().wrap((function _callee5$(nn){for(;;)switch(nn.prev=nn.next){case 0:return nn.abrupt("return",en.startsWith("<")?tn.parseFromString(en):tn.load(en));case 1:case"end":return nn.stop()}}),_callee5)})))()}},{key:"parseFromString",value:function parseFromString(en){var tn=new this.DOMParser;try{return this.checkDocument(tn.parseFromString(en,"image/svg+xml"))}catch(nn){return this.checkDocument(tn.parseFromString(en,"text/xml"))}}},{key:"checkDocument",value:function checkDocument(en){var tn=en.getElementsByTagName("parsererror")[0];if(tn)throw new Error(tn.textContent);return en}},{key:"load",value:function load(en){var tn=this;return _asyncToGenerator(_regeneratorRuntime().mark((function _callee6(){var nn,rn;return _regeneratorRuntime().wrap((function _callee6$(an){for(;;)switch(an.prev=an.next){case 0:return an.next=2,tn.fetch(en);case 2:return nn=an.sent,an.next=5,nn.text();case 5:return rn=an.sent,an.abrupt("return",tn.parseFromString(rn));case 7:case"end":return an.stop()}}),_callee6)})))()}}]),Parser}(),cU=function(){function Translate(en,tn){_classCallCheck$1(this,Translate),this.type="translate",this.point=null,this.point=nU.parse(tn)}return _createClass$1(Translate,[{key:"apply",value:function apply(en){var tn=this.point,nn=tn.x,rn=tn.y;en.translate(nn||0,rn||0)}},{key:"unapply",value:function unapply(en){var tn=this.point,nn=tn.x,rn=tn.y;en.translate(-1*nn||0,-1*rn||0)}},{key:"applyToPoint",value:function applyToPoint(en){var tn=this.point,nn=tn.x,rn=tn.y;en.applyTransform([1,0,0,1,nn||0,rn||0])}}]),Translate}(),uU=function(){function Rotate(en,tn,nn){_classCallCheck$1(this,Rotate),this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var rn=toNumbers(tn);this.angle=new eU(en,"angle",rn[0]),this.originX=nn[0],this.originY=nn[1],this.cx=rn[1]||0,this.cy=rn[2]||0}return _createClass$1(Rotate,[{key:"apply",value:function apply(en){var tn=this.cx,nn=this.cy,rn=this.originX,an=this.originY,sn=this.angle,An=tn+rn.getPixels("x"),cn=nn+an.getPixels("y");en.translate(An,cn),en.rotate(sn.getRadians()),en.translate(-An,-cn)}},{key:"unapply",value:function unapply(en){var tn=this.cx,nn=this.cy,rn=this.originX,an=this.originY,sn=this.angle,An=tn+rn.getPixels("x"),cn=nn+an.getPixels("y");en.translate(An,cn),en.rotate(-1*sn.getRadians()),en.translate(-An,-cn)}},{key:"applyToPoint",value:function applyToPoint(en){var tn=this.cx,nn=this.cy,rn=this.angle.getRadians();en.applyTransform([1,0,0,1,tn||0,nn||0]),en.applyTransform([Math.cos(rn),Math.sin(rn),-Math.sin(rn),Math.cos(rn),0,0]),en.applyTransform([1,0,0,1,-tn||0,-nn||0])}}]),Rotate}(),hU=function(){function Scale(en,tn,nn){_classCallCheck$1(this,Scale),this.type="scale",this.scale=null,this.originX=null,this.originY=null;var rn=nU.parseScale(tn);0!==rn.x&&0!==rn.y||(rn.x=1e-8,rn.y=1e-8),this.scale=rn,this.originX=nn[0],this.originY=nn[1]}return _createClass$1(Scale,[{key:"apply",value:function apply(en){var tn=this.scale,nn=tn.x,rn=tn.y,an=this.originX,sn=this.originY,An=an.getPixels("x"),cn=sn.getPixels("y");en.translate(An,cn),en.scale(nn,rn||nn),en.translate(-An,-cn)}},{key:"unapply",value:function unapply(en){var tn=this.scale,nn=tn.x,rn=tn.y,an=this.originX,sn=this.originY,An=an.getPixels("x"),cn=sn.getPixels("y");en.translate(An,cn),en.scale(1/nn,1/rn||nn),en.translate(-An,-cn)}},{key:"applyToPoint",value:function applyToPoint(en){var tn=this.scale,nn=tn.x,rn=tn.y;en.applyTransform([nn||0,0,0,rn||0,0,0])}}]),Scale}(),dU=function(){function Matrix(en,tn,nn){_classCallCheck$1(this,Matrix),this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=toNumbers(tn),this.originX=nn[0],this.originY=nn[1]}return _createClass$1(Matrix,[{key:"apply",value:function apply(en){var tn=this.originX,nn=this.originY,rn=this.matrix,an=tn.getPixels("x"),sn=nn.getPixels("y");en.translate(an,sn),en.transform(rn[0],rn[1],rn[2],rn[3],rn[4],rn[5]),en.translate(-an,-sn)}},{key:"unapply",value:function unapply(en){var tn=this.originX,nn=this.originY,rn=this.matrix,an=rn[0],sn=rn[2],An=rn[4],cn=rn[1],un=rn[3],hn=rn[5],dn=1/(an*(1*un-0*hn)-sn*(1*cn-0*hn)+An*(0*cn-0*un)),pn=tn.getPixels("x"),gn=nn.getPixels("y");en.translate(pn,gn),en.transform(dn*(1*un-0*hn),dn*(0*hn-1*cn),dn*(0*An-1*sn),dn*(1*an-0*An),dn*(sn*hn-An*un),dn*(An*cn-an*hn)),en.translate(-pn,-gn)}},{key:"applyToPoint",value:function applyToPoint(en){en.applyTransform(this.matrix)}}]),Matrix}(),pU=function(en){_inherits$1(Skew,dU);var tn=_createSuper$4(Skew);function Skew(en,nn,rn){var an;return _classCallCheck$1(this,Skew),(an=tn.call(this,en,nn,rn)).type="skew",an.angle=null,an.angle=new eU(en,"angle",nn),an}return _createClass$1(Skew)}(),gU=function(en){_inherits$1(SkewX,pU);var tn=_createSuper$4(SkewX);function SkewX(en,nn,rn){var an;return _classCallCheck$1(this,SkewX),(an=tn.call(this,en,nn,rn)).type="skewX",an.matrix=[1,0,Math.tan(an.angle.getRadians()),1,0,0],an}return _createClass$1(SkewX)}(),fU=function(en){_inherits$1(SkewY,pU);var tn=_createSuper$4(SkewY);function SkewY(en,nn,rn){var an;return _classCallCheck$1(this,SkewY),(an=tn.call(this,en,nn,rn)).type="skewY",an.matrix=[1,Math.tan(an.angle.getRadians()),0,1,0,0],an}return _createClass$1(SkewY)}(),mU=function(){function Transform(en,tn,nn){var rn=this;_classCallCheck$1(this,Transform),this.document=en,this.transforms=[];var an=function parseTransforms(en){return compressSpaces(en).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}(tn);an.forEach((function(en){if("none"!==en){var tn=function parseTransform(en){var tn=_slicedToArray(en.split("("),2),nn=tn[0],rn=tn[1];return[nn.trim(),rn.trim().replace(")","")]}(en),an=_slicedToArray(tn,2),sn=an[0],An=an[1],cn=Transform.transformTypes[sn];void 0!==cn&&rn.transforms.push(new cn(rn.document,An,nn))}}))}return _createClass$1(Transform,[{key:"apply",value:function apply(en){for(var tn=this.transforms,nn=tn.length,rn=0;rn<nn;rn++)tn[rn].apply(en)}},{key:"unapply",value:function unapply(en){for(var tn=this.transforms,nn=tn.length-1;nn>=0;nn--)tn[nn].unapply(en)}},{key:"applyToPoint",value:function applyToPoint(en){for(var tn=this.transforms,nn=tn.length,rn=0;rn<nn;rn++)tn[rn].applyToPoint(en)}}],[{key:"fromElement",value:function fromElement(en,tn){var nn=tn.getStyle("transform",!1,!0),rn=_slicedToArray(tn.getStyle("transform-origin",!1,!0).split(),2),an=rn[0],sn=rn[1],An=[an,void 0===sn?an:sn];return nn.hasValue()?new Transform(en,nn.getString(),An):null}}]),Transform}();mU.transformTypes={translate:cU,rotate:uU,scale:hU,matrix:dU,skewX:gU,skewY:fU};var vU=function(){function Element(en,tn){var nn=this;_classCallCheck$1(this,Element);var rn=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.document=en,this.node=tn,this.captureTextNodes=rn,this.attributes={},this.styles={},this.stylesSpecificity={},this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],tn&&1===tn.nodeType){if(Array.from(tn.attributes).forEach((function(tn){var rn=normalizeAttributeName(tn.nodeName);nn.attributes[rn]=new eU(en,rn,tn.value)})),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var an=this.getAttribute("style").getString().split(";").map((function(en){return en.trim()}));an.forEach((function(tn){if(tn){var rn=tn.split(":").map((function(en){return en.trim()})),an=_slicedToArray(rn,2),sn=an[0],An=an[1];nn.styles[sn]=new eU(en,sn,An)}}))}var sn=en.definitions,An=this.getAttribute("id");An.hasValue()&&(sn[An.getString()]||(sn[An.getString()]=this)),Array.from(tn.childNodes).forEach((function(tn){if(1===tn.nodeType)nn.addChild(tn);else if(rn&&(3===tn.nodeType||4===tn.nodeType)){var an=en.createTextNode(tn);an.getText().length>0&&nn.addChild(an)}}))}}return _createClass$1(Element,[{key:"getAttribute",value:function getAttribute(en){var tn=arguments.length>1&&void 0!==arguments[1]&&arguments[1],nn=this.attributes[en];if(!nn&&tn){var rn=new eU(this.document,en,"");return this.attributes[en]=rn,rn}return nn||eU.empty(this.document)}},{key:"getHrefAttribute",value:function getHrefAttribute(){for(var en in this.attributes)if("href"===en||en.endsWith(":href"))return this.attributes[en];return eU.empty(this.document)}},{key:"getStyle",value:function getStyle(en){var tn=arguments.length>1&&void 0!==arguments[1]&&arguments[1],nn=arguments.length>2&&void 0!==arguments[2]&&arguments[2],rn=this.styles[en];if(rn)return rn;var an=this.getAttribute(en);if(null!=an&&an.hasValue())return this.styles[en]=an,an;if(!nn){var sn=this.parent;if(sn){var An=sn.getStyle(en);if(null!=An&&An.hasValue())return An}}if(tn){var cn=new eU(this.document,en,"");return this.styles[en]=cn,cn}return rn||eU.empty(this.document)}},{key:"render",value:function render(en){if("none"!==this.getStyle("display").getString()&&"hidden"!==this.getStyle("visibility").getString()){if(en.save(),this.getStyle("mask").hasValue()){var tn=this.getStyle("mask").getDefinition();tn&&(this.applyEffects(en),tn.apply(en,this))}else if("none"!==this.getStyle("filter").getValue("none")){var nn=this.getStyle("filter").getDefinition();nn&&(this.applyEffects(en),nn.apply(en,this))}else this.setContext(en),this.renderChildren(en),this.clearContext(en);en.restore()}}},{key:"setContext",value:function setContext(en){}},{key:"applyEffects",value:function applyEffects(en){var tn=mU.fromElement(this.document,this);tn&&tn.apply(en);var nn=this.getStyle("clip-path",!1,!0);if(nn.hasValue()){var rn=nn.getDefinition();rn&&rn.apply(en)}}},{key:"clearContext",value:function clearContext(en){}},{key:"renderChildren",value:function renderChildren(en){this.children.forEach((function(tn){tn.render(en)}))}},{key:"addChild",value:function addChild(en){var tn=en instanceof Element?en:this.document.createElement(en);tn.parent=this,Element.ignoreChildTypes.includes(tn.type)||this.children.push(tn)}},{key:"matchesSelector",value:function matchesSelector(en){var tn,nn=this.node;if("function"==typeof nn.matches)return nn.matches(en);var rn=null===(tn=nn.getAttribute)||void 0===tn?void 0:tn.call(nn,"class");return!(!rn||""===rn)&&rn.split(" ").some((function(tn){return".".concat(tn)===en}))}},{key:"addStylesFromStyleDefinition",value:function addStylesFromStyleDefinition(){var en=this.document,tn=en.styles,nn=en.stylesSpecificity;for(var rn in tn)if(!rn.startsWith("@")&&this.matchesSelector(rn)){var an=tn[rn],sn=nn[rn];if(an)for(var An in an){var cn=this.stylesSpecificity[An];void 0===cn&&(cn="000"),sn>=cn&&(this.styles[An]=an[An],this.stylesSpecificity[An]=sn)}}}},{key:"removeStyles",value:function removeStyles(en,tn){return tn.reduce((function(tn,nn){var rn=en.getStyle(nn);if(!rn.hasValue())return tn;var an=rn.getString();return rn.setValue(""),[].concat(_toConsumableArray(tn),[[nn,an]])}),[])}},{key:"restoreStyles",value:function restoreStyles(en,tn){tn.forEach((function(tn){var nn=_slicedToArray(tn,2),rn=nn[0],an=nn[1];en.getStyle(rn,!0).setValue(an)}))}},{key:"isFirstChild",value:function isFirstChild(){var en;return 0===(null===(en=this.parent)||void 0===en?void 0:en.children.indexOf(this))}}]),Element}();vU.ignoreChildTypes=["title"];var yU=function(en){_inherits$1(UnknownElement,vU);var tn=_createSuper$4(UnknownElement);function UnknownElement(en,nn,rn){return _classCallCheck$1(this,UnknownElement),tn.call(this,en,nn,rn)}return _createClass$1(UnknownElement)}();function wrapFontFamily(en){var tn=en.trim();return/^('|")/.test(tn)?tn:'"'.concat(tn,'"')}function prepareFontStyle(en){if(!en)return"";var tn=en.trim().toLowerCase();switch(tn){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return tn;default:return/^oblique\s+(-|)\d+deg$/.test(tn)?tn:""}}function prepareFontWeight(en){if(!en)return"";var tn=en.trim().toLowerCase();switch(tn){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return tn;default:return/^[\d.]+$/.test(tn)?tn:""}}var bU=function(){function Font(en,tn,nn,rn,an,sn){_classCallCheck$1(this,Font);var An=sn?"string"==typeof sn?Font.parse(sn):sn:{};this.fontFamily=an||An.fontFamily,this.fontSize=rn||An.fontSize,this.fontStyle=en||An.fontStyle,this.fontWeight=nn||An.fontWeight,this.fontVariant=tn||An.fontVariant}return _createClass$1(Font,[{key:"toString",value:function toString(){return[prepareFontStyle(this.fontStyle),this.fontVariant,prepareFontWeight(this.fontWeight),this.fontSize,(en=this.fontFamily,"undefined"==typeof process?en:en.trim().split(",").map(wrapFontFamily).join(","))].join(" ").trim();var en}}],[{key:"parse",value:function parse(){var en=arguments.length>1?arguments[1]:void 0,tn="",nn="",rn="",an="",sn="",An=compressSpaces(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").trim().split(" "),cn={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return An.forEach((function(en){var An;switch(!0){case!cn.fontStyle&&Font.styles.includes(en):"inherit"!==en&&(tn=en),cn.fontStyle=!0;break;case!cn.fontVariant&&Font.variants.includes(en):"inherit"!==en&&(nn=en),cn.fontStyle=!0,cn.fontVariant=!0;break;case!cn.fontWeight&&Font.weights.includes(en):"inherit"!==en&&(rn=en),cn.fontStyle=!0,cn.fontVariant=!0,cn.fontWeight=!0;break;case!cn.fontSize:"inherit"!==en&&(An=_slicedToArray(en.split("/"),1),an=An[0]),cn.fontStyle=!0,cn.fontVariant=!0,cn.fontWeight=!0,cn.fontSize=!0;break;default:"inherit"!==en&&(sn+=en)}})),new Font(tn,nn,rn,an,sn,en)}}]),Font}();bU.styles="normal|italic|oblique|inherit",bU.variants="normal|small-caps|inherit",bU.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";var wU=function(){function BoundingBox(){_classCallCheck$1(this,BoundingBox);var en=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.NaN,tn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.NaN,nn=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.NaN,rn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Number.NaN;this.x1=en,this.y1=tn,this.x2=nn,this.y2=rn,this.addPoint(en,tn),this.addPoint(nn,rn)}return _createClass$1(BoundingBox,[{key:"x",get:function get(){return this.x1}},{key:"y",get:function get(){return this.y1}},{key:"width",get:function get(){return this.x2-this.x1}},{key:"height",get:function get(){return this.y2-this.y1}},{key:"addPoint",value:function addPoint(en,tn){void 0!==en&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=en,this.x2=en),en<this.x1&&(this.x1=en),en>this.x2&&(this.x2=en)),void 0!==tn&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=tn,this.y2=tn),tn<this.y1&&(this.y1=tn),tn>this.y2&&(this.y2=tn))}},{key:"addX",value:function addX(en){this.addPoint(en,null)}},{key:"addY",value:function addY(en){this.addPoint(null,en)}},{key:"addBoundingBox",value:function addBoundingBox(en){if(en){var tn=en.x1,nn=en.y1,rn=en.x2,an=en.y2;this.addPoint(tn,nn),this.addPoint(rn,an)}}},{key:"sumCubic",value:function sumCubic(en,tn,nn,rn,an){return Math.pow(1-en,3)*tn+3*Math.pow(1-en,2)*en*nn+3*(1-en)*Math.pow(en,2)*rn+Math.pow(en,3)*an}},{key:"bezierCurveAdd",value:function bezierCurveAdd(en,tn,nn,rn,an){var sn=6*tn-12*nn+6*rn,An=-3*tn+9*nn-9*rn+3*an,cn=3*nn-3*tn;if(0!==An){var un=Math.pow(sn,2)-4*cn*An;if(!(un<0)){var hn=(-sn+Math.sqrt(un))/(2*An);0<hn&&hn<1&&(en?this.addX(this.sumCubic(hn,tn,nn,rn,an)):this.addY(this.sumCubic(hn,tn,nn,rn,an)));var dn=(-sn-Math.sqrt(un))/(2*An);0<dn&&dn<1&&(en?this.addX(this.sumCubic(dn,tn,nn,rn,an)):this.addY(this.sumCubic(dn,tn,nn,rn,an)))}}else{if(0===sn)return;var pn=-cn/sn;0<pn&&pn<1&&(en?this.addX(this.sumCubic(pn,tn,nn,rn,an)):this.addY(this.sumCubic(pn,tn,nn,rn,an)))}}},{key:"addBezierCurve",value:function addBezierCurve(en,tn,nn,rn,an,sn,An,cn){this.addPoint(en,tn),this.addPoint(An,cn),this.bezierCurveAdd(!0,en,nn,an,An),this.bezierCurveAdd(!1,tn,rn,sn,cn)}},{key:"addQuadraticCurve",value:function addQuadraticCurve(en,tn,nn,rn,an,sn){var An=en+2/3*(nn-en),cn=tn+2/3*(rn-tn),un=An+1/3*(an-en),hn=cn+1/3*(sn-tn);this.addBezierCurve(en,tn,An,un,cn,hn,an,sn)}},{key:"isPointInBox",value:function isPointInBox(en,tn){var nn=this.x1,rn=this.y1,an=this.x2,sn=this.y2;return nn<=en&&en<=an&&rn<=tn&&tn<=sn}}]),BoundingBox}(),CU=function(en){_inherits$1(PathParser,kI);var tn=_createSuper$4(PathParser);function PathParser(en){var nn;return _classCallCheck$1(this,PathParser),(nn=tn.call(this,en.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,""))).control=null,nn.start=null,nn.current=null,nn.command=null,nn.commands=nn.commands,nn.i=-1,nn.previousCommand=null,nn.points=[],nn.angles=[],nn}return _createClass$1(PathParser,[{key:"reset",value:function reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new nU(0,0),this.control=new nU(0,0),this.current=new nU(0,0),this.points=[],this.angles=[]}},{key:"isEnd",value:function isEnd(){return this.i>=this.commands.length-1}},{key:"next",value:function next(){var en=this.commands[++this.i];return this.previousCommand=this.command,this.command=en,en}},{key:"getPoint",value:function getPoint(){var en=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x",tn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y",nn=new nU(this.command[en],this.command[tn]);return this.makeAbsolute(nn)}},{key:"getAsControlPoint",value:function getAsControlPoint(en,tn){var nn=this.getPoint(en,tn);return this.control=nn,nn}},{key:"getAsCurrentPoint",value:function getAsCurrentPoint(en,tn){var nn=this.getPoint(en,tn);return this.current=nn,nn}},{key:"getReflectedControlPoint",value:function getReflectedControlPoint(){var en=this.previousCommand.type;if(en!==kI.CURVE_TO&&en!==kI.SMOOTH_CURVE_TO&&en!==kI.QUAD_TO&&en!==kI.SMOOTH_QUAD_TO)return this.current;var tn=this.current,nn=tn.x,rn=tn.y,an=this.control,sn=an.x,An=an.y;return new nU(2*nn-sn,2*rn-An)}},{key:"makeAbsolute",value:function makeAbsolute(en){if(this.command.relative){var tn=this.current,nn=tn.x,rn=tn.y;en.x+=nn,en.y+=rn}return en}},{key:"addMarker",value:function addMarker(en,tn,nn){var rn=this.points,an=this.angles;nn&&an.length>0&&!an[an.length-1]&&(an[an.length-1]=rn[rn.length-1].angleTo(nn)),this.addMarkerAngle(en,tn?tn.angleTo(en):null)}},{key:"addMarkerAngle",value:function addMarkerAngle(en,tn){this.points.push(en),this.angles.push(tn)}},{key:"getMarkerPoints",value:function getMarkerPoints(){return this.points}},{key:"getMarkerAngles",value:function getMarkerAngles(){for(var en=this.angles,tn=en.length,nn=0;nn<tn;nn++)if(!en[nn])for(var rn=nn+1;rn<tn;rn++)if(en[rn]){en[nn]=en[rn];break}return en}}]),PathParser}(),xU=function(en){_inherits$1(RenderedElement,vU);var tn=_createSuper$4(RenderedElement);function RenderedElement(){var en;return _classCallCheck$1(this,RenderedElement),(en=tn.apply(this,arguments)).modifiedEmSizeStack=!1,en}return _createClass$1(RenderedElement,[{key:"calculateOpacity",value:function calculateOpacity(){for(var en=1,tn=this;tn;){var nn=tn.getStyle("opacity",!1,!0);nn.hasValue(!0)&&(en*=nn.getNumber()),tn=tn.parent}return en}},{key:"setContext",value:function setContext(en){var tn=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!tn){var nn=this.getStyle("fill"),rn=this.getStyle("fill-opacity"),an=this.getStyle("stroke"),sn=this.getStyle("stroke-opacity");if(nn.isUrlDefinition()){var An=nn.getFillStyleDefinition(this,rn);An&&(en.fillStyle=An)}else if(nn.hasValue()){"currentColor"===nn.getString()&&nn.setValue(this.getStyle("color").getColor());var cn=nn.getColor();"inherit"!==cn&&(en.fillStyle="none"===cn?"rgba(0,0,0,0)":cn)}if(rn.hasValue()){var un=new eU(this.document,"fill",en.fillStyle).addOpacity(rn).getColor();en.fillStyle=un}if(an.isUrlDefinition()){var hn=an.getFillStyleDefinition(this,sn);hn&&(en.strokeStyle=hn)}else if(an.hasValue()){"currentColor"===an.getString()&&an.setValue(this.getStyle("color").getColor());var dn=an.getString();"inherit"!==dn&&(en.strokeStyle="none"===dn?"rgba(0,0,0,0)":dn)}if(sn.hasValue()){var pn=new eU(this.document,"stroke",en.strokeStyle).addOpacity(sn).getString();en.strokeStyle=pn}var gn=this.getStyle("stroke-width");if(gn.hasValue()){var mn=gn.getPixels();en.lineWidth=mn||1e-8}var vn=this.getStyle("stroke-linecap"),yn=this.getStyle("stroke-linejoin"),bn=this.getStyle("stroke-miterlimit"),wn=this.getStyle("stroke-dasharray"),Cn=this.getStyle("stroke-dashoffset");if(vn.hasValue()&&(en.lineCap=vn.getString()),yn.hasValue()&&(en.lineJoin=yn.getString()),bn.hasValue()&&(en.miterLimit=bn.getNumber()),wn.hasValue()&&"none"!==wn.getString()){var xn=toNumbers(wn.getString());void 0!==en.setLineDash?en.setLineDash(xn):void 0!==en.webkitLineDash?en.webkitLineDash=xn:void 0===en.mozDash||1===xn.length&&0===xn[0]||(en.mozDash=xn);var Bn=Cn.getPixels();void 0!==en.lineDashOffset?en.lineDashOffset=Bn:void 0!==en.webkitLineDashOffset?en.webkitLineDashOffset=Bn:void 0!==en.mozDashOffset&&(en.mozDashOffset=Bn)}}if(this.modifiedEmSizeStack=!1,void 0!==en.font){var _n=this.getStyle("font"),Sn=this.getStyle("font-style"),kn=this.getStyle("font-variant"),En=this.getStyle("font-weight"),Pn=this.getStyle("font-size"),Fn=this.getStyle("font-family"),Ln=new bU(Sn.getString(),kn.getString(),En.getString(),Pn.hasValue()?"".concat(Pn.getPixels(!0),"px"):"",Fn.getString(),bU.parse(_n.getString(),en.font));Sn.setValue(Ln.fontStyle),kn.setValue(Ln.fontVariant),En.setValue(Ln.fontWeight),Pn.setValue(Ln.fontSize),Fn.setValue(Ln.fontFamily),en.font=Ln.toString(),Pn.isPixels()&&(this.document.emSize=Pn.getPixels(),this.modifiedEmSizeStack=!0)}tn||(this.applyEffects(en),en.globalAlpha=this.calculateOpacity())}},{key:"clearContext",value:function clearContext(en){_get(_getPrototypeOf$1(RenderedElement.prototype),"clearContext",this).call(this,en),this.modifiedEmSizeStack&&this.document.popEmSize()}}]),RenderedElement}(),BU=function(en){_inherits$1(PathElement,xU);var tn=_createSuper$4(PathElement);function PathElement(en,nn,rn){var an;return _classCallCheck$1(this,PathElement),(an=tn.call(this,en,nn,rn)).type="path",an.pathParser=null,an.pathParser=new CU(an.getAttribute("d").getString()),an}return _createClass$1(PathElement,[{key:"path",value:function path(en){var tn=this.pathParser,nn=new wU;for(tn.reset(),en&&en.beginPath();!tn.isEnd();)switch(tn.next().type){case CU.MOVE_TO:this.pathM(en,nn);break;case CU.LINE_TO:this.pathL(en,nn);break;case CU.HORIZ_LINE_TO:this.pathH(en,nn);break;case CU.VERT_LINE_TO:this.pathV(en,nn);break;case CU.CURVE_TO:this.pathC(en,nn);break;case CU.SMOOTH_CURVE_TO:this.pathS(en,nn);break;case CU.QUAD_TO:this.pathQ(en,nn);break;case CU.SMOOTH_QUAD_TO:this.pathT(en,nn);break;case CU.ARC:this.pathA(en,nn);break;case CU.CLOSE_PATH:this.pathZ(en,nn)}return nn}},{key:"getBoundingBox",value:function getBoundingBox(en){return this.path()}},{key:"getMarkers",value:function getMarkers(){var en=this.pathParser,tn=en.getMarkerPoints(),nn=en.getMarkerAngles(),rn=tn.map((function(en,tn){return[en,nn[tn]]}));return rn}},{key:"renderChildren",value:function renderChildren(en){this.path(en),this.document.screen.mouse.checkPath(this,en);var tn=this.getStyle("fill-rule");""!==en.fillStyle&&("inherit"!==tn.getString("inherit")?en.fill(tn.getString()):en.fill()),""!==en.strokeStyle&&("non-scaling-stroke"===this.getAttribute("vector-effect").getString()?(en.save(),en.setTransform(1,0,0,1,0,0),en.stroke(),en.restore()):en.stroke());var nn=this.getMarkers();if(nn){var rn=nn.length-1,an=this.getStyle("marker-start"),sn=this.getStyle("marker-mid"),An=this.getStyle("marker-end");if(an.isUrlDefinition()){var cn=an.getDefinition(),un=_slicedToArray(nn[0],2),hn=un[0],dn=un[1];cn.render(en,hn,dn)}if(sn.isUrlDefinition())for(var pn=sn.getDefinition(),gn=1;gn<rn;gn++){var mn=_slicedToArray(nn[gn],2),vn=mn[0],yn=mn[1];pn.render(en,vn,yn)}if(An.isUrlDefinition()){var bn=An.getDefinition(),wn=_slicedToArray(nn[rn],2),Cn=wn[0],xn=wn[1];bn.render(en,Cn,xn)}}}},{key:"pathM",value:function pathM(en,tn){var nn=this.pathParser,rn=PathElement.pathM(nn).point,an=rn.x,sn=rn.y;nn.addMarker(rn),tn.addPoint(an,sn),en&&en.moveTo(an,sn)}},{key:"pathL",value:function pathL(en,tn){var nn=this.pathParser,rn=PathElement.pathL(nn),an=rn.current,sn=rn.point,An=sn.x,cn=sn.y;nn.addMarker(sn,an),tn.addPoint(An,cn),en&&en.lineTo(An,cn)}},{key:"pathH",value:function pathH(en,tn){var nn=this.pathParser,rn=PathElement.pathH(nn),an=rn.current,sn=rn.point,An=sn.x,cn=sn.y;nn.addMarker(sn,an),tn.addPoint(An,cn),en&&en.lineTo(An,cn)}},{key:"pathV",value:function pathV(en,tn){var nn=this.pathParser,rn=PathElement.pathV(nn),an=rn.current,sn=rn.point,An=sn.x,cn=sn.y;nn.addMarker(sn,an),tn.addPoint(An,cn),en&&en.lineTo(An,cn)}},{key:"pathC",value:function pathC(en,tn){var nn=this.pathParser,rn=PathElement.pathC(nn),an=rn.current,sn=rn.point,An=rn.controlPoint,cn=rn.currentPoint;nn.addMarker(cn,An,sn),tn.addBezierCurve(an.x,an.y,sn.x,sn.y,An.x,An.y,cn.x,cn.y),en&&en.bezierCurveTo(sn.x,sn.y,An.x,An.y,cn.x,cn.y)}},{key:"pathS",value:function pathS(en,tn){var nn=this.pathParser,rn=PathElement.pathS(nn),an=rn.current,sn=rn.point,An=rn.controlPoint,cn=rn.currentPoint;nn.addMarker(cn,An,sn),tn.addBezierCurve(an.x,an.y,sn.x,sn.y,An.x,An.y,cn.x,cn.y),en&&en.bezierCurveTo(sn.x,sn.y,An.x,An.y,cn.x,cn.y)}},{key:"pathQ",value:function pathQ(en,tn){var nn=this.pathParser,rn=PathElement.pathQ(nn),an=rn.current,sn=rn.controlPoint,An=rn.currentPoint;nn.addMarker(An,sn,sn),tn.addQuadraticCurve(an.x,an.y,sn.x,sn.y,An.x,An.y),en&&en.quadraticCurveTo(sn.x,sn.y,An.x,An.y)}},{key:"pathT",value:function pathT(en,tn){var nn=this.pathParser,rn=PathElement.pathT(nn),an=rn.current,sn=rn.controlPoint,An=rn.currentPoint;nn.addMarker(An,sn,sn),tn.addQuadraticCurve(an.x,an.y,sn.x,sn.y,An.x,An.y),en&&en.quadraticCurveTo(sn.x,sn.y,An.x,An.y)}},{key:"pathA",value:function pathA(en,tn){var nn=this.pathParser,rn=PathElement.pathA(nn),an=rn.currentPoint,sn=rn.rX,An=rn.rY,cn=rn.sweepFlag,un=rn.xAxisRotation,hn=rn.centp,dn=rn.a1,pn=rn.ad,gn=1-cn?1:-1,mn=dn+gn*(pn/2),vn=new nU(hn.x+sn*Math.cos(mn),hn.y+An*Math.sin(mn));if(nn.addMarkerAngle(vn,mn-gn*Math.PI/2),nn.addMarkerAngle(an,mn-gn*Math.PI),tn.addPoint(an.x,an.y),en&&!isNaN(dn)&&!isNaN(pn)){var yn=sn>An?sn:An,bn=sn>An?1:sn/An,wn=sn>An?An/sn:1;en.translate(hn.x,hn.y),en.rotate(un),en.scale(bn,wn),en.arc(0,0,yn,dn,dn+pn,Boolean(1-cn)),en.scale(1/bn,1/wn),en.rotate(-un),en.translate(-hn.x,-hn.y)}}},{key:"pathZ",value:function pathZ(en,tn){PathElement.pathZ(this.pathParser),en&&tn.x1!==tn.x2&&tn.y1!==tn.y2&&en.closePath()}}],[{key:"pathM",value:function pathM(en){var tn=en.getAsCurrentPoint();return en.start=en.current,{point:tn}}},{key:"pathL",value:function pathL(en){return{current:en.current,point:en.getAsCurrentPoint()}}},{key:"pathH",value:function pathH(en){var tn=en.current,nn=en.command,rn=new nU((nn.relative?tn.x:0)+nn.x,tn.y);return en.current=rn,{current:tn,point:rn}}},{key:"pathV",value:function pathV(en){var tn=en.current,nn=en.command,rn=new nU(tn.x,(nn.relative?tn.y:0)+nn.y);return en.current=rn,{current:tn,point:rn}}},{key:"pathC",value:function pathC(en){return{current:en.current,point:en.getPoint("x1","y1"),controlPoint:en.getAsControlPoint("x2","y2"),currentPoint:en.getAsCurrentPoint()}}},{key:"pathS",value:function pathS(en){return{current:en.current,point:en.getReflectedControlPoint(),controlPoint:en.getAsControlPoint("x2","y2"),currentPoint:en.getAsCurrentPoint()}}},{key:"pathQ",value:function pathQ(en){return{current:en.current,controlPoint:en.getAsControlPoint("x1","y1"),currentPoint:en.getAsCurrentPoint()}}},{key:"pathT",value:function pathT(en){var tn=en.current,nn=en.getReflectedControlPoint();return en.control=nn,{current:tn,controlPoint:nn,currentPoint:en.getAsCurrentPoint()}}},{key:"pathA",value:function pathA(en){var tn=en.current,nn=en.command,rn=nn.rX,an=nn.rY,sn=nn.xRot,An=nn.lArcFlag,cn=nn.sweepFlag,un=sn*(Math.PI/180),hn=en.getAsCurrentPoint(),dn=new nU(Math.cos(un)*(tn.x-hn.x)/2+Math.sin(un)*(tn.y-hn.y)/2,-Math.sin(un)*(tn.x-hn.x)/2+Math.cos(un)*(tn.y-hn.y)/2),pn=Math.pow(dn.x,2)/Math.pow(rn,2)+Math.pow(dn.y,2)/Math.pow(an,2);pn>1&&(rn*=Math.sqrt(pn),an*=Math.sqrt(pn));var gn=(An===cn?-1:1)*Math.sqrt((Math.pow(rn,2)*Math.pow(an,2)-Math.pow(rn,2)*Math.pow(dn.y,2)-Math.pow(an,2)*Math.pow(dn.x,2))/(Math.pow(rn,2)*Math.pow(dn.y,2)+Math.pow(an,2)*Math.pow(dn.x,2)));isNaN(gn)&&(gn=0);var mn=new nU(gn*rn*dn.y/an,gn*-an*dn.x/rn),vn=new nU((tn.x+hn.x)/2+Math.cos(un)*mn.x-Math.sin(un)*mn.y,(tn.y+hn.y)/2+Math.sin(un)*mn.x+Math.cos(un)*mn.y),yn=vectorsAngle([1,0],[(dn.x-mn.x)/rn,(dn.y-mn.y)/an]),bn=[(dn.x-mn.x)/rn,(dn.y-mn.y)/an],wn=[(-dn.x-mn.x)/rn,(-dn.y-mn.y)/an],Cn=vectorsAngle(bn,wn);return vectorsRatio(bn,wn)<=-1&&(Cn=Math.PI),vectorsRatio(bn,wn)>=1&&(Cn=0),{currentPoint:hn,rX:rn,rY:an,sweepFlag:cn,xAxisRotation:un,centp:vn,a1:yn,ad:Cn}}},{key:"pathZ",value:function pathZ(en){en.current=en.start}}]),PathElement}(),_U=function(en){_inherits$1(GlyphElement,BU);var tn=_createSuper$4(GlyphElement);function GlyphElement(en,nn,rn){var an;return _classCallCheck$1(this,GlyphElement),(an=tn.call(this,en,nn,rn)).type="glyph",an.horizAdvX=an.getAttribute("horiz-adv-x").getNumber(),an.unicode=an.getAttribute("unicode").getString(),an.arabicForm=an.getAttribute("arabic-form").getString(),an}return _createClass$1(GlyphElement)}(),SU=function(en){_inherits$1(TextElement,xU);var tn=_createSuper$4(TextElement);function TextElement(en,nn,rn){var an;return _classCallCheck$1(this,TextElement),(an=tn.call(this,en,nn,(this instanceof TextElement?this.constructor:void 0)===TextElement||rn)).type="text",an.x=0,an.y=0,an.measureCache=-1,an}return _createClass$1(TextElement,[{key:"setContext",value:function setContext(en){var tn=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_get(_getPrototypeOf$1(TextElement.prototype),"setContext",this).call(this,en,tn);var nn=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();nn&&(en.textBaseline=nn)}},{key:"initializeCoordinates",value:function initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}},{key:"getBoundingBox",value:function getBoundingBox(en){var tn=this;if("text"!==this.type)return this.getTElementBoundingBox(en);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(en);var nn=null;return this.children.forEach((function(rn,an){var sn=tn.getChildBoundingBox(en,tn,tn,an);nn?nn.addBoundingBox(sn):nn=sn})),nn}},{key:"getFontSize",value:function getFontSize(){var en=this.document,tn=this.parent,nn=bU.parse(en.ctx.font).fontSize;return tn.getStyle("font-size").getNumber(nn)}},{key:"getTElementBoundingBox",value:function getTElementBoundingBox(en){var tn=this.getFontSize();return new wU(this.x,this.y-tn,this.x+this.measureText(en),this.y)}},{key:"getGlyph",value:function getGlyph(en,tn,nn){var rn=tn[nn],an=null;if(en.isArabic){var sn=tn.length,An=tn[nn-1],cn=tn[nn+1],un="isolated";if((0===nn||" "===An)&&nn<sn-1&&" "!==cn&&(un="terminal"),nn>0&&" "!==An&&nn<sn-1&&" "!==cn&&(un="medial"),nn>0&&" "!==An&&(nn===sn-1||" "===cn)&&(un="initial"),void 0!==en.glyphs[rn]){var hn=en.glyphs[rn];an=hn instanceof _U?hn:hn[un]}}else an=en.glyphs[rn];return an||(an=en.missingGlyph),an}},{key:"getText",value:function getText(){return""}},{key:"getTextFromNode",value:function getTextFromNode(en){var tn=en||this.node,nn=Array.from(tn.parentNode.childNodes),rn=nn.indexOf(tn),an=nn.length-1,sn=compressSpaces(tn.textContent||"");return 0===rn&&(sn=trimLeft(sn)),rn===an&&(sn=trimRight(sn)),sn}},{key:"renderChildren",value:function renderChildren(en){var tn=this;if("text"===this.type){this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(en),this.children.forEach((function(nn,rn){tn.renderChild(en,tn,tn,rn)}));var nn=this.document.screen.mouse;nn.isWorking()&&nn.checkBoundingBox(this,this.getBoundingBox(en))}else this.renderTElementChildren(en)}},{key:"renderTElementChildren",value:function renderTElementChildren(en){var tn=this.document,nn=this.parent,rn=this.getText(),an=nn.getStyle("font-family").getDefinition();if(an)for(var sn=an.fontFace.unitsPerEm,An=bU.parse(tn.ctx.font),cn=nn.getStyle("font-size").getNumber(An.fontSize),un=nn.getStyle("font-style").getString(An.fontStyle),hn=cn/sn,dn=an.isRTL?rn.split("").reverse().join(""):rn,pn=toNumbers(nn.getAttribute("dx").getString()),gn=dn.length,mn=0;mn<gn;mn++){var vn=this.getGlyph(an,dn,mn);en.translate(this.x,this.y),en.scale(hn,-hn);var yn=en.lineWidth;en.lineWidth=en.lineWidth*sn/cn,"italic"===un&&en.transform(1,0,.4,1,0,0),vn.render(en),"italic"===un&&en.transform(1,0,-.4,1,0,0),en.lineWidth=yn,en.scale(1/hn,-1/hn),en.translate(-this.x,-this.y),this.x+=cn*(vn.horizAdvX||an.horizAdvX)/sn,void 0===pn[mn]||isNaN(pn[mn])||(this.x+=pn[mn])}else{var bn=this.x,wn=this.y;en.fillStyle&&en.fillText(rn,bn,wn),en.strokeStyle&&en.strokeText(rn,bn,wn)}}},{key:"applyAnchoring",value:function applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var en,tn=this.leafTexts[this.textChunkStart],nn=tn.getStyle("text-anchor").getString("start");en="start"===nn?tn.x-this.minX:"end"===nn?tn.x-this.maxX:tn.x-(this.minX+this.maxX)/2;for(var rn=this.textChunkStart;rn<this.leafTexts.length;rn++)this.leafTexts[rn].x+=en;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}},{key:"adjustChildCoordinatesRecursive",value:function adjustChildCoordinatesRecursive(en){var tn=this;this.children.forEach((function(nn,rn){tn.adjustChildCoordinatesRecursiveCore(en,tn,tn,rn)})),this.applyAnchoring()}},{key:"adjustChildCoordinatesRecursiveCore",value:function adjustChildCoordinatesRecursiveCore(en,tn,nn,rn){var an=nn.children[rn];an.children.length>0?an.children.forEach((function(nn,rn){tn.adjustChildCoordinatesRecursiveCore(en,tn,an,rn)})):this.adjustChildCoordinates(en,tn,nn,rn)}},{key:"adjustChildCoordinates",value:function adjustChildCoordinates(en,tn,nn,rn){var an=nn.children[rn];if("function"!=typeof an.measureText)return an;en.save(),an.setContext(en,!0);var sn=an.getAttribute("x"),An=an.getAttribute("y"),cn=an.getAttribute("dx"),un=an.getAttribute("dy"),hn=an.getStyle("font-family").getDefinition(),dn=Boolean(hn)&&hn.isRTL;0===rn&&(sn.hasValue()||sn.setValue(an.getInheritedAttribute("x")),An.hasValue()||An.setValue(an.getInheritedAttribute("y")),cn.hasValue()||cn.setValue(an.getInheritedAttribute("dx")),un.hasValue()||un.setValue(an.getInheritedAttribute("dy")));var pn=an.measureText(en);return dn&&(tn.x-=pn),sn.hasValue()?(tn.applyAnchoring(),an.x=sn.getPixels("x"),cn.hasValue()&&(an.x+=cn.getPixels("x"))):(cn.hasValue()&&(tn.x+=cn.getPixels("x")),an.x=tn.x),tn.x=an.x,dn||(tn.x+=pn),An.hasValue()?(an.y=An.getPixels("y"),un.hasValue()&&(an.y+=un.getPixels("y"))):(un.hasValue()&&(tn.y+=un.getPixels("y")),an.y=tn.y),tn.y=an.y,tn.leafTexts.push(an),tn.minX=Math.min(tn.minX,an.x,an.x+pn),tn.maxX=Math.max(tn.maxX,an.x,an.x+pn),an.clearContext(en),en.restore(),an}},{key:"getChildBoundingBox",value:function getChildBoundingBox(en,tn,nn,rn){var an=nn.children[rn];if("function"!=typeof an.getBoundingBox)return null;var sn=an.getBoundingBox(en);return sn?(an.children.forEach((function(nn,rn){var An=tn.getChildBoundingBox(en,tn,an,rn);sn.addBoundingBox(An)})),sn):null}},{key:"renderChild",value:function renderChild(en,tn,nn,rn){var an=nn.children[rn];an.render(en),an.children.forEach((function(nn,rn){tn.renderChild(en,tn,an,rn)}))}},{key:"measureText",value:function measureText(en){var tn=this.measureCache;if(~tn)return tn;var nn=this.getText(),rn=this.measureTargetText(en,nn);return this.measureCache=rn,rn}},{key:"measureTargetText",value:function measureTargetText(en,tn){if(!tn.length)return 0;var nn=this.parent,rn=nn.getStyle("font-family").getDefinition();if(rn){for(var an=this.getFontSize(),sn=rn.isRTL?tn.split("").reverse().join(""):tn,An=toNumbers(nn.getAttribute("dx").getString()),cn=sn.length,un=0,hn=0;hn<cn;hn++)un+=(this.getGlyph(rn,sn,hn).horizAdvX||rn.horizAdvX)*an/rn.fontFace.unitsPerEm,void 0===An[hn]||isNaN(An[hn])||(un+=An[hn]);return un}if(!en.measureText)return 10*tn.length;en.save(),this.setContext(en,!0);var dn=en.measureText(tn).width;return this.clearContext(en),en.restore(),dn}},{key:"getInheritedAttribute",value:function getInheritedAttribute(en){for(var tn=this;tn instanceof TextElement&&tn.isFirstChild();){var nn=tn.parent.getAttribute(en);if(nn.hasValue(!0))return nn.getValue("0");tn=tn.parent}return null}}]),TextElement}(),kU=function(en){_inherits$1(TSpanElement,SU);var tn=_createSuper$4(TSpanElement);function TSpanElement(en,nn,rn){var an;return _classCallCheck$1(this,TSpanElement),(an=tn.call(this,en,nn,(this instanceof TSpanElement?this.constructor:void 0)===TSpanElement||rn)).type="tspan",an.text=an.children.length>0?"":an.getTextFromNode(),an}return _createClass$1(TSpanElement,[{key:"getText",value:function getText(){return this.text}}]),TSpanElement}(),EU=function(en){_inherits$1(TextNode,kU);var tn=_createSuper$4(TextNode);function TextNode(){var en;return _classCallCheck$1(this,TextNode),(en=tn.apply(this,arguments)).type="textNode",en}return _createClass$1(TextNode)}(),PU=function(en){_inherits$1(SVGElement,xU);var tn=_createSuper$4(SVGElement);function SVGElement(){var en;return _classCallCheck$1(this,SVGElement),(en=tn.apply(this,arguments)).type="svg",en.root=!1,en}return _createClass$1(SVGElement,[{key:"setContext",value:function setContext(en){var tn,nn=this.document,rn=nn.screen,an=nn.window,sn=en.canvas;if(rn.setDefaults(en),sn.style&&void 0!==en.font&&an&&void 0!==an.getComputedStyle){en.font=an.getComputedStyle(sn).getPropertyValue("font");var An=new eU(nn,"fontSize",bU.parse(en.font).fontSize);An.hasValue()&&(nn.rootEmSize=An.getPixels("y"),nn.emSize=nn.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var cn=rn.viewPort,un=cn.width,hn=cn.height;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var dn=this.getAttribute("refX"),pn=this.getAttribute("refY"),gn=this.getAttribute("viewBox"),mn=gn.hasValue()?toNumbers(gn.getString()):null,vn=!this.root&&"visible"!==this.getStyle("overflow").getValue("hidden"),yn=0,bn=0,wn=0,Cn=0;mn&&(yn=mn[0],bn=mn[1]),this.root||(un=this.getStyle("width").getPixels("x"),hn=this.getStyle("height").getPixels("y"),"marker"===this.type&&(wn=yn,Cn=bn,yn=0,bn=0)),rn.viewPort.setCurrent(un,hn),!this.node||this.parent&&"foreignObject"!==(null===(tn=this.node.parentNode)||void 0===tn?void 0:tn.nodeName)||!this.getStyle("transform",!1,!0).hasValue()||this.getStyle("transform-origin",!1,!0).hasValue()||this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),_get(_getPrototypeOf$1(SVGElement.prototype),"setContext",this).call(this,en),en.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),mn&&(un=mn[2],hn=mn[3]),nn.setViewBox({ctx:en,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:rn.viewPort.width,desiredWidth:un,height:rn.viewPort.height,desiredHeight:hn,minX:yn,minY:bn,refX:dn.getValue(),refY:pn.getValue(),clip:vn,clipX:wn,clipY:Cn}),mn&&(rn.viewPort.removeCurrent(),rn.viewPort.setCurrent(un,hn))}},{key:"clearContext",value:function clearContext(en){_get(_getPrototypeOf$1(SVGElement.prototype),"clearContext",this).call(this,en),this.document.screen.viewPort.removeCurrent()}},{key:"resize",value:function resize(en){var tn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:en,nn=arguments.length>2&&void 0!==arguments[2]&&arguments[2],rn=this.getAttribute("width",!0),an=this.getAttribute("height",!0),sn=this.getAttribute("viewBox"),An=this.getAttribute("style"),cn=rn.getNumber(0),un=an.getNumber(0);if(nn)if("string"==typeof nn)this.getAttribute("preserveAspectRatio",!0).setValue(nn);else{var hn=this.getAttribute("preserveAspectRatio");hn.hasValue()&&hn.setValue(hn.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(rn.setValue(en),an.setValue(tn),sn.hasValue()||sn.setValue("0 0 ".concat(cn||en," ").concat(un||tn)),An.hasValue()){var dn=this.getStyle("width"),pn=this.getStyle("height");dn.hasValue()&&dn.setValue("".concat(en,"px")),pn.hasValue()&&pn.setValue("".concat(tn,"px"))}}}]),SVGElement}(),FU=function(en){_inherits$1(RectElement,BU);var tn=_createSuper$4(RectElement);function RectElement(){var en;return _classCallCheck$1(this,RectElement),(en=tn.apply(this,arguments)).type="rect",en}return _createClass$1(RectElement,[{key:"path",value:function path(en){var tn=this.getAttribute("x").getPixels("x"),nn=this.getAttribute("y").getPixels("y"),rn=this.getStyle("width",!1,!0).getPixels("x"),an=this.getStyle("height",!1,!0).getPixels("y"),sn=this.getAttribute("rx"),An=this.getAttribute("ry"),cn=sn.getPixels("x"),un=An.getPixels("y");if(sn.hasValue()&&!An.hasValue()&&(un=cn),An.hasValue()&&!sn.hasValue()&&(cn=un),cn=Math.min(cn,rn/2),un=Math.min(un,an/2),en){var hn=(Math.sqrt(2)-1)/3*4;en.beginPath(),an>0&&rn>0&&(en.moveTo(tn+cn,nn),en.lineTo(tn+rn-cn,nn),en.bezierCurveTo(tn+rn-cn+hn*cn,nn,tn+rn,nn+un-hn*un,tn+rn,nn+un),en.lineTo(tn+rn,nn+an-un),en.bezierCurveTo(tn+rn,nn+an-un+hn*un,tn+rn-cn+hn*cn,nn+an,tn+rn-cn,nn+an),en.lineTo(tn+cn,nn+an),en.bezierCurveTo(tn+cn-hn*cn,nn+an,tn,nn+an-un+hn*un,tn,nn+an-un),en.lineTo(tn,nn+un),en.bezierCurveTo(tn,nn+un-hn*un,tn+cn-hn*cn,nn,tn+cn,nn),en.closePath())}return new wU(tn,nn,tn+rn,nn+an)}},{key:"getMarkers",value:function getMarkers(){return null}}]),RectElement}(),LU=function(en){_inherits$1(CircleElement,BU);var tn=_createSuper$4(CircleElement);function CircleElement(){var en;return _classCallCheck$1(this,CircleElement),(en=tn.apply(this,arguments)).type="circle",en}return _createClass$1(CircleElement,[{key:"path",value:function path(en){var tn=this.getAttribute("cx").getPixels("x"),nn=this.getAttribute("cy").getPixels("y"),rn=this.getAttribute("r").getPixels();return en&&rn>0&&(en.beginPath(),en.arc(tn,nn,rn,0,2*Math.PI,!1),en.closePath()),new wU(tn-rn,nn-rn,tn+rn,nn+rn)}},{key:"getMarkers",value:function getMarkers(){return null}}]),CircleElement}(),IU=function(en){_inherits$1(EllipseElement,BU);var tn=_createSuper$4(EllipseElement);function EllipseElement(){var en;return _classCallCheck$1(this,EllipseElement),(en=tn.apply(this,arguments)).type="ellipse",en}return _createClass$1(EllipseElement,[{key:"path",value:function path(en){var tn=(Math.sqrt(2)-1)/3*4,nn=this.getAttribute("rx").getPixels("x"),rn=this.getAttribute("ry").getPixels("y"),an=this.getAttribute("cx").getPixels("x"),sn=this.getAttribute("cy").getPixels("y");return en&&nn>0&&rn>0&&(en.beginPath(),en.moveTo(an+nn,sn),en.bezierCurveTo(an+nn,sn+tn*rn,an+tn*nn,sn+rn,an,sn+rn),en.bezierCurveTo(an-tn*nn,sn+rn,an-nn,sn+tn*rn,an-nn,sn),en.bezierCurveTo(an-nn,sn-tn*rn,an-tn*nn,sn-rn,an,sn-rn),en.bezierCurveTo(an+tn*nn,sn-rn,an+nn,sn-tn*rn,an+nn,sn),en.closePath()),new wU(an-nn,sn-rn,an+nn,sn+rn)}},{key:"getMarkers",value:function getMarkers(){return null}}]),EllipseElement}(),UU=function(en){_inherits$1(LineElement,BU);var tn=_createSuper$4(LineElement);function LineElement(){var en;return _classCallCheck$1(this,LineElement),(en=tn.apply(this,arguments)).type="line",en}return _createClass$1(LineElement,[{key:"getPoints",value:function getPoints(){return[new nU(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new nU(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}},{key:"path",value:function path(en){var tn=_slicedToArray(this.getPoints(),2),nn=tn[0],rn=nn.x,an=nn.y,sn=tn[1],An=sn.x,cn=sn.y;return en&&(en.beginPath(),en.moveTo(rn,an),en.lineTo(An,cn)),new wU(rn,an,An,cn)}},{key:"getMarkers",value:function getMarkers(){var en=_slicedToArray(this.getPoints(),2),tn=en[0],nn=en[1],rn=tn.angleTo(nn);return[[tn,rn],[nn,rn]]}}]),LineElement}(),TU=function(en){_inherits$1(PolylineElement,BU);var tn=_createSuper$4(PolylineElement);function PolylineElement(en,nn,rn){var an;return _classCallCheck$1(this,PolylineElement),(an=tn.call(this,en,nn,rn)).type="polyline",an.points=[],an.points=nU.parsePath(an.getAttribute("points").getString()),an}return _createClass$1(PolylineElement,[{key:"path",value:function path(en){var tn=this.points,nn=_slicedToArray(tn,1)[0],rn=nn.x,an=nn.y,sn=new wU(rn,an);return en&&(en.beginPath(),en.moveTo(rn,an)),tn.forEach((function(tn){var nn=tn.x,rn=tn.y;sn.addPoint(nn,rn),en&&en.lineTo(nn,rn)})),sn}},{key:"getMarkers",value:function getMarkers(){var en=this.points,tn=en.length-1,nn=[];return en.forEach((function(rn,an){an!==tn&&nn.push([rn,rn.angleTo(en[an+1])])})),nn.length>0&&nn.push([en[en.length-1],nn[nn.length-1][1]]),nn}}]),PolylineElement}(),QU=function(en){_inherits$1(PolygonElement,TU);var tn=_createSuper$4(PolygonElement);function PolygonElement(){var en;return _classCallCheck$1(this,PolygonElement),(en=tn.apply(this,arguments)).type="polygon",en}return _createClass$1(PolygonElement,[{key:"path",value:function path(en){var tn=_get(_getPrototypeOf$1(PolygonElement.prototype),"path",this).call(this,en),nn=_slicedToArray(this.points,1)[0],rn=nn.x,an=nn.y;return en&&(en.lineTo(rn,an),en.closePath()),tn}}]),PolygonElement}(),NU=function(en){_inherits$1(PatternElement,vU);var tn=_createSuper$4(PatternElement);function PatternElement(){var en;return _classCallCheck$1(this,PatternElement),(en=tn.apply(this,arguments)).type="pattern",en}return _createClass$1(PatternElement,[{key:"createPattern",value:function createPattern(en,tn,nn){var rn=this.getStyle("width").getPixels("x",!0),an=this.getStyle("height").getPixels("y",!0),sn=new PU(this.document,null);sn.attributes.viewBox=new eU(this.document,"viewBox",this.getAttribute("viewBox").getValue()),sn.attributes.width=new eU(this.document,"width","".concat(rn,"px")),sn.attributes.height=new eU(this.document,"height","".concat(an,"px")),sn.attributes.transform=new eU(this.document,"transform",this.getAttribute("patternTransform").getValue()),sn.children=this.children;var An=this.document.createCanvas(rn,an),cn=An.getContext("2d"),un=this.getAttribute("x"),hn=this.getAttribute("y");un.hasValue()&&hn.hasValue()&&cn.translate(un.getPixels("x",!0),hn.getPixels("y",!0)),nn.hasValue()?this.styles["fill-opacity"]=nn:Reflect.deleteProperty(this.styles,"fill-opacity");for(var dn=-1;dn<=1;dn++)for(var pn=-1;pn<=1;pn++)cn.save(),sn.attributes.x=new eU(this.document,"x",dn*An.width),sn.attributes.y=new eU(this.document,"y",pn*An.height),sn.render(cn),cn.restore();return en.createPattern(An,"repeat")}}]),PatternElement}(),OU=function(en){_inherits$1(MarkerElement,vU);var tn=_createSuper$4(MarkerElement);function MarkerElement(){var en;return _classCallCheck$1(this,MarkerElement),(en=tn.apply(this,arguments)).type="marker",en}return _createClass$1(MarkerElement,[{key:"render",value:function render(en,tn,nn){if(tn){var rn=tn.x,an=tn.y,sn=this.getAttribute("orient").getString("auto"),An=this.getAttribute("markerUnits").getString("strokeWidth");en.translate(rn,an),"auto"===sn&&en.rotate(nn),"strokeWidth"===An&&en.scale(en.lineWidth,en.lineWidth),en.save();var cn=new PU(this.document,null);cn.type=this.type,cn.attributes.viewBox=new eU(this.document,"viewBox",this.getAttribute("viewBox").getValue()),cn.attributes.refX=new eU(this.document,"refX",this.getAttribute("refX").getValue()),cn.attributes.refY=new eU(this.document,"refY",this.getAttribute("refY").getValue()),cn.attributes.width=new eU(this.document,"width",this.getAttribute("markerWidth").getValue()),cn.attributes.height=new eU(this.document,"height",this.getAttribute("markerHeight").getValue()),cn.attributes.overflow=new eU(this.document,"overflow",this.getAttribute("overflow").getValue()),cn.attributes.fill=new eU(this.document,"fill",this.getAttribute("fill").getColor("black")),cn.attributes.stroke=new eU(this.document,"stroke",this.getAttribute("stroke").getValue("none")),cn.children=this.children,cn.render(en),en.restore(),"strokeWidth"===An&&en.scale(1/en.lineWidth,1/en.lineWidth),"auto"===sn&&en.rotate(-nn),en.translate(-rn,-an)}}}]),MarkerElement}(),MU=function(en){_inherits$1(DefsElement,vU);var tn=_createSuper$4(DefsElement);function DefsElement(){var en;return _classCallCheck$1(this,DefsElement),(en=tn.apply(this,arguments)).type="defs",en}return _createClass$1(DefsElement,[{key:"render",value:function render(){}}]),DefsElement}(),RU=function(en){_inherits$1(GElement,xU);var tn=_createSuper$4(GElement);function GElement(){var en;return _classCallCheck$1(this,GElement),(en=tn.apply(this,arguments)).type="g",en}return _createClass$1(GElement,[{key:"getBoundingBox",value:function getBoundingBox(en){var tn=new wU;return this.children.forEach((function(nn){tn.addBoundingBox(nn.getBoundingBox(en))})),tn}}]),GElement}(),HU=function(en){_inherits$1(GradientElement,vU);var tn=_createSuper$4(GradientElement);function GradientElement(en,nn,rn){var an;_classCallCheck$1(this,GradientElement),(an=tn.call(this,en,nn,rn)).attributesToInherit=["gradientUnits"],an.stops=[];var sn=_assertThisInitialized$1(an),An=sn.stops;return sn.children.forEach((function(en){"stop"===en.type&&An.push(en)})),an}return _createClass$1(GradientElement,[{key:"getGradientUnits",value:function getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}},{key:"createGradient",value:function createGradient(en,tn,nn){var rn=this,an=this;this.getHrefAttribute().hasValue()&&(an=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(an));var sn=an.stops,An=this.getGradient(en,tn);if(!An)return this.addParentOpacity(nn,sn[sn.length-1].color);if(sn.forEach((function(en){An.addColorStop(en.offset,rn.addParentOpacity(nn,en.color))})),this.getAttribute("gradientTransform").hasValue()){var cn=this.document,un=cn.screen,hn=un.MAX_VIRTUAL_PIXELS,dn=_slicedToArray(un.viewPort.viewPorts,1)[0],pn=new FU(cn,null);pn.attributes.x=new eU(cn,"x",-hn/3),pn.attributes.y=new eU(cn,"y",-hn/3),pn.attributes.width=new eU(cn,"width",hn),pn.attributes.height=new eU(cn,"height",hn);var gn=new RU(cn,null);gn.attributes.transform=new eU(cn,"transform",this.getAttribute("gradientTransform").getValue()),gn.children=[pn];var mn=new PU(cn,null);mn.attributes.x=new eU(cn,"x",0),mn.attributes.y=new eU(cn,"y",0),mn.attributes.width=new eU(cn,"width",dn.width),mn.attributes.height=new eU(cn,"height",dn.height),mn.children=[gn];var vn=cn.createCanvas(dn.width,dn.height),yn=vn.getContext("2d");return yn.fillStyle=An,mn.render(yn),yn.createPattern(vn,"no-repeat")}return An}},{key:"inheritStopContainer",value:function inheritStopContainer(en){var tn=this;this.attributesToInherit.forEach((function(nn){!tn.getAttribute(nn).hasValue()&&en.getAttribute(nn).hasValue()&&tn.getAttribute(nn,!0).setValue(en.getAttribute(nn).getValue())}))}},{key:"addParentOpacity",value:function addParentOpacity(en,tn){return en.hasValue()?new eU(this.document,"color",tn).addOpacity(en).getColor():tn}}]),GradientElement}(),DU=function(en){_inherits$1(LinearGradientElement,HU);var tn=_createSuper$4(LinearGradientElement);function LinearGradientElement(en,nn,rn){var an;return _classCallCheck$1(this,LinearGradientElement),(an=tn.call(this,en,nn,rn)).type="linearGradient",an.attributesToInherit.push("x1","y1","x2","y2"),an}return _createClass$1(LinearGradientElement,[{key:"getGradient",value:function getGradient(en,tn){var nn="objectBoundingBox"===this.getGradientUnits(),rn=nn?tn.getBoundingBox(en):null;if(nn&&!rn)return null;this.getAttribute("x1").hasValue()||this.getAttribute("y1").hasValue()||this.getAttribute("x2").hasValue()||this.getAttribute("y2").hasValue()||(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var an=nn?rn.x+rn.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),sn=nn?rn.y+rn.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),An=nn?rn.x+rn.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),cn=nn?rn.y+rn.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return an===An&&sn===cn?null:en.createLinearGradient(an,sn,An,cn)}}]),LinearGradientElement}(),$U=function(en){_inherits$1(RadialGradientElement,HU);var tn=_createSuper$4(RadialGradientElement);function RadialGradientElement(en,nn,rn){var an;return _classCallCheck$1(this,RadialGradientElement),(an=tn.call(this,en,nn,rn)).type="radialGradient",an.attributesToInherit.push("cx","cy","r","fx","fy","fr"),an}return _createClass$1(RadialGradientElement,[{key:"getGradient",value:function getGradient(en,tn){var nn="objectBoundingBox"===this.getGradientUnits(),rn=tn.getBoundingBox(en);if(nn&&!rn)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var an=nn?rn.x+rn.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),sn=nn?rn.y+rn.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),An=an,cn=sn;this.getAttribute("fx").hasValue()&&(An=nn?rn.x+rn.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(cn=nn?rn.y+rn.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var un=nn?(rn.width+rn.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),hn=this.getAttribute("fr").getPixels();return en.createRadialGradient(An,cn,hn,an,sn,un)}}]),RadialGradientElement}(),GU=function(en){_inherits$1(StopElement,vU);var tn=_createSuper$4(StopElement);function StopElement(en,nn,rn){var an;_classCallCheck$1(this,StopElement),(an=tn.call(this,en,nn,rn)).type="stop";var sn=Math.max(0,Math.min(1,an.getAttribute("offset").getNumber())),An=an.getStyle("stop-opacity"),cn=an.getStyle("stop-color",!0);return""===cn.getString()&&cn.setValue("#000"),An.hasValue()&&(cn=cn.addOpacity(An)),an.offset=sn,an.color=cn.getColor(),an}return _createClass$1(StopElement)}(),jU=function(en){_inherits$1(AnimateElement,vU);var tn=_createSuper$4(AnimateElement);function AnimateElement(en,nn,rn){var an;_classCallCheck$1(this,AnimateElement),(an=tn.call(this,en,nn,rn)).type="animate",an.duration=0,an.initialValue=null,an.initialUnits="",an.removed=!1,an.frozen=!1,en.screen.animations.push(_assertThisInitialized$1(an)),an.begin=an.getAttribute("begin").getMilliseconds(),an.maxDuration=an.begin+an.getAttribute("dur").getMilliseconds(),an.from=an.getAttribute("from"),an.to=an.getAttribute("to"),an.values=new eU(en,"values",null);var sn=an.getAttribute("values");return sn.hasValue()&&an.values.setValue(sn.getString().split(";")),an}return _createClass$1(AnimateElement,[{key:"getProperty",value:function getProperty(){var en=this.getAttribute("attributeType").getString(),tn=this.getAttribute("attributeName").getString();return"CSS"===en?this.parent.getStyle(tn,!0):this.parent.getAttribute(tn,!0)}},{key:"calcValue",value:function calcValue(){var en=this.initialUnits,tn=this.getProgress(),nn=tn.progress,rn=tn.from,an=tn.to,sn=rn.getNumber()+(an.getNumber()-rn.getNumber())*nn;return"%"===en&&(sn*=100),"".concat(sn).concat(en)}},{key:"update",value:function update(en){var tn=this.parent,nn=this.getProperty();if(this.initialValue||(this.initialValue=nn.getString(),this.initialUnits=nn.getUnits()),this.duration>this.maxDuration){var rn=this.getAttribute("fill").getString("remove");if("indefinite"===this.getAttribute("repeatCount").getString()||"indefinite"===this.getAttribute("repeatDur").getString())this.duration=0;else if("freeze"!==rn||this.frozen){if("remove"===rn&&!this.removed)return this.removed=!0,nn.setValue(tn.animationFrozen?tn.animationFrozenValue:this.initialValue),!0}else this.frozen=!0,tn.animationFrozen=!0,tn.animationFrozenValue=nn.getString();return!1}this.duration+=en;var an=!1;if(this.begin<this.duration){var sn=this.calcValue(),An=this.getAttribute("type");if(An.hasValue()){var cn=An.getString();sn="".concat(cn,"(").concat(sn,")")}nn.setValue(sn),an=!0}return an}},{key:"getProgress",value:function getProgress(){var en=this.document,tn=this.values,nn={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(tn.hasValue()){var rn=nn.progress*(tn.getValue().length-1),an=Math.floor(rn),sn=Math.ceil(rn);nn.from=new eU(en,"from",parseFloat(tn.getValue()[an])),nn.to=new eU(en,"to",parseFloat(tn.getValue()[sn])),nn.progress=(rn-an)/(sn-an)}else nn.from=this.from,nn.to=this.to;return nn}}]),AnimateElement}(),VU=function(en){_inherits$1(AnimateColorElement,jU);var tn=_createSuper$4(AnimateColorElement);function AnimateColorElement(){var en;return _classCallCheck$1(this,AnimateColorElement),(en=tn.apply(this,arguments)).type="animateColor",en}return _createClass$1(AnimateColorElement,[{key:"calcValue",value:function calcValue(){var en=this.getProgress(),tn=en.progress,nn=en.from,rn=en.to,an=new eI(nn.getColor()),sn=new eI(rn.getColor());if(an.ok&&sn.ok){var An=an.r+(sn.r-an.r)*tn,cn=an.g+(sn.g-an.g)*tn,un=an.b+(sn.b-an.b)*tn;return"rgb(".concat(Math.floor(An),", ").concat(Math.floor(cn),", ").concat(Math.floor(un),")")}return this.getAttribute("from").getColor()}}]),AnimateColorElement}(),KU=function(en){_inherits$1(AnimateTransformElement,jU);var tn=_createSuper$4(AnimateTransformElement);function AnimateTransformElement(){var en;return _classCallCheck$1(this,AnimateTransformElement),(en=tn.apply(this,arguments)).type="animateTransform",en}return _createClass$1(AnimateTransformElement,[{key:"calcValue",value:function calcValue(){var en=this.getProgress(),tn=en.progress,nn=en.from,rn=en.to,an=toNumbers(nn.getString()),sn=toNumbers(rn.getString()),An=an.map((function(en,nn){return en+(sn[nn]-en)*tn})).join(" ");return An}}]),AnimateTransformElement}(),qU=function(en){_inherits$1(FontElement,vU);var tn=_createSuper$4(FontElement);function FontElement(en,nn,rn){var an;_classCallCheck$1(this,FontElement),(an=tn.call(this,en,nn,rn)).type="font",an.glyphs={},an.horizAdvX=an.getAttribute("horiz-adv-x").getNumber();var sn,An=en.definitions,cn=_createForOfIteratorHelper(_assertThisInitialized$1(an).children);try{for(cn.s();!(sn=cn.n()).done;){var un=sn.value;switch(un.type){case"font-face":an.fontFace=un;var hn=un.getStyle("font-family");hn.hasValue()&&(An[hn.getString()]=_assertThisInitialized$1(an));break;case"missing-glyph":an.missingGlyph=un;break;case"glyph":var dn=un;dn.arabicForm?(an.isRTL=!0,an.isArabic=!0,void 0===an.glyphs[dn.unicode]&&(an.glyphs[dn.unicode]={}),an.glyphs[dn.unicode][dn.arabicForm]=dn):an.glyphs[dn.unicode]=dn}}}catch(en){cn.e(en)}finally{cn.f()}return an}return _createClass$1(FontElement,[{key:"render",value:function render(){}}]),FontElement}(),zU=function(en){_inherits$1(FontFaceElement,vU);var tn=_createSuper$4(FontFaceElement);function FontFaceElement(en,nn,rn){var an;return _classCallCheck$1(this,FontFaceElement),(an=tn.call(this,en,nn,rn)).type="font-face",an.ascent=an.getAttribute("ascent").getNumber(),an.descent=an.getAttribute("descent").getNumber(),an.unitsPerEm=an.getAttribute("units-per-em").getNumber(),an}return _createClass$1(FontFaceElement)}(),WU=function(en){_inherits$1(MissingGlyphElement,BU);var tn=_createSuper$4(MissingGlyphElement);function MissingGlyphElement(){var en;return _classCallCheck$1(this,MissingGlyphElement),(en=tn.apply(this,arguments)).type="missing-glyph",en.horizAdvX=0,en}return _createClass$1(MissingGlyphElement)}(),XU=function(en){_inherits$1(TRefElement,SU);var tn=_createSuper$4(TRefElement);function TRefElement(){var en;return _classCallCheck$1(this,TRefElement),(en=tn.apply(this,arguments)).type="tref",en}return _createClass$1(TRefElement,[{key:"getText",value:function getText(){var en=this.getHrefAttribute().getDefinition();if(en){var tn=en.children[0];if(tn)return tn.getText()}return""}}]),TRefElement}(),YU=function(en){_inherits$1(AElement,SU);var tn=_createSuper$4(AElement);function AElement(en,nn,rn){var an;_classCallCheck$1(this,AElement),(an=tn.call(this,en,nn,rn)).type="a";var sn=nn.childNodes,An=sn[0],cn=sn.length>0&&Array.from(sn).every((function(en){return 3===en.nodeType}));return an.hasText=cn,an.text=cn?an.getTextFromNode(An):"",an}return _createClass$1(AElement,[{key:"getText",value:function getText(){return this.text}},{key:"renderChildren",value:function renderChildren(en){if(this.hasText){_get(_getPrototypeOf$1(AElement.prototype),"renderChildren",this).call(this,en);var tn=this.document,nn=this.x,rn=this.y,an=tn.screen.mouse,sn=new eU(tn,"fontSize",bU.parse(tn.ctx.font).fontSize);an.isWorking()&&an.checkBoundingBox(this,new wU(nn,rn-sn.getPixels("y"),nn+this.measureText(en),rn))}else if(this.children.length>0){var An=new RU(this.document,null);An.children=this.children,An.parent=this,An.render(en)}}},{key:"onClick",value:function onClick(){var en=this.document.window;en&&en.open(this.getHrefAttribute().getString())}},{key:"onMouseMove",value:function onMouseMove(){this.document.ctx.canvas.style.cursor="pointer"}}]),AElement}();function ownKeys$2(en,tn){var nn=Object.keys(en);if(Object.getOwnPropertySymbols){var rn=Object.getOwnPropertySymbols(en);tn&&(rn=rn.filter((function(tn){return Object.getOwnPropertyDescriptor(en,tn).enumerable}))),nn.push.apply(nn,rn)}return nn}function _objectSpread$2(en){for(var tn=1;tn<arguments.length;tn++){var nn=null!=arguments[tn]?arguments[tn]:{};tn%2?ownKeys$2(Object(nn),!0).forEach((function(tn){_defineProperty(en,tn,nn[tn])})):Object.getOwnPropertyDescriptors?Object.defineProperties(en,Object.getOwnPropertyDescriptors(nn)):ownKeys$2(Object(nn)).forEach((function(tn){Object.defineProperty(en,tn,Object.getOwnPropertyDescriptor(nn,tn))}))}return en}var JU=function(en){_inherits$1(TextPathElement,SU);var tn=_createSuper$4(TextPathElement);function TextPathElement(en,nn,rn){var an;_classCallCheck$1(this,TextPathElement),(an=tn.call(this,en,nn,rn)).type="textPath",an.textWidth=0,an.textHeight=0,an.pathLength=-1,an.glyphInfo=null,an.letterSpacingCache=[],an.measuresCache=new Map([["",0]]);var sn=an.getHrefAttribute().getDefinition();return an.text=an.getTextFromNode(),an.dataArray=an.parsePathData(sn),an}return _createClass$1(TextPathElement,[{key:"getText",value:function getText(){return this.text}},{key:"path",value:function path(en){var tn=this.dataArray;en&&en.beginPath(),tn.forEach((function(tn){var nn=tn.type,rn=tn.points;switch(nn){case CU.LINE_TO:en&&en.lineTo(rn[0],rn[1]);break;case CU.MOVE_TO:en&&en.moveTo(rn[0],rn[1]);break;case CU.CURVE_TO:en&&en.bezierCurveTo(rn[0],rn[1],rn[2],rn[3],rn[4],rn[5]);break;case CU.QUAD_TO:en&&en.quadraticCurveTo(rn[0],rn[1],rn[2],rn[3]);break;case CU.ARC:var an=_slicedToArray(rn,8),sn=an[0],An=an[1],cn=an[2],un=an[3],hn=an[4],dn=an[5],pn=an[6],gn=an[7],mn=cn>un?cn:un,vn=cn>un?1:cn/un,yn=cn>un?un/cn:1;en&&(en.translate(sn,An),en.rotate(pn),en.scale(vn,yn),en.arc(0,0,mn,hn,hn+dn,Boolean(1-gn)),en.scale(1/vn,1/yn),en.rotate(-pn),en.translate(-sn,-An));break;case CU.CLOSE_PATH:en&&en.closePath()}}))}},{key:"renderChildren",value:function renderChildren(en){this.setTextData(en),en.save();var tn=this.parent.getStyle("text-decoration").getString(),nn=this.getFontSize(),rn=this.glyphInfo,an=en.fillStyle;"underline"===tn&&en.beginPath(),rn.forEach((function(rn,an){var sn=rn.p0,An=rn.p1,cn=rn.rotation,un=rn.text;en.save(),en.translate(sn.x,sn.y),en.rotate(cn),en.fillStyle&&en.fillText(un,0,0),en.strokeStyle&&en.strokeText(un,0,0),en.restore(),"underline"===tn&&(0===an&&en.moveTo(sn.x,sn.y+nn/8),en.lineTo(An.x,An.y+nn/5))})),"underline"===tn&&(en.lineWidth=nn/20,en.strokeStyle=an,en.stroke(),en.closePath()),en.restore()}},{key:"getLetterSpacingAt",value:function getLetterSpacingAt(){var en=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.letterSpacingCache[en]||0}},{key:"findSegmentToFitChar",value:function findSegmentToFitChar(en,tn,nn,rn,an,sn,An,cn,un){var hn=sn,dn=this.measureText(en,cn);" "===cn&&"justify"===tn&&nn<rn&&(dn+=(rn-nn)/an),un>-1&&(hn+=this.getLetterSpacingAt(un));var pn=this.textHeight/20,gn=this.getEquidistantPointOnPath(hn,pn,0),mn=this.getEquidistantPointOnPath(hn+dn,pn,0),vn={p0:gn,p1:mn},yn=gn&&mn?Math.atan2(mn.y-gn.y,mn.x-gn.x):0;if(An){var bn=Math.cos(Math.PI/2+yn)*An,wn=Math.cos(-yn)*An;vn.p0=_objectSpread$2(_objectSpread$2({},gn),{},{x:gn.x+bn,y:gn.y+wn}),vn.p1=_objectSpread$2(_objectSpread$2({},mn),{},{x:mn.x+bn,y:mn.y+wn})}return{offset:hn+=dn,segment:vn,rotation:yn}}},{key:"measureText",value:function measureText(en,tn){var nn=this.measuresCache,rn=tn||this.getText();if(nn.has(rn))return nn.get(rn);var an=this.measureTargetText(en,rn);return nn.set(rn,an),an}},{key:"setTextData",value:function setTextData(en){var tn=this;if(!this.glyphInfo){var nn=this.getText(),rn=nn.split(""),an=nn.split(" ").length-1,sn=this.parent.getAttribute("dx").split().map((function(en){return en.getPixels("x")})),An=this.parent.getAttribute("dy").getPixels("y"),cn=this.parent.getStyle("text-anchor").getString("start"),un=this.getStyle("letter-spacing"),hn=this.parent.getStyle("letter-spacing"),dn=0;un.hasValue()&&"inherit"!==un.getValue()?un.hasValue()&&"initial"!==un.getValue()&&"unset"!==un.getValue()&&(dn=un.getPixels()):dn=hn.getPixels();var pn=[],gn=nn.length;this.letterSpacingCache=pn;for(var mn=0;mn<gn;mn++)pn.push(void 0!==sn[mn]?sn[mn]:dn);var vn=pn.reduce((function(en,tn,nn){return 0===nn?0:en+tn||0}),0),yn=this.measureText(en),bn=Math.max(yn+vn,0);this.textWidth=yn,this.textHeight=this.getFontSize(),this.glyphInfo=[];var wn=this.getPathLength(),Cn=this.getStyle("startOffset").getNumber(0)*wn,xn=0;"middle"!==cn&&"center"!==cn||(xn=-bn/2),"end"!==cn&&"right"!==cn||(xn=-bn),xn+=Cn,rn.forEach((function(nn,sn){var un=tn.findSegmentToFitChar(en,cn,bn,wn,an,xn,An,nn,sn),hn=un.offset,dn=un.segment,pn=un.rotation;xn=hn,dn.p0&&dn.p1&&tn.glyphInfo.push({text:rn[sn],p0:dn.p0,p1:dn.p1,rotation:pn})}))}}},{key:"parsePathData",value:function parsePathData(en){if(this.pathLength=-1,!en)return[];var tn=[],nn=en.pathParser;for(nn.reset();!nn.isEnd();){var rn=nn.current,an=rn?rn.x:0,sn=rn?rn.y:0,An=nn.next(),cn=An.type,un=[];switch(An.type){case CU.MOVE_TO:this.pathM(nn,un);break;case CU.LINE_TO:cn=this.pathL(nn,un);break;case CU.HORIZ_LINE_TO:cn=this.pathH(nn,un);break;case CU.VERT_LINE_TO:cn=this.pathV(nn,un);break;case CU.CURVE_TO:this.pathC(nn,un);break;case CU.SMOOTH_CURVE_TO:cn=this.pathS(nn,un);break;case CU.QUAD_TO:this.pathQ(nn,un);break;case CU.SMOOTH_QUAD_TO:cn=this.pathT(nn,un);break;case CU.ARC:un=this.pathA(nn);break;case CU.CLOSE_PATH:BU.pathZ(nn)}An.type!==CU.CLOSE_PATH?tn.push({type:cn,points:un,start:{x:an,y:sn},pathLength:this.calcLength(an,sn,cn,un)}):tn.push({type:CU.CLOSE_PATH,points:[],pathLength:0})}return tn}},{key:"pathM",value:function pathM(en,tn){var nn=BU.pathM(en).point,rn=nn.x,an=nn.y;tn.push(rn,an)}},{key:"pathL",value:function pathL(en,tn){var nn=BU.pathL(en).point,rn=nn.x,an=nn.y;return tn.push(rn,an),CU.LINE_TO}},{key:"pathH",value:function pathH(en,tn){var nn=BU.pathH(en).point,rn=nn.x,an=nn.y;return tn.push(rn,an),CU.LINE_TO}},{key:"pathV",value:function pathV(en,tn){var nn=BU.pathV(en).point,rn=nn.x,an=nn.y;return tn.push(rn,an),CU.LINE_TO}},{key:"pathC",value:function pathC(en,tn){var nn=BU.pathC(en),rn=nn.point,an=nn.controlPoint,sn=nn.currentPoint;tn.push(rn.x,rn.y,an.x,an.y,sn.x,sn.y)}},{key:"pathS",value:function pathS(en,tn){var nn=BU.pathS(en),rn=nn.point,an=nn.controlPoint,sn=nn.currentPoint;return tn.push(rn.x,rn.y,an.x,an.y,sn.x,sn.y),CU.CURVE_TO}},{key:"pathQ",value:function pathQ(en,tn){var nn=BU.pathQ(en),rn=nn.controlPoint,an=nn.currentPoint;tn.push(rn.x,rn.y,an.x,an.y)}},{key:"pathT",value:function pathT(en,tn){var nn=BU.pathT(en),rn=nn.controlPoint,an=nn.currentPoint;return tn.push(rn.x,rn.y,an.x,an.y),CU.QUAD_TO}},{key:"pathA",value:function pathA(en){var tn=BU.pathA(en),nn=tn.rX,rn=tn.rY,an=tn.sweepFlag,sn=tn.xAxisRotation,An=tn.centp,cn=tn.a1,un=tn.ad;return 0===an&&un>0&&(un-=2*Math.PI),1===an&&un<0&&(un+=2*Math.PI),[An.x,An.y,nn,rn,cn,un,sn,an]}},{key:"calcLength",value:function calcLength(en,tn,nn,rn){var an=0,sn=null,An=null,cn=0;switch(nn){case CU.LINE_TO:return this.getLineLength(en,tn,rn[0],rn[1]);case CU.CURVE_TO:for(an=0,sn=this.getPointOnCubicBezier(0,en,tn,rn[0],rn[1],rn[2],rn[3],rn[4],rn[5]),cn=.01;cn<=1;cn+=.01)An=this.getPointOnCubicBezier(cn,en,tn,rn[0],rn[1],rn[2],rn[3],rn[4],rn[5]),an+=this.getLineLength(sn.x,sn.y,An.x,An.y),sn=An;return an;case CU.QUAD_TO:for(an=0,sn=this.getPointOnQuadraticBezier(0,en,tn,rn[0],rn[1],rn[2],rn[3]),cn=.01;cn<=1;cn+=.01)An=this.getPointOnQuadraticBezier(cn,en,tn,rn[0],rn[1],rn[2],rn[3]),an+=this.getLineLength(sn.x,sn.y,An.x,An.y),sn=An;return an;case CU.ARC:an=0;var un=rn[4],hn=rn[5],dn=rn[4]+hn,pn=Math.PI/180;if(Math.abs(un-dn)<pn&&(pn=Math.abs(un-dn)),sn=this.getPointOnEllipticalArc(rn[0],rn[1],rn[2],rn[3],un,0),hn<0)for(cn=un-pn;cn>dn;cn-=pn)An=this.getPointOnEllipticalArc(rn[0],rn[1],rn[2],rn[3],cn,0),an+=this.getLineLength(sn.x,sn.y,An.x,An.y),sn=An;else for(cn=un+pn;cn<dn;cn+=pn)An=this.getPointOnEllipticalArc(rn[0],rn[1],rn[2],rn[3],cn,0),an+=this.getLineLength(sn.x,sn.y,An.x,An.y),sn=An;return An=this.getPointOnEllipticalArc(rn[0],rn[1],rn[2],rn[3],dn,0),an+this.getLineLength(sn.x,sn.y,An.x,An.y)}return 0}},{key:"getPointOnLine",value:function getPointOnLine(en,tn,nn,rn,an){var sn=arguments.length>5&&void 0!==arguments[5]?arguments[5]:tn,An=arguments.length>6&&void 0!==arguments[6]?arguments[6]:nn,cn=(an-nn)/(rn-tn+1e-8),un=Math.sqrt(en*en/(1+cn*cn));rn<tn&&(un*=-1);var hn=cn*un,dn=null;if(rn===tn)dn={x:sn,y:An+hn};else if((An-nn)/(sn-tn+1e-8)===cn)dn={x:sn+un,y:An+hn};else{var pn,gn,mn=this.getLineLength(tn,nn,rn,an);if(mn<1e-8)return null;var vn=(sn-tn)*(rn-tn)+(An-nn)*(an-nn);pn=tn+(vn/=mn*mn)*(rn-tn),gn=nn+vn*(an-nn);var yn=this.getLineLength(sn,An,pn,gn),bn=Math.sqrt(en*en-yn*yn);un=Math.sqrt(bn*bn/(1+cn*cn)),rn<tn&&(un*=-1),dn={x:pn+un,y:gn+(hn=cn*un)}}return dn}},{key:"getPointOnPath",value:function getPointOnPath(en){var tn=this.getPathLength(),nn=0,rn=null;if(en<-5e-5||en-5e-5>tn)return null;var an,sn=_createForOfIteratorHelper(this.dataArray);try{for(sn.s();!(an=sn.n()).done;){var An=an.value;if(!An||!(An.pathLength<5e-5||nn+An.pathLength+5e-5<en)){var cn=en-nn,un=0;switch(An.type){case CU.LINE_TO:rn=this.getPointOnLine(cn,An.start.x,An.start.y,An.points[0],An.points[1],An.start.x,An.start.y);break;case CU.ARC:var hn=An.points[4],dn=An.points[5],pn=An.points[4]+dn;if(un=hn+cn/An.pathLength*dn,dn<0&&un<pn||dn>=0&&un>pn)break;rn=this.getPointOnEllipticalArc(An.points[0],An.points[1],An.points[2],An.points[3],un,An.points[6]);break;case CU.CURVE_TO:(un=cn/An.pathLength)>1&&(un=1),rn=this.getPointOnCubicBezier(un,An.start.x,An.start.y,An.points[0],An.points[1],An.points[2],An.points[3],An.points[4],An.points[5]);break;case CU.QUAD_TO:(un=cn/An.pathLength)>1&&(un=1),rn=this.getPointOnQuadraticBezier(un,An.start.x,An.start.y,An.points[0],An.points[1],An.points[2],An.points[3])}if(rn)return rn;break}nn+=An.pathLength}}catch(en){sn.e(en)}finally{sn.f()}return null}},{key:"getLineLength",value:function getLineLength(en,tn,nn,rn){return Math.sqrt((nn-en)*(nn-en)+(rn-tn)*(rn-tn))}},{key:"getPathLength",value:function getPathLength(){return-1===this.pathLength&&(this.pathLength=this.dataArray.reduce((function(en,tn){return tn.pathLength>0?en+tn.pathLength:en}),0)),this.pathLength}},{key:"getPointOnCubicBezier",value:function getPointOnCubicBezier(en,tn,nn,rn,an,sn,An,cn,un){return{x:cn*CB1(en)+sn*CB2(en)+rn*CB3(en)+tn*CB4(en),y:un*CB1(en)+An*CB2(en)+an*CB3(en)+nn*CB4(en)}}},{key:"getPointOnQuadraticBezier",value:function getPointOnQuadraticBezier(en,tn,nn,rn,an,sn,An){return{x:sn*QB1(en)+rn*QB2(en)+tn*QB3(en),y:An*QB1(en)+an*QB2(en)+nn*QB3(en)}}},{key:"getPointOnEllipticalArc",value:function getPointOnEllipticalArc(en,tn,nn,rn,an,sn){var An=Math.cos(sn),cn=Math.sin(sn),un=nn*Math.cos(an),hn=rn*Math.sin(an);return{x:en+(un*An-hn*cn),y:tn+(un*cn+hn*An)}}},{key:"buildEquidistantCache",value:function buildEquidistantCache(en,tn){var nn=this.getPathLength(),rn=tn||.25,an=en||nn/100;if(!this.equidistantCache||this.equidistantCache.step!==an||this.equidistantCache.precision!==rn){this.equidistantCache={step:an,precision:rn,points:[]};for(var sn=0,An=0;An<=nn;An+=rn){var cn=this.getPointOnPath(An),un=this.getPointOnPath(An+rn);cn&&un&&(sn+=this.getLineLength(cn.x,cn.y,un.x,un.y))>=an&&(this.equidistantCache.points.push({x:cn.x,y:cn.y,distance:An}),sn-=an)}}}},{key:"getEquidistantPointOnPath",value:function getEquidistantPointOnPath(en,tn,nn){if(this.buildEquidistantCache(tn,nn),en<0||en-this.getPathLength()>5e-5)return null;var rn=Math.round(en/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[rn]||null}}]),TextPathElement}(),ZU=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i,eT=function(en){_inherits$1(ImageElement,xU);var tn=_createSuper$4(ImageElement);function ImageElement(en,nn,rn){var an;_classCallCheck$1(this,ImageElement),(an=tn.call(this,en,nn,rn)).type="image",an.loaded=!1;var sn=an.getHrefAttribute().getString();if(sn){var An=sn.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(sn);en.images.push(_assertThisInitialized$1(an)),An?an.loadSvg(sn):an.loadImage(sn),an.isSvg=An}return an}return _createClass$1(ImageElement,[{key:"loadImage",value:function loadImage(en){var tn=this;return _asyncToGenerator(_regeneratorRuntime().mark((function _callee7(){var nn;return _regeneratorRuntime().wrap((function _callee7$(rn){for(;;)switch(rn.prev=rn.next){case 0:return rn.prev=0,rn.next=3,tn.document.createImage(en);case 3:nn=rn.sent,tn.image=nn,rn.next=10;break;case 7:rn.prev=7,rn.t0=rn.catch(0),console.error('Error while loading image "'.concat(en,'":'),rn.t0);case 10:tn.loaded=!0;case 11:case"end":return rn.stop()}}),_callee7,null,[[0,7]])})))()}},{key:"loadSvg",value:function loadSvg(en){var tn=this;return _asyncToGenerator(_regeneratorRuntime().mark((function _callee8(){var nn,rn,an,sn;return _regeneratorRuntime().wrap((function _callee8$(An){for(;;)switch(An.prev=An.next){case 0:if(!(nn=ZU.exec(en))){An.next=6;break}rn=nn[5],"base64"===nn[4]?tn.image=atob(rn):tn.image=decodeURIComponent(rn),An.next=19;break;case 6:return An.prev=6,An.next=9,tn.document.fetch(en);case 9:return an=An.sent,An.next=12,an.text();case 12:sn=An.sent,tn.image=sn,An.next=19;break;case 16:An.prev=16,An.t0=An.catch(6),console.error('Error while loading image "'.concat(en,'":'),An.t0);case 19:tn.loaded=!0;case 20:case"end":return An.stop()}}),_callee8,null,[[6,16]])})))()}},{key:"renderChildren",value:function renderChildren(en){var tn=this.document,nn=this.image,rn=this.loaded,an=this.getAttribute("x").getPixels("x"),sn=this.getAttribute("y").getPixels("y"),An=this.getStyle("width").getPixels("x"),cn=this.getStyle("height").getPixels("y");if(rn&&nn&&An&&cn){if(en.save(),en.translate(an,sn),this.isSvg){var un=tn.canvg.forkString(en,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:An,scaleHeight:cn});un.document.documentElement.parent=this,un.render()}else{var hn=this.image;tn.setViewBox({ctx:en,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:An,desiredWidth:hn.width,height:cn,desiredHeight:hn.height}),this.loaded&&(void 0===hn.complete||hn.complete)&&en.drawImage(hn,0,0)}en.restore()}}},{key:"getBoundingBox",value:function getBoundingBox(){var en=this.getAttribute("x").getPixels("x"),tn=this.getAttribute("y").getPixels("y"),nn=this.getStyle("width").getPixels("x"),rn=this.getStyle("height").getPixels("y");return new wU(en,tn,en+nn,tn+rn)}}]),ImageElement}(),tT=function(en){_inherits$1(SymbolElement,xU);var tn=_createSuper$4(SymbolElement);function SymbolElement(){var en;return _classCallCheck$1(this,SymbolElement),(en=tn.apply(this,arguments)).type="symbol",en}return _createClass$1(SymbolElement,[{key:"render",value:function render(en){}}]),SymbolElement}(),nT=function(){function SVGFontLoader(en){_classCallCheck$1(this,SVGFontLoader),this.document=en,this.loaded=!1,en.fonts.push(this)}return _createClass$1(SVGFontLoader,[{key:"load",value:function load(en,tn){var nn=this;return _asyncToGenerator(_regeneratorRuntime().mark((function _callee9(){var rn,an;return _regeneratorRuntime().wrap((function _callee9$(sn){for(;;)switch(sn.prev=sn.next){case 0:return sn.prev=0,rn=nn.document,sn.next=4,rn.canvg.parser.load(tn);case 4:an=sn.sent.getElementsByTagName("font"),Array.from(an).forEach((function(tn){var nn=rn.createElement(tn);rn.definitions[en]=nn})),sn.next=11;break;case 8:sn.prev=8,sn.t0=sn.catch(0),console.error('Error while loading font "'.concat(tn,'":'),sn.t0);case 11:nn.loaded=!0;case 12:case"end":return sn.stop()}}),_callee9,null,[[0,8]])})))()}}]),SVGFontLoader}(),rT=function(en){_inherits$1(StyleElement,vU);var tn=_createSuper$4(StyleElement);function StyleElement(en,nn,rn){var an;_classCallCheck$1(this,StyleElement),(an=tn.call(this,en,nn,rn)).type="style";var sn=compressSpaces(Array.from(nn.childNodes).map((function(en){return en.textContent})).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,""));return sn.split("}").forEach((function(tn){var nn=tn.trim();if(nn){var rn=nn.split("{"),an=rn[0].split(","),sn=rn[1].split(";");an.forEach((function(tn){var nn=tn.trim();if(nn){var rn=en.styles[nn]||{};if(sn.forEach((function(tn){var nn=tn.indexOf(":"),an=tn.substr(0,nn).trim(),sn=tn.substr(nn+1,tn.length-nn).trim();an&&sn&&(rn[an]=new eU(en,an,sn))})),en.styles[nn]=rn,en.stylesSpecificity[nn]=getSelectorSpecificity(nn),"@font-face"===nn){var an=rn["font-family"].getString().replace(/"|'/g,"");rn.src.getString().split(",").forEach((function(tn){if(tn.indexOf('format("svg")')>0){var nn=parseExternalUrl(tn);nn&&new nT(en).load(an,nn)}}))}}}))}})),an}return _createClass$1(StyleElement)}();rT.parseExternalUrl=parseExternalUrl;var iT=function(en){_inherits$1(UseElement,xU);var tn=_createSuper$4(UseElement);function UseElement(){var en;return _classCallCheck$1(this,UseElement),(en=tn.apply(this,arguments)).type="use",en}return _createClass$1(UseElement,[{key:"setContext",value:function setContext(en){_get(_getPrototypeOf$1(UseElement.prototype),"setContext",this).call(this,en);var tn=this.getAttribute("x"),nn=this.getAttribute("y");tn.hasValue()&&en.translate(tn.getPixels("x"),0),nn.hasValue()&&en.translate(0,nn.getPixels("y"))}},{key:"path",value:function path(en){var tn=this.element;tn&&tn.path(en)}},{key:"renderChildren",value:function renderChildren(en){var tn=this.document,nn=this.element;if(nn){var rn=nn;if("symbol"===nn.type&&((rn=new PU(tn,null)).attributes.viewBox=new eU(tn,"viewBox",nn.getAttribute("viewBox").getString()),rn.attributes.preserveAspectRatio=new eU(tn,"preserveAspectRatio",nn.getAttribute("preserveAspectRatio").getString()),rn.attributes.overflow=new eU(tn,"overflow",nn.getAttribute("overflow").getString()),rn.children=nn.children,nn.styles.opacity=new eU(tn,"opacity",this.calculateOpacity())),"svg"===rn.type){var an=this.getStyle("width",!1,!0),sn=this.getStyle("height",!1,!0);an.hasValue()&&(rn.attributes.width=new eU(tn,"width",an.getString())),sn.hasValue()&&(rn.attributes.height=new eU(tn,"height",sn.getString()))}var An=rn.parent;rn.parent=this,rn.render(en),rn.parent=An}}},{key:"getBoundingBox",value:function getBoundingBox(en){var tn=this.element;return tn?tn.getBoundingBox(en):null}},{key:"elementTransform",value:function elementTransform(){var en=this.document,tn=this.element;return mU.fromElement(en,tn)}},{key:"element",get:function get(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}]),UseElement}();function imGet(en,tn,nn,rn,an,sn){return en[nn*rn*4+4*tn+sn]}function imSet(en,tn,nn,rn,an,sn,An){en[nn*rn*4+4*tn+sn]=An}function m(en,tn,nn){return en[tn]*nn}function c(en,tn,nn,rn){return tn+Math.cos(en)*nn+Math.sin(en)*rn}var aT=function(en){_inherits$1(FeColorMatrixElement,vU);var tn=_createSuper$4(FeColorMatrixElement);function FeColorMatrixElement(en,nn,rn){var an;_classCallCheck$1(this,FeColorMatrixElement),(an=tn.call(this,en,nn,rn)).type="feColorMatrix";var sn=toNumbers(an.getAttribute("values").getString());switch(an.getAttribute("type").getString("matrix")){case"saturate":var An=sn[0];sn=[.213+.787*An,.715-.715*An,.072-.072*An,0,0,.213-.213*An,.715+.285*An,.072-.072*An,0,0,.213-.213*An,.715-.715*An,.072+.928*An,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var cn=sn[0]*Math.PI/180;sn=[c(cn,.213,.787,-.213),c(cn,.715,-.715,-.715),c(cn,.072,-.072,.928),0,0,c(cn,.213,-.213,.143),c(cn,.715,.285,.14),c(cn,.072,-.072,-.283),0,0,c(cn,.213,-.213,-.787),c(cn,.715,-.715,.715),c(cn,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":sn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}return an.matrix=sn,an.includeOpacity=an.getAttribute("includeOpacity").hasValue(),an}return _createClass$1(FeColorMatrixElement,[{key:"apply",value:function apply(en,tn,nn,rn,an){for(var sn=this.includeOpacity,An=this.matrix,cn=en.getImageData(0,0,rn,an),un=0;un<an;un++)for(var hn=0;hn<rn;hn++){var dn=imGet(cn.data,hn,un,rn,0,0),pn=imGet(cn.data,hn,un,rn,0,1),gn=imGet(cn.data,hn,un,rn,0,2),mn=imGet(cn.data,hn,un,rn,0,3),vn=m(An,0,dn)+m(An,1,pn)+m(An,2,gn)+m(An,3,mn)+m(An,4,1),yn=m(An,5,dn)+m(An,6,pn)+m(An,7,gn)+m(An,8,mn)+m(An,9,1),bn=m(An,10,dn)+m(An,11,pn)+m(An,12,gn)+m(An,13,mn)+m(An,14,1),wn=m(An,15,dn)+m(An,16,pn)+m(An,17,gn)+m(An,18,mn)+m(An,19,1);sn&&(vn=0,yn=0,bn=0,wn*=mn/255),imSet(cn.data,hn,un,rn,0,0,vn),imSet(cn.data,hn,un,rn,0,1,yn),imSet(cn.data,hn,un,rn,0,2,bn),imSet(cn.data,hn,un,rn,0,3,wn)}en.clearRect(0,0,rn,an),en.putImageData(cn,0,0)}}]),FeColorMatrixElement}(),oT=function(en){_inherits$1(MaskElement,vU);var tn=_createSuper$4(MaskElement);function MaskElement(){var en;return _classCallCheck$1(this,MaskElement),(en=tn.apply(this,arguments)).type="mask",en}return _createClass$1(MaskElement,[{key:"apply",value:function apply(en,tn){var nn=this.document,rn=this.getAttribute("x").getPixels("x"),an=this.getAttribute("y").getPixels("y"),sn=this.getStyle("width").getPixels("x"),An=this.getStyle("height").getPixels("y");if(!sn&&!An){var cn=new wU;this.children.forEach((function(tn){cn.addBoundingBox(tn.getBoundingBox(en))})),rn=Math.floor(cn.x1),an=Math.floor(cn.y1),sn=Math.floor(cn.width),An=Math.floor(cn.height)}var un=this.removeStyles(tn,MaskElement.ignoreStyles),hn=nn.createCanvas(rn+sn,an+An),dn=hn.getContext("2d");nn.screen.setDefaults(dn),this.renderChildren(dn),new aT(nn,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(dn,0,0,rn+sn,an+An);var pn=nn.createCanvas(rn+sn,an+An),gn=pn.getContext("2d");nn.screen.setDefaults(gn),tn.render(gn),gn.globalCompositeOperation="destination-in",gn.fillStyle=dn.createPattern(hn,"no-repeat"),gn.fillRect(0,0,rn+sn,an+An),en.fillStyle=gn.createPattern(pn,"no-repeat"),en.fillRect(0,0,rn+sn,an+An),this.restoreStyles(tn,un)}},{key:"render",value:function render(en){}}]),MaskElement}();oT.ignoreStyles=["mask","transform","clip-path"];var sT=function noop(){},AT=function(en){_inherits$1(ClipPathElement,vU);var tn=_createSuper$4(ClipPathElement);function ClipPathElement(){var en;return _classCallCheck$1(this,ClipPathElement),(en=tn.apply(this,arguments)).type="clipPath",en}return _createClass$1(ClipPathElement,[{key:"apply",value:function apply(en){var tn=this.document,nn=Reflect.getPrototypeOf(en),rn=en.beginPath,an=en.closePath;nn&&(nn.beginPath=sT,nn.closePath=sT),Reflect.apply(rn,en,[]),this.children.forEach((function(rn){if(void 0!==rn.path){var sn=void 0!==rn.elementTransform?rn.elementTransform():null;sn||(sn=mU.fromElement(tn,rn)),sn&&sn.apply(en),rn.path(en),nn&&(nn.closePath=an),sn&&sn.unapply(en)}})),Reflect.apply(an,en,[]),en.clip(),nn&&(nn.beginPath=rn,nn.closePath=an)}},{key:"render",value:function render(en){}}]),ClipPathElement}(),lT=function(en){_inherits$1(FilterElement,vU);var tn=_createSuper$4(FilterElement);function FilterElement(){var en;return _classCallCheck$1(this,FilterElement),(en=tn.apply(this,arguments)).type="filter",en}return _createClass$1(FilterElement,[{key:"apply",value:function apply(en,tn){var nn=this.document,rn=this.children,an=tn.getBoundingBox(en);if(an){var sn=0,An=0;rn.forEach((function(en){var tn=en.extraFilterDistance||0;sn=Math.max(sn,tn),An=Math.max(An,tn)}));var cn=Math.floor(an.width),un=Math.floor(an.height),hn=cn+2*sn,dn=un+2*An;if(!(hn<1||dn<1)){var pn=Math.floor(an.x),gn=Math.floor(an.y),mn=this.removeStyles(tn,FilterElement.ignoreStyles),vn=nn.createCanvas(hn,dn),yn=vn.getContext("2d");nn.screen.setDefaults(yn),yn.translate(-pn+sn,-gn+An),tn.render(yn),rn.forEach((function(en){"function"==typeof en.apply&&en.apply(yn,0,0,hn,dn)})),en.drawImage(vn,0,0,hn,dn,pn-sn,gn-An,hn,dn),this.restoreStyles(tn,mn)}}}},{key:"render",value:function render(en){}}]),FilterElement}();lT.ignoreStyles=["filter","transform","clip-path"];var cT=function(en){_inherits$1(FeDropShadowElement,vU);var tn=_createSuper$4(FeDropShadowElement);function FeDropShadowElement(en,nn,rn){var an;return _classCallCheck$1(this,FeDropShadowElement),(an=tn.call(this,en,nn,rn)).type="feDropShadow",an.addStylesFromStyleDefinition(),an}return _createClass$1(FeDropShadowElement,[{key:"apply",value:function apply(en,tn,nn,rn,an){}}]),FeDropShadowElement}(),uT=function(en){_inherits$1(FeMorphologyElement,vU);var tn=_createSuper$4(FeMorphologyElement);function FeMorphologyElement(){var en;return _classCallCheck$1(this,FeMorphologyElement),(en=tn.apply(this,arguments)).type="feMorphology",en}return _createClass$1(FeMorphologyElement,[{key:"apply",value:function apply(en,tn,nn,rn,an){}}]),FeMorphologyElement}(),hT=function(en){_inherits$1(FeCompositeElement,vU);var tn=_createSuper$4(FeCompositeElement);function FeCompositeElement(){var en;return _classCallCheck$1(this,FeCompositeElement),(en=tn.apply(this,arguments)).type="feComposite",en}return _createClass$1(FeCompositeElement,[{key:"apply",value:function apply(en,tn,nn,rn,an){}}]),FeCompositeElement}(),dT=function(en){_inherits$1(FeGaussianBlurElement,vU);var tn=_createSuper$4(FeGaussianBlurElement);function FeGaussianBlurElement(en,nn,rn){var an;return _classCallCheck$1(this,FeGaussianBlurElement),(an=tn.call(this,en,nn,rn)).type="feGaussianBlur",an.blurRadius=Math.floor(an.getAttribute("stdDeviation").getNumber()),an.extraFilterDistance=an.blurRadius,an}return _createClass$1(FeGaussianBlurElement,[{key:"apply",value:function apply(en,tn,nn,rn,an){var sn=this.document,An=this.blurRadius,cn=sn.window?sn.window.document.body:null,un=en.canvas;un.id=sn.getUniqueId(),cn&&(un.style.display="none",cn.appendChild(un)),function processCanvasRGBA(en,tn,nn,rn,an,sn){if(!(isNaN(sn)||sn<1)){sn|=0;var An=function getImageDataFromCanvas(en,tn,nn,rn,an){if("string"==typeof en&&(en=document.getElementById(en)),!en||"object"!==_typeof(en)||!("getContext"in en))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var sn=en.getContext("2d");try{return sn.getImageData(tn,nn,rn,an)}catch(en){throw new Error("unable to access image data: "+en)}}(en,tn,nn,rn,an);An=function processImageDataRGBA(en,tn,nn,rn,an,sn){for(var An,cn=en.data,un=2*sn+1,hn=rn-1,dn=an-1,pn=sn+1,gn=pn*(pn+1)/2,mn=new jI,vn=mn,yn=1;yn<un;yn++)vn=vn.next=new jI,yn===pn&&(An=vn);vn.next=mn;for(var bn=null,wn=null,Cn=0,xn=0,Bn=$I[sn],_n=GI[sn],Sn=0;Sn<an;Sn++){vn=mn;for(var kn=cn[xn],En=cn[xn+1],Pn=cn[xn+2],Fn=cn[xn+3],Ln=0;Ln<pn;Ln++)vn.r=kn,vn.g=En,vn.b=Pn,vn.a=Fn,vn=vn.next;for(var In=0,Un=0,Tn=0,Qn=0,Nn=pn*kn,On=pn*En,Mn=pn*Pn,Rn=pn*Fn,Hn=gn*kn,Dn=gn*En,$n=gn*Pn,Gn=gn*Fn,jn=1;jn<pn;jn++){var Vn=xn+((hn<jn?hn:jn)<<2),Kn=cn[Vn],qn=cn[Vn+1],zn=cn[Vn+2],Wn=cn[Vn+3],Xn=pn-jn;Hn+=(vn.r=Kn)*Xn,Dn+=(vn.g=qn)*Xn,$n+=(vn.b=zn)*Xn,Gn+=(vn.a=Wn)*Xn,In+=Kn,Un+=qn,Tn+=zn,Qn+=Wn,vn=vn.next}bn=mn,wn=An;for(var Yn=0;Yn<rn;Yn++){var Jn=Gn*Bn>>_n;if(cn[xn+3]=Jn,0!==Jn){var Zn=255/Jn;cn[xn]=(Hn*Bn>>_n)*Zn,cn[xn+1]=(Dn*Bn>>_n)*Zn,cn[xn+2]=($n*Bn>>_n)*Zn}else cn[xn]=cn[xn+1]=cn[xn+2]=0;Hn-=Nn,Dn-=On,$n-=Mn,Gn-=Rn,Nn-=bn.r,On-=bn.g,Mn-=bn.b,Rn-=bn.a;var Ur=Yn+sn+1;Ur=Cn+(Ur<hn?Ur:hn)<<2,Hn+=In+=bn.r=cn[Ur],Dn+=Un+=bn.g=cn[Ur+1],$n+=Tn+=bn.b=cn[Ur+2],Gn+=Qn+=bn.a=cn[Ur+3],bn=bn.next;var Tr=wn,Qr=Tr.r,Rr=Tr.g,Hr=Tr.b,Dr=Tr.a;Nn+=Qr,On+=Rr,Mn+=Hr,Rn+=Dr,In-=Qr,Un-=Rr,Tn-=Hr,Qn-=Dr,wn=wn.next,xn+=4}Cn+=rn}for(var $r=0;$r<rn;$r++){var Gr=cn[xn=$r<<2],Vr=cn[xn+1],Kr=cn[xn+2],zr=cn[xn+3],Wr=pn*Gr,Xr=pn*Vr,Yr=pn*Kr,Jr=pn*zr,Zr=gn*Gr,ei=gn*Vr,ti=gn*Kr,ni=gn*zr;vn=mn;for(var ri=0;ri<pn;ri++)vn.r=Gr,vn.g=Vr,vn.b=Kr,vn.a=zr,vn=vn.next;for(var ii=rn,ai=0,oi=0,si=0,Ai=0,li=1;li<=sn;li++){xn=ii+$r<<2;var ci=pn-li;Zr+=(vn.r=Gr=cn[xn])*ci,ei+=(vn.g=Vr=cn[xn+1])*ci,ti+=(vn.b=Kr=cn[xn+2])*ci,ni+=(vn.a=zr=cn[xn+3])*ci,Ai+=Gr,ai+=Vr,oi+=Kr,si+=zr,vn=vn.next,li<dn&&(ii+=rn)}xn=$r,bn=mn,wn=An;for(var ui=0;ui<an;ui++){var hi=xn<<2;cn[hi+3]=zr=ni*Bn>>_n,zr>0?(zr=255/zr,cn[hi]=(Zr*Bn>>_n)*zr,cn[hi+1]=(ei*Bn>>_n)*zr,cn[hi+2]=(ti*Bn>>_n)*zr):cn[hi]=cn[hi+1]=cn[hi+2]=0,Zr-=Wr,ei-=Xr,ti-=Yr,ni-=Jr,Wr-=bn.r,Xr-=bn.g,Yr-=bn.b,Jr-=bn.a,hi=$r+((hi=ui+pn)<dn?hi:dn)*rn<<2,Zr+=Ai+=bn.r=cn[hi],ei+=ai+=bn.g=cn[hi+1],ti+=oi+=bn.b=cn[hi+2],ni+=si+=bn.a=cn[hi+3],bn=bn.next,Wr+=Gr=wn.r,Xr+=Vr=wn.g,Yr+=Kr=wn.b,Jr+=zr=wn.a,Ai-=Gr,ai-=Vr,oi-=Kr,si-=zr,wn=wn.next,xn+=rn}}return en}(An,0,0,rn,an,sn),en.getContext("2d").putImageData(An,tn,nn)}}(un,tn,nn,rn,an,An),cn&&cn.removeChild(un)}}]),FeGaussianBlurElement}(),pT=function(en){_inherits$1(TitleElement,vU);var tn=_createSuper$4(TitleElement);function TitleElement(){var en;return _classCallCheck$1(this,TitleElement),(en=tn.apply(this,arguments)).type="title",en}return _createClass$1(TitleElement)}(),gT=function(en){_inherits$1(DescElement,vU);var tn=_createSuper$4(DescElement);function DescElement(){var en;return _classCallCheck$1(this,DescElement),(en=tn.apply(this,arguments)).type="desc",en}return _createClass$1(DescElement)}(),fT={svg:PU,rect:FU,circle:LU,ellipse:IU,line:UU,polyline:TU,polygon:QU,path:BU,pattern:NU,marker:OU,defs:MU,linearGradient:DU,radialGradient:$U,stop:GU,animate:jU,animateColor:VU,animateTransform:KU,font:qU,"font-face":zU,"missing-glyph":WU,glyph:_U,text:SU,tspan:kU,tref:XU,a:YU,textPath:JU,image:eT,g:RU,symbol:tT,style:rT,use:iT,mask:oT,clipPath:AT,filter:lT,feDropShadow:cT,feMorphology:uT,feComposite:hT,feColorMatrix:aT,feGaussianBlur:dT,title:pT,desc:gT};function ownKeys$1(en,tn){var nn=Object.keys(en);if(Object.getOwnPropertySymbols){var rn=Object.getOwnPropertySymbols(en);tn&&(rn=rn.filter((function(tn){return Object.getOwnPropertyDescriptor(en,tn).enumerable}))),nn.push.apply(nn,rn)}return nn}function _createImage(){return _createImage=_asyncToGenerator(_regeneratorRuntime().mark((function _callee10(en){var tn,nn,rn=arguments;return _regeneratorRuntime().wrap((function _callee10$(an){for(;;)switch(an.prev=an.next){case 0:return tn=rn.length>1&&void 0!==rn[1]&&rn[1],nn=document.createElement("img"),an.abrupt("return",(tn&&(nn.crossOrigin="Anonymous"),new Promise((function(tn,rn){nn.onload=function(){tn(nn)},nn.onerror=function(en,tn,nn,an,sn){rn(sn)},nn.src=en}))));case 2:case"end":return an.stop()}}),_callee10)}))),_createImage.apply(this,arguments)}var mT=function(){function Document(en){_classCallCheck$1(this,Document);var tn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},nn=tn.rootEmSize,rn=void 0===nn?12:nn,an=tn.emSize,sn=void 0===an?12:an,An=tn.createCanvas,cn=void 0===An?Document.createCanvas:An,un=tn.createImage,hn=void 0===un?Document.createImage:un,dn=tn.anonymousCrossOrigin;this.canvg=en,this.definitions={},this.styles={},this.stylesSpecificity={},this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=en.screen,this.rootEmSize=rn,this.emSize=sn,this.createCanvas=cn,this.createImage=this.bindCreateImage(hn,dn),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}return _createClass$1(Document,[{key:"bindCreateImage",value:function bindCreateImage(en,tn){return"boolean"==typeof tn?function(nn,rn){return en(nn,"boolean"==typeof rn?rn:tn)}:en}},{key:"window",get:function get(){return this.screen.window}},{key:"fetch",get:function get(){return this.screen.fetch}},{key:"ctx",get:function get(){return this.screen.ctx}},{key:"emSize",get:function get(){var en=this.emSizeStack;return en[en.length-1]},set:function set(en){this.emSizeStack.push(en)}},{key:"popEmSize",value:function popEmSize(){this.emSizeStack.pop()}},{key:"getUniqueId",value:function getUniqueId(){return"canvg".concat(++this.uniqueId)}},{key:"isImagesLoaded",value:function isImagesLoaded(){return this.images.every((function(en){return en.loaded}))}},{key:"isFontsLoaded",value:function isFontsLoaded(){return this.fonts.every((function(en){return en.loaded}))}},{key:"createDocumentElement",value:function createDocumentElement(en){var tn=this.createElement(en.documentElement);return tn.root=!0,tn.addStylesFromStyleDefinition(),this.documentElement=tn,tn}},{key:"createElement",value:function createElement(en){var tn=en.nodeName.replace(/^[^:]+:/,""),nn=Document.elementTypes[tn];return void 0!==nn?new nn(this,en):new yU(this,en)}},{key:"createTextNode",value:function createTextNode(en){return new EU(this,en)}},{key:"setViewBox",value:function setViewBox(en){this.screen.setViewBox(function _objectSpread$1(en){for(var tn=1;tn<arguments.length;tn++){var nn=null!=arguments[tn]?arguments[tn]:{};tn%2?ownKeys$1(Object(nn),!0).forEach((function(tn){_defineProperty(en,tn,nn[tn])})):Object.getOwnPropertyDescriptors?Object.defineProperties(en,Object.getOwnPropertyDescriptors(nn)):ownKeys$1(Object(nn)).forEach((function(tn){Object.defineProperty(en,tn,Object.getOwnPropertyDescriptor(nn,tn))}))}return en}({document:this},en))}}]),Document}();function ownKeys(en,tn){var nn=Object.keys(en);if(Object.getOwnPropertySymbols){var rn=Object.getOwnPropertySymbols(en);tn&&(rn=rn.filter((function(tn){return Object.getOwnPropertyDescriptor(en,tn).enumerable}))),nn.push.apply(nn,rn)}return nn}function _objectSpread(en){for(var tn=1;tn<arguments.length;tn++){var nn=null!=arguments[tn]?arguments[tn]:{};tn%2?ownKeys(Object(nn),!0).forEach((function(tn){_defineProperty(en,tn,nn[tn])})):Object.getOwnPropertyDescriptors?Object.defineProperties(en,Object.getOwnPropertyDescriptors(nn)):ownKeys(Object(nn)).forEach((function(tn){Object.defineProperty(en,tn,Object.getOwnPropertyDescriptor(nn,tn))}))}return en}mT.createCanvas=function createCanvas(en,tn){var nn=document.createElement("canvas");return nn.width=en,nn.height=tn,nn},mT.createImage=function createImage(en){return _createImage.apply(this,arguments)},mT.elementTypes=fT;var vT=function(){function Canvg(en,tn){_classCallCheck$1(this,Canvg);var nn=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.parser=new lU(nn),this.screen=new oU(en,nn),this.options=nn;var rn=new mT(this,nn),an=rn.createDocumentElement(tn);this.document=rn,this.documentElement=an}return _createClass$1(Canvg,[{key:"fork",value:function fork(en,tn){var nn=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Canvg.from(en,tn,_objectSpread(_objectSpread({},this.options),nn))}},{key:"forkString",value:function forkString(en,tn){var nn=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Canvg.fromString(en,tn,_objectSpread(_objectSpread({},this.options),nn))}},{key:"ready",value:function ready(){return this.screen.ready()}},{key:"isReady",value:function isReady(){return this.screen.isReady()}},{key:"render",value:function render(){var en=arguments,tn=this;return _asyncToGenerator(_regeneratorRuntime().mark((function _callee11(){var nn;return _regeneratorRuntime().wrap((function _callee11$(rn){for(;;)switch(rn.prev=rn.next){case 0:return nn=en.length>0&&void 0!==en[0]?en[0]:{},tn.start(_objectSpread({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},nn)),rn.next=4,tn.ready();case 4:tn.stop();case 5:case"end":return rn.stop()}}),_callee11)})))()}},{key:"start",value:function start(){var en=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},tn=this.documentElement,nn=this.screen,rn=this.options;nn.start(tn,_objectSpread(_objectSpread({enableRedraw:!0},rn),en))}},{key:"stop",value:function stop(){this.screen.stop()}},{key:"resize",value:function resize(en){var tn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:en,nn=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.documentElement.resize(en,tn,nn)}}],[{key:"from",value:function from(en,tn){var nn=arguments;return _asyncToGenerator(_regeneratorRuntime().mark((function _callee12(){var rn,an,sn;return _regeneratorRuntime().wrap((function _callee12$(An){for(;;)switch(An.prev=An.next){case 0:return rn=nn.length>2&&void 0!==nn[2]?nn[2]:{},an=new lU(rn),An.next=4,an.parse(tn);case 4:return sn=An.sent,An.abrupt("return",new Canvg(en,sn,rn));case 6:case"end":return An.stop()}}),_callee12)})))()}},{key:"fromString",value:function fromString(en,tn){var nn=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},rn=new lU(nn).parseFromString(tn);return new Canvg(en,rn,nn)}}]),Canvg}(),yT=Object.freeze({__proto__:null,AElement:YU,AnimateColorElement:VU,AnimateElement:jU,AnimateTransformElement:KU,BoundingBox:wU,CB1:CB1,CB2:CB2,CB3:CB3,CB4:CB4,Canvg:vT,CircleElement:LU,ClipPathElement:AT,DefsElement:MU,DescElement:gT,Document:mT,Element:vU,EllipseElement:IU,FeColorMatrixElement:aT,FeCompositeElement:hT,FeDropShadowElement:cT,FeGaussianBlurElement:dT,FeMorphologyElement:uT,FilterElement:lT,Font:bU,FontElement:qU,FontFaceElement:zU,GElement:RU,GlyphElement:_U,GradientElement:HU,ImageElement:eT,LineElement:UU,LinearGradientElement:DU,MarkerElement:OU,MaskElement:oT,Matrix:dU,MissingGlyphElement:WU,Mouse:rU,PSEUDO_ZERO:1e-8,Parser:lU,PathElement:BU,PathParser:CU,PatternElement:NU,Point:nU,PolygonElement:QU,PolylineElement:TU,Property:eU,QB1:QB1,QB2:QB2,QB3:QB3,RadialGradientElement:$U,RectElement:FU,RenderedElement:xU,Rotate:uU,SVGElement:PU,SVGFontLoader:nT,Scale:hU,Screen:oU,Skew:pU,SkewX:gU,SkewY:fU,StopElement:GU,StyleElement:rT,SymbolElement:tT,TRefElement:XU,TSpanElement:kU,TextElement:SU,TextPathElement:JU,TitleElement:pT,Transform:mU,Translate:cU,UnknownElement:yU,UseElement:iT,ViewPort:tU,compressSpaces:compressSpaces,default:vT,getSelectorSpecificity:getSelectorSpecificity,normalizeAttributeName:normalizeAttributeName,normalizeColor:normalizeColor,parseExternalUrl:parseExternalUrl,presets:VI,toNumbers:toNumbers,trimLeft:trimLeft,trimRight:trimRight,vectorMagnitude:vectorMagnitude,vectorsAngle:vectorsAngle,vectorsRatio:vectorsRatio});function toFixedNumeric$1(en,tn){return void 0===tn&&(tn=0),Math.round(en*Math.pow(10,tn))/Math.pow(10,tn)}var bT=_createClass$1((function ColorValuePicker(en,tn,nn,rn){_classCallCheck$1(this,ColorValuePicker);var an=this,sn=en.querySelectorAll("td.Text input");function keyDown(en){if(""!==en.target.value||en.target===mn||(!nn||en.target===nn)&&nn){if(!validateKey(en))return en;switch(en.target){case An:switch(en.keyCode){case 38:return An.value=setValueInRange.call(an,1+(An.value<<0),0,255),tn.val("r",An.value,en.target),!1;case 40:return An.value=setValueInRange.call(an,(An.value<<0)-1,0,255),tn.val("r",An.value,en.target),!1}break;case cn:switch(en.keyCode){case 38:return cn.value=setValueInRange.call(an,1+(cn.value<<0),0,255),tn.val("g",cn.value,en.target),!1;case 40:return cn.value=setValueInRange.call(an,(cn.value<<0)-1,0,255),tn.val("g",cn.value,en.target),!1}break;case un:switch(en.keyCode){case 38:return un.value=setValueInRange.call(an,1+(un.value<<0),0,255),tn.val("b",un.value,en.target),!1;case 40:return un.value=setValueInRange.call(an,(un.value<<0)-1,0,255),tn.val("b",un.value,en.target),!1}break;case hn:switch(en.keyCode){case 38:return hn.value=setValueInRange.call(an,Number.parseFloat(hn.value)+1,0,100),tn.val("a",toFixedNumeric$1(255*hn.value/100,rn),en.target),!1;case 40:return hn.value=setValueInRange.call(an,Number.parseFloat(hn.value)-1,0,100),tn.val("a",toFixedNumeric$1(255*hn.value/100,rn),en.target),!1}break;case dn:switch(en.keyCode){case 38:return dn.value=setValueInRange.call(an,1+(dn.value<<0),0,360),tn.val("h",dn.value,en.target),!1;case 40:return dn.value=setValueInRange.call(an,(dn.value<<0)-1,0,360),tn.val("h",dn.value,en.target),!1}break;case pn:switch(en.keyCode){case 38:return pn.value=setValueInRange.call(an,1+(pn.value<<0),0,100),tn.val("s",pn.value,en.target),!1;case 40:return pn.value=setValueInRange.call(an,(pn.value<<0)-1,0,100),tn.val("s",pn.value,en.target),!1}break;case gn:switch(en.keyCode){case 38:return gn.value=setValueInRange.call(an,1+(gn.value<<0),0,100),tn.val("v",gn.value,en.target),!1;case 40:return gn.value=setValueInRange.call(an,(gn.value<<0)-1,0,100),tn.val("v",gn.value,en.target),!1}}}}function keyUp(en){if(""!==en.target.value||en.target===mn||(!nn||en.target===nn)&&nn){if(!validateKey(en))return en;switch(en.target){case An:An.value=setValueInRange.call(an,An.value,0,255),tn.val("r",An.value,en.target);break;case cn:cn.value=setValueInRange.call(an,cn.value,0,255),tn.val("g",cn.value,en.target);break;case un:un.value=setValueInRange.call(an,un.value,0,255),tn.val("b",un.value,en.target);break;case hn:hn.value=setValueInRange.call(an,hn.value,0,100),tn.val("a",toFixedNumeric$1(255*hn.value/100,rn),en.target);break;case dn:dn.value=setValueInRange.call(an,dn.value,0,360),tn.val("h",dn.value,en.target);break;case pn:pn.value=setValueInRange.call(an,pn.value,0,100),tn.val("s",pn.value,en.target);break;case gn:gn.value=setValueInRange.call(an,gn.value,0,100),tn.val("v",gn.value,en.target);break;case mn:mn.value=mn.value.replace(/[^a-fA-F\d]/g,"").toLowerCase().substring(0,6),nn&&nn.val(mn.value),tn.val("hex",""!==mn.value?mn.value:null,en.target);break;case nn:nn.value=nn.value.replace(/[^a-fA-F\d]/g,"").toLowerCase().substring(0,6),mn.val(nn.value),tn.val("hex",""!==nn.value?nn.value:null,en.target);break;case vn:vn.value=vn.value.replace(/[^a-fA-F\d]/g,"").toLowerCase().substring(0,2),tn.val("a",vn.value?Number.parseInt(vn.value,16):null,en.target)}}}function blur(en){if(tn.value)switch(en.target){case An:tn.value="r",An.value=tn.value;break;case cn:tn.value="g",cn.value=tn.value;break;case un:tn.value="b",un.value=tn.value;break;case hn:tn.value="a",hn.value=toFixedNumeric$1(100*tn.value/255,rn);break;case dn:tn.value="h",dn.value=tn.value;break;case pn:tn.value="s",pn.value=tn.value;break;case gn:tn.value="v",gn.value=tn.value;break;case mn:case nn:tn.value="hex",mn.value=tn.value,nn.value=tn.value;break;case vn:tn.value="ahex",vn.value=tn.value.substring(6)}}function validateKey(en){switch(en.keyCode){case 9:case 16:case 29:case 37:case 39:return!1;case"c".charCodeAt():case"v".charCodeAt():if(en.ctrlKey)return!1}return!0}function setValueInRange(en,tn,nn){return""===en||isNaN(en)?tn:en>nn?nn:en<tn?tn:en}function colorChanged(en,tn){var an=en.val("all");tn!==An&&(An.value=an?an.r:""),tn!==cn&&(cn.value=an?an.g:""),tn!==un&&(un.value=an?an.b:""),hn&&tn!==hn&&(hn.value=an?toFixedNumeric$1(100*an.a/255,rn):""),tn!==dn&&(dn.value=an?an.h:""),tn!==pn&&(pn.value=an?an.s:""),tn!==gn&&(gn.value=an?an.v:""),tn!==mn&&(nn&&tn!==nn||!nn)&&(mn.value=an?an.hex:""),nn&&tn!==nn&&tn!==mn&&(nn.value=an?an.hex:""),vn&&tn!==vn&&(vn.value=an?an.ahex.substring(6):"")}var An=sn[3],cn=sn[4],un=sn[5],hn=sn.length>7?sn[6]:null,dn=sn[0],pn=sn[1],gn=sn[2],mn=sn[sn.length>7?7:6],vn=sn.length>7?sn[8]:null;Object.assign(an,{destroy:function destroy(){An.removeEventListener("keyup",keyUp),cn.removeEventListener("keyup",keyUp),un.removeEventListener("keyup",keyUp),dn.removeEventListener("keyup",keyUp),pn.removeEventListener("keyup",keyUp),gn.removeEventListener("keyup",keyUp),mn.removeEventListener("keyup",keyUp),An.removeEventListener("blur",blur),cn.removeEventListener("blur",blur),un.removeEventListener("blur",blur),dn.removeEventListener("blur",blur),pn.removeEventListener("blur",blur),gn.removeEventListener("blur",blur),mn.removeEventListener("blur",blur),An.removeEventListener("keydown",keyDown),cn.removeEventListener("keydown",keyDown),un.removeEventListener("keydown",keyDown),dn.removeEventListener("keydown",keyDown),pn.removeEventListener("keydown",keyDown),gn.removeEventListener("keydown",keyDown),null!==hn&&(hn.removeEventListener("keyup",keyUp),hn.removeEventListener("blur",blur),hn.removeEventListener("keydown",keyDown)),null!==vn&&(vn.removeEventListener("keyup",keyUp),vn.removeEventListener("blur",blur)),null!==nn&&(nn.removeEventListener("keyup",keyUp),nn.removeEventListener("blur",blur)),tn.unbind(colorChanged),An=null,cn=null,un=null,hn=null,dn=null,pn=null,gn=null,mn=null,vn=null}}),An.addEventListener("keyup",keyUp),cn.addEventListener("keyup",keyUp),un.addEventListener("keyup",keyUp),dn.addEventListener("keyup",keyUp),pn.addEventListener("keyup",keyUp),gn.addEventListener("keyup",keyUp),mn.addEventListener("keyup",keyUp),An.addEventListener("blur",blur),cn.addEventListener("blur",blur),un.addEventListener("blur",blur),dn.addEventListener("blur",blur),pn.addEventListener("blur",blur),gn.addEventListener("blur",blur),mn.addEventListener("blur",blur),An.addEventListener("keydown",keyDown),cn.addEventListener("keydown",keyDown),un.addEventListener("keydown",keyDown),dn.addEventListener("keydown",keyDown),pn.addEventListener("keydown",keyDown),gn.addEventListener("keydown",keyDown),null!==hn&&(hn.addEventListener("keyup",keyUp),hn.addEventListener("blur",blur),hn.addEventListener("keydown",keyDown)),null!==vn&&(vn.addEventListener("keyup",keyUp),vn.addEventListener("blur",blur)),null!==nn&&(nn.addEventListener("keyup",keyUp),nn.addEventListener("blur",blur)),tn.bind(colorChanged)}));function findPos(en){var tn=0,nn=0;if(en.offsetParent){do{tn+=en.offsetLeft,nn+=en.offsetTop}while(en=en.offsetParent);return{left:tn,top:nn}}return{left:tn,top:nn}}function isObject(en){return en&&"object"===_typeof$3(en)&&!Array.isArray(en)}function mergeDeep(en,tn){var nn=Object.assign({},en);return isObject(en)&&isObject(tn)&&Object.keys(tn).forEach((function(rn){isObject(tn[rn])&&rn in en?nn[rn]=mergeDeep(en[rn],tn[rn]):Object.assign(nn,_defineProperty$2({},rn,tn[rn]))})),nn}var wT=function isNullish(en){return null==en},CT=_createClass$1((function Slider(en,tn){_classCallCheck$1(this,Slider);var nn,rn,an=this;function fireChangeEvents(en){vn.forEach((function(tn){tn.call(an,an,en)}))}function mouseDown(tn){var sn=findPos(en);nn={l:0|sn.left,t:0|sn.top},clearTimeout(rn),rn=setTimeout((function(){setValuesFromMousePosition.call(an,tn)}),0),document.addEventListener("mousemove",mouseMove),document.addEventListener("mouseup",mouseUp),tn.preventDefault()}function mouseMove(en){return clearTimeout(rn),rn=setTimeout((function(){setValuesFromMousePosition.call(an,en)}),0),en.stopPropagation(),en.preventDefault(),!1}function mouseUp(en){return document.removeEventListener("mousemove",mouseMove),document.removeEventListener("mouseup",mouseUp),en.stopPropagation(),en.preventDefault(),!1}function setValuesFromMousePosition(tn){var rn=en.w,sn=en.h,An=tn.pageX-nn.l,un=tn.pageY-nn.t;An<0?An=0:An>rn&&(An=rn),un<0?un=0:un>sn&&(un=sn),val.call(an,"xy",{x:An/rn*hn+cn,y:un/sn*gn+dn})}function val(en,tn,nn){if(!(void 0!==tn))switch(wT(en)&&(en="xy"),en.toLowerCase()){case"x":return sn;case"y":return An;default:return{x:sn,y:An}}if(wT(nn)||nn!==an){var rn,hn,gn=!1;switch(wT(en)&&(en="xy"),en.toLowerCase()){case"x":rn=tn&&(tn.x&&0|tn.x||0|tn)||0;break;case"y":hn=tn&&(tn.y&&0|tn.y||0|tn)||0;break;default:rn=tn&&tn.x&&0|tn.x||0,hn=tn&&tn.y&&0|tn.y||0}wT(rn)||(rn<cn?rn=cn:rn>un&&(rn=un),sn!==rn&&(sn=rn,gn=!0)),wT(hn)||(hn<dn?hn=dn:hn>pn&&(hn=pn),An!==hn&&(An=hn,gn=!0)),gn&&fireChangeEvents.call(an,nn||an)}}function bind(en){"function"==typeof en&&vn.push(en)}var sn=0,An=0,cn=0,un=100,hn=100,dn=0,pn=100,gn=100,mn=en.querySelector("img"),vn=[];Object.assign(an,{val:val,range:function range(en,tn){var nn,rn,an,sn;if(!(void 0!==tn))switch(wT(en)&&(en="all"),en.toLowerCase()){case"minx":return cn;case"maxx":return un;case"rangex":return{minX:cn,maxX:un,rangeX:hn};case"miny":return dn;case"maxy":return pn;case"rangey":return{minY:dn,maxY:pn,rangeY:gn};default:return{minX:cn,maxX:un,rangeX:hn,minY:dn,maxY:pn,rangeY:gn}}switch(wT(en)&&(en="all"),en.toLowerCase()){case"minx":nn=tn&&(tn.minX&&0|tn.minX||0|tn)||0;break;case"maxx":rn=tn&&(tn.maxX&&0|tn.maxX||0|tn)||0;break;case"rangex":nn=tn&&tn.minX&&0|tn.minX||0,rn=tn&&tn.maxX&&0|tn.maxX||0;break;case"miny":an=tn&&(tn.minY&&0|tn.minY||0|tn)||0;break;case"maxy":sn=tn&&(tn.maxY&&0|tn.maxY||0|tn)||0;break;case"rangey":an=tn&&tn.minY&&0|tn.minY||0,sn=tn&&tn.maxY&&0|tn.maxY||0;break;default:nn=tn&&tn.minX&&0|tn.minX||0,rn=tn&&tn.maxX&&0|tn.maxX||0,an=tn&&tn.minY&&0|tn.minY||0,sn=tn&&tn.maxY&&0|tn.maxY||0}wT(nn)||cn===nn||(hn=un-(cn=nn)),wT(rn)||un===rn||(hn=(un=rn)-cn),wT(an)||dn===an||(gn=pn-(dn=an)),wT(sn)||pn===sn||(gn=(pn=sn)-dn)},bind:bind,unbind:function unbind(en){if("function"==typeof en)for(var tn;tn=vn.includes(en);)vn.splice(tn,1)},destroy:function destroy(){document.removeEventListener("mousemove",mouseMove),document.removeEventListener("mouseup",mouseUp),en.removeEventListener("mousedown",mouseDown),en=null,mn=null,vn=null}}),mn.src=tn.arrow&&tn.arrow.image,mn.w=tn.arrow&&tn.arrow.width||parseFloat(getComputedStyle(mn,null).width.replace("px","")),mn.h=tn.arrow&&tn.arrow.height||parseFloat(getComputedStyle(mn,null).height.replace("px","")),en.w=tn.map&&tn.map.width||parseFloat(getComputedStyle(en,null).width.replace("px","")),en.h=tn.map&&tn.map.height||parseFloat(getComputedStyle(en,null).height.replace("px","")),en.addEventListener("mousedown",mouseDown),bind.call(an,(function draw(){var tn=en.w,nn=en.h,rn=mn.w,an=mn.h,cn=0,dn=0;setTimeout((function(){hn>0&&(cn=sn===un?tn:sn/hn*tn|0),gn>0&&(dn=An===pn?nn:An/gn*nn|0),rn>=tn?cn=(tn>>1)-(rn>>1):cn-=rn>>1,an>=nn?dn=(nn>>1)-(an>>1):dn-=an>>1,mn.style.left=cn+"px",mn.style.top=dn+"px"}))}))}));function toFixedNumeric(en,tn){return void 0===tn&&(tn=0),Math.round(en*Math.pow(10,tn))/Math.pow(10,tn)}var xT=function isNullish(en){return null==en},BT={List:[],Color:function Color(en){var tn,nn,rn,an,sn,An,cn,un=this;function fireChangeEvents(en){for(var tn=0;tn<hn.length;tn++)hn[tn].call(un,un,en)}function val(en,hn,dn){var pn=Boolean(hn);if(pn&&""===hn.ahex&&(hn.ahex="00000000"),!pn){var gn;if((xT(en)||""===en)&&(en="all"),xT(tn))return null;switch(en.toLowerCase()){case"ahex":return kT.rgbaToHex({r:tn,g:nn,b:rn,a:an});case"hex":return val("ahex").substring(0,6);case"all":return{r:tn,g:nn,b:rn,a:an,h:sn,s:An,v:cn,hex:val.call(un,"hex"),ahex:val.call(un,"ahex")};default:gn={};var mn=en.length;_toConsumableArray(en).forEach((function(en){switch(en){case"r":1===mn?gn=tn:gn.r=tn;break;case"g":1===mn?gn=nn:gn.g=nn;break;case"b":1===mn?gn=rn:gn.b=rn;break;case"a":1===mn?gn=an:gn.a=an;break;case"h":1===mn?gn=sn:gn.h=sn;break;case"s":1===mn?gn=An:gn.s=An;break;case"v":1===mn?gn=cn:gn.v=cn}}))}return"object"!==_typeof$3(gn)||Object.keys(gn).length?gn:val.call(un,"all")}if(xT(dn)||dn!==un){xT(en)&&(en="");var vn=!1;if(xT(hn))return xT(tn)||(tn=null,vn=!0),xT(nn)||(nn=null,vn=!0),xT(rn)||(rn=null,vn=!0),xT(an)||(an=null,vn=!0),xT(sn)||(sn=null,vn=!0),xT(An)||(An=null,vn=!0),xT(cn)||(cn=null,vn=!0),void(vn&&fireChangeEvents.call(un,dn||un));switch(en.toLowerCase()){case"ahex":case"hex":var yn=kT.hexToRgba(hn&&(hn.ahex||hn.hex)||hn||"none");val.call(un,"rgba",{r:yn.r,g:yn.g,b:yn.b,a:"ahex"===en?yn.a:xT(an)?255:an},dn);break;default:if(hn&&(!xT(hn.ahex)||!xT(hn.hex)))return void val.call(un,"ahex",hn.ahex||hn.hex||"00000000",dn);var bn={},wn=!1,Cn=!1;if(void 0===hn.r||en.includes("r")||(en+="r"),void 0===hn.g||en.includes("g")||(en+="g"),void 0===hn.b||en.includes("b")||(en+="b"),void 0===hn.a||en.includes("a")||(en+="a"),void 0===hn.h||en.includes("h")||(en+="h"),void 0===hn.s||en.includes("s")||(en+="s"),void 0===hn.v||en.includes("v")||(en+="v"),_toConsumableArray(en).forEach((function(en){switch(en){case"r":if(Cn)return;wn=!0,bn.r=hn.r&&0|hn.r||0|hn||0,bn.r<0?bn.r=0:bn.r>255&&(bn.r=255),tn!==bn.r&&(tn=bn.r,vn=!0);break;case"g":if(Cn)return;wn=!0,bn.g=hn&&hn.g&&0|hn.g||hn&&0|hn||0,bn.g<0?bn.g=0:bn.g>255&&(bn.g=255),nn!==bn.g&&(nn=bn.g,vn=!0);break;case"b":if(Cn)return;wn=!0,bn.b=hn&&hn.b&&0|hn.b||hn&&0|hn||0,bn.b<0?bn.b=0:bn.b>255&&(bn.b=255),rn!==bn.b&&(rn=bn.b,vn=!0);break;case"a":bn.a=hn&&!xT(hn.a)?0|hn.a:0|hn,bn.a<0?bn.a=0:bn.a>255&&(bn.a=255),an!==bn.a&&(an=bn.a,vn=!0);break;case"h":if(wn)return;Cn=!0,bn.h=hn&&hn.h&&0|hn.h||hn&&0|hn||0,bn.h<0?bn.h=0:bn.h>360&&(bn.h=360),sn!==bn.h&&(sn=bn.h,vn=!0);break;case"s":if(wn)return;Cn=!0,bn.s=xT(hn.s)?0|hn:0|hn.s,bn.s<0?bn.s=0:bn.s>100&&(bn.s=100),An!==bn.s&&(An=bn.s,vn=!0);break;case"v":if(wn)return;Cn=!0,bn.v=xT(hn.v)?0|hn:0|hn.v,bn.v<0?bn.v=0:bn.v>100&&(bn.v=100),cn!==bn.v&&(cn=bn.v,vn=!0)}})),vn){if(wn){tn=tn||0,nn=nn||0,rn=rn||0;var xn=kT.rgbToHsv({r:tn,g:nn,b:rn});sn=xn.h,An=xn.s,cn=xn.v}else if(Cn){sn=sn||0,An=xT(An)?100:An,cn=xT(cn)?100:cn;var Bn=kT.hsvToRgb({h:sn,s:An,v:cn});tn=Bn.r,nn=Bn.g,rn=Bn.b}an=xT(an)?255:an,fireChangeEvents.call(un,dn||un)}}}}var hn=[];Object.assign(un,{val:val,bind:function bind(en){"function"==typeof en&&hn.push(en)},unbind:function unbind(en){if("function"==typeof en)for(var tn;tn=hn.includes(en);)hn.splice(tn,1)},destroy:function destroy(){hn=null}}),en&&(xT(en.ahex)?xT(en.hex)?xT(en.r)||xT(en.g)||xT(en.b)?xT(en.h)||xT(en.s)||xT(en.v)||val("hsv"+(xT(en.a)?"":"a"),en):val("rgb"+(xT(en.a)?"":"a"),en):val((xT(en.a)?"":"a")+"hex",xT(en.a)?en:{ahex:en.hex+kT.intToHex(en.a)}):val("ahex",en))},ColorMethods:{hexToRgba:function hexToRgba(en){if(""===en||"none"===en)return{r:null,g:null,b:null,a:null};var tn="00",nn="00",rn="00",an="255";return 6===(en=this.validateHex(en)).length&&(en+="ff"),en.length>6?(tn=en.substring(0,2),nn=en.substring(2,4),rn=en.substring(4,6),an=en.substring(6,en.length)):(en.length>4&&(tn=en.substring(4,en.length),en=en.substring(0,4)),en.length>2&&(nn=en.substring(2,en.length),en=en.substring(0,2)),en.length>0&&(rn=en.substring(0,en.length))),{r:this.hexToInt(tn),g:this.hexToInt(nn),b:this.hexToInt(rn),a:this.hexToInt(an)}},validateHex:function validateHex(en){return(en=en.toLowerCase().replace(/[^a-f\d]/g,"")).length>8&&(en=en.substring(0,8)),en},rgbaToHex:function rgbaToHex(en){return this.intToHex(en.r)+this.intToHex(en.g)+this.intToHex(en.b)+this.intToHex(en.a)},intToHex:function intToHex(en){var tn=(0|en).toString(16);return 1===tn.length&&(tn="0"+tn),tn.toLowerCase()},hexToInt:function hexToInt(en){return Number.parseInt(en,16)},rgbToHsv:function rgbToHsv(en){var tn,nn=en.r/255,rn=en.g/255,an=en.b/255,sn={h:0,s:0,v:0},An=0,cn=0;return nn>=rn&&nn>=an?(cn=nn,An=rn>an?an:rn):rn>=an&&rn>=nn?(cn=rn,An=nn>an?an:nn):(cn=an,An=rn>nn?nn:rn),sn.v=cn,sn.s=cn?(cn-An)/cn:0,sn.s?(tn=cn-An,sn.h=nn===cn?(rn-an)/tn:rn===cn?2+(an-nn)/tn:4+(nn-rn)/tn,sn.h=Number.parseInt(60*sn.h),sn.h<0&&(sn.h+=360)):sn.h=0,sn.s=100*sn.s|0,sn.v=100*sn.v|0,sn},hsvToRgb:function hsvToRgb(en){var tn={r:0,g:0,b:0,a:100},nn=en.h,rn=en.s,an=en.v;if(0===rn)tn.r=tn.g=tn.b=0===an?0:255*an/100|0;else{360===nn&&(nn=0);var sn=0|(nn/=60),An=nn-sn,cn=(an/=100)*(1-(rn/=100)),un=an*(1-rn*An),hn=an*(1-rn*(1-An));switch(sn){case 0:tn.r=an,tn.g=hn,tn.b=cn;break;case 1:tn.r=un,tn.g=an,tn.b=cn;break;case 2:tn.r=cn,tn.g=an,tn.b=hn;break;case 3:tn.r=cn,tn.g=un,tn.b=an;break;case 4:tn.r=hn,tn.g=cn,tn.b=an;break;case 5:tn.r=an,tn.g=cn,tn.b=un}tn.r=255*tn.r|0,tn.g=255*tn.g|0,tn.b=255*tn.b|0}return tn}}},_T=BT.Color,ST=BT.List,kT=BT.ColorMethods;function jPickerMethod(en,tn,nn,rn,an,sn){var An=mergeDeep({},ET);An=mergeDeep(An,tn);var cn=en,un=An;if("input"===cn.nodeName.toLowerCase()&&(Object.assign(un,{window:{bindToInput:!0,expandable:!0,input:cn}}),""===cn.value?(un.color.active=new _T({hex:null}),un.color.current=new _T({hex:null})):kT.validateHex(cn.value)&&(un.color.active=new _T({hex:cn.value,a:un.color.active.val("a")}),un.color.current=new _T({hex:cn.value,a:un.color.active.val("a")}))),un.window.expandable){var hn=document.createElement("span");hn.classList.add("jPicker"),hn.innerHTML='<span class="Icon" id="jq-ae-Icon">\n      <span class="Color" id="jq-ae-Color">&nbsp;</span>\n      <span class="Alpha" id="jq-ae-Alpha">&nbsp;</span>\n      <span class="Image" id="jq-ae-Image" title="'.concat(sn.t("config.open_color_picker"),'">&nbsp;</span>\n      <span class="Container" id="Container">&nbsp;</span>\n    </span>'),cn.insertAdjacentElement("afterend",hn)}else un.window.liveUpdate=!1;var dn=Number.parseFloat(navigator.appVersion.split("MSIE")[1])<7&&document.body.filters;function setColorMode(en){var tn,nn,rn=gn.active,an=rn.val("hex");switch(un.color.mode=en,en){case"h":if(setTimeout((function(){setBG.call(cn,Cn,"transparent"),setImgLoc.call(cn,Bn,0),setAlpha.call(cn,Bn,100),setImgLoc.call(cn,_n,260),setAlpha.call(cn,_n,100),setBG.call(cn,xn,"transparent"),setImgLoc.call(cn,kn,0),setAlpha.call(cn,kn,100),setImgLoc.call(cn,En,260),setAlpha.call(cn,En,100),setImgLoc.call(cn,Pn,260),setAlpha.call(cn,Pn,100),setImgLoc.call(cn,Fn,260),setAlpha.call(cn,Fn,100),setImgLoc.call(cn,In,260),setAlpha.call(cn,In,100)}),0),Un.range("all",{minX:0,maxX:100,minY:0,maxY:100}),Tn.range("rangeY",{minY:0,maxY:360}),xT(rn.val("ahex")))break;Un.val("xy",{x:rn.val("s"),y:100-rn.val("v")},Un),Tn.val("y",360-rn.val("h"),Tn);break;case"s":if(setTimeout((function(){setBG.call(cn,Cn,"transparent"),setImgLoc.call(cn,Bn,-260),setImgLoc.call(cn,_n,-520),setImgLoc.call(cn,kn,-260),setImgLoc.call(cn,En,-520),setImgLoc.call(cn,In,260),setAlpha.call(cn,In,100)}),0),Un.range("all",{minX:0,maxX:360,minY:0,maxY:100}),Tn.range("rangeY",{minY:0,maxY:100}),xT(rn.val("ahex")))break;Un.val("xy",{x:rn.val("h"),y:100-rn.val("v")},Un),Tn.val("y",100-rn.val("s"),Tn);break;case"v":if(setTimeout((function(){setBG.call(cn,Cn,"000000"),setImgLoc.call(cn,Bn,-780),setImgLoc.call(cn,_n,260),setBG.call(cn,xn,an),setImgLoc.call(cn,kn,-520),setImgLoc.call(cn,En,260),setAlpha.call(cn,En,100),setImgLoc.call(cn,In,260),setAlpha.call(cn,In,100)}),0),Un.range("all",{minX:0,maxX:360,minY:0,maxY:100}),Tn.range("rangeY",{minY:0,maxY:100}),xT(rn.val("ahex")))break;Un.val("xy",{x:rn.val("h"),y:100-rn.val("s")},Un),Tn.val("y",100-rn.val("v"),Tn);break;case"r":if(tn=-1040,nn=-780,Un.range("all",{minX:0,maxX:255,minY:0,maxY:255}),Tn.range("rangeY",{minY:0,maxY:255}),xT(rn.val("ahex")))break;Un.val("xy",{x:rn.val("b"),y:255-rn.val("g")},Un),Tn.val("y",255-rn.val("r"),Tn);break;case"g":if(tn=-1560,nn=-1820,Un.range("all",{minX:0,maxX:255,minY:0,maxY:255}),Tn.range("rangeY",{minY:0,maxY:255}),xT(rn.val("ahex")))break;Un.val("xy",{x:rn.val("b"),y:255-rn.val("r")},Un),Tn.val("y",255-rn.val("g"),Tn);break;case"b":if(tn=-2080,nn=-2860,Un.range("all",{minX:0,maxX:255,minY:0,maxY:255}),Tn.range("rangeY",{minY:0,maxY:255}),xT(rn.val("ahex")))break;Un.val("xy",{x:rn.val("r"),y:255-rn.val("g")},Un),Tn.val("y",255-rn.val("b"),Tn);break;case"a":if(setTimeout((function(){setBG.call(cn,Cn,"transparent"),setImgLoc.call(cn,Bn,-260),setImgLoc.call(cn,_n,-520),setImgLoc.call(cn,kn,260),setImgLoc.call(cn,En,260),setAlpha.call(cn,En,100),setImgLoc.call(cn,In,0),setAlpha.call(cn,In,100)}),0),Un.range("all",{minX:0,maxX:360,minY:0,maxY:100}),Tn.range("rangeY",{minY:0,maxY:255}),xT(rn.val("ahex")))break;Un.val("xy",{x:rn.val("h"),y:100-rn.val("v")},Un),Tn.val("y",255-rn.val("a"),Tn);break;default:throw new Error("Invalid Mode")}switch(en){case"h":break;case"s":case"v":case"a":setTimeout((function(){setAlpha.call(cn,Bn,100),setAlpha.call(cn,kn,100),setImgLoc.call(cn,Pn,260),setAlpha.call(cn,Pn,100),setImgLoc.call(cn,Fn,260),setAlpha.call(cn,Fn,100)}),0);break;case"r":case"g":case"b":setTimeout((function(){setBG.call(cn,Cn,"transparent"),setBG.call(cn,xn,"transparent"),setAlpha.call(cn,kn,100),setAlpha.call(cn,Bn,100),setImgLoc.call(cn,Bn,tn),setImgLoc.call(cn,_n,tn-260),setImgLoc.call(cn,kn,nn-780),setImgLoc.call(cn,En,nn-520),setImgLoc.call(cn,Pn,nn),setImgLoc.call(cn,Fn,nn-260),setImgLoc.call(cn,In,260),setAlpha.call(cn,In,100)}),0)}xT(rn.val("ahex"))||activeColorChanged.call(cn,rn)}function activeColorChanged(en,tn){(xT(tn)||tn!==Tn&&tn!==Un)&&positionMapAndBarArrows.call(cn,en,tn),setTimeout((function(){updatePreview.call(cn,en),updateMapVisuals.call(cn,en),updateBarVisuals.call(cn,en)}),0)}function mapValueChanged(en,tn){var nn=gn.active;if(tn===Un||!xT(nn.val())){var rn=en.val("all");switch(un.color.mode){case"h":nn.val("sv",{s:rn.x,v:100-rn.y},tn);break;case"s":case"a":nn.val("hv",{h:rn.x,v:100-rn.y},tn);break;case"v":nn.val("hs",{h:rn.x,s:100-rn.y},tn);break;case"r":nn.val("gb",{g:255-rn.y,b:rn.x},tn);break;case"g":nn.val("rb",{r:255-rn.y,b:rn.x},tn);break;case"b":nn.val("rg",{r:rn.x,g:255-rn.y},tn)}}}function colorBarValueChanged(en,tn){var nn=gn.active;if(tn===Tn||!xT(nn.val()))switch(un.color.mode){case"h":nn.val("h",{h:360-en.val("y")},tn);break;case"s":nn.val("s",{s:100-en.val("y")},tn);break;case"v":nn.val("v",{v:100-en.val("y")},tn);break;case"r":nn.val("r",{r:255-en.val("y")},tn);break;case"g":nn.val("g",{g:255-en.val("y")},tn);break;case"b":nn.val("b",{b:255-en.val("y")},tn);break;case"a":nn.val("a",255-en.val("y"),tn)}}function positionMapAndBarArrows(en,tn){if(tn!==Un)switch(un.color.mode){case"h":var nn=en.val("sv");Un.val("xy",{x:xT(nn)?100:nn.s,y:100-(xT(nn)?100:nn.v)},tn);break;case"s":case"a":var rn=en.val("hv");Un.val("xy",{x:rn&&rn.h||0,y:100-(xT(rn)?100:rn.v)},tn);break;case"v":var an=en.val("hs");Un.val("xy",{x:an&&an.h||0,y:100-(xT(an)?100:an.s)},tn);break;case"r":var sn=en.val("bg");Un.val("xy",{x:sn&&sn.b||0,y:255-(sn&&sn.g||0)},tn);break;case"g":var An=en.val("br");Un.val("xy",{x:An&&An.b||0,y:255-(An&&An.r||0)},tn);break;case"b":var cn=en.val("rg");Un.val("xy",{x:cn&&cn.r||0,y:255-(cn&&cn.g||0)},tn)}if(tn!==Tn)switch(un.color.mode){case"h":Tn.val("y",360-(en.val("h")||0),tn);break;case"s":var hn=en.val("s");Tn.val("y",100-(xT(hn)?100:hn),tn);break;case"v":var dn=en.val("v");Tn.val("y",100-(xT(dn)?100:dn),tn);break;case"r":Tn.val("y",255-(en.val("r")||0),tn);break;case"g":Tn.val("y",255-(en.val("g")||0),tn);break;case"b":Tn.val("y",255-(en.val("b")||0),tn);break;case"a":var pn=en.val("a");Tn.val("y",255-(xT(pn)?255:pn),tn)}}function updatePreview(en){try{var tn=en.val("all");Nn.style.backgroundColor=tn&&"#"+tn.hex||"transparent",setAlpha.call(cn,Nn,tn&&toFixedNumeric(100*tn.a/255,4)||0)}catch(en){}}function updateMapVisuals(en){switch(un.color.mode){case"h":setBG.call(cn,Cn,new _T({h:en.val("h")||0,s:100,v:100}).val("hex"));break;case"s":case"a":var tn=en.val("s");setAlpha.call(cn,_n,100-(xT(tn)?100:tn));break;case"v":var nn=en.val("v");setAlpha.call(cn,Bn,xT(nn)?100:nn);break;case"r":setAlpha.call(cn,_n,toFixedNumeric((en.val("r")||0)/255*100,4));break;case"g":setAlpha.call(cn,_n,toFixedNumeric((en.val("g")||0)/255*100,4));break;case"b":setAlpha.call(cn,_n,toFixedNumeric((en.val("b")||0)/255*100))}var rn=en.val("a");setAlpha.call(cn,Sn,toFixedNumeric(100*(255-(rn||0))/255,4))}function updateBarVisuals(en){switch(un.color.mode){case"h":var tn=en.val("a");setAlpha.call(cn,Ln,toFixedNumeric(100*(255-(tn||0))/255,4));break;case"s":var nn=en.val("hva"),rn=new _T({h:nn&&nn.h||0,s:100,v:xT(nn)?100:nn.v});setBG.call(cn,xn,rn.val("hex")),setAlpha.call(cn,En,100-(xT(nn)?100:nn.v)),setAlpha.call(cn,Ln,toFixedNumeric(100*(255-(nn&&nn.a||0))/255,4));break;case"v":var an=en.val("hsa"),sn=new _T({h:an&&an.h||0,s:xT(an)?100:an.s,v:100});setBG.call(cn,xn,sn.val("hex")),setAlpha.call(cn,Ln,toFixedNumeric(100*(255-(an&&an.a||0))/255,4));break;case"r":case"g":case"b":var An=en.val("rgba"),hn=0,dn=0;"r"===un.color.mode?(hn=An&&An.b||0,dn=An&&An.g||0):"g"===un.color.mode?(hn=An&&An.b||0,dn=An&&An.r||0):"b"===un.color.mode&&(hn=An&&An.r||0,dn=An&&An.g||0);var pn=dn>hn?hn:dn;setAlpha.call(cn,En,hn>dn?toFixedNumeric((hn-dn)/(255-dn)*100,4):0),setAlpha.call(cn,Pn,dn>hn?toFixedNumeric((dn-hn)/(255-hn)*100,4):0),setAlpha.call(cn,Fn,toFixedNumeric(pn/255*100,4)),setAlpha.call(cn,Ln,toFixedNumeric(100*(255-(An&&An.a||0))/255,4));break;case"a":var gn=en.val("a");setBG.call(cn,xn,en.val("hex")||"000000"),setAlpha.call(cn,Ln,xT(gn)?100:0),setAlpha.call(cn,In,xT(gn)?0:100)}}function setBG(en,tn){en.style.backgroundColor=tn&&6===tn.length&&"#"+tn||"transparent"}function setImg(en,tn){dn&&(tn.includes("AlphaBar.png")||tn.includes("Bars.png")||tn.includes("Maps.png"))?(en.setAttribute("pngSrc",tn),en.style.backgroundImage="none",en.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+tn+"', sizingMethod='scale')"):en.style.backgroundImage="url('"+tn+"')"}function setImgLoc(en,tn){en.style.top=tn+"px"}function setAlpha(en,tn){if(en.style.visibility=tn>0?"visible":"hidden",tn>0&&tn<100)if(dn){var nn=en.getAttribute("pngSrc");!xT(nn)&&(nn.includes("AlphaBar.png")||nn.includes("Bars.png")||nn.includes("Maps.png"))?en.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+nn+"', sizingMethod='scale') progid:DXImageTransform.Microsoft.Alpha(opacity="+tn+")":en.style.opacity=toFixedNumeric(tn/100,4)}else en.style.opacity=toFixedNumeric(tn/100,4);else if(0===tn||100===tn)if(dn){var rn=en.getAttribute("pngSrc");!xT(rn)&&(rn.includes("AlphaBar.png")||rn.includes("Bars.png")||rn.includes("Maps.png"))?en.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+rn+"', sizingMethod='scale')":en.style.opacity=""}else en.style.opacity=""}function revertColor(){gn.active.val("ahex",gn.current.val("ahex"))}function commitColor(){gn.current.val("ahex",gn.active.val("ahex"))}function radioClicked(en){var tn,nn=_createForOfIteratorHelper(cn.querySelectorAll('input[type="radio"]:checked'));try{for(nn.s();!(tn=nn.n()).done;){var rn=tn.value;rn.value!==en.target.value&&(rn.checked=!1)}}catch(en){nn.e(en)}finally{nn.f()}setColorMode.call(cn,en.target.value)}function currentClicked(){revertColor.call(cn)}function cancelClicked(){revertColor.call(cn),un.window.expandable&&hide.call(cn),"function"==typeof an&&an.call(cn,gn.active,Rn)}function okClicked(){commitColor.call(cn),un.window.expandable&&hide.call(cn),"function"==typeof nn&&nn.call(cn,gn.active,Mn)}function iconImageClicked(){show.call(cn)}function currentColorChanged(en){var tn=en.val("hex");On.style.backgroundColor=tn&&"#"+tn||"transparent",setAlpha.call(cn,On,toFixedNumeric(100*(en.val("a")||0)/255,4))}function expandableColorChanged(en){var tn=en.val("hex"),nn=en.val("va");Dn.style.backgroundColor=tn&&"#"+tn||"transparent",setAlpha.call(cn,$n,toFixedNumeric(100*(255-(nn&&nn.a||0))/255,4)),un.window.bindToInput&&un.window.updateInputColor&&(un.window.input.style.backgroundColor=tn&&"#"+tn||"transparent",un.window.input.style.color=xT(nn)||nn.v>75?"#000000":"#ffffff")}function moveBarMouseDown(en){mn=Number.parseInt(wn.style.left),vn=Number.parseInt(wn.style.top),yn=en.pageX,bn=en.pageY,document.addEventListener("mousemove",documentMouseMove),document.addEventListener("mouseup",documentMouseUp),en.preventDefault()}function documentMouseMove(en){if(wn.style.left=mn-(yn-en.pageX)+"px",wn.style.top=vn-(bn-en.pageY)+"px",un.window.expandable){var tn=wn.previousElementSibling;tn.style.left=wn.style.left,tn.style.top=wn.style.top}return en.stopPropagation(),en.preventDefault(),!1}function documentMouseUp(en){return document.removeEventListener("mousemove",documentMouseMove),document.removeEventListener("mouseup",documentMouseUp),en.stopPropagation(),en.preventDefault(),!1}function quickPickClicked(en){return en.preventDefault(),en.stopPropagation(),gn.active.val("ahex",en.target.getAttribute("title")||null,en.target),!1}function show(){gn.current.val("ahex",gn.active.val("ahex")),un.window.expandable&&(wn.style.zIndex=20),wn.style.display="block",function attachIFrame(){if(un.window.expandable){var en=wn.querySelector("#jPicker-table");wn.insertAdjacentElement("beforebegin",document.createElement("iframe"));var tn=wn.previousElementSibling;tn.style.width=parseFloat(getComputedStyle(en,null).width.replace("px","")),tn.style.height=parseFloat(getComputedStyle(wn,null).height.replace("px","")),tn.style.opacity=0,tn.style.position="absolute",tn.style.left=getComputedStyle(wn,null).getPropertyValue("left"),tn.style.top=getComputedStyle(wn,null).getPropertyValue("top")}}()}function hide(){wn.style.display="none",function removeIFrame(){un.window.expandable&&(wn.style.zIndex=10),un.window.expandable&&wn.prev().remove()}()}function initialize(){var en=cn.nextElementSibling,tn=un.window,nn=tn.expandable?en.querySelector("#Container"):null;(wn=tn.expandable?document.createElement("div"):cn).classList.add("jPicker"),wn.classList.add("Container"),tn.expandable&&(wn.style.display="none"),wn.onselectstart=function(en){return"input"===en.target.nodeName.toLowerCase()};var an=gn.active.val("all");tn.alphaPrecision<0?tn.alphaPrecision=0:tn.alphaPrecision>2&&(tn.alphaPrecision=2);var An='<table class="jPicker" id="jPicker-table" cellpadding="0" cellspacing="0">\n      <tbody>\n        '.concat(tn.expandable?'<tr><td class="Move" colspan="5">&nbsp;</td></tr>':"",'\n        <tr>\n          <td rowspan="9"><h2 class="Title">').concat(tn.title||"config.jpicker_title",'</h2><div class="Map" id="Map"><span class="Map1" id="MMap1">&nbsp;</span><span class="Map2" id="MMap2">&nbsp;</span><span class="Map3" id="MMap3">&nbsp;</span><img src="').concat(pn.clientPath+pn.colorMap.arrow.file,'" class="Arrow"/></div></td>\n          <td rowspan="9"><div class="Bar" id="Bar"><span class="Map1" id="Map1">&nbsp;</span><span class="Map2" id="Map2">&nbsp;</span><span class="Map3" id="Map3">&nbsp;</span><span class="Map4" id="Map4">&nbsp;</span><span class="Map5" id="Map5">&nbsp;</span><span class="Map6" id="Map6">&nbsp;</span><img src="').concat(pn.clientPath+pn.colorBar.arrow.file,'" class="Arrow"/></div></td>\n          <td colspan="2" class="Preview" id="Preview">').concat(sn.t("config.jpicker_new_color"),'<div id="preview-div"><span class="Active" id="Active" title="').concat(sn.t("config.jpicker_tooltip_colors_new_color"),'">&nbsp;</span><span class="Current" id="Current" title="').concat(sn.t("config.jpicker_tooltip_colors_current_color"),'">&nbsp;</span></div>').concat(sn.t("config.jpicker_current_color"),'</td>\n          <td rowspan="9" class="Button" id="Button"><input type="button" class="Ok" id="Ok" value="').concat(sn.t("common.ok"),'" title="').concat(sn.t("config.jpicker_tooltip_buttons_ok"),'"/><input type="button" class="Cancel" id="Cancel" value="').concat(sn.t("common.cancel"),'" title="').concat(sn.t("config.jpicker_tooltip_buttons_cancel"),'"/><hr/><div class="Grid" id="Grid"></div></td>\n        </tr>\n        <tr class="Hue">\n          <td class="Radio"><label title="').concat(sn.t("config.jpicker_tooltip_hue_radio"),'"><input type="radio" value="h"').concat("h"===un.color.mode?' checked="checked"':"",'/>H:</label></td>\n          <td class="Text"><input type="text" maxlength="3" value="').concat(an?an.h:"",'" title="').concat(sn.t("config.jpicker_tooltip_hue_textbox"),'"/>&nbsp;&deg;</td>\n        </tr>\n        <tr class="Saturation">\n          <td class="Radio"><label title="').concat(sn.t("config.jpicker_tooltip_saturation_radio"),'"><input type="radio" value="s"').concat("s"===un.color.mode?' checked="checked"':"",'/>S:</label></td>\n          <td class="Text"><input type="text" maxlength="3" value="').concat(an?an.s:"",'" title="').concat(sn.t("config.jpicker_tooltip_saturation_textbox"),'"/>&nbsp;%</td>\n        </tr>\n        <tr class="Value">\n          <td class="Radio"><label title="').concat(sn.t("config.jpicker_tooltip_value_radio"),'"><input type="radio" value="v"').concat("v"===un.color.mode?' checked="checked"':"",'/>V:</label><br/><br/></td>\n          <td class="Text"><input type="text" maxlength="3" value="').concat(an?an.v:"",'" title="').concat(sn.t("config.jpicker_tooltip_value_textbox"),'"/>&nbsp;%<br/><br/></td>\n        </tr>\n        <tr class="Red">\n          <td class="Radio"><label title="').concat(sn.t("config.jpicker_tooltip_red_radio"),'"><input type="radio" value="r"').concat("r"===un.color.mode?' checked="checked"':"",'/>R:</label></td>\n          <td class="Text"><input type="text" maxlength="3" value="').concat(an?an.r:"",'" title="').concat(sn.t("config.jpicker_tooltip_red_textbox"),'"/></td>\n        </tr>\n        <tr class="Green">\n          <td class="Radio"><label title="').concat(sn.t("config.jpicker_tooltip_green_radio"),'"><input type="radio" value="g"').concat("g"===un.color.mode?' checked="checked"':"",'/>G:</label></td>\n          <td class="Text"><input type="text" maxlength="3" value="').concat(an?an.g:"",'" title="').concat(sn.t("config.jpicker_tooltip_green_textbox"),'"/></td>\n        </tr>\n        <tr class="Blue">\n          <td class="Radio"><label title="').concat(sn.t("config.jpicker_tooltip_blue_radio"),'"><input type="radio" value="b"').concat("b"===un.color.mode?' checked="checked"':"",'/>B:</label></td>\n          <td class="Text"><input type="text" maxlength="3" value="').concat(an?an.b:"",'" title="').concat(sn.t("config.jpicker_tooltip_blue_textbox"),'"/></td>\n        </tr>\n        <tr class="Alpha">\n          <td class="Radio">').concat(tn.alphaSupport?'<label title="'.concat(sn.t("config.jpicker_tooltip_alpha_radio"),'"><input type="radio" value="a"').concat("a"===un.color.mode?' checked="checked"':"","/>A:</label>"):"&nbsp;",'</td>\n          <td class="Text">').concat(tn.alphaSupport?'<input type="text" maxlength="'.concat(3+tn.alphaPrecision,'" value="').concat(an?toFixedNumeric(100*an.a/255,tn.alphaPrecision):"",'" title="').concat(sn.t("config.jpicker_tooltip_alpha_textbox"),'"/>&nbsp;%'):"&nbsp;",'</td>\n        </tr>\n        <tr class="Hex">\n          <td colspan="2" class="Text"><label title="').concat(sn.t("config.jpicker_tooltip_hex_textbox"),'">#:<input type="text" maxlength="6" class="Hex" value="').concat(an?an.hex:"",'"/></label>').concat(tn.alphaSupport?'<input type="text" maxlength="2" class="AHex" value="'.concat(an?an.ahex.substring(6):"",'" title="').concat(sn.t("config.jpicker_tooltip_hex_alpha"),'"/></td>'):"&nbsp;","\n        </tr>\n      </tbody></table>");if(tn.expandable){wn.innerHTML=An,cn.querySelectorAll("div.jPicker.Container").length?cn.querySelector("div.jPicker.Container:last").insertAdjacentElement("afterend",wn):document.body.insertBefore(wn,document.body.firstChild),wn.addEventListener("mousedown",(function(){wn.style.zIndex=20}));var hn=findPos(nn);wn.style.position="absolute",wn.style.left="left"===tn.position.x?hn.left-530-("center"===tn.position.y?25:0)+"px":"center"===tn.position.x?hn.left-260+"px":"right"===tn.position.x?hn.left-10+("center"===tn.position.y?25:0)+"px":"screenCenter"===tn.position.x?(document.width>>1)-260+"px":hn.left+Number.parseInt(tn.position.x)+"px",wn.style.top="top"===tn.position.y?hn.top-312+"px":"center"===tn.position.y?hn.top-156+"px":"bottom"===tn.position.y?hn.top+25+"px":hn.top+Number.parseInt(tn.position.y)+"px"}else{wn=cn;var dn=document.createElement("div");for(dn.innerHTML=An;dn.children.length>0;)wn.appendChild(dn.children[0])}var mn=wn.querySelector("tbody");Cn=mn.querySelector("#Map"),xn=mn.querySelector("#Bar"),Bn=Cn.querySelector("#MMap1"),_n=Cn.querySelector("#MMap2"),Sn=Cn.querySelector("#MMap3"),kn=xn.querySelector("#Map1"),En=xn.querySelector("#Map2"),Pn=xn.querySelector("#Map3"),Fn=xn.querySelector("#Map4"),Ln=xn.querySelector("#Map5"),In=xn.querySelector("#Map6"),(Un=new CT(Cn,{map:{width:pn.colorMap.width,height:pn.colorMap.height},arrow:{image:pn.clientPath+pn.colorMap.arrow.file,width:pn.colorMap.arrow.width,height:pn.colorMap.arrow.height}})).bind(mapValueChanged),(Tn=new CT(xn,{map:{width:pn.colorBar.width,height:pn.colorBar.height},arrow:{image:pn.clientPath+pn.colorBar.arrow.file,width:pn.colorBar.arrow.width,height:pn.colorBar.arrow.height}})).bind(colorBarValueChanged),Qn=new bT(mn,gn.active,tn.expandable&&tn.bindToInput?tn.input:null,tn.alphaPrecision);var vn=an?an.hex:null,yn=mn.querySelector("#Preview"),bn=mn.querySelector("#Button");(Nn=yn.querySelector("#Active")).style.backgroundColor=vn?"#"+vn:"transparent",(On=yn.querySelector("#Current")).style.backgroundColor=vn?"#"+vn:"transparent",svgEditor.$click(On,currentClicked),setAlpha.call(cn,On,toFixedNumeric(100*gn.current.val("a")/255,4)),Mn=bn.querySelector("#Ok"),svgEditor.$click(Mn,okClicked),Rn=bn.querySelector("#Cancel"),svgEditor.$click(Rn,cancelClicked),Hn=bn.querySelector("#Grid"),setTimeout((function(){setImg.call(cn,Bn,pn.clientPath+"Maps.png"),setImg.call(cn,_n,pn.clientPath+"Maps.png"),setImg.call(cn,Sn,pn.clientPath+"map-opacity.png"),setImg.call(cn,kn,pn.clientPath+"Bars.png"),setImg.call(cn,En,pn.clientPath+"Bars.png"),setImg.call(cn,Pn,pn.clientPath+"Bars.png"),setImg.call(cn,Fn,pn.clientPath+"Bars.png"),setImg.call(cn,Ln,pn.clientPath+"bar-opacity.png"),setImg.call(cn,In,pn.clientPath+"AlphaBar.png"),setImg.call(cn,yn.querySelector("#preview-div"),pn.clientPath+"preview-opacity.png")}),0);var Vn,Kn=_createForOfIteratorHelper(mn.querySelectorAll("td.Radio input"));try{for(Kn.s();!(Vn=Kn.n()).done;){var qn=Vn.value;svgEditor.$click(qn,radioClicked)}}catch(en){Kn.e(en)}finally{Kn.f()}if(gn.quickList&&gn.quickList.length>0){for(var zn="",Wn=0;Wn<gn.quickList.length;Wn++){"string"===_typeof$3(gn.quickList[Wn]).toString().toLowerCase()&&(gn.quickList[Wn]=new _T({hex:gn.quickList[Wn]}));var Xn=gn.quickList[Wn].val("a"),Yn=gn.quickList[Wn].val("ahex");!tn.alphaSupport&&Yn&&(Yn=Yn.substring(0,6)+"ff");var Jn=gn.quickList[Wn].val("hex");Yn||(Yn="00000000"),zn+='<span class="QuickColor" title="#'+Yn+'" style="background-color:'+(Jn&&"#"+Jn||"")+";"+(Jn?"":"background-image:url("+pn.clientPath+"NoColor.png)")+(tn.alphaSupport&&Xn&&Xn<255?";opacity:"+toFixedNumeric(Xn/255,4)+";filter:Alpha(opacity="+toFixedNumeric(Xn/2.55,4)+")":"")+'">&nbsp;</span>'}setImg.call(cn,Hn,pn.clientPath+"bar-opacity.png");var Zn=document.createElement("div");for(Zn.innerHTML=zn;Zn.children.length>0;)Hn.appendChild(Zn.children[0]);var Ur,Tr=_createForOfIteratorHelper(Hn.querySelectorAll(".QuickColor"));try{for(Tr.s();!(Ur=Tr.n()).done;){var Qr=Ur.value;svgEditor.$click(Qr,quickPickClicked)}}catch(en){Tr.e(en)}finally{Tr.f()}}setColorMode.call(cn,un.color.mode),gn.active.bind(activeColorChanged),"function"==typeof rn&&gn.active.bind(rn),gn.current.bind(currentColorChanged),tn.expandable?(cn.icon=nn.parentNode,(Dn=cn.icon.querySelector(".Color")).style.backgroundColor=vn&&"#"+vn||"transparent",$n=cn.icon.querySelector(".Alpha"),setImg.call(cn,$n,pn.clientPath+"bar-opacity.png"),setAlpha.call(cn,$n,toFixedNumeric(100*(255-(an?an.a:0))/255,4)),(Gn=cn.icon.querySelector(".Image")).style.backgroundImage="url('"+pn.clientPath+pn.picker.file+"')",svgEditor.$click(Gn,iconImageClicked),tn.bindToInput&&tn.updateInputColor&&(tn.input.style.backgroundColor=vn&&"#"+vn||"transparent",tn.input.style.color=xT(an)||an.v>75?"#000000":"#ffffff"),(jn=mn.querySelector(".Move")).addEventListener("mousedown",moveBarMouseDown),gn.active.bind(expandableColorChanged)):show.call(cn)}var pn=un.images,gn={active:"string"===_typeof$3(un.color.active).toString().toLowerCase()?new _T({ahex:!un.window.alphaSupport&&un.color.active?un.color.active.substring(0,6)+"ff":un.color.active}):new _T({ahex:!un.window.alphaSupport&&un.color.active.val("ahex")?un.color.active.val("ahex").substring(0,6)+"ff":un.color.active.val("ahex")}),current:"string"===_typeof$3(un.color.active).toString().toLowerCase()?new _T({ahex:!un.window.alphaSupport&&un.color.active?un.color.active.substring(0,6)+"ff":un.color.active}):new _T({ahex:!un.window.alphaSupport&&un.color.active.val("ahex")?un.color.active.val("ahex").substring(0,6)+"ff":un.color.active.val("ahex")}),quickList:un.color.quickList};"function"!=typeof nn&&(nn=null),"function"!=typeof rn&&(rn=null),"function"!=typeof an&&(an=null);var mn=null,vn=null,yn=null,bn=null,wn=null,Cn=null,xn=null,Bn=null,_n=null,Sn=null,kn=null,En=null,Pn=null,Fn=null,Ln=null,In=null,Un=null,Tn=null,Qn=null,Nn=null,On=null,Mn=null,Rn=null,Hn=null,Dn=null,$n=null,Gn=null,jn=null;Object.assign(cn,{commitCallback:nn,liveCallback:rn,cancelCallback:an,color:gn,show:show,hide:hide,destroy:function destroy(){var en,tn=_createForOfIteratorHelper(wn.querySelectorAll("td.Radio input"));try{for(tn.s();!(en=tn.n()).done;){en.value.removeEventListener("click",radioClicked)}}catch(en){tn.e(en)}finally{tn.f()}On.removeEventListener("click",currentClicked),Rn.removeEventListener("click",cancelClicked),Mn.removeEventListener("click",okClicked),un.window.expandable&&(Gn.removeEventListener("click",iconImageClicked),jn.removeEventListener("mousedown",moveBarMouseDown),cn.icon=null);var sn,An=_createForOfIteratorHelper(wn.querySelectorAll(".QuickColor"));try{for(An.s();!(sn=An.n()).done;){sn.value.removeEventListener("click",quickPickClicked)}}catch(en){An.e(en)}finally{An.f()}Cn=null,xn=null,Bn=null,_n=null,Sn=null,kn=null,En=null,Pn=null,Fn=null,Ln=null,In=null,Un.destroy(),Un=null,Tn.destroy(),Tn=null,Qn.destroy(),Qn=null,Nn=null,On=null,Mn=null,Rn=null,Hn=null,nn=null,an=null,rn=null,wn.html("");for(var hn=0;hn<ST.length;hn++)ST[hn]===cn&&(ST.splice(hn,1),hn--)}}),ST.push(cn),setTimeout((function(){initialize.call(cn)}),0)}var ET={window:{title:null,effects:{type:"slide",speed:{show:"slow",hide:"fast"}},position:{x:"screenCenter",y:"top"},expandable:!1,liveUpdate:!0,alphaSupport:!1,alphaPrecision:0,updateInputColor:!0},color:{mode:"h",active:new _T({ahex:"#ffcc00ff"}),quickList:[new _T({h:360,s:33,v:100}),new _T({h:360,s:66,v:100}),new _T({h:360,s:100,v:100}),new _T({h:360,s:100,v:75}),new _T({h:360,s:100,v:50}),new _T({h:180,s:0,v:100}),new _T({h:30,s:33,v:100}),new _T({h:30,s:66,v:100}),new _T({h:30,s:100,v:100}),new _T({h:30,s:100,v:75}),new _T({h:30,s:100,v:50}),new _T({h:180,s:0,v:90}),new _T({h:60,s:33,v:100}),new _T({h:60,s:66,v:100}),new _T({h:60,s:100,v:100}),new _T({h:60,s:100,v:75}),new _T({h:60,s:100,v:50}),new _T({h:180,s:0,v:80}),new _T({h:90,s:33,v:100}),new _T({h:90,s:66,v:100}),new _T({h:90,s:100,v:100}),new _T({h:90,s:100,v:75}),new _T({h:90,s:100,v:50}),new _T({h:180,s:0,v:70}),new _T({h:120,s:33,v:100}),new _T({h:120,s:66,v:100}),new _T({h:120,s:100,v:100}),new _T({h:120,s:100,v:75}),new _T({h:120,s:100,v:50}),new _T({h:180,s:0,v:60}),new _T({h:150,s:33,v:100}),new _T({h:150,s:66,v:100}),new _T({h:150,s:100,v:100}),new _T({h:150,s:100,v:75}),new _T({h:150,s:100,v:50}),new _T({h:180,s:0,v:50}),new _T({h:180,s:33,v:100}),new _T({h:180,s:66,v:100}),new _T({h:180,s:100,v:100}),new _T({h:180,s:100,v:75}),new _T({h:180,s:100,v:50}),new _T({h:180,s:0,v:40}),new _T({h:210,s:33,v:100}),new _T({h:210,s:66,v:100}),new _T({h:210,s:100,v:100}),new _T({h:210,s:100,v:75}),new _T({h:210,s:100,v:50}),new _T({h:180,s:0,v:30}),new _T({h:240,s:33,v:100}),new _T({h:240,s:66,v:100}),new _T({h:240,s:100,v:100}),new _T({h:240,s:100,v:75}),new _T({h:240,s:100,v:50}),new _T({h:180,s:0,v:20}),new _T({h:270,s:33,v:100}),new _T({h:270,s:66,v:100}),new _T({h:270,s:100,v:100}),new _T({h:270,s:100,v:75}),new _T({h:270,s:100,v:50}),new _T({h:180,s:0,v:10}),new _T({h:300,s:33,v:100}),new _T({h:300,s:66,v:100}),new _T({h:300,s:100,v:100}),new _T({h:300,s:100,v:75}),new _T({h:300,s:100,v:50}),new _T({h:180,s:0,v:0}),new _T({h:330,s:33,v:100}),new _T({h:330,s:66,v:100}),new _T({h:330,s:100,v:100}),new _T({h:330,s:100,v:75}),new _T({h:330,s:100,v:50}),new _T]},images:{clientPath:"/jPicker/images/",colorMap:{width:256,height:256,arrow:{file:"mappoint.gif",width:15,height:15}},colorBar:{width:20,height:256,arrow:{file:"rangearrows.gif",width:20,height:7}},picker:{file:"picker.gif",width:25,height:24}}},PT="http://www.w3.org/2000/svg",FT="http://www.w3.org/1999/xlink";window.console||(window.console={log:function log(){},dir:function dir(){}});var LT={Paint:Zf.Paint},IT={paint:new LT.Paint,window:{pickerTitle:"Drag markers to pick a paint"},images:{clientPath:"images/"},newstop:"inverse"},UT=navigator.userAgent.includes("Gecko/");function mkElem(en,tn,nn){var rn=document.createElementNS(PT,en);return function setAttrs(en,tn){UT?Object.entries(tn).forEach((function(tn){var nn=_slicedToArray(tn,2),rn=nn[0],an=nn[1];en.setAttribute(rn,an)})):Object.entries(tn).forEach((function(tn){var nn=_slicedToArray(tn,2),rn=nn[0],an=nn[1],sn=en[rn];"SVGLength"===(null==sn?void 0:sn.constructor)?sn.baseVal.value=an:en.setAttribute(rn,an)}))}(rn,tn),nn&&nn.append(rn),rn}function jGraduateMethod(en,tn,nn,rn,an){var sn=en,An=Object.assign({},IT,tn||{}),cn=sn.getAttribute("id"),un="#"+sn.getAttribute("id")+" ";if(un){var hn=function okClicked(){switch(sn.paint.type){case"radialGradient":sn.paint.linearGradient=null;break;case"linearGradient":sn.paint.radialGradient=null;break;case"solidColor":sn.paint.radialGradient=sn.paint.linearGradient=null}"function"==typeof sn.okCallback&&sn.okCallback(sn.paint),sn.style.display="none"},dn=function cancelClicked(){"function"==typeof sn.cancelCallback&&sn.cancelCallback(),sn.style.display="none"};Object.assign(sn,{paint:new LT.Paint({copy:An.paint}),okCallback:"function"==typeof nn?nn:null,cancelCallback:"function"==typeof rn?rn:null});var pn=null,gn=window;"none"===sn.paint.type&&(sn.paint=new LT.Paint({solidColor:"ffffff"})),sn.classList.add("jGraduate_Picker"),sn.innerHTML='<ul class="jGraduate_tabs">\n      <li class="jGraduate_tab_color jGraduate_tab_current" id="jGraduate_tab_color" data-type="col">'.concat(an.t("config.jgraduate_solid_color"),'</li>\n      <li class="jGraduate_tab_lingrad" id="jGraduate_tab_lingrad" data-type="lg">').concat(an.t("config.jgraduate_linear_gradient"),'</li>\n      <li class="jGraduate_tab_radgrad" id="jGraduate_tab_radgrad" data-type="rg">').concat(an.t("config.jgraduate_radial_gradient"),'</li>\n    </ul>\n    <div class="jGraduate_colPick" id="jGraduate_colPick"></div>\n    <div class="jGraduate_gradPick" id="jGraduate_gradPick"></div>\n    <div class="jGraduate_LightBox" id="jGraduate_LightBox"></div>\n    <div id="').concat(cn,'_jGraduate_stopPicker" class="jGraduate_stopPicker"></div>');var mn=sn.querySelector("#jGraduate_colPick"),vn=sn.querySelector("#jGraduate_gradPick"),yn='<div id="'.concat(cn,'_jGraduate_Swatch" class="jGraduate_Swatch">\n        <h2 class="jGraduate_Title">').concat(An.window.pickerTitle,'</h2>\n        <div id="').concat(cn,'_jGraduate_GradContainer" class="jGraduate_GradContainer"></div>\n        <div id="').concat(cn,'_jGraduate_StopSlider" class="jGraduate_StopSlider"></div>\n      </div>\n      <div class="jGraduate_Form jGraduate_Points jGraduate_lg_field">\n        <div class="jGraduate_StopSection">\n          <label class="jGraduate_Form_Heading">').concat(an.t("config.jgraduate_begin_point"),'</label>\n          <div class="jGraduate_Form_Section">\n            <label>x:</label>\n              <input type="text" id="').concat(cn,'_jGraduate_x1" size="3" title="').concat(an.t("config.jgraduate_enter_starting_x"),'"/>\n            <label>y:</label>\n            <input type="text" id="').concat(cn,'_jGraduate_y1" size="3" title="').concat(an.t("config.jgraduate_enter_starting_y"),'"/>\n          </div>\n        </div>\n        <div class="jGraduate_StopSection">\n          <label class="jGraduate_Form_Heading">').concat(an.t("config.jgraduate_end_point"),'</label>\n          <div class="jGraduate_Form_Section">\n            <label>x:</label>\n            <input type="text" id="').concat(cn,'_jGraduate_x2" size="3" title="').concat(an.t("config.jgraduate_enter_ending_x"),'"/>\n            <label>y:</label>\n            <input type="text" id="').concat(cn,'_jGraduate_y2" size="3" title="').concat(an.t("config.jgraduate_enter_ending_y"),'"/>\n          </div>\n        </div>\n      </div>\n      <div class="jGraduate_Form jGraduate_Points jGraduate_rg_field">\n        <div class="jGraduate_StopSection">\n          <label class="jGraduate_Form_Heading">').concat(an.t("config.jgraduate_center_point"),'</label>\n          <div class="jGraduate_Form_Section">\n            <label>x:</label>\n            <input type="text" id="').concat(cn,'_jGraduate_cx" size="3" title="').concat(an.t("config.jgraduate_enter_value_x"),'"/>\n            <label>y:</label>\n            <input type="text" id="').concat(cn,'_jGraduate_cy" size="3" title="').concat(an.t("config.jgraduate_enter_value_y"),'"/>\n          </div>\n        </div>\n        <div class="jGraduate_StopSection">\n          <label class="jGraduate_Form_Heading">').concat(an.t("config.jgraduate_focal_point"),'</label>\n          <div class="jGraduate_Form_Section">\n            <label>').concat(an.t("config.jgraduate_match_center"),' <input type="checkbox" checked="checked" id="').concat(cn,'_jGraduate_match_ctr"/></label><br/>\n            <label>x:</label>\n            <input type="text" id="').concat(cn,'_jGraduate_fx" size="3" title="').concat(an.t("config.jgraduate_enter_focal_x"),'"/>\n            <label>y:</label>\n            <input type="text" id="').concat(cn,'_jGraduate_fy" size="3" title="').concat(an.t("config.jgraduate_enter_focal_y"),'"/>\n          </div>\n        </div>\n      </div>\n      <div class="jGraduate_StopSection jGraduate_SpreadMethod">\n        <label class="jGraduate_Form_Heading">').concat(an.t("config.jgraduate_spread_method"),'</label>\n        <div class="jGraduate_Form_Section">\n          <select class="jGraduate_spreadMethod" id="jGraduate_spreadMethod">\n            <option value=pad selected>').concat(an.t("properties.jgraduate_pad"),"</option>\n            <option value=reflect>").concat(an.t("properties.jgraduate_reflect"),"</option>\n            <option value=repeat>").concat(an.t("properties.jgraduate_repeat"),'</option>\n          </select>\n        </div>\n      </div>\n      <div class="jGraduate_Form">\n        <div class="jGraduate_Slider jGraduate_RadiusField jGraduate_rg_field">\n          <label class="prelabel">').concat(an.t("config.jgraduate_radius"),'</label>\n          <div id="').concat(cn,'_jGraduate_Radius" class="jGraduate_SliderBar jGraduate_Radius" title="').concat(an.t("config.jgraduate_set_radius"),'">\n            <img id="').concat(cn,'_jGraduate_RadiusArrows" class="jGraduate_RadiusArrows" src="').concat(An.images.clientPath,'rangearrows2.gif">\n          </div>\n          <label><input type="text" id="').concat(cn,'_jGraduate_RadiusInput" size="3" value="100"/>%</label>\n        </div>\n        <div class="jGraduate_Slider jGraduate_EllipField jGraduate_rg_field">\n          <label class="prelabel">').concat(an.t("config.jgraduate_ellip"),'</label>\n          <div id="').concat(cn,'_jGraduate_Ellip" class="jGraduate_SliderBar jGraduate_Ellip" title="').concat(an.t("config.jgraduate_set_ellip"),'">\n            <img id="').concat(cn,'_jGraduate_EllipArrows" class="jGraduate_EllipArrows" src="').concat(An.images.clientPath,'rangearrows2.gif">\n          </div>\n          <label><input type="text" id="').concat(cn,'_jGraduate_EllipInput" size="3" value="0"/>%</label>\n        </div>\n        <div class="jGraduate_Slider jGraduate_AngleField jGraduate_rg_field">\n          <label class="prelabel">').concat(an.t("config.jgraduate_angle"),'</label>\n          <div id="').concat(cn,'_jGraduate_Angle" class="jGraduate_SliderBar jGraduate_Angle" title="').concat(an.t("config.jgraduate_set_angle"),'">\n            <img id="').concat(cn,'_jGraduate_AngleArrows" class="jGraduate_AngleArrows" src="').concat(An.images.clientPath,'rangearrows2.gif">\n          </div>\n          <label><input type="text" id="').concat(cn,'_jGraduate_AngleInput" size="3" value="0"/>').concat(an.t("config.jgraduate_deg"),'</label>\n        </div>\n        <div class="jGraduate_Slider jGraduate_OpacField">\n          <label class="prelabel">').concat(an.t("config.jgraduate_opac"),'</label>\n          <div id="').concat(cn,'_jGraduate_Opac" class="jGraduate_SliderBar jGraduate_Opac" title="').concat(an.t("config.jgraduate_set_opac"),'">\n            <img id="').concat(cn,'_jGraduate_OpacArrows" class="jGraduate_OpacArrows" src="').concat(An.images.clientPath,'rangearrows2.gif">\n          </div>\n          <label><input type="text" id="').concat(cn,'_jGraduate_OpacInput" size="3" value="100"/>%</label>\n        </div>\n      </div>\n      <div class="jGraduate_OkCancel">\n        <input type="button" id="').concat(cn,'_jGraduate_Ok" class="jGraduate_Ok" value="').concat(an.t("common.ok"),'"/>\n        <input type="button" id="').concat(cn,'_jGraduate_Cancel" class="jGraduate_Cancel" value="').concat(an.t("common.cancel"),'"/>\n      </div>'),bn=document.createElement("div");for(bn.innerHTML=yn;bn.children.length>0;)vn.appendChild(bn.children[0]);var wn,Cn=256,xn={},Bn=145,_n=_createForOfIteratorHelper(sn.querySelectorAll(".jGraduate_SliderBar"));try{for(_n.s();!(wn=_n.n()).done;){wn.value.style.width="145px"}}catch(en){_n.e(en)}finally{_n.f()}var Sn,kn=sn.querySelector("#"+cn+"_jGraduate_GradContainer"),En=mkElem("svg",{id:cn+"_jgraduate_svg",width:Cn,height:Cn,xmlns:PT},kn),Pn=sn.paint.type,Fn=sn.paint[Pn],Ln=Fn,In=sn.paint.alpha,Un="solidColor"===Pn;switch(Pn){case"solidColor":case"linearGradient":if(Un||(Ln.id=cn+"_lg_jgraduate_grad",Fn=Ln=En.appendChild(Ln)),mkElem("radialGradient",{id:cn+"_rg_jgraduate_grad"},En),"linearGradient"===Pn)break;case"radialGradient":Un||(Ln.id=cn+"_rg_jgraduate_grad",Fn=Ln=En.appendChild(Ln)),mkElem("linearGradient",{id:cn+"_lg_jgraduate_grad"},En)}if(Un){Fn=Ln=sn.querySelector("#"+cn+"_lg_jgraduate_grad"),mkStop(0,"#"+(pn=sn.paint[Pn]),1);var Tn=_typeof$3(An.newstop);if("string"===Tn)switch(An.newstop){case"same":mkStop(1,"#"+pn,1);break;case"inverse":for(var Qn="",Nn=0;Nn<6;Nn+=2){var On=(255-Number.parseInt(pn.substr(Nn,2),16)).toString(16);On.length<2&&(On=0+On),Qn+=On}mkStop(1,"#"+Qn,1);break;case"white":mkStop(1,"#ffffff",1);break;case"black":mkStop(1,"#000000",1)}else if("object"===Tn){var Mn="opac"in An.newstop?An.newstop.opac:1;mkStop(1,An.newstop.color||"#"+pn,Mn)}}var Rn=Number.parseFloat(Fn.getAttribute("x1")||0),Hn=Number.parseFloat(Fn.getAttribute("y1")||0),Dn=Number.parseFloat(Fn.getAttribute("x2")||1),$n=Number.parseFloat(Fn.getAttribute("y2")||0),Gn=Number.parseFloat(Fn.getAttribute("cx")||.5),jn=Number.parseFloat(Fn.getAttribute("cy")||.5),Vn=Number.parseFloat(Fn.getAttribute("fx")||Gn),Kn=Number.parseFloat(Fn.getAttribute("fy")||jn),qn=mkElem("rect",{id:cn+"_jgraduate_rect",x:0,y:0,width:256,height:256,fill:"url(#"+cn+"_jgraduate_grad)","fill-opacity":In/100},En),zn=document.createElement("div");zn.setAttribute("class","grad_coord jGraduate_lg_field"),zn.setAttribute("title","Begin Stop"),zn.textContent=1,zn.style.top=Hn*Cn,zn.style.left=Rn*Cn,zn.dataset.coord="start",kn.appendChild(zn);var Wn=document.createElement("div");Wn.setAttribute("class","grad_coord jGraduate_lg_field"),Wn.setAttribute("title","End stop"),Wn.textContent=2,Wn.style.top=$n*Cn,Wn.style.left=Dn*Cn,Wn.dataset.coord="end",kn.appendChild(Wn);var Xn=document.createElement("div");Xn.setAttribute("class","grad_coord jGraduate_rg_field"),Xn.setAttribute("title","Center stop"),Xn.textContent="C",Xn.style.top=jn*Cn,Xn.style.left=Gn*Cn,Xn.dataset.coord="center",kn.appendChild(Xn);var Yn,Jn=document.createElement("div");Jn.setAttribute("class","grad_coord jGraduate_rg_field"),Jn.setAttribute("title","Focus point"),Jn.textContent="F",Jn.style.top=Kn*Cn,Jn.style.left=Vn*Cn,Jn.style.display="none",Jn.dataset.coord="focus",Jn.setAttribute("id",cn+"_jGraduate_focusCoord"),kn.appendChild(Jn);var Zn,Ur=_createForOfIteratorHelper(["x1","y1","x2","y2","cx","cy","fx","fy"].entries());try{var Tr=function _loop2(){var en=_slicedToArray(Zn.value,2)[1],tn=isNaN(en[1]),nn=Ln.getAttribute(en);nn||(nn=tn?"0.5":"x2"===en?"1.0":"0.0"),xn[en]=sn.querySelector("#"+cn+"_jGraduate_"+en),xn[en].value=nn,xn[en].addEventListener("change",(function(nn){return function onAttrChangeHandler(en,tn,nn){isNaN(Number.parseFloat(en.target.value))||en.target.value<0?en.target.value=0:en.target.value>1&&(en.target.value=1),("f"!==tn[0]||Yn)&&(nn&&"radialGradient"===Pn||!nn&&"linearGradient"===Pn)&&Ln.setAttribute(tn,en.target.value);var rn=nn?"c"===tn[0]?Xn:Jn:"1"===tn[1]?zn:Wn;"left"===tn.includes("x")?rn.style.left=en.target.value*Cn:"top"===tn.includes("x")&&(rn.style.top=en.target.value*Cn)}(nn,en,tn)})),xn[en].dispatchEvent(new Event("change"))};for(Ur.s();!(Zn=Ur.n()).done;)Tr()}catch(en){Ur.e(en)}finally{Ur.f()}var Qr,Rr,Hr,Dr,$r=sn.querySelector("#"+cn+"_jGraduate_StopSlider"),Gr=mkElem("path",{d:"m9.75,-6l-19.5,19.5m0,-19.5l19.5,19.5",fill:"none",stroke:"#D00","stroke-width":5,display:"none"},void 0),Vr=1,Kr=1,zr=0,Wr=Gn,Xr=jn,Yr=mkElem("svg",{width:"100%",height:45},$r),Jr=mkElem("pattern",{width:16,height:16,patternUnits:"userSpaceOnUse",id:"jGraduate_trans"},Yr),Zr=mkElem("image",{width:16,height:16},Jr),ei=An.images.clientPath+"map-opacity.png";Zr.setAttributeNS(FT,"xlink:href",ei),svgEditor.$click(Yr,(function(en){if(Dr=findPos($r),"path"!==en.target.tagName){var tn=en.pageX-Dr.left-8;mkStop((tn=tn<10?10:tn>266?266:tn)/Cn,0,0,!0),en.stopPropagation()}})),Yr.addEventListener("mouseover",(function(){Yr.append(Gr)})),Sn=mkElem("g",{},Yr),mkElem("line",{x1:10,y1:15,x2:266,y2:15,"stroke-width":2,stroke:"#000"},Yr);var ti=vn.querySelector("#jGraduate_spreadMethod");ti.addEventListener("change",(function(){Ln.setAttribute("spreadMethod",this.value)}));var ni,ri=null,ii=function onCoordDrag(en){var tn=en.pageX-ni.left,nn=en.pageY-ni.top;tn=tn<0?0:tn>Cn?Cn:tn,nn=nn<0?0:nn>Cn?Cn:nn,ri.style.left=tn+"px",ri.style.top=nn+"px";var rn=tn/256,an=nn/256,sn=ri.dataset.coord,An=Ln;switch(sn){case"start":xn.x1.value=rn,xn.y1.value=an,An.setAttribute("x1",rn),An.setAttribute("y1",an);break;case"end":xn.x2.value=rn,xn.y2.value=an,An.setAttribute("x2",rn),An.setAttribute("y2",an);break;case"center":xn.cx.value=rn,xn.cy.value=an,An.setAttribute("cx",rn),An.setAttribute("cy",an),Wr=rn,Xr=an,xform();break;case"focus":xn.fx.value=rn,xn.fy.value=an,An.setAttribute("fx",rn),An.setAttribute("fy",an),xform()}en.preventDefault()},ai=function onCoordUp(){ri=null,gn.removeEventListener("mousemove",ii),gn.removeEventListener("mouseup",onCoordUp)},oi=(Qr=Ln.getElementsByTagNameNS(PT,"stop")).length;if(oi<2){for(;oi<2;)Ln.append(document.createElementNS(PT,"stop")),++oi;Qr=Ln.getElementsByTagNameNS(PT,"stop")}for(var si=0;si<oi;si++)mkStop(0,0,0,0,Qr[si]);ti.setAttribute("value",Ln.getAttribute("spreadMethod")||"pad"),Yn=!1,qn.setAttribute("fill-opacity",In/100);var Ai,li,ci,ui=function onMouseDownGradCoords(en){en.preventDefault(),ri=en.target,ni=findPos(ri.parentNode),gn.addEventListener("mousemove",ii),gn.addEventListener("mouseup",ai)},hi=_createForOfIteratorHelper(sn.querySelectorAll("#"+cn+" div.grad_coord"));try{for(hi.s();!(Ai=hi.n()).done;){Ai.value.addEventListener("mousedown",ui)}}catch(en){hi.e(en)}finally{hi.f()}svgEditor.$click(sn.querySelector("#"+cn+"_jGraduate_Ok"),(function(){sn.paint.type=Pn,sn.paint[Pn]=Ln.cloneNode(!0),sn.paint.solidColor=null,hn()})),svgEditor.$click(sn.querySelector("#"+cn+"_jGraduate_Cancel"),dn),"radialGradient"===Pn&&(Yn?Jn.style.display="block":(Jn.style.display="none",xn.fx.value="",xn.fy.value="")),sn.querySelector("#"+cn+"_jGraduate_match_ctr").checked=!Yn;var di;if(sn.querySelector("#"+cn+"_jGraduate_match_ctr").addEventListener("change",(function onMatchCtrHandler(en){Yn=!en.target.checked,Jn.style.display=Yn?"block":"none",xn.fx.value="",xn.fy.value="";var tn=Ln;if(Yn){var nn=li||.5,rn=ci||.5;tn.setAttribute("fx",nn),tn.setAttribute("fy",rn),xn.fx.value=nn,xn.fy.value=rn}else li=tn.getAttribute("fx"),ci=tn.getAttribute("fy"),tn.removeAttribute("fx"),tn.removeAttribute("fy")})),(oi=(Qr=Ln.getElementsByTagNameNS(PT,"stop")).length)<2){for(;oi<2;)Ln.append(document.createElementNS(PT,"stop")),++oi;Qr=Ln.getElementsByTagNameNS(PT,"stop")}var pi=0,gi=0;if("radialGradient"===Pn){var fi=Ln.gradientTransform.baseVal;if(2===fi.numberOfItems){var mi=fi.getItem(0),yi=fi.getItem(1);if(2===mi.type&&3===yi.type){var bi=yi.matrix;1!==bi.a?pi=Math.round(100*-(1-bi.a)):1!==bi.d&&(pi=Math.round(100*(1-bi.d)))}}else if(3===fi.numberOfItems){var wi=fi.getItem(0),xi=fi.getItem(1),Bi=fi.getItem(2);if(4===wi.type&&2===xi.type&&3===Bi.type){gi=Math.round(wi.angle);var _i=Bi.matrix;1!==_i.a?pi=Math.round(100*-(1-_i.a)):1!==_i.d&&(pi=Math.round(100*(1-_i.d)))}}}for(var Si={radius:{handle:"#"+cn+"_jGraduate_RadiusArrows",input:"#"+cn+"_jGraduate_RadiusInput",val:100*(Ln.getAttribute("r")||.5)},opacity:{handle:"#"+cn+"_jGraduate_OpacArrows",input:"#"+cn+"_jGraduate_OpacInput",val:sn.paint.alpha||100},ellip:{handle:"#"+cn+"_jGraduate_EllipArrows",input:"#"+cn+"_jGraduate_EllipInput",val:pi},angle:{handle:"#"+cn+"_jGraduate_AngleArrows",input:"#"+cn+"_jGraduate_AngleInput",val:gi}},ki=function _loop(){var en=_slicedToArray(Pi[Ei],2),tn=_slicedToArray(en[1],2),nn=tn[0],rn=tn[1],an=sn.querySelector(rn.handle),An=sn.querySelector(rn.input);an.addEventListener("mousedown",(function(en){var tn=an.parentNode;di={type:nn,elem:an,input:An,parent:tn,offset:findPos(tn)},gn.addEventListener("mousemove",Fi),gn.addEventListener("mouseup",Li),en.preventDefault()})),An.value=rn.val,An.addEventListener("change",(function(){var en="radialGradient"===Pn,tn=Number(this.value),rn=0;switch(nn){case"radius":en&&Ln.setAttribute("r",tn/100),rn=Math.pow(tn/100,.4)/2*Bn;break;case"opacity":sn.paint.alpha=tn,qn.setAttribute("fill-opacity",tn/100),rn=1.45*tn;break;case"ellip":if(Vr=Kr=1,0===tn){rn=72.5;break}tn>99.5&&(tn=99.5),tn>0?Kr=1-tn/100:Vr=-tn/100-1,rn=Bn*((tn+100)/2)/100,en&&xform();break;case"angle":rn=(zr=tn)/180,rn+=.5,rn*=Bn,en&&xform()}rn>Bn?rn=Bn:rn<0&&(rn=0),an.style.marginLeft=rn-5+"px"})),An.dispatchEvent(new Event("change"))},Ei=0,Pi=Object.entries(Object.entries(Si));Ei<Pi.length;Ei++)ki();for(var Fi=function dragSlider(en){!function setSlider(en){var tn=di.offset.left,nn=di.parent,rn=en.pageX-tn-Number.parseInt(getComputedStyle(nn,null).getPropertyValue("border-left-width"));rn>Bn&&(rn=Bn),rn<=0&&(rn=0);var an=rn-5;switch(rn/=Bn,di.type){case"radius":(rn=Math.pow(2*rn,2.5))>.98&&rn<1.02&&(rn=1),rn<=.01&&(rn=.01),Ln.setAttribute("r",rn);break;case"opacity":sn.paint.alpha=Number.parseInt(100*rn),qn.setAttribute("fill-opacity",rn);break;case"ellip":Vr=1,Kr=1,rn<.5?Vr=(rn/=.5)<=0?.01:rn:rn>.5&&(Kr=(rn=2-(rn/=.5))<=0?.01:rn),xform(),Kr===1+(rn-=1)&&(rn=Math.abs(rn));break;case"angle":rn-=.5,zr=rn*=180,xform(),rn/=100}di.elem.style.marginLeft=an+"px",rn=Math.round(100*rn),di.input.value=rn}(en),en.preventDefault()},Li=function stopSlider(){gn.removeEventListener("mousemove",Fi),gn.removeEventListener("mouseup",stopSlider),di=null},Ii=(255*sn.paint.alpha/100).toString(16);Ii.length<2;)Ii="0"+Ii;Ii=Ii.split(".")[0],pn="none"===sn.paint.solidColor?"":sn.paint.solidColor+Ii,Un||(pn=Qr[0].getAttribute("stop-color")),Object.assign(ET.window,{alphaSupport:!0,effects:{type:"show",speed:0}}),jPickerMethod(mn,{window:{title:An.window.pickerTitle},images:{clientPath:An.images.clientPath},color:{active:pn,alphaSupport:!0}},(function(en){sn.paint.type="solidColor",sn.paint.alpha=en.val("ahex")?Math.round(en.val("a")/255*100):100,sn.paint.solidColor=en.val("hex")?en.val("hex"):"none",sn.paint.radialGradient=null,hn()}),null,(function(){dn()}),an);var Ui,Ti=sn.querySelectorAll(".jGraduate_tabs li"),Qi=function onTabsClickHandler(en){var tn,nn=_createForOfIteratorHelper(Ti);try{for(nn.s();!(tn=nn.n()).done;){tn.value.classList.remove("jGraduate_tab_current")}}catch(en){nn.e(en)}finally{nn.f()}en.target.classList.add("jGraduate_tab_current");var rn=sn.querySelectorAll(un+" > div");[].forEach.call(rn,(function(en){en.style.display="none"}));var an=en.target.dataset.type;if(vn.style.display="block","rg"===an||"lg"===an){var An=sn.querySelectorAll(".jGraduate_"+an+"_field");[].forEach.call(An,(function(en){en.style.display="block"}));var hn=sn.querySelectorAll(".jGraduate_"+("lg"===an?"rg":"lg")+"_field");[].forEach.call(hn,(function(en){en.style.display="none"})),sn.querySelectorAll("#"+cn+"_jgraduate_rect")[0].setAttribute("fill","url(#"+cn+"_"+an+"_jgraduate_grad)"),Pn="lg"===an?"linearGradient":"radialGradient";var dn=sn.querySelector("#"+cn+"_jGraduate_OpacInput");dn.value=sn.paint.alpha,dn.dispatchEvent(new Event("change"));var pn=sn.querySelectorAll("#"+cn+"_"+an+"_jgraduate_grad")[0];if(Ln!==pn){for(var gn=Ln.querySelectorAll("stop");pn.firstChild;)pn.removeChild(pn.firstChild);[].forEach.call(gn,(function(en){pn.appendChild(en)})),Ln=pn;var yn=ti.getAttribute("value");Ln.setAttribute("spreadMethod",yn)}Yn="rg"===an&&null!==Ln.getAttribute("fx")&&!(Gn===Vn&&jn===Kn);var bn=sn.querySelectorAll("#"+cn+"_jGraduate_focusCoord");"none"===bn[0].style.display?bn[0].style.display="block":bn[0].style.display="none",Yn&&(sn.querySelectorAll("#"+cn+"_jGraduate_match_ctr")[0].checked=!1)}else vn.style.display="none",mn.style.display="block"},Ni=_createForOfIteratorHelper(Ti);try{for(Ni.s();!(Ui=Ni.n()).done;){var Oi=Ui.value;svgEditor.$click(Oi,Qi)}}catch(en){Ni.e(en)}finally{Ni.f()}var Mi=sn.querySelectorAll(un+" > div");[].forEach.call(Mi,(function(en){en.style.display="none"}));var Ri,Hi,Di=_createForOfIteratorHelper(Ti);try{for(Di.s();!(Ri=Di.n()).done;){Ri.value.classList.remove("jGraduate_tab_current")}}catch(en){Di.e(en)}finally{Di.f()}switch(sn.paint.type){case"linearGradient":Hi=sn.querySelector(un+" .jGraduate_tab_lingrad");break;case"radialGradient":Hi=sn.querySelector(un+" .jGraduate_tab_radgrad");break;default:Hi=sn.querySelector(un+" .jGraduate_tab_color")}sn.style.display="block",setTimeout((function(){Hi.classList.add("jGraduate_tab_current"),Hi.dispatchEvent(new Event("click"))}),10)}else alert("Container element must have an id attribute to maintain unique id strings for sub-elements.");function mkStop(en,tn,nn,rn,un){var hn=un||mkElem("stop",{id:"jq_stop_"+Math.floor(1e4*Math.random()+1),"stop-color":tn,"stop-opacity":nn,offset:en},Ln);un?(tn=un.getAttribute("stop-color"),nn=un.getAttribute("stop-opacity"),en=un.getAttribute("offset")):Ln.appendChild(hn),null===nn&&(nn=1);var dn="M-6.2,0.9c3.6-4,6.7-4.3,6.7-12.4c-0.2,7.9,3.1,8.8,6.5,12.4c3.5,3.8,2.9,9.6,0,12.3c-3.1,2.8-10.4,2.7-13.2,0C-9.6,9.9-9.4,4.4-6.2,0.9z",pn=mkElem("path",{id:"jq_pathbg_"+Math.floor(1e4*Math.random()+1),d:dn,fill:"url(#jGraduate_trans)",transform:"translate("+(10+en*Cn)+", 26)"},Sn),mn=mkElem("path",{d:dn,fill:tn,"fill-opacity":nn,transform:"translate("+(10+en*Cn)+", 26)",stroke:"#000","stroke-width":1.5},Sn);mn.addEventListener("mousedown",(function(en){return selectStop(this),Hr=Rr,gn.addEventListener("mousemove",dragColor),gn.addEventListener("mouseup",remDrags),Dr=findPos($r),en.preventDefault(),!1})),mn.dataset.stop=hn.getAttribute("id"),mn.dataset.bg=pn.getAttribute("id"),mn.addEventListener("dblclick",(function(){sn.querySelector("#jGraduate_LightBox").style.display="block";for(var en=this,nn=Number(hn.getAttribute("stop-opacity"))||1,rn=hn.getAttribute("stop-color")||1,un=(255*Number.parseFloat(nn)).toString(16);un.length<2;)un="0"+un;tn=rn.substr(1)+un;var dn=sn.querySelector("#"+cn+"_jGraduate_stopPicker");dn.style.left="100px",dn.style.bottom="15px",jPickerMethod(dn,{window:{title:"Pick the start color and opacity for the gradient"},images:{clientPath:An.images.clientPath},color:{active:tn,alphaSupport:!0}},(function(tn){rn=tn.val("hex")?"#"+tn.val("hex"):"none",nn=null!==tn.val("a")?tn.val("a")/256:1,en.setAttribute("fill",rn),en.setAttribute("fill-opacity",nn),hn.setAttribute("stop-color",rn),hn.setAttribute("stop-opacity",nn),sn.querySelector("#jGraduate_LightBox").style.display="none",sn.querySelector("#"+cn+"_jGraduate_stopPicker").style.display="none"}),null,(function(){sn.querySelector("#jGraduate_LightBox").style.display="none",sn.querySelector("#"+cn+"_jGraduate_stopPicker").style.display="none"}),an)}));var vn,yn=_createForOfIteratorHelper(Ln.querySelectorAll("stop"));try{for(yn.s();!(vn=yn.n()).done;){var bn=vn.value,wn=bn;if(Number(bn.getAttribute("offset"))>en){if(!tn){var xn=bn.getAttribute("stop-color"),Bn=bn.getAttribute("stop-opacity");hn.setAttribute("stop-color",xn),mn.setAttribute("fill",xn),hn.setAttribute("stop-opacity",null===Bn?1:Bn),mn.setAttribute("fill-opacity",null===Bn?1:Bn)}wn.insertAdjacentElement("beforebegin",hn)}}}catch(en){yn.e(en)}finally{yn.f()}return rn&&selectStop(mn),hn}function selectStop(en){Rr&&Rr.setAttribute("stroke","#000"),en.setAttribute("stroke","blue"),Rr=en}function remDrags(){gn.removeEventListener("mousemove",dragColor),"none"!==Gr.getAttribute("display")&&function remStop(){Gr.setAttribute("display","none");var en=Rr;delete en.dataset.stop,delete en.dataset.bg,Rr.parentNode.removeChild(Rr)}(),Hr=null}function xform(){var en=zr?"rotate("+zr+","+Wr+","+Xr+") ":"";if(1===Vr&&1===Kr)Ln.removeAttribute("gradientTransform");else{var tn=-Wr*(Vr-1),nn=-Xr*(Kr-1);Ln.setAttribute("gradientTransform",en+"translate("+tn+","+nn+") scale("+Vr+","+Kr+")")}}function dragColor(en){var tn=en.pageX-Dr.left,nn=en.pageY-Dr.top,rn="translate("+(tn=tn<10?10:tn>266?266:tn)+", 26)";nn<-60||nn>130?(Gr.setAttribute("display","block"),Gr.setAttribute("transform",rn)):Gr.setAttribute("display","none"),Hr.setAttribute("transform",rn),sn.querySelector("#"+Hr.dataset.bg).setAttribute("transform",rn);var an=sn.querySelector("#"+Hr.dataset.stop),An=(tn-10)/Cn;an.setAttribute("offset",An);var cn=0,un=Ln.querySelectorAll("stop");[].forEach.call(un,(function(en){var tn=en.getAttribute("offset"),nn=en;tn<cn&&(nn.previousElementSibling.insertAdjacentElement("beforebegin",nn),Qr=Ln.querySelectorAll("stop")),cn=tn}))}}var TT=function(){function PaintBox(en,tn){_classCallCheck$1(this,PaintBox);var nn=(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14">\n          <rect\n            fill="#000000" opacity="1" width="14" height="14"/>\n          <defs><linearGradient id="gradbox_'.concat(PaintBox.ctr++,'"/></defs>\n        </svg>'),"text/xml").documentElement;nn=document.importNode(nn,!0),en.appendChild(nn),this.rect=nn.firstElementChild,this.defs=nn.getElementsByTagName("defs")[0],this.grad=this.defs.firstElementChild,this.type=tn}return _createClass$1(PaintBox,[{key:"setPaint",value:function setPaint(en){this.paint=en;var tn=en.type,nn=en.alpha/100,rn="none";switch(tn){case"solidColor":rn="none"!==en[tn]?"#"+en[tn]:en[tn];break;case"linearGradient":case"radialGradient":this.grad.remove(),this.grad=en[tn],this.defs.appendChild(this.grad),rn="url(#"+(this.grad.id="gradbox_"+this.type)+")"}this.rect.setAttribute("fill",rn),this.rect.setAttribute("opacity",nn)}},{key:"update",value:function update(en,tn){if(!tn)return null;var nn=this.type;switch(tn.tagName){case"use":case"image":case"foreignObject":return null;case"g":case"a":for(var rn=tn.getElementsByTagName("*"),an=null,sn=0,An=rn.length;sn<An;sn++){var cn=rn[sn].getAttribute(nn);if(0===sn)an=cn;else if(an!==cn){an=null;break}}if(null===an)return this._paintColor=null,null;this._paintColor=an,this._paintOpacity=1;break;default:this._paintOpacity=Number.parseFloat(tn.getAttribute(nn+"-opacity")),Number.isNaN(this._paintOpacity)&&(this._paintOpacity=1);var un="fill"===nn?"black":"none";this._paintColor=tn.getAttribute(nn)||un}this._paintOpacity*=100;var hn=PaintBox.getPaint(en,this._paintColor,this._paintOpacity,nn);return this.setPaint(hn),hn}}],[{key:"getPaint",value:function getPaint(en,tn,nn,rn){var an={alpha:nn};if(tn.startsWith("url(#")){var sn=en.getRefElem(tn);(sn=sn?sn.cloneNode(!0):document.querySelectorAll("#"+rn+"_color defs *")[0])?an[sn.tagName]=sn:(console.error("the color ".concat(tn," is referenced by an url that can't be identified - using 'none'")),an.solidColor="none")}else tn.startsWith("#")&&(an.solidColor=tn.substr(1));return new LT.Paint(an)}}]),PaintBox}();TT.ctr=0;var QT=document.createElement("template");QT.innerHTML='\n  <style>\n  .jPicker .Icon {\n    display: inline-block;\n    height: 24px;\n    position: relative;\n    text-align: left;\n    width: 25px\n}\n\n.jPicker .Icon span.Color, .jPicker .Icon span.Alpha {\n    background-position: 2px 2px;\n    display: block;\n    height: 100%;\n    left: 0;\n    position: absolute;\n    top: 0;\n    width: 100%\n}\n\n.jPicker .Icon span.Image {\n    background-repeat: no-repeat;\n    cursor: pointer;\n    display: block;\n    height: 100%;\n    left: 0;\n    position: absolute;\n    top: 0;\n    width: 100%\n}\n\n.jPicker.Container {\n    z-index: 10\n}\n\ntable.jPicker {\n    background-color: #efefef;\n    border: 1px outset #666;\n    font-family: Arial, Helvetica, Sans-Serif;\n    font-size: 12px!important;\n    margin: 0;\n    padding: 5px;\n    width: 545px;\n    z-index: 20\n}\n\n.jPicker .Move {\n    background-color: #ddd;\n    border-color: #fff #666 #666 #fff;\n    border-style: solid;\n    border-width: 1px;\n    cursor: move;\n    height: 12px;\n    padding: 0\n}\n\n.jPicker .Title {\n    font-size: 11px!important;\n    font-weight: bold;\n    margin: -2px 0 0 0;\n    padding: 0;\n    text-align: center;\n    width: 100%\n}\n\n.jPicker div.Map {\n    border-bottom: 2px solid #fff;\n    border-left: 2px solid #9a9a9a;\n    border-right: 2px solid #fff;\n    border-top: 2px solid #9a9a9a;\n    cursor: crosshair;\n    height: 260px;\n    margin: 0 5px 0 5px;\n    overflow: hidden;\n    padding: 0;\n    position: relative;\n    width: 260px\n}\n\n.jPicker div[class="Map"] {\n    height: 256px;\n    width: 256px\n}\n\n.jPicker div.Bar {\n    border-bottom: 2px solid #fff;\n    border-left: 2px solid #9a9a9a;\n    border-right: 2px solid #fff;\n    border-top: 2px solid #9a9a9a;\n    cursor: n-resize;\n    height: 260px;\n    margin: 12px 10px 0 5px;\n    overflow: hidden;\n    padding: 0;\n    position: relative;\n    width: 24px\n}\n\n.jPicker div[class="Bar"] {\n    height: 256px;\n    width: 20px\n}\n\n.jPicker .Map .Map1, .jPicker .Map .Map2, .jPicker .Map .Map3, .jPicker .Bar .Map1, .jPicker .Bar .Map2, .jPicker .Bar .Map3, .jPicker .Bar .Map4, .jPicker .Bar .Map5, .jPicker .Bar .Map6 {\n    background-color: transparent;\n    background-image: none;\n    display: block;\n    left: 0;\n    position: absolute;\n    top: 0\n}\n\n.jPicker .Map .Map1, .jPicker .Map .Map2, .jPicker .Map .Map3 {\n    height: 2596px;\n    width: 256px\n}\n\n.jPicker .Bar .Map1, .jPicker .Bar .Map2, .jPicker .Bar .Map3, .jPicker .Bar .Map4 {\n    height: 3896px;\n    width: 20px\n}\n\n.jPicker .Bar .Map5, .jPicker .Bar .Map6 {\n    height: 256px;\n    width: 20px\n}\n\n.jPicker .Map .Map1, .jPicker .Map .Map2, .jPicker .Bar .Map6 {\n    background-repeat: no-repeat\n}\n\n.jPicker .Map .Map3, .jPicker .Bar .Map5 {\n    background-repeat: repeat\n}\n\n.jPicker .Bar .Map1, .jPicker .Bar .Map2, .jPicker .Bar .Map3, .jPicker .Bar .Map4 {\n    background-repeat: repeat-x\n}\n\n.jPicker .Map .Arrow {\n    display: block;\n    position: absolute\n}\n\n.jPicker .Bar .Arrow {\n    display: block;\n    left: 0;\n    position: absolute\n}\n\n.jPicker .Preview {\n    font-size: 9px;\n    text-align: center\n}\n\n.jPicker .Preview div {\n    border: 2px inset #eee;\n    height: 62px;\n    margin: 0 auto;\n    padding: 0;\n    width: 62px\n}\n\n.jPicker .Preview div span {\n    border: 1px solid #000;\n    display: block;\n    height: 30px;\n    margin: 0 auto;\n    padding: 0;\n    width: 60px\n}\n\n.jPicker .Preview .Active {\n    border-bottom-width: 0\n}\n\n.jPicker .Preview .Current {\n    border-top-width: 0;\n    cursor: pointer\n}\n\n.jPicker .Button {\n    text-align: center;\n    width: 115px\n}\n\n.jPicker .Button input {\n    width: 100px\n}\n\n.jPicker .Button .Ok {\n    margin: 12px 0 5px 0\n}\n\n.jPicker td.Radio {\n    margin: 0;\n    padding: 0;\n    width: 31px\n}\n\n.jPicker td.Radio input {\n    margin: 0 5px 0 0;\n    padding: 0\n}\n\n.jPicker td.Text {\n    font-size: 12px!important;\n    height: 22px;\n    margin: 0;\n    padding: 0;\n    text-align: left;\n    width: 70px\n}\n\n.jPicker tr.Hex td.Text {\n    width: 100px\n}\n\n.jPicker td.Text input {\n    background-color: #fff;\n    border: 1px inset #aaa;\n    height: 19px;\n    margin: 0 0 0 5px;\n    text-align: left;\n    width: 30px\n}\n\n.jPicker td[class="Text"] input {\n    height: 15px\n}\n\n.jPicker tr.Hex td.Text input.Hex {\n    width: 50px\n}\n\n.jPicker tr.Hex td.Text input.AHex {\n    width: 20px\n}\n\n.jPicker .Grid {\n    text-align: center;\n    width: 114px\n}\n\n.jPicker .Grid span.QuickColor {\n    border: 1px inset #aaa;\n    cursor: pointer;\n    display: inline-block;\n    height: 15px;\n    line-height: 15px;\n    margin: 0;\n    padding: 0;\n    width: 19px\n}\n\n.jPicker .Grid span[class="QuickColor"] {\n    width: 17px\n}\n  /*\n * jGraduate Default CSS\n *\n * Copyright (c) 2010 Jeff Schiller\n * http://blog.codedread.com/\n *\n * Copyright (c) 2010 Alexis Deveria\n * http://a.deveria.com/\n *\n * Licensed under the MIT License\n */\n\nh2.jGraduate_Title {\n  font-family: Arial, Helvetica, Sans-Serif;\n  font-size: 11px !important;\n  font-weight: bold;\n  margin: -13px 0px 0px 0px;\n  padding: 0px;\n  text-align: center;\n}\n\n.jGraduate_Picker {\n  font-family: Arial, Helvetica, Sans-Serif;\n  font-size: 12px;\n  border-style: solid;\n  border-color: lightgrey black black lightgrey;\n  border-width: 1px;\n  background-color: #EFEFEF;\n  position: absolute;\n  padding: 10px;\n}\n\n.jGraduate_tabs li {\n  background-color: #ccc;\n  display: inline;\n  border: solid 1px grey;\n  padding: 3px;\n  margin: 2px;\n  cursor: pointer;\n}\n\nli.jGraduate_tab_current {\n  background-color: #EFEFEF;\n  display: inline;\n  padding: 3px;\n  margin: 2px;\n  border: solid 1px black;\n  cursor: pointer;\n}\n\n.jGraduate_colPick {\n  display: none;\n}\n\n.jGraduate_gradPick {\n  display: none;\n  border: outset 1px #666;\n  padding: 10px 7px 5px 5px;\n  overflow: auto;\n}\n\n.jGraduate_gradPick {\n  display: none;\n  border: outset 1px #666;\n  padding: 10px 7px 5px 5px;\n  overflow: auto;\n/*  position: relative;*/\n}\n\n.jGraduate_tabs {\n  position: relative;\n  background-color: #EFEFEF;\n  padding: 0px;\n  margin: 0px;\n  margin-bottom: 5px;\n}\n\ndiv.jGraduate_Swatch {\n  float: left;\n  margin: 8px;\n}\ndiv.jGraduate_GradContainer {\n  border: 2px inset #EEE;\n  background-image: url(./components/jgraduate/images/map-opacity.png);\n  background-position: 0px 0px;\n  height: 256px;\n  width: 256px;\n  position: relative;\n}\n\ndiv.jGraduate_GradContainer div.grad_coord {\n  background: #000;\n  border: 1px solid #fff;\n  border-radius: 5px;\n  -moz-border-radius: 5px;\n  width: 10px;\n  height: 10px;\n  position: absolute;\n  margin: -5px -5px;\n  top: 0;\n  left: 0;\n  text-align: center;\n  font-size: xx-small;\n  line-height: 10px;\n  color: #fff;\n  text-decoration: none;\n  cursor: pointer;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n}\n\n.jGraduate_AlphaArrows {\n  position: absolute;\n  margin-top: -10px;\n  margin-left: 250.5px;\n}\n\ndiv.jGraduate_Opacity {\n  border: 2px inset #eee;\n  margin-top: 14px;\n  background-color: black;\n  background-image: url(../images/Maps.png);\n  background-position: 0px -2816px;\n  height: 20px;\n  cursor: ew-resize;\n}\n\ndiv.jGraduate_StopSlider {\n/*  border: 2px inset #eee;*/\n  margin: 0 0 0 -10px;\n  width: 276px;\n  overflow: visible;\n  background: #efefef;\n  height: 45px;\n  cursor: pointer;\n}\n\ndiv.jGraduate_StopSection {\n  width: 120px;\n  text-align: center;\n}\n\ninput.jGraduate_Ok, input.jGraduate_Cancel {\n  display: block;\n  width: 100px;\n  margin-left: -4px;\n  margin-right: -4px;\n}\ninput.jGraduate_Ok {\n  margin: 9px -4px 5px -4px;\n}\n\n.colorBox {\n  float: left;\n  height: 16px;\n  width: 16px;\n  border: 1px solid var(--border-color);\n  cursor: pointer;\n  margin: 4px 4px 4px 30px;\n}\n\n.colorBox + label {\n  float: left;\n  margin-top: 7px;\n}\n\nlabel.jGraduate_Form_Heading {\n  position: relative;\n  top: 10px;\n  background-color: #EFEFEF;\n  padding: 2px;\n  font-weight: bold;\n  font-size: 13px;\n}\n\ndiv.jGraduate_Form_Section {\n  border-style: solid;\n  border-width: 1px;\n  border-color: grey;\n  -moz-border-radius: 5px;\n  -webkit-border-radius: 5px;\n  padding: 15px 5px 5px 5px;\n  margin: 5px 2px;\n  width: 110px;\n  text-align: center;\n  overflow: auto;\n}\n\ndiv.jGraduate_Form_Section label {\n  padding: 0 2px;\n}\n\ndiv.jGraduate_StopSection input[type=text],\ndiv.jGraduate_Slider input[type=text] {\n  width: 33px;\n}\n\ndiv.jGraduate_LightBox {\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  background-color: #000;\n  opacity: 0.5;\n  display: none;\n}\n\ndiv.jGraduate_stopPicker {\n  position: absolute;\n  display: none;\n  background: #E8E8E8;\n}\n\n\n.jGraduate_gradPick {\n  width: 535px;\n}\n\n.jGraduate_gradPick div.jGraduate_OpacField {\n\n  position: absolute;\n  left: 0;\n  bottom: 5px;\n/*\n  width: 270px;\n\n  left: 284px;\n  width: 266px;\n  height: 200px;\n  top: 167px;\n  margin: -3px 3px 0px 4px;\n*/\n}\n\n.jGraduate_gradPick .jGraduate_Form {\n  float: left;\n  width: 270px;\n  position: absolute;\n  left: 284px;\n  width: 266px;\n  height: 200px;\n  top: 167px;\n  margin: -3px 3px 0px 10px;\n}\n\n.jGraduate_gradPick .jGraduate_Points {\n  position: static;\n  width: 150px;\n  margin-left: 0;\n}\n\n.jGraduate_SpreadMethod {\n  position: absolute;\n  right: 8px;\n  top: 100px;\n}\n\n.jGraduate_Colorblocks {\n  display: table;\n  border-spacing: 0 5px;\n}\n\n.jGraduate_colorblock {\n  display: table-row;\n}\n\n.jGraduate_Colorblocks .jGraduate_colorblock > * {\n  display: table-cell;\n  vertical-align: middle;\n  margin: 0;\n  float: none;\n}\n\n.jGraduate_gradPick div.jGraduate_StopSection {\n  float: left;\n  width: 133px;\n  margin-top: -8px;\n}\n\n\n.jGraduate_gradPick .jGraduate_Form_Section {\n  padding-top: 9px;\n}\n\n\n.jGraduate_Slider {\n  text-align: center;\n  float: left;\n  width: 100%;\n}\n\n.jGraduate_Slider .jGraduate_Form_Section {\n  border: none;\n  width: 250px;\n  padding: 0 2px;\n  overflow: visible;\n}\n\n.jGraduate_Slider label {\n  display: inline-block;\n  float: left;\n  line-height: 50px;\n  padding: 0;\n}\n\n.jGraduate_Slider label.prelabel {\n  width: 40px;\n  text-align: left;\n}\n\n.jGraduate_SliderBar {\n  width: 140px;\n  float: left;\n  margin-right: 5px;\n  border:1px solid #BBB;\n  height:20px;\n  margin-top:14px;\n  margin-left:5px;\n  position: relative;\n}\n\ndiv.jGraduate_Slider input {\n  margin-top: 5px;\n}\n\ndiv.jGraduate_Slider img {\n  top: 0;\n  left: 0;\n  position: absolute;\n  margin-top: -10px;\n  cursor:ew-resize;\n}\n\n\n.jGraduate_gradPick .jGraduate_OkCancel {\n  position: absolute;\n  top: 39px;\n  right: 10px;\n  width: 113px;\n\n}\n\n.jGraduate_OpacField {\n  position: absolute;\n  right: -10px;\n  bottom: 0;\n}\n  #logo {\n    height: 18px;\n    width: 18px;\n  }\n  #block {\n    height: 17px;\n    width: 14px;\n    float: right;\n    background-color: darkgrey;\n  }\n  #picker {\n    background: var(--input-color);\n    height: 23px;\n    line-height: 23px;\n    border-radius: 3px;\n    width: 52px;\n    display: flex;\n    align-items: center;\n    margin-right: 4px;\n    margin-top: 1px;\n    justify-content: space-evenly;\n  }\n  #color_picker {\n    z-index: 1000;\n    top: 60%;\n  }\n  </style>\n  <div id="picker">\n      <img src="logo.svg" alt="icon" id="logo">\n      <label for="color" title="" id="label"></label>\n      <div id="block">\n      </div>\n  </div>\n  \x3c!-- hidden div --\x3e\n  <div id="color_picker"></div>\n';var NT=function(en){_inherits$1(SeColorPicker,_wrapNativeSuper(HTMLElement));var tn=_createSuper$4(SeColorPicker);function SeColorPicker(){var en;return _classCallCheck$1(this,SeColorPicker),(en=tn.call(this))._shadowRoot=en.attachShadow({mode:"open"}),en._shadowRoot.append(QT.content.cloneNode(!0)),en.$logo=en._shadowRoot.getElementById("logo"),en.$label=en._shadowRoot.getElementById("label"),en.$block=en._shadowRoot.getElementById("block"),en.paintBox=null,en.i18next=null,en.$picker=en._shadowRoot.getElementById("picker"),en.$color_picker=en._shadowRoot.getElementById("color_picker"),en.imgPath=svgEditor.configObj.curConfig.imgPath,en}return _createClass$1(SeColorPicker,[{key:"init",value:function init(en){this.i18next=en,this.setAttribute("config-change_xxx_color",kn("config.change_xxx_color"))}},{key:"attributeChangedCallback",value:function attributeChangedCallback(en,tn,nn){if(tn!==nn)switch(en){case"src":this.$logo.setAttribute("src",this.imgPath+"/"+nn);break;case"label":this.setAttribute("title",kn(nn));break;case"type":this.$label.setAttribute("title","config.pick_paint_opavity");break;case"config-change_xxx_color":this.$label.setAttribute("title",nn);break;default:console.error("unknown attribute: ".concat(en))}}},{key:"label",get:function get(){return this.$label.getAttribute("title")},set:function set(en){this.setAttribute("label",en)}},{key:"type",get:function get(){return this.getAttribute("type")},set:function set(en){this.setAttribute("type",en)}},{key:"src",get:function get(){return this.getAttribute("src")},set:function set(en){this.setAttribute("src",en)}},{key:"update",value:function update(en,tn,nn){var rn=this.paintBox.update(en,tn);if(rn&&nn){var an=new CustomEvent("change",{detail:{paint:rn}});this.dispatchEvent(an)}}},{key:"setPaint",value:function setPaint(en){this.paintBox.setPaint(en)}},{key:"connectedCallback",value:function connectedCallback(){var en=this;this.paintBox=new TT(this.$block,this.type),svgEditor.$click(this.$picker,(function(){var tn=en.paintBox.paint;jGraduateMethod(en.$color_picker,{images:{clientPath:"./components/jgraduate/images/"},paint:tn,window:{pickerTitle:en.label},newstop:"inverse"},(function(nn){tn=new LT.Paint(nn),en.setPaint(tn);var rn=new CustomEvent("change",{detail:{paint:tn}});en.dispatchEvent(rn),en.$color_picker.style.display="none"}),(function(){en.$color_picker.style.display="none"}),en.i18next)}))}}],[{key:"observedAttributes",get:function get(){return["label","src","type","config-change_xxx_color"]}}]),SeColorPicker}();customElements.define("se-colorpicker",NT);var OT=document.createElement("template");OT.innerHTML="\n<style>\nselect {\n  margin-top: 8px;\n  background-color: var(--input-color);\n  appearance: none;\n  outline: none;\n  padding: 3px;\n}\nlabel {\n  margin-left: 2px;\n}\n::slotted(*) {\n  padding:0;\n  width:100%;\n}\n</style>\n  <label></label>\n  <select>\n  </select>\n\n";var MT=function(en){_inherits$1(SeSelect,_wrapNativeSuper(HTMLElement));var tn=_createSuper$4(SeSelect);function SeSelect(){var en;return _classCallCheck$1(this,SeSelect),(en=tn.call(this))._shadowRoot=en.attachShadow({mode:"open"}),en._shadowRoot.append(OT.content.cloneNode(!0)),en.$select=en._shadowRoot.querySelector("select"),en.$label=en._shadowRoot.querySelector("label"),en}return _createClass$1(SeSelect,[{key:"attributeChangedCallback",value:function attributeChangedCallback(en,tn,nn){var rn=this;if(tn!==nn)switch(en){case"label":this.$label.textContent=kn(nn);break;case"title":this.$select.setAttribute("title",kn(nn));break;case"disabled":null===nn?this.$select.removeAttribute("disabled"):this.$select.setAttribute("disabled",nn);break;case"height":this.$select.style.height=nn;break;case"width":this.$select.style.width=nn;break;case"options":if(""===nn)for(;this.$select.firstChild;)this.$select.removeChild(this.$select.firstChild);else nn.split(",").forEach((function(en){var tn=document.createElement("OPTION"),nn=document.createTextNode(kn(en));tn.appendChild(nn),rn.$select.appendChild(tn)}));break;case"values":if(""===nn)for(;this.$select.firstChild;)this.$select.removeChild(this.$select.firstChild);else nn.split("::").forEach((function(en,tn){rn.$select.children[tn].setAttribute("value",en)}));break;default:console.error("unknown attribute: ".concat(en))}}},{key:"label",get:function get(){return this.getAttribute("label")},set:function set(en){this.setAttribute("label",en)}},{key:"width",get:function get(){return this.getAttribute("width")},set:function set(en){this.setAttribute("width",en)}},{key:"height",get:function get(){return this.getAttribute("height")},set:function set(en){this.setAttribute("height",en)}},{key:"value",get:function get(){return this.$select.value},set:function set(en){this.$select.value=en}},{key:"disabled",get:function get(){return this.$select.getAttribute("disabled")},set:function set(en){this.$select.setAttribute("disabled",en)}},{key:"connectedCallback",value:function connectedCallback(){var en=this,tn=this;this.$select.addEventListener("change",(function(){var nn=en.$select.value,rn=new CustomEvent("change",{detail:{value:nn}});tn.dispatchEvent(rn),tn.value=nn}))}}],[{key:"observedAttributes",get:function get(){return["label","width","height","options","values","title","disabled"]}}]),SeSelect}();customElements.define("se-select",MT);var RT=document.createElement("template");RT.innerHTML="\n  <style>\n  #layersLabel {\n    font-size: 13px;\n    line-height: normal;\n    font-weight: 700;\n  }\n  </style>\n  <div></div>\n";var HT=function(en){_inherits$1(SeText,_wrapNativeSuper(HTMLElement));var tn=_createSuper$4(SeText);function SeText(){var en;return _classCallCheck$1(this,SeText),(en=tn.call(this))._shadowRoot=en.attachShadow({mode:"open"}),en._shadowRoot.append(RT.content.cloneNode(!0)),en.$div=en._shadowRoot.querySelector("div"),en}return _createClass$1(SeText,[{key:"attributeChangedCallback",value:function attributeChangedCallback(en,tn,nn){if(tn!==nn)switch(en){case"text":this.$div.textContent=kn(nn);break;case"title":this.$div.setAttribute("title",kn(nn));break;case"style":this.$div.style=nn;break;case"id":this.$div.id=nn;break;case"value":this.$div.value=nn;break;default:console.error("unknown attribute: ".concat(en))}}},{key:"text",get:function get(){return this.$div.textContent},set:function set(en){this.$div.setAttribute("title",kn(en))}},{key:"value",get:function get(){return this.value},set:function set(en){this.value=en}},{key:"title",get:function get(){return this.getAttribute("title")},set:function set(en){this.setAttribute("title",en)}},{key:"connectedCallback",value:function connectedCallback(){}}],[{key:"observedAttributes",get:function get(){return["text","value","style","title","id"]}}]),SeText}();customElements.define("se-text",HT);var DT,$T=Object.freeze({__proto__:null}),GT=Symbol("previousBodyStyleOverflow"),jT=Symbol("previousDocumentMarginRight");var VT=Symbol("wrap"),KT=Symbol("wrappingFocus");function FocusCaptureMixin(en){var tn=function(en){_inherits$1(FocusCapture,en);var tn=_createSuper$4(FocusCapture);function FocusCapture(){return _classCallCheck$1(this,FocusCapture),tn.apply(this,arguments)}return _createClass$1(FocusCapture,[{key:wi,value:function value(en){var tn=firstFocusableElement(this[Ti]);if(tn){var nn=document.activeElement&&(document.activeElement===tn||document.activeElement.contains(tn)),rn=this[Ti].activeElement,an=rn&&(rn===tn||deepContains(rn,tn));(nn||an)&&"Tab"===en.key&&en.shiftKey&&(this[KT]=!0,this[mi].focusCatcher.focus(),this[KT]=!1)}return _get(_getPrototypeOf$1(FocusCapture.prototype),wi,this)&&_get(_getPrototypeOf$1(FocusCapture.prototype),wi,this).call(this,en)||!1}},{key:ki,value:function value(en){var tn=this;_get(_getPrototypeOf$1(FocusCapture.prototype),ki,this)&&_get(_getPrototypeOf$1(FocusCapture.prototype),ki,this).call(this,en),this[ni]&&this[mi].focusCatcher.addEventListener("focus",(function(){if(!tn[KT]){var en=firstFocusableElement(tn[Ti]);en&&en.focus()}}))}},{key:VT,value:function value(en){var tn=Tn(DT||(DT=_taggedTemplateLiteral(['\n        <style>\n          #focusCapture {\n            display: flex;\n            height: 100%;\n            overflow: hidden;\n            width: 100%;\n          }\n\n          #focusCaptureContainer {\n            align-items: center;\n            display: flex;\n            flex: 1;\n            flex-direction: column;\n            justify-content: center;\n            position: relative;\n          }\n        </style>\n        <div id="focusCapture">\n          <div id="focusCaptureContainer"></div>\n          <div id="focusCatcher" tabindex="0"></div>\n        </div>\n      ']))),nn=tn.getElementById("focusCaptureContainer");nn&&(en.replaceWith(tn),nn.append(en))}}]),FocusCapture}(en);return tn}FocusCaptureMixin.wrap=VT;var qT,zT,WT=function(en){_inherits$1(ModalBackdrop,po);var tn=_createSuper$4(ModalBackdrop);function ModalBackdrop(){var en;return _classCallCheck$1(this,ModalBackdrop),en=tn.call(this),"PointerEvent"in window||en.addEventListener("touchmove",(function(en){1===en.touches.length&&en.preventDefault()})),en}return _createClass$1(ModalBackdrop)}(),XT=function DialogModalityMixin(en){return function(en){_inherits$1(DialogModality,en);var tn=_createSuper$4(DialogModality);function DialogModality(){return _classCallCheck$1(this,DialogModality),tn.apply(this,arguments)}return _createClass$1(DialogModality,[{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(DialogModality.prototype),Jr,this)||{},{role:"dialog"})}},{key:wi,value:function value(en){var tn=!1;if("Escape"===en.key)this.close({canceled:"Escape"}),tn=!0;return tn||_get(_getPrototypeOf$1(DialogModality.prototype),wi,this)&&_get(_getPrototypeOf$1(DialogModality.prototype),wi,this).call(this,en)||!1}},{key:ki,value:function value(en){if(_get(_getPrototypeOf$1(DialogModality.prototype),ki,this)&&_get(_getPrototypeOf$1(DialogModality.prototype),ki,this).call(this,en),en.opened)if(this[Oi].opened&&document.documentElement){var tn=document.documentElement.clientWidth,nn=window.innerWidth-tn;this[GT]=document.body.style.overflow,this[jT]=nn>0?document.documentElement.style.marginRight:null,document.body.style.overflow="hidden",nn>0&&(document.documentElement.style.marginRight="".concat(nn,"px"))}else null!=this[GT]&&(document.body.style.overflow=this[GT],this[GT]=null),null!=this[jT]&&(document.documentElement.style.marginRight=this[jT],this[jT]=null);if(en.role){var rn=this[Oi].role;this.setAttribute("role",rn)}}},{key:"role",get:function get(){return _get(_getPrototypeOf$1(DialogModality.prototype),"role",this)}},{key:"role",set:function set(en){_set(_getPrototypeOf$1(DialogModality.prototype),"role",en,this,!0),this[Li]||this[Ui]({role:en})}}]),DialogModality}(en)}(FocusCaptureMixin(KeyboardMixin(bo))),YT=function(en){_inherits$1(Dialog,XT);var tn=_createSuper$4(Dialog);function Dialog(){return _classCallCheck$1(this,Dialog),tn.apply(this,arguments)}return _createClass$1(Dialog,[{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(Dialog.prototype),Jr,this),{backdropPartType:WT,tabIndex:-1})}},{key:Xi,get:function get(){var en=_get(_getPrototypeOf$1(Dialog.prototype),Xi,this),tn=en.content.querySelector("#frame");return this[FocusCaptureMixin.wrap](tn),en.content.append(Tn(qT||(qT=_taggedTemplateLiteral(["\n        <style>\n          :host {\n            display: inline-flex;\n            flex-direction: column;\n            height: 100%;\n            left: 0;\n            pointer-events: initial;\n            top: 0;\n            width: 100%;\n          }\n        </style>\n      "])))),en}}]),Dialog}(),JT=function(en){_inherits$1(PlainModalBackdrop,WT);var tn=_createSuper$4(PlainModalBackdrop);function PlainModalBackdrop(){return _classCallCheck$1(this,PlainModalBackdrop),tn.apply(this,arguments)}return _createClass$1(PlainModalBackdrop,[{key:Xi,get:function get(){var en=_get(_getPrototypeOf$1(PlainModalBackdrop.prototype),Xi,this);return en.content.append(Tn(zT||(zT=_taggedTemplateLiteral(["\n        <style>\n          :host {\n            background: rgba(0, 0, 0, 0.2);\n          }\n        </style>\n      "])))),en}}]),PlainModalBackdrop}();function PlainModalOverlayMixin(en){return function(en){_inherits$1(PlainModalOverlay,en);var tn=_createSuper$4(PlainModalOverlay);function PlainModalOverlay(){return _classCallCheck$1(this,PlainModalOverlay),tn.apply(this,arguments)}return _createClass$1(PlainModalOverlay,[{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(PlainModalOverlay.prototype),Jr,this)||{},{backdropPartType:JT,framePartType:rs})}}]),PlainModalOverlay}(en)}var ZT=function(en){_inherits$1(PlainDialog,PlainModalOverlayMixin(YT));var tn=_createSuper$4(PlainDialog);function PlainDialog(){return _classCallCheck$1(this,PlainDialog),tn.apply(this,arguments)}return _createClass$1(PlainDialog)}(),eQ=function(en){_inherits$1(ElixDialog,ZT);var tn=_createSuper$4(ElixDialog);function ElixDialog(){return _classCallCheck$1(this,ElixDialog),tn.apply(this,arguments)}return _createClass$1(ElixDialog)}();customElements.define("elix-dialog",eQ);var tQ=Zf.isValidUnit,nQ=document.createElement("template");nQ.innerHTML='<style>\n    :not(:defined) {\n        display: none;\n    }\n\n    /* Force the scroll bar to appear so we see it hide when overlay opens. */\n    body::-webkit-scrollbar {\n        background: lightgray;\n    }\n\n    body::-webkit-scrollbar-thumb {\n        background: darkgray;\n    }\n\n    #svg_docprops #svg_docprops_container {\n        padding: 10px;\n        background-color: #5a6162;\n        color: #c5c5c5;\n        border: 1px outset #777;\n        opacity: 1.0;\n        font-family: Verdana, Helvetica, sans-serif;\n        font-size: .8em;\n        z-index: 20001;\n    }\n\n    #svg_docprops .error {\n        border: 1px solid red;\n        padding: 3px;\n    }\n\n    #svg_docprops #resolution {\n        max-width: 14em;\n    }\n\n    #tool_docprops_back {\n        margin-left: 1em;\n        overflow: auto;\n    }\n\n    #svg_docprops_container #svg_docprops_docprops {\n        float: left;\n        width: 221px;\n        margin: 5px .7em;\n        overflow: hidden;\n    }\n\n    #svg_docprops legend {\n        max-width: 195px;\n    }\n\n    #svg_docprops_docprops>legend {\n        font-weight: bold;\n        font-size: 1.1em;\n    }\n\n    #svg_docprops_container fieldset {\n        padding: 5px;\n        margin: 5px;\n        border: 1px solid #DDD;\n    }\n\n    #svg_docprops_container label {\n        display: block;\n        margin: .5em;\n    }\n</style>\n<elix-dialog id="svg_docprops" aria-label="Sample dialog" closed>\n    <div id="svg_docprops_container">\n        <div id="tool_docprops_back" class="toolbar_button">\n            <button id="tool_docprops_save"></button>\n            <button id="tool_docprops_cancel"></button>\n        </div>\n        <fieldset id="svg_docprops_docprops">\n            <legend id="svginfo_image_props"></legend>\n            <label>\n                <span id="svginfo_title"></span>\n                <input type="text" id="canvas_title">\n            </label>\n            <fieldset id="change_resolution">\n                <legend id="svginfo_dim"></legend>\n                <label>\n                    <span id="svginfo_width"></span>\n                    <input type="text" id="canvas_width" size="6">\n                </label>\n                <label>\n                    <span id="svginfo_height"></span>\n                    <input type="text" id="canvas_height" size="6">\n                </label>\n                <label>\n                    <select id="resolution">\n                        <option id="selectedPredefined" selected="selected"></option>\n                        <option>640x480</option>\n                        <option>800x600</option>\n                        <option>1024x768</option>\n                        <option>1280x960</option>\n                        <option>1600x1200</option>\n                        <option id="fitToContent" value="content"></option>\n                    </select>\n                </label>\n            </fieldset>\n            <fieldset id="image_save_opts">\n                <legend id="includedImages"></legend>\n                <label>\n                    <input type="radio" id="image_embed" name="image_opt" value="embed" checked="checked">\n                    <span id="image_opt_embed"></span>\n                </label>\n                <label>\n                    <input type="radio" id="image_ref" name="image_opt" value="ref">\n                    <span id="image_opt_ref"></span>\n                </label>\n            </fieldset>\n        </fieldset>\n    </div>\n</elix-dialog>';var rQ=function(en){_inherits$1(SeImgPropDialog,_wrapNativeSuper(HTMLElement));var tn=_createSuper$4(SeImgPropDialog);function SeImgPropDialog(){var en;return _classCallCheck$1(this,SeImgPropDialog),(en=tn.call(this)).eventlisten=!1,en._shadowRoot=en.attachShadow({mode:"open"}),en._shadowRoot.append(nQ.content.cloneNode(!0)),en.$saveBtn=en._shadowRoot.querySelector("#tool_docprops_save"),en.$cancelBtn=en._shadowRoot.querySelector("#tool_docprops_cancel"),en.$resolution=en._shadowRoot.querySelector("#resolution"),en.$canvasTitle=en._shadowRoot.querySelector("#canvas_title"),en.$canvasWidth=en._shadowRoot.querySelector("#canvas_width"),en.$canvasHeight=en._shadowRoot.querySelector("#canvas_height"),en.$imageOptEmbed=en._shadowRoot.querySelector("#image_embed"),en.$imageOptRef=en._shadowRoot.querySelector("#image_ref"),en.$dialog=en._shadowRoot.querySelector("#svg_docprops"),en}return _createClass$1(SeImgPropDialog,[{key:"init",value:function init(en){this.setAttribute("common-ok",en.t("common.ok")),this.setAttribute("common-cancel",en.t("common.cancel")),this.setAttribute("config-image_props",en.t("config.image_props")),this.setAttribute("config-doc_title",en.t("config.doc_title")),this.setAttribute("config-doc_dims",en.t("config.doc_dims")),this.setAttribute("common-width",en.t("common.width")),this.setAttribute("common-height",en.t("common.height")),this.setAttribute("config-select_predefined",en.t("config.select_predefined")),this.setAttribute("tools-fit-to-content",en.t("tools.fitToContent")),this.setAttribute("config-included_images",en.t("config.included_images")),this.setAttribute("config-image_opt_embed",en.t("config.image_opt_embed")),this.setAttribute("config-image_opt_ref",en.t("config.image_opt_ref"))}},{key:"attributeChangedCallback",value:function attributeChangedCallback(en,tn,nn){if(tn!==nn)switch(en){case"title":this.$canvasTitle.value=nn;break;case"width":"fit"===nn?(this.$canvasWidth.removeAttribute("disabled"),this.$canvasWidth.value=100,this.$canvasHeight.removeAttribute("disabled"),this.$canvasHeight.value=100):this.$canvasWidth.value=nn;break;case"height":"fit"===nn?(this.$canvasWidth.removeAttribute("disabled"),this.$canvasWidth.value=100,this.$canvasHeight.removeAttribute("disabled"),this.$canvasHeight.value=100):this.$canvasHeight.value=nn;break;case"dialog":this.eventlisten&&("open"===nn?this.$dialog.open():this.$dialog.close());break;case"save":"ref"===nn?(this.$imageOptEmbed.setAttribute("checked",!1),this.$imageOptRef.setAttribute("checked",!0)):(this.$imageOptEmbed.setAttribute("checked",!0),this.$imageOptRef.setAttribute("checked",!1));break;case"embed":if(nn.includes("one")){var rn=nn.split("|");rn.length>1&&(this._shadowRoot.querySelector("#image_opt_embed").setAttribute("title",rn[1]),this._shadowRoot.querySelector("#image_opt_embed").setAttribute("disabled","disabled"),this._shadowRoot.querySelector("#image_opt_embed").style.color="#666")}break;case"common-ok":this.$saveBtn.textContent=nn;break;case"common-cancel":this.$cancelBtn.textContent=nn;break;case"config-image_props":this._shadowRoot.querySelector("#svginfo_image_props").textContent=nn;break;case"config-doc_title":this._shadowRoot.querySelector("#svginfo_title").textContent=nn;break;case"config-doc_dims":this._shadowRoot.querySelector("#svginfo_dim").textContent=nn;break;case"common-width":this._shadowRoot.querySelector("#svginfo_width").textContent=nn;break;case"common-height":this._shadowRoot.querySelector("#svginfo_height").textContent=nn;break;case"config-select_predefined":this._shadowRoot.querySelector("#selectedPredefined").textContent=nn;break;case"tools-fit-to-content":this._shadowRoot.querySelector("#fitToContent").textContent=nn;break;case"config-included_images":this._shadowRoot.querySelector("#includedImages").textContent=nn;break;case"config-image_opt_embed":this._shadowRoot.querySelector("#image_opt_embed").textContent=nn;break;case"config-image_opt_ref":this._shadowRoot.querySelector("#image_opt_ref").textContent=nn;break;default:_get(_getPrototypeOf$1(SeImgPropDialog.prototype),"attributeChangedCallback",this).call(this,en,tn,nn)}}},{key:"title",get:function get(){return this.getAttribute("title")},set:function set(en){this.setAttribute("title",en)}},{key:"width",get:function get(){return this.getAttribute("width")},set:function set(en){this.setAttribute("width",en)}},{key:"height",get:function get(){return this.getAttribute("height")},set:function set(en){this.setAttribute("height",en)}},{key:"save",get:function get(){return this.getAttribute("save")},set:function set(en){this.setAttribute("save",en)}},{key:"dialog",get:function get(){return this.getAttribute("dialog")},set:function set(en){this.setAttribute("dialog",en)}},{key:"embed",get:function get(){return this.getAttribute("embed")},set:function set(en){this.setAttribute("embed",en)}},{key:"connectedCallback",value:function connectedCallback(){var en=this,tn=function onCancelHandler(){var tn=new CustomEvent("change",{detail:{dialog:"closed"}});en.$canvasWidth.removeAttribute("disabled"),en.$canvasHeight.removeAttribute("disabled"),en.$resolution.selectedIndex=0,en.dispatchEvent(tn)};this.$resolution.addEventListener("change",(function onChangeHandler(tn){if(tn.target.selectedIndex)if("content"===tn.target.value)en.$canvasWidth.setAttribute("disabled","disabled"),en.$canvasWidth.value="fit",en.$canvasHeight.setAttribute("disabled","disabled"),en.$canvasHeight.value="fit";else{var nn=tn.target.value.split("x");en.$canvasWidth.value=nn[0],en.$canvasWidth.removeAttribute("disabled"),en.$canvasHeight.value=nn[1],en.$canvasHeight.removeAttribute("disabled")}else"fit"===en.$canvasWidth.getAttribute("value")&&(en.$canvasWidth.removeAttribute("disabled"),en.$canvasWidth.value=100,en.$canvasHeight.removeAttribute("disabled"),en.$canvasHeight.value=100)})),svgEditor.$click(this.$saveBtn,(function onSaveHandler(){var tn="",nn=en.$canvasWidth.value,rn=en.$canvasHeight.value;"fit"===nn||tQ("width",nn)?en.$canvasWidth.parentElement.classList.remove("error"):en.$canvasWidth.parentElement.classList.add("error"),"fit"===rn||tQ("height",nn)?en.$canvasHeight.parentElement.classList.remove("error"):en.$canvasHeight.parentElement.classList.add("error"),"true"===en.$imageOptEmbed.getAttribute("checked")&&(tn="embed"),"true"===en.$imageOptRef.getAttribute("checked")&&(tn="ref");var an=new CustomEvent("change",{detail:{title:en.$canvasTitle.value,w:en.$canvasWidth.value,h:en.$canvasHeight.value,save:tn,dialog:"close"}});en.$canvasWidth.removeAttribute("disabled"),en.$canvasHeight.removeAttribute("disabled"),en.$resolution.selectedIndex=0,en.dispatchEvent(an)})),svgEditor.$click(this.$cancelBtn,tn),this.$dialog.addEventListener("close",tn),this.eventlisten=!0}}],[{key:"observedAttributes",get:function get(){return["title","width","height","save","dialog","embed","common-ok","common-cancel","config-image_props","config-doc_title","config-doc_dims","common-width","common-height","config-select_predefined","tools-fit-to-content","config-included_images","config-image_opt_embed","config-image_opt_ref"]}}]),SeImgPropDialog}();customElements.define("se-img-prop-dialog",rQ);var iQ=document.createElement("template");iQ.innerHTML='<style>\n    :not(:defined) {\n        display: none;\n    }\n\n    /* Force the scroll bar to appear so we see it hide when overlay opens. */\n    body::-webkit-scrollbar {\n        background: lightgray;\n    }\n\n    body::-webkit-scrollbar-thumb {\n        background: darkgray;\n    }\n\n    .toolbar_button button {\n        border: 1px solid #dedede;\n        line-height: 130%;\n        float: left;\n        background: #E8E8E8 none;\n        padding: 5px 10px 5px 7px;\n        /* Firefox */\n        line-height: 17px;\n        /* Safari */\n        margin: 5px 20px 0 0;\n        border: 1px var(--border-color) solid;\n        border-top-color: #FFF;\n        border-left-color: #FFF;\n        border-radius: 5px;\n        -moz-border-radius: 5px;\n        -webkit-border-radius: 5px;\n        cursor: pointer;\n    }\n\n    .toolbar_button button:hover {\n        border: 1px #e0a874 solid;\n        border-top-color: #fcd9ba;\n        border-left-color: #fcd9ba;\n        background-color: #FFC;\n    }\n\n    .toolbar_button button:active {\n        background-color: #F4E284;\n        border-left: 1px solid #663300;\n        border-top: 1px solid #663300;\n    }\n\n    .toolbar_button button .svg_icon {\n        margin: 0 3px -3px 0 !important;\n        padding: 0;\n        border: none;\n        width: 16px;\n        height: 16px;\n    }\n\n    .color_block {\n        top: 0;\n        left: 0;\n    }\n\n    .color_block svg {\n        display: block;\n    }\n\n    #bg_blocks {\n        overflow: auto;\n        margin-left: 30px;\n    }\n\n    #bg_blocks .color_block {\n        position: static;\n    }\n\n    #svginfo_bg_note {\n        font-size: .9em;\n        font-style: italic;\n        color: #444;\n    }\n\n    #svg_prefs #svg_prefs_container {\n        padding: 10px;\n        background-color: #5a6162;\n        color: #c5c5c5;\n        border: 1px outset #777;\n        opacity: 1.0;\n        font-family: Verdana, Helvetica, sans-serif;\n        font-size: .8em;\n        z-index: 20001;\n    }\n\n    #tool_prefs_back {\n        margin-left: 1em;\n        overflow: auto;\n    }\n\n    #tool_prefs_save {\n        width: 30%;\n        background-color: #c79605;\n        margin-left: 20%;\n    }\n\n    #tool_prefs_cancel {\n        width: 30%;\n        background-color: #c8c8c8;\n    }\n\n    #svg_prefs #svg_docprops_prefs {\n        float: left;\n        width: 221px;\n        margin: 5px .7em;\n        overflow: hidden;\n    }\n\n    #svg_prefs_container fieldset+fieldset {\n        float: right;\n    }\n\n    #svg_prefs legend {\n        max-width: 195px;\n    }\n\n    #svg_prefs_container>fieldset>legend {\n        font-weight: bold;\n        font-size: 1.1em;\n    }\n\n    #svg_prefs fieldset {\n        padding: 5px;\n        margin: 5px;\n        border: 1px solid #DDD;\n    }\n\n    #svg_prefs_container label {\n        display: block;\n        margin: .5em;\n    }\n\n    #svg_prefs_container div.color_block {\n        float: left;\n        margin: 2px;\n        padding: 20px;\n        border: 1px solid #6f6f6f;\n    }\n\n    #change_background div.cur_background {\n        border: 2px solid blue;\n        padding: 19px;\n    }\n\n    #canvas_bg_url {\n        display: block;\n        width: 96%;\n    }\n\n    #svg_prefs button {\n        margin-top: 0;\n        margin-bottom: 5px;\n    }\n</style>\n<elix-dialog id="svg_prefs" aria-label="Editor Preferences" closed>\n    <div id="svg_prefs_container">\n        <div id="tool_prefs_back" class="toolbar_button">\n            <button id="tool_prefs_save"></button>\n            <button id="tool_prefs_cancel"></button>\n        </div>\n        <fieldset>\n            <legend id="svginfo_editor_prefs"></legend>\n            <label>\n                <span id="svginfo_lang"></span>\n                \x3c!-- Source: https://en.wikipedia.org/wiki/Language_names --\x3e\n                <select id="lang_select">\n                    <option id="lang_ar" value="ar">العربية</option>\n                    <option id="lang_cs" value="cs">Čeština</option>\n                    <option id="lang_de" value="de">Deutsch</option>\n                    <option id="lang_en" value="en" selected="selected">English</option>\n                    <option id="lang_es" value="es">Español</option>\n                    <option id="lang_fa" value="fa">فارسی</option>\n                    <option id="lang_fr" value="fr">Français</option>\n                    <option id="lang_fy" value="fy">Frysk</option>\n                    <option id="lang_hi" value="hi">हिन्दी, हिंदी</option>\n                    <option id="lang_it" value="it">Italiano</option>\n                    <option id="lang_ja" value="ja">日本語</option>\n                    <option id="lang_nl" value="nl">Nederlands</option>\n                    <option id="lang_pl" value="pl">Polski</option>\n                    <option id="lang_pt-BR" value="pt-BR">Português (BR)</option>\n                    <option id="lang_ro" value="ro">Română</option>\n                    <option id="lang_ru" value="ru">Русский</option>\n                    <option id="lang_sk" value="sk">Slovenčina</option>\n                    <option id="lang_sl" value="sl">Slovenščina</option>\n                    <option id="lang_tr" value="tr">Türkçe</option>\n                    <option id="lang_zh-CN" value="zh-CN">简体中文</option>\n                    <option id="lang_zh-TW" value="zh-TW">繁體中文</option>\n                </select>\n            </label>\n            <fieldset id="change_background">\n                <legend id="svginfo_change_background"></legend>\n                <div id="bg_blocks"></div>\n                <label>\n                    <span id="svginfo_bg_url"></span>\n                    <input type="text" id="canvas_bg_url">\n                </label>\n                <p id="svginfo_bg_note"></p>\n            </fieldset>\n            <fieldset id="change_grid">\n                <legend id="svginfo_grid_settings"></legend>\n                <label for="svginfo_snap_onoff">\n                    <span id="svginfo_snap_onoff"></span>\n                    <input type="checkbox" value="snapping_on" id="grid_snapping_on">\n                </label>\n                <label for="grid_snapping_step">\n                    <span id="svginfo_snap_step"></span>\n                    <input type="text" id="grid_snapping_step" size="3" value="10">\n                </label>\n                <label>\n                    <span id="svginfo_grid_color"></span>\n                    <input type="text" id="grid_color" size="3" value="#000">\n                </label>\n            </fieldset>\n            <fieldset id="units_rulers">\n                <legend id="svginfo_units_rulers"></legend>\n                <label>\n                    <span id="svginfo_rulers_onoff"></span>\n                    <input id="show_rulers" type="checkbox" value="show_rulers" checked="checked">\n                </label>\n                <label>\n                    <span id="svginfo_unit"></span>\n                    <select id="base_unit">\n                        <option value="px">Pixels</option>\n                        <option value="cm">Centimeters</option>\n                        <option value="mm">Millimeters</option>\n                        <option value="in">Inches</option>\n                        <option value="pt">Points</option>\n                        <option value="pc">Picas</option>\n                        <option value="em">Ems</option>\n                        <option value="ex">Exs</option>\n                    </select>\n                </label>\n            </fieldset>\n        </fieldset>\n    </div>\n</elix-dialog>\n';var aQ=function(en){_inherits$1(SeEditPrefsDialog,_wrapNativeSuper(HTMLElement));var tn=_createSuper$4(SeEditPrefsDialog);function SeEditPrefsDialog(){var en;return _classCallCheck$1(this,SeEditPrefsDialog),(en=tn.call(this)).colorBlocks=["#FFF","#888","#000","chessboard"],en._shadowRoot=en.attachShadow({mode:"open"}),en._shadowRoot.append(iQ.content.cloneNode(!0)),en.$dialog=en._shadowRoot.querySelector("#svg_prefs"),en.$saveBtn=en._shadowRoot.querySelector("#tool_prefs_save"),en.$cancelBtn=en._shadowRoot.querySelector("#tool_prefs_cancel"),en.$langSelect=en._shadowRoot.querySelector("#lang_select"),en.$bgBlocks=en._shadowRoot.querySelector("#bg_blocks"),en.$bgURL=en._shadowRoot.querySelector("#canvas_bg_url"),en.$gridSnappingOn=en._shadowRoot.querySelector("#grid_snapping_on"),en.$gridSnappingStep=en._shadowRoot.querySelector("#grid_snapping_step"),en.$gridColor=en._shadowRoot.querySelector("#grid_color"),en.$showRulers=en._shadowRoot.querySelector("#show_rulers"),en.$baseUnit=en._shadowRoot.querySelector("#base_unit"),en}return _createClass$1(SeEditPrefsDialog,[{key:"init",value:function init(en){this.setAttribute("common-ok",en.t("common.ok")),this.setAttribute("common-cancel",en.t("common.cancel")),this.setAttribute("config-editor_prefs",en.t("config.editor_prefs")),this.setAttribute("config-language",en.t("config.language")),this.setAttribute("config-background",en.t("config.background")),this.setAttribute("common-url",en.t("common.url")),this.setAttribute("config-editor_bg_note",en.t("config.editor_bg_note")),this.setAttribute("config-grid",en.t("config.grid")),this.setAttribute("config-snapping_onoff",en.t("config.snapping_onoff")),this.setAttribute("config-snapping_stepsize",en.t("config.snapping_stepsize")),this.setAttribute("config-grid_color",en.t("config.grid_color")),this.setAttribute("config-units_and_rulers",en.t("config.units_and_rulers")),this.setAttribute("config-show_rulers",en.t("config.show_rulers")),this.setAttribute("config-base_unit",en.t("config.base_unit"))}},{key:"attributeChangedCallback",value:function attributeChangedCallback(en,tn,nn){if(tn!==nn){var rn=this.$bgBlocks.querySelectorAll("div"),an="cur_background";switch(en){case"dialog":"open"===nn?this.$dialog.open():this.$dialog.close();break;case"lang":this.$langSelect.value=nn;break;case"canvasbg":nn?rn.forEach((function(en){en.dataset.bgColor===nn?en.classList.add(an):en.classList.remove(an)})):rn.length>0&&rn[0].classList.add(an);break;case"bgurl":this.$bgURL.value=nn;break;case"gridsnappingon":"true"===nn?this.$gridSnappingOn.checked=!0:"false"===nn&&(this.$gridSnappingOn.checked=!1);break;case"gridsnappingstep":this.$gridSnappingStep.value=nn;break;case"gridcolor":this.$gridColor.value=nn;break;case"showrulers":"true"===nn?this.$showRulers.checked=!0:"false"===nn&&(this.$showRulers.checked=!1);break;case"baseunit":this.$baseUnit.value=nn;break;case"common-ok":this.$saveBtn.textContent=nn;break;case"common-cancel":this.$cancelBtn.textContent=nn;break;case"config-editor_prefs":this._shadowRoot.querySelector("#svginfo_editor_prefs").textContent=nn;break;case"config-language":this._shadowRoot.querySelector("#svginfo_lang").textContent=nn;break;case"config-background":this._shadowRoot.querySelector("#svginfo_change_background").textContent=nn;break;case"common-url":this._shadowRoot.querySelector("#svginfo_bg_url").textContent=nn;break;case"config-editor_bg_note":this._shadowRoot.querySelector("#svginfo_bg_note").textContent=nn;break;case"config-grid":this._shadowRoot.querySelector("#svginfo_grid_settings").textContent=nn;break;case"config-snapping_onoff":this._shadowRoot.querySelector("#svginfo_snap_onoff").textContent=nn;break;case"config-snapping_stepsize":this._shadowRoot.querySelector("#svginfo_snap_step").textContent=nn;break;case"config-grid_color":this._shadowRoot.querySelector("#svginfo_grid_color").textContent=nn;break;case"config-units_and_rulers":this._shadowRoot.querySelector("#svginfo_units_rulers").textContent=nn;break;case"config-show_rulers":this._shadowRoot.querySelector("#svginfo_rulers_onoff").textContent=nn;break;case"config-base_unit":this._shadowRoot.querySelector("#svginfo_unit").textContent=nn;break;default:_get(_getPrototypeOf$1(SeEditPrefsDialog.prototype),"attributeChangedCallback",this).call(this,en,tn,nn)}}}},{key:"lang",get:function get(){return this.getAttribute("lang")},set:function set(en){this.setAttribute("lang",en)}},{key:"canvasbg",get:function get(){return this.getAttribute("canvasbg")},set:function set(en){this.setAttribute("canvasbg",en)}},{key:"bgurl",get:function get(){return this.getAttribute("bgurl")},set:function set(en){this.setAttribute("bgurl",en)}},{key:"dialog",get:function get(){return this.getAttribute("dialog")},set:function set(en){this.setAttribute("dialog",en)}},{key:"gridsnappingon",get:function get(){return this.getAttribute("gridsnappingon")},set:function set(en){this.setAttribute("gridsnappingon",en)}},{key:"gridsnappingstep",get:function get(){return this.getAttribute("gridsnappingstep")},set:function set(en){this.setAttribute("gridsnappingstep",en)}},{key:"gridcolor",get:function get(){return this.getAttribute("gridcolor")},set:function set(en){this.setAttribute("gridcolor",en)}},{key:"showrulers",get:function get(){return this.getAttribute("showrulers")},set:function set(en){this.setAttribute("showrulers",en)}},{key:"baseunit",get:function get(){return this.getAttribute("baseunit")},set:function set(en){this.setAttribute("baseunit",en)}},{key:"connectedCallback",value:function connectedCallback(){var en=this,tn=function onCancelHandler(){var tn=new CustomEvent("change",{detail:{dialog:"closed"}});en.dispatchEvent(tn)},nn=this;this.colorBlocks.forEach((function(en){var tn=document.createElement("div");"chessboard"===en?(tn.dataset.bgColor=en,tn.style.backgroundImage="url(data:image/gif;base64,R0lGODlhEAAQAIAAAP///9bW1iH5BAAAAAAALAAAAAAQABAAAAIfjG+gq4jM3IFLJgpswNly/XkcBpIiVaInlLJr9FZWAQA7)",tn.classList.add("color_block")):(tn.dataset.bgColor=en,tn.style.backgroundColor=en,tn.classList.add("color_block")),nn.$bgBlocks.append(tn)}));var rn=this.$bgBlocks.querySelectorAll("div"),an="cur_background";rn.forEach((function(en){svgEditor.$click(en,(function(){rn.forEach((function(en){return en.classList.remove(an)})),en.classList.add(an)}))})),svgEditor.$click(this.$saveBtn,(function onSaveHandler(){var tn=en.$bgBlocks.querySelector(".cur_background").dataset.bgColor||"#FFF",nn=new CustomEvent("change",{detail:{lang:en.$langSelect.value,dialog:"close",bgcolor:tn,bgurl:en.$bgURL.value,gridsnappingon:en.$gridSnappingOn.checked,gridsnappingstep:en.$gridSnappingStep.value,showrulers:en.$showRulers.checked,baseunit:en.$baseUnit.value}});en.dispatchEvent(nn)})),svgEditor.$click(this.$cancelBtn,tn),this.$dialog.addEventListener("close",tn)}}],[{key:"observedAttributes",get:function get(){return["dialog","lang","canvasbg","bgurl","gridsnappingon","gridsnappingstep","gridcolor","showrulers","baseunit","common-ok","common-cancel","config-editor_prefs","config-language","config-background","common-url","config-editor_bg_note","config-grid","config-snapping_onoff","config-snapping_stepsize","config-grid_color","config-units_and_rulers","config-show_rulers","config-base_unit"]}}]),SeEditPrefsDialog}();customElements.define("se-edit-prefs-dialog",aQ);var oQ=document.createElement("template");oQ.innerHTML='<style>\n    :not(:defined) {\n        display: none;\n    }\n\n    /* Force the scroll bar to appear so we see it hide when overlay opens. */\n    body::-webkit-scrollbar {\n        background: lightgray;\n    }\n\n    body::-webkit-scrollbar-thumb {\n        background: darkgray;\n    }\n\n    #svg_source_editor #svg_source_container {\n        background-color: #5a6162;\n        color: #c5c5c5;\n        opacity: 1.0;\n        text-align: center;\n        border: 1px outset #777;\n        z-index: 6;\n    }\n\n    #save_output_btns {\n        display: none;\n        text-align: left;\n    }\n\n    #save_output_btns p {\n        margin: .5em 1.5em;\n        display: inline-block;\n    }\n\n    #svg_source_editor form {\n        width: 100%;\n    }\n\n    #svg_source_editor #svg_source_textarea {\n        padding: 5px;\n        font-size: 12px;\n        min-height: 200px;\n        width: 95%;\n        height: 95%;\n    }\n\n    #svg_source_editor #tool_source_back {\n        text-align: left;\n        height: 30px;\n    }\n\n    #tool_source_save {\n        width: 20%;\n        background-color: #c79605;\n        margin-left: 30%;\n        margin-top: 5px;\n    }\n    \n    #tool_source_dynamic {\n        cursor: pointer;\n    }\n    \n    .tool_label {\n        cursor: pointer;\n        margin: 5px 0;\n        display: inline-block;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n    }\n\n    #tool_source_cancel {\n        width: 20%;\n        background-color: #c8c8c8;\n    }\n</style>\n<elix-dialog id="svg_source_editor" aria-label="SVG Source Editor" closed>\n    <div id="svg_source_container">\n        <div id="tool_source_back" class="toolbar_button">\n            <button id="tool_source_save"></button>\n            <button id="tool_source_cancel"></button>\n        </div>\n        <div id="save_output_btns">\n            <p id="copy_save_note"></p>\n            <button id="copy_save_done"></button>\n        </div>\n        <form>\n            <textarea id="svg_source_textarea" spellcheck="false" rows="5" cols="80"></textarea>\n        </form>\n        <label class="tool_label" for="tool_source_dynamic">\n          <input type="checkbox" id="tool_source_dynamic" checked="checked">Toggle dynamic size\n        </label>\n    </div>\n</elix-dialog>';var sQ=function(en){_inherits$1(SeSvgSourceEditorDialog,_wrapNativeSuper(HTMLElement));var tn=_createSuper$4(SeSvgSourceEditorDialog);function SeSvgSourceEditorDialog(){var en;return _classCallCheck$1(this,SeSvgSourceEditorDialog),(en=tn.call(this))._shadowRoot=en.attachShadow({mode:"open"}),en._shadowRoot.append(oQ.content.cloneNode(!0)),en.$dialog=en._shadowRoot.querySelector("#svg_source_editor"),en.$copyBtn=en._shadowRoot.querySelector("#copy_save_done"),en.$saveBtn=en._shadowRoot.querySelector("#tool_source_save"),en.$cancelBtn=en._shadowRoot.querySelector("#tool_source_cancel"),en.$sourceTxt=en._shadowRoot.querySelector("#svg_source_textarea"),en.$copySec=en._shadowRoot.querySelector("#save_output_btns"),en.$applySec=en._shadowRoot.querySelector("#tool_source_back"),en.$toggleDynamic=en._shadowRoot.querySelector("#tool_source_dynamic"),en.$toggleDynamic.checked=svgEditor.configObj.curConfig.dynamicOutput,en}return _createClass$1(SeSvgSourceEditorDialog,[{key:"init",value:function init(en){this.setAttribute("tools-source_save",en.t("tools.source_save")),this.setAttribute("common-cancel",en.t("common.cancel")),this.setAttribute("notification-source_dialog_note",en.t("notification.source_dialog_note")),this.setAttribute("config-done",en.t("config.done"))}},{key:"attributeChangedCallback",value:function attributeChangedCallback(en,tn,nn){if(tn!==nn)switch(en){case"dialog":"open"===nn?(this.$sourceTxt.focus(),this.$dialog.open()):(this.$dialog.close(),this.$sourceTxt.blur());break;case"applysec":this.$applySec.style.display="false"===nn?"none":"block";break;case"copysec":this.$copySec.style.display="false"===nn?"none":"block";break;case"value":this.$sourceTxt.value=nn;break;case"tools-source_save":this.$saveBtn.textContent=nn;break;case"common-cancel":this.$cancelBtn.textContent=nn;break;case"notification-source_dialog_note":this._shadowRoot.querySelector("#copy_save_note").textContent=nn;break;case"config-done":this.$copyBtn.textContent=nn;break;default:_get(_getPrototypeOf$1(SeSvgSourceEditorDialog.prototype),"attributeChangedCallback",this).call(this,en,tn,nn)}}},{key:"dialog",get:function get(){return this.getAttribute("dialog")},set:function set(en){this.setAttribute("dialog",en)}},{key:"value",get:function get(){return this.getAttribute("value")},set:function set(en){this.setAttribute("value",en)}},{key:"applysec",get:function get(){return this.getAttribute("applysec")},set:function set(en){this.setAttribute("applysec",en)}},{key:"copysec",get:function get(){return this.getAttribute("copysec")},set:function set(en){this.setAttribute("copysec",en)}},{key:"connectedCallback",value:function connectedCallback(){var en=this,tn=function onCancelHandler(){var tn=new CustomEvent("change",{detail:{dialog:"closed"}});en.dispatchEvent(tn)};svgEditor.$click(this.$copyBtn,(function onCopyHandler(){var tn=new CustomEvent("change",{detail:{copy:"click",value:en.$sourceTxt.value}});en.dispatchEvent(tn)})),svgEditor.$click(this.$saveBtn,(function onSaveHandler(){var tn=new CustomEvent("change",{detail:{value:en.$sourceTxt.value,dialog:"close"}});en.dispatchEvent(tn)})),svgEditor.$click(this.$cancelBtn,tn),svgEditor.$click(this.$toggleDynamic,(function onToggleDynamicHandler(){var tn=new CustomEvent("change",{detail:{dynamic:en.$toggleDynamic.checked,dialog:"dynamic"}});en.dispatchEvent(tn)})),this.$dialog.addEventListener("close",tn)}}],[{key:"observedAttributes",get:function get(){return["dialog","value","applysec","copysec","tools-source_save","common-cancel","notification-source_dialog_note","config-done"]}}]),SeSvgSourceEditorDialog}();customElements.define("se-svg-source-editor-dialog",sQ);var AQ=document.createElement("template");AQ.innerHTML='<style>\n    .contextMenu {\n        position: absolute;\n        z-index: 99999;\n        border: solid 1px rgba(0, 0, 0, .33);\n        background: rgba(255, 255, 255, .95);\n        padding: 5px 0;\n        margin: 0px;\n        display: none;\n        font: 12px/15px Lucida Sans, Helvetica, Verdana, sans-serif;\n        border-radius: 5px;\n        -moz-border-radius: 5px;\n        -moz-box-shadow: 2px 5px 10px rgba(0, 0, 0, .3);\n        -webkit-box-shadow: 2px 5px 10px rgba(0, 0, 0, .3);\n        box-shadow: 2px 5px 10px rgba(0, 0, 0, .3);\n    }\n\n    .contextMenu li {\n        list-style: none;\n        padding: 0px;\n        margin: 0px;\n    }\n\n    .contextMenu .shortcut {\n        width: 115px;\n        text-align: right;\n        float: right;\n    }\n\n    .contextMenu a {\n        -moz-user-select: none;\n        -webkit-user-select: none;\n        user-select: none;\n        color: #222;\n        text-decoration: none;\n        display: block;\n        line-height: 20px;\n        height: 20px;\n        background-position: 6px center;\n        background-repeat: no-repeat;\n        outline: none;\n        padding: 0px 15px 1px 20px;\n    }\n\n    .contextMenu li.hover a {\n        background-color: #2e5dea;\n        color: white;\n        cursor: default;\n    }\n\n    .contextMenu li.disabled a {\n        color: #999;\n        pointer-events: none;\n    }\n\n    .contextMenu li.hover.disabled a {\n        background-color: transparent;\n    }\n\n    .contextMenu li.separator {\n        border-top: solid 1px #E3E3E3;\n        padding-top: 5px;\n        margin-top: 5px;\n    }\n</style>\n<ul id="cmenu_canvas" class="contextMenu">\n    <li>\n        <a href="#cut" id="se-cut">\n            <span class="shortcut">META+X</span>\n        </a>\n    </li>\n    <li>\n        <a href="#copy" id="se-copy">\n            <span class="shortcut">META+C</span>\n        </a>\n    </li>\n    <li>\n        <a href="#paste" id="se-paste"></a>\n    </li>\n    <li>\n        <a href="#paste_in_place" id="se-paste-in-place"></a>\n    </li>\n    <li class="separator">\n        <a href="#delete" id="se-delete">\n            <span class="shortcut">BACKSPACE</span>\n        </a>\n    </li>\n    <li class="separator">\n        <a href="#group" id="se-group">\n            <span class="shortcut">G</span>\n        </a>\n    </li>\n    <li>\n        <a href="#ungroup" id="se-ungroup">\n            <span class="shortcut">G</span>\n        </a>\n    </li>\n    <li class="separator">\n        <a href="#move_front" id="se-move-front">\n            <span class="shortcut">CTRL+SHFT+]</span>\n        </a>\n    </li>\n    <li>\n        <a href="#move_up" id="se-move-up">\n            <span class="shortcut">CTRL+]</span>\n        </a>\n    </li>\n    <li>\n        <a href="#move_down" id="se-move-down">\n            <span class="shortcut">CTRL+[</span>\n        </a>\n    </li>\n    <li>\n        <a href="#move_back" id="se-move-back">\n            <span class="shortcut">CTRL+SHFT+[</span>\n        </a>\n    </li>\n</ul>';var lQ=function(en){_inherits$1(SeCMenuDialog,_wrapNativeSuper(HTMLElement));var tn=_createSuper$4(SeCMenuDialog);function SeCMenuDialog(){var en;return _classCallCheck$1(this,SeCMenuDialog),(en=tn.call(this))._shadowRoot=en.attachShadow({mode:"open"}),en._shadowRoot.append(AQ.content.cloneNode(!0)),en._workarea=document.getElementById("workarea"),en.$dialog=en._shadowRoot.querySelector("#cmenu_canvas"),en.$copyLink=en._shadowRoot.querySelector("#se-copy"),en.$cutLink=en._shadowRoot.querySelector("#se-cut"),en.$pasteLink=en._shadowRoot.querySelector("#se-paste"),en.$pasteInPlaceLink=en._shadowRoot.querySelector("#se-paste-in-place"),en.$deleteLink=en._shadowRoot.querySelector("#se-delete"),en.$groupLink=en._shadowRoot.querySelector("#se-group"),en.$ungroupLink=en._shadowRoot.querySelector("#se-ungroup"),en.$moveFrontLink=en._shadowRoot.querySelector("#se-move-front"),en.$moveUpLink=en._shadowRoot.querySelector("#se-move-up"),en.$moveDownLink=en._shadowRoot.querySelector("#se-move-down"),en.$moveBackLink=en._shadowRoot.querySelector("#se-move-back"),en}return _createClass$1(SeCMenuDialog,[{key:"init",value:function init(en){this.setAttribute("tools-cut",en.t("tools.cut")),this.setAttribute("tools-copy",en.t("tools.copy")),this.setAttribute("tools-paste",en.t("tools.paste")),this.setAttribute("tools-paste_in_place",en.t("tools.paste_in_place")),this.setAttribute("tools-delete",en.t("tools.delete")),this.setAttribute("tools-group",en.t("tools.group")),this.setAttribute("tools-ungroup",en.t("tools.ungroup")),this.setAttribute("tools-move_front",en.t("tools.move_front")),this.setAttribute("tools-move_up",en.t("tools.move_up")),this.setAttribute("tools-move_down",en.t("tools.move_down")),this.setAttribute("tools-move_back",en.t("tools.move_back"))}},{key:"attributeChangedCallback",value:function attributeChangedCallback(en,tn,nn){var rn,an=this._shadowRoot;switch(en){case"disableallmenu":if("true"===nn)an.querySelectorAll("li").forEach((function(en){en.classList.add("disabled")}));break;case"enablemenuitems":nn.split(",").forEach((function(en){an.querySelector('a[href*="'+en+'"]').parentElement.classList.remove("disabled")}));break;case"disablemenuitems":nn.split(",").forEach((function(en){an.querySelector('a[href*="'+en+'"]').parentElement.classList.add("disabled")}));break;case"tools-cut":rn=document.createTextNode(nn),this.$cutLink.prepend(rn);break;case"tools-copy":rn=document.createTextNode(nn),this.$copyLink.prepend(rn);break;case"tools-paste":this.$pasteLink.textContent=nn;break;case"tools-paste_in_place":this.$pasteInPlaceLink.textContent=nn;break;case"tools-delete":rn=document.createTextNode(nn),this.$deleteLink.prepend(rn);break;case"tools-group":rn=document.createTextNode(nn),this.$groupLink.prepend(rn);break;case"tools-ungroup":rn=document.createTextNode(nn),this.$ungroupLink.prepend(rn);break;case"tools-move_front":rn=document.createTextNode(nn),this.$moveFrontLink.prepend(rn);break;case"tools-move_up":rn=document.createTextNode(nn),this.$moveUpLink.prepend(rn);break;case"tools-move_down":rn=document.createTextNode(nn),this.$moveDownLink.prepend(rn);break;case"tools-move_back":rn=document.createTextNode(nn),this.$moveBackLink.prepend(rn)}}},{key:"disableallmenu",get:function get(){return this.getAttribute("disableallmenu")},set:function set(en){this.setAttribute("disableallmenu",en)}},{key:"enablemenuitems",get:function get(){return this.getAttribute("enablemenuitems")},set:function set(en){this.setAttribute("enablemenuitems",en)}},{key:"disablemenuitems",get:function get(){return this.getAttribute("disablemenuitems")},set:function set(en){this.setAttribute("disablemenuitems",en)}},{key:"connectedCallback",value:function connectedCallback(){var en=this,tn=this,nn=function onMenuClickHandler(tn,nn){var rn=new CustomEvent("change",{detail:{trigger:nn}});en.dispatchEvent(rn)};this._workarea.addEventListener("contextmenu",(function onMenuOpenHandler(en){en.preventDefault();var nn=en.pageX,rn=en.pageY,an=screen.width-250,sn=screen.height-426;nn>an&&(nn=an),rn>sn&&(rn=sn),tn.$dialog.style.top=rn+"px",tn.$dialog.style.left=nn+"px",tn.$dialog.style.display="block"})),this._workarea.addEventListener("mousedown",(function onMenuCloseHandler(en){2!==en.button&&(tn.$dialog.style.display="none")})),svgEditor.$click(this.$cutLink,(function(en){return nn(0,"cut")})),svgEditor.$click(this.$copyLink,(function(en){return nn(0,"copy")})),svgEditor.$click(this.$pasteLink,(function(en){return nn(0,"paste")})),svgEditor.$click(this.$pasteInPlaceLink,(function(en){return nn(0,"paste_in_place")})),svgEditor.$click(this.$deleteLink,(function(en){return nn(0,"delete")})),svgEditor.$click(this.$groupLink,(function(en){return nn(0,"group")})),svgEditor.$click(this.$ungroupLink,(function(en){return nn(0,"ungroup")})),svgEditor.$click(this.$moveFrontLink,(function(en){return nn(0,"move_front")})),svgEditor.$click(this.$moveUpLink,(function(en){return nn(0,"move_up")})),svgEditor.$click(this.$moveDownLink,(function(en){return nn(0,"move_down")})),svgEditor.$click(this.$moveBackLink,(function(en){return nn(0,"move_back")}))}}],[{key:"observedAttributes",get:function get(){return["disableallmenu","enablemenuitems","disablemenuitems","tools-cut","tools-copy","tools-paste","tools-paste_in_place","tools-delete","tools-group","tools-ungroup","tools-move_front","tools-move_up","tools-move_down","tools-move_back"]}}]),SeCMenuDialog}();customElements.define("se-cmenu_canvas-dialog",lQ);var cQ=document.createElement("template");cQ.innerHTML='<style>\n    .contextMenu {\n        position: absolute;\n        z-index: 99999;\n        border: solid 1px rgba(0, 0, 0, .33);\n        background: rgba(255, 255, 255, .95);\n        padding: 5px 0;\n        margin: 0px;\n        display: none;\n        font: 12px/15px Lucida Sans, Helvetica, Verdana, sans-serif;\n        border-radius: 5px;\n        -moz-border-radius: 5px;\n        -moz-box-shadow: 2px 5px 10px rgba(0, 0, 0, .3);\n        -webkit-box-shadow: 2px 5px 10px rgba(0, 0, 0, .3);\n        box-shadow: 2px 5px 10px rgba(0, 0, 0, .3);\n    }\n\n    .contextMenu li {\n        list-style: none;\n        padding: 0px;\n        margin: 0px;\n    }\n\n    .contextMenu .shortcut {\n        width: 115px;\n        text-align: right;\n        float: right;\n    }\n\n    .contextMenu a {\n        -moz-user-select: none;\n        -webkit-user-select: none;\n        user-select: none;\n        color: #222;\n        text-decoration: none;\n        display: block;\n        line-height: 20px;\n        height: 20px;\n        background-position: 6px center;\n        background-repeat: no-repeat;\n        outline: none;\n        padding: 0px 15px 1px 20px;\n    }\n\n    .contextMenu li.hover a {\n        background-color: #2e5dea;\n        color: white;\n        cursor: default;\n    }\n\n    .contextMenu li.disabled a {\n        color: #999;\n        pointer-events: none;\n    }\n\n    .contextMenu li.hover.disabled a {\n        background-color: transparent;\n    }\n\n    .contextMenu li.separator {\n        border-top: solid 1px #E3E3E3;\n        padding-top: 5px;\n        margin-top: 5px;\n    }\n</style>\n<ul id="cmenu_layers" class="contextMenu">\n    <li><a href="#dupe" id="se-dupe">#{svgEditor.i18next.t(\'layers.dupe\')}</a></li>\n    <li><a href="#delete" id="se-layer-delete">#{svgEditor.i18next.t(\'layers.del\')}</a></li>\n    <li><a href="#merge_down" id="se-merge-down">#{svgEditor.i18next.t(\'layers.merge_down\')}</a></li>\n    <li><a href="#merge_all" id="se-merge-all">#{svgEditor.i18next.t(\'layers.merge_all\')}</a></li>\n</ul>';var uQ,hQ=function(en){_inherits$1(SeCMenuLayerDialog,_wrapNativeSuper(HTMLElement));var tn=_createSuper$4(SeCMenuLayerDialog);function SeCMenuLayerDialog(){var en;return _classCallCheck$1(this,SeCMenuLayerDialog),(en=tn.call(this))._shadowRoot=en.attachShadow({mode:"open"}),en._shadowRoot.append(cQ.content.cloneNode(!0)),en.source="",en._workarea=void 0,en.$sidePanels=document.getElementById("sidepanels"),en.$dialog=en._shadowRoot.querySelector("#cmenu_layers"),en.$duplicateLink=en._shadowRoot.querySelector("#se-dupe"),en.$deleteLink=en._shadowRoot.querySelector("#se-layer-delete"),en.$mergeDownLink=en._shadowRoot.querySelector("#se-merge-down"),en.$mergeAllLink=en._shadowRoot.querySelector("#se-merge-all"),en}return _createClass$1(SeCMenuLayerDialog,[{key:"init",value:function init(en){this.setAttribute("layers-dupe",en.t("layers.dupe")),this.setAttribute("layers-del",en.t("layers.del")),this.setAttribute("layers-merge_down",en.t("layers.merge_down")),this.setAttribute("layers-merge_all",en.t("layers.merge_all"))}},{key:"attributeChangedCallback",value:function attributeChangedCallback(en,tn,nn){if(tn!==nn)switch(en){case"value":this.source=nn,""!==nn&&void 0!==nn&&(this._workarea=document.getElementById(this.source));break;case"layers-dupe":this.$duplicateLink.textContent=nn;break;case"layers-del":this.$deleteLink.textContent=nn;break;case"layers-merge_down":this.$mergeDownLink.textContent=nn;break;case"layers-merge_all":this.$mergeAllLink.textContent=nn}}},{key:"value",get:function get(){return this.getAttribute("value")},set:function set(en){this.setAttribute("value",en)}},{key:"leftclick",get:function get(){return this.getAttribute("leftclick")},set:function set(en){this.setAttribute("leftclick",en)}},{key:"connectedCallback",value:function connectedCallback(){var en=this,tn=this,nn=function onMenuOpenHandler(en){en.preventDefault(),tn.$dialog.style.top=en.pageY+"px",tn.$dialog.style.left=en.pageX-126+"px",tn.$dialog.style.display="block"},rn=function onMenuCloseHandler(en){2!==en.button&&(tn.$dialog.style.display="none")},an=function onMenuClickHandler(nn,rn,an){var sn=new CustomEvent("change",{detail:{trigger:rn,source:an}});en.dispatchEvent(sn),tn.$dialog.style.display="none"};void 0!==this._workarea&&(this._workarea.addEventListener("contextmenu",nn),"true"===this.getAttribute("leftclick")&&svgEditor.$click(this._workarea,nn),this._workarea.addEventListener("mousedown",rn),this.$sidePanels.addEventListener("mousedown",rn)),svgEditor.$click(this.$duplicateLink,(function(tn){return an(0,"dupe",en.source)})),svgEditor.$click(this.$deleteLink,(function(tn){return an(0,"delete",en.source)})),svgEditor.$click(this.$mergeDownLink,(function(tn){return an(0,"merge_down",en.source)})),svgEditor.$click(this.$mergeAllLink,(function(tn){return an(0,"merge_all",en.source)}))}}],[{key:"observedAttributes",get:function get(){return["value","leftclick","layers-dupe","layers-del","layers-merge_down","layers-merge_all"]}}]),SeCMenuLayerDialog}();customElements.define("se-cmenu-layers",hQ);var dQ,pQ,gQ,fQ=function(en){_inherits$1(AlertDialog,YT);var tn=_createSuper$4(AlertDialog);function AlertDialog(){return _classCallCheck$1(this,AlertDialog),tn.apply(this,arguments)}return _createClass$1(AlertDialog,[{key:"choiceButtons",get:function get(){return this[Oi].choiceButtons}},{key:"choiceButtonPartType",get:function get(){return this[Oi].choiceButtonPartType},set:function set(en){this[Ui]({choiceButtonPartType:en})}},{key:"choices",get:function get(){return this[Oi].choices},set:function set(en){this[Ui]({choices:en})}},{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(AlertDialog.prototype),Jr,this),{choiceButtonPartType:"button",choiceButtons:[],choices:["OK"]})}},{key:wi,value:function value(en){var tn=!1,nn=1===en.key.length&&en.key.toLowerCase();if(nn){var rn=this.choices.find((function(en){return en[0].toLowerCase()===nn}));rn&&(this.close({choice:rn}),tn=!0)}return tn||_get(_getPrototypeOf$1(AlertDialog.prototype),wi,this)&&_get(_getPrototypeOf$1(AlertDialog.prototype),wi,this).call(this,en)||!1}},{key:ki,value:function value(en){var tn=this;_get(_getPrototypeOf$1(AlertDialog.prototype),ki,this).call(this,en),this[ni]&&this[mi].choiceButtonContainer.addEventListener("click",function(){var en=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee(en){var nn,rn;return _regeneratorRuntime().wrap((function _callee$(an){for(;;)switch(an.prev=an.next){case 0:if(!((nn=en.target)instanceof HTMLElement)){an.next=7;break}return rn=nn.textContent,tn[Si]=!0,an.next=6,tn.close({choice:rn});case 6:tn[Si]=!1;case 7:case"end":return an.stop()}}),_callee)})));return function(tn){return en.apply(this,arguments)}}()),en.choiceButtons&&function updateChildNodes(en,tn){for(var nn=_toConsumableArray(tn),rn=en.childNodes.length,an=nn.length,sn=Math.max(rn,an),An=0;An<sn;An++){var cn=en.childNodes[An],un=nn[An];An>=rn?en.append(un):An>=an?en.removeChild(en.childNodes[an]):cn!==un&&(nn.indexOf(cn,An)>=An?en.insertBefore(un,cn):en.replaceChild(un,cn))}}(this[mi].choiceButtonContainer,this[Oi].choiceButtons)}},{key:Mi,value:function value(en,tn){var nn=_get(_getPrototypeOf$1(AlertDialog.prototype),Mi,this).call(this,en,tn);if(tn.choiceButtonPartType||tn.choices){var rn=en.choices.map((function(tn){var nn=createElement(en.choiceButtonPartType);return"part"in nn&&(nn.part="choice-button"),nn.textContent=tn,nn}));Object.freeze(rn),Object.assign(nn,{choiceButtons:rn})}return nn}},{key:Xi,get:function get(){var en=_get(_getPrototypeOf$1(AlertDialog.prototype),Xi,this),tn=en.content.querySelector("slot:not([name])");return tn&&tn.replaceWith(Tn(uQ||(uQ=_taggedTemplateLiteral(['\n        <div id="alertDialogContent">\n          <slot></slot>\n          <div id="choiceButtonContainer" part="choice-button-container"></div>\n        </div>\n      '])))),en}}]),AlertDialog}(),mQ=function(en){_inherits$1(PlainAlertDialog,PlainModalOverlayMixin(fQ));var tn=_createSuper$4(PlainAlertDialog);function PlainAlertDialog(){return _classCallCheck$1(this,PlainAlertDialog),tn.apply(this,arguments)}return _createClass$1(PlainAlertDialog,[{key:Jr,get:function get(){return Object.assign(_get(_getPrototypeOf$1(PlainAlertDialog.prototype),Jr,this),{choiceButtonPartType:Zo})}},{key:Xi,get:function get(){var en=_get(_getPrototypeOf$1(PlainAlertDialog.prototype),Xi,this);return en.content.append(Tn(dQ||(dQ=_taggedTemplateLiteral(['\n        <style>\n          [part~="frame"] {\n            padding: 1em;\n          }\n\n          [part~="choice-button-container"] {\n            margin-top: 1em;\n          }\n\n          [part~="choice-button"]:not(:first-child) {\n            margin-left: 0.5em;\n          }\n        </style>\n      '])))),en}}]),PlainAlertDialog}(),vQ=function(en){_inherits$1(SePlainAlertDialog,mQ);var tn=_createSuper$4(SePlainAlertDialog);function SePlainAlertDialog(){return _classCallCheck$1(this,SePlainAlertDialog),tn.apply(this,arguments)}return _createClass$1(SePlainAlertDialog,[{key:Xi,get:function get(){var en=_get(_getPrototypeOf$1(SePlainAlertDialog.prototype),Xi,this),tn=en.content.querySelector("#frameContent");return tn&&tn.replaceWith(Tn(pQ||(pQ=_taggedTemplateLiteral(['\n        <div id="alertDialogContent">\n          <div id="se-content-alert">\n            <slot></slot>\n          </div>\n          <div id="choiceButtonContainer" part="choice-button-container"></div>\n        </div>\n      '])))),en.content.append(Tn(gQ||(gQ=_taggedTemplateLiteral(['\n        <style>\n          [part~="frame"] {\n            padding: 1em;\n            background: #CCC;\n            width: 300px;\n            border: 1px outset #777;\n            font-size: 0.8em;\n            font-family: Verdana,Helvetica,sans-serif;\n            border-radius: 5px;\n            -moz-border-radius: 5px;\n            -webkit-border-radius: 5px;\n          }\n\n          [part~="choice-button-container"] {\n            margin-top: 1em;\n            text-align: center;\n          }\n\n          [part~="choice-button"]:not(:first-child) {\n            margin-left: 0.5em;\n          }\n          #se-content-alert{\n            height: 95px;\n            background: #DDD;\n            overflow: auto;\n            text-align: left;\n            border: 1px solid #5a6162;\n            padding: 1em;\n            border-radius: 5px;\n            -moz-border-radius: 5px;\n            -webkit-border-radius: 5px;\n          }\n        </style>\n      '])))),en}}]),SePlainAlertDialog}();customElements.define("se-elix-alert-dialog",vQ);var yQ=function(){var en=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee(en,tn){var nn,rn;return _regeneratorRuntime().wrap((function _callee$(an){for(;;)switch(an.prev=an.next){case 0:return(nn=new vQ).textContent=en,nn.choices=tn,nn.open(),an.next=6,nn.whenClosed();case 6:return rn=an.sent,an.abrupt("return",rn.choice);case 8:case"end":return an.stop()}}),_callee)})));return function seSelect(tn,nn){return en.apply(this,arguments)}}();window.seSelect=yQ;var bQ=function(){var en=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee(en,tn){var nn,rn;return _regeneratorRuntime().wrap((function _callee$(an){for(;;)switch(an.prev=an.next){case 0:return(nn=new vQ).textContent=en,nn.choices=void 0===tn?["Ok","Cancel"]:tn,nn.open(),an.next=6,nn.whenClosed();case 6:return rn=an.sent,an.abrupt("return",rn.choice);case 8:case"end":return an.stop()}}),_callee)})));return function seConfirm(tn,nn){return en.apply(this,arguments)}}();window.seConfirm=bQ;var wQ=function(en){_inherits$1(SePromptDialog,_wrapNativeSuper(HTMLElement));var tn=_createSuper$4(SePromptDialog);function SePromptDialog(){var en;return _classCallCheck$1(this,SePromptDialog),(en=tn.call(this))._shadowRoot=en.attachShadow({mode:"open"}),en.dialog=new vQ,en}return _createClass$1(SePromptDialog,[{key:"attributeChangedCallback",value:function attributeChangedCallback(en,tn,nn){switch(en){case"title":this.dialog.opened&&this.dialog.close(),this.dialog.textContent=nn,this.dialog.choices=["Cancel"],this.dialog.open();break;case"close":this.dialog.opened?this.dialog.close():this.dialog.open();break;default:console.error("unknown attr for:",en,"newValue =",nn)}}},{key:"title",get:function get(){return this.getAttribute("title")},set:function set(en){this.setAttribute("title",en)}},{key:"close",get:function get(){return this.getAttribute("close")},set:function set(en){en?this.setAttribute("close","true"):this.removeAttribute("close")}}],[{key:"observedAttributes",get:function get(){return["title","close"]}}]),SePromptDialog}();customElements.define("se-prompt-dialog",wQ);window.seAlert=function seAlert(en){var tn=new vQ;tn.textContent=en,tn.choices=["Ok"],tn.open()};var CQ=document.createElement("template");CQ.innerHTML='<style>\n    #dialog_content {\n        margin: 10px 10px 5px 10px;\n        background: #5a6162;\n        overflow: auto;\n        text-align: left;\n        border: 1px solid #c8c8c8;\n    }\n\n    #dialog_content p,\n    #dialog_content select,\n    #dialog_content label {\n        margin: 10px;\n        line-height: 0.3em;\n    }\n\n    #dialog_container {\n        font-family: Verdana;\n        text-align: center;\n        left: 50%;\n        top: 50%;\n        max-width: 400px;\n        z-index: 50001;\n        background: #5a6162;\n        border: 1px outset #777;\n        font-family: Verdana, Helvetica, sans-serif;\n        font-size: 0.8em;\n    }\n\n    #dialog_container,\n    #dialog_content {\n        border-radius: 5px;\n        -moz-border-radius: 5px;\n        -webkit-border-radius: 5px;\n    }\n\n    #dialog_buttons input[type=text] {\n        width: 90%;\n        display: block;\n        margin: 0 0 5px 11px;\n    }\n\n    #dialog_buttons input[type=button] {\n        margin: 0 1em;\n    }\n\n    .se-select {\n        text-align: center;\n    }\n\n    elix-number-spin-box {\n        margin-left: 15px;\n    }\n</style>\n<elix-dialog id="export_box" aria-label="export svg" closed>\n    <div class="overlay"></div>\n    <div id="dialog_container">\n        <div id="dialog_content">\n            <p class="se-select" id="export_select"></p>\n            <p class="se-select">\n                <select id="se-storage-pref">\n                    <option value="PNG">PNG</option>\n                    <option value="JPEG">JPEG</option>\n                    <option value="BMP">BMP</option>\n                    <option value="WEBP">WEBP</option>\n                    <option value="PDF">PDF</option>\n                </select>\n            </p>\n            <p id="se-quality">\n                <elix-number-spin-box min="-1" max="101" step="5" value="100"></elix-number-spin-box>\n            </p>\n        </div>\n        <div id="dialog_buttons">\n            <button id="export_ok"></button>\n            <button id="export_cancel"></button>\n        </div>\n    </div>\n</elix-dialog>';var xQ=function(en){_inherits$1(SeExportDialog,_wrapNativeSuper(HTMLElement));var tn=_createSuper$4(SeExportDialog);function SeExportDialog(){var en;return _classCallCheck$1(this,SeExportDialog),(en=tn.call(this))._shadowRoot=en.attachShadow({mode:"open"}),en._shadowRoot.append(CQ.content.cloneNode(!0)),en.$dialog=en._shadowRoot.querySelector("#export_box"),en.$okBtn=en._shadowRoot.querySelector("#export_ok"),en.$cancelBtn=en._shadowRoot.querySelector("#export_cancel"),en.$exportOption=en._shadowRoot.querySelector("#se-storage-pref"),en.$qualityCont=en._shadowRoot.querySelector("#se-quality"),en.$input=en._shadowRoot.querySelector("elix-number-spin-box"),en.value=1,en}return _createClass$1(SeExportDialog,[{key:"init",value:function init(en){this.setAttribute("common-ok",en.t("common.ok")),this.setAttribute("common-cancel",en.t("common.cancel")),this.setAttribute("ui-quality",en.t("ui.quality")),this.setAttribute("ui-export_type_label",en.t("ui.export_type_label"))}},{key:"attributeChangedCallback",value:function attributeChangedCallback(en,tn,nn){switch(en){case"dialog":"open"===nn?this.$dialog.open():this.$dialog.close();break;case"common-ok":this.$okBtn.textContent=nn;break;case"common-cancel":this.$cancelBtn.textContent=nn;break;case"ui-quality":this._shadowRoot.querySelector("#se-quality").prepend(nn);break;case"ui-export_type_label":this._shadowRoot.querySelector("#export_select").textContent=nn}}},{key:"dialog",get:function get(){return this.getAttribute("dialog")},set:function set(en){this.setAttribute("dialog",en)}},{key:"connectedCallback",value:function connectedCallback(){var en=this;this.$input.addEventListener("change",(function(tn){tn.preventDefault(),en.value=tn.target.value})),svgEditor.$click(this.$input,(function(tn){tn.preventDefault(),en.value=tn.target.value}));var tn=function onSubmitHandler(tn,nn){if("cancel"===nn)document.getElementById("se-export-dialog").setAttribute("dialog","close");else{var rn=new CustomEvent("change",{detail:{trigger:nn,imgType:en.$exportOption.value,quality:en.value}});en.dispatchEvent(rn),document.getElementById("se-export-dialog").setAttribute("dialog","close")}};svgEditor.$click(this.$okBtn,(function(en){return tn(0,"ok")})),svgEditor.$click(this.$cancelBtn,(function(en){return tn(0,"cancel")})),this.$exportOption.addEventListener("change",(function(tn){return function onChangeHandler(tn){"PDF"===tn.target.value?en.$qualityCont.style.display="none":en.$qualityCont.style.display="block"}(tn)}))}}],[{key:"observedAttributes",get:function get(){return["dialog","common-ok","common-cancel","ui-quality","ui-export_type_label"]}}]),SeExportDialog}();customElements.define("se-export-dialog",xQ);var BQ=Object.freeze({__proto__:null}),_Q="http://www.w3.org/2000/svg",SQ=navigator.userAgent;
/**
 * Browser detection.
 * @module browser
 * @license MIT
 *
 * @copyright 2010 Jeff Schiller, 2010 Alexis Deveria
 */SQ.includes("AppleWebKit"),SQ.includes("Gecko/");var kQ=SQ.includes("Chrome/"),EQ=SQ.includes("Macintosh");!function(){var en=document.createElementNS(_Q,"svg"),tn=document.createElementNS(_Q,"svg");document.documentElement.append(en),tn.setAttribute("x",5),en.append(tn);var nn=document.createElementNS(_Q,"text");nn.textContent="a",tn.append(nn);try{nn.getStartPositionOfChar(0).x}catch(en){return!1}finally{en.remove()}}();var PQ=function isChrome(){return kQ},FQ=function isMac(){return EQ},LQ=function(){function ConfigObj(en){_classCallCheck$1(this,ConfigObj),this.defaultPrefs={lang:"en",bkgd_color:"#FFF",bkgd_url:"",img_save:"embed",save_notice_done:!1,export_notice_done:!1},this.defaultConfig={canvasName:"default",canvas_expansion:3,initFill:{color:"FF0000",opacity:1},initStroke:{width:5,color:"000000",opacity:1},text:{stroke_width:0,font_size:24,font_family:"Serif"},initOpacity:1,initTool:"select",exportWindowType:"new",wireframe:!1,showlayers:!1,no_save_warning:!1,imgPath:"./images",extPath:"./extensions",dimensions:[640,480],gridSnapping:!1,gridColor:"#000",baseUnit:"px",snappingStep:10,showRulers:!0,dynamicOutput:!1,preventAllURLConfig:!1,preventURLContentLoading:!1,lockExtensions:!1,noDefaultExtensions:!1,showGrid:!1,noStorageOnLoad:!1,forceStorage:!1,emptyStorageOnDecline:!1,avoidClientSide:!1,avoidClientSideDownload:!1,avoidClientSideOpen:!1},this.curPrefs={},this.urldata={},this.defaultExtensions=["ext-grid","ext-shapes","ext-pictograms","ext-text","ext-barcode"],this.curConfig={extensions:[],userExtensions:[],allowedOrigins:[]},this.editor=en}return _createClass$1(ConfigObj,[{key:"setupCurPrefs",value:function setupCurPrefs(){var en=_objectSpread2(_objectSpread2({},this.defaultPrefs),this.curPrefs);this.curPrefs=en}},{key:"setupCurConfig",value:function setupCurConfig(){var en=_objectSpread2(_objectSpread2({},this.defaultConfig),this.curConfig);en.noDefaultExtensions||(en.extensions=_toConsumableArray(this.defaultExtensions)),this.curConfig=en}},{key:"loadFromURL",value:function loadFromURL(){var en=this,tn=this,nn=new URL(location),rn=nn.search,an=nn.searchParams;if(rn){this.urldata={};var sn,An=_createForOfIteratorHelper(an.entries());try{for(An.s();!(sn=An.n()).done;){var cn=sn.value;this.urldata[cn[0]]=cn[1]}}catch(en){An.e(en)}finally{An.f()}if(["initStroke","initFill"].forEach((function(tn){an.has("".concat(tn,"[color]"))&&(void 0===en.urldata[tn]&&(en.urldata[tn]={}),en.urldata[tn].color=an.get("".concat(tn,"[color]")))})),an.has("bkgd_color")&&(this.urldata.bkgd_color="#"+an.get("bkgd_color")),this.urldata.dimensions&&(this.urldata.dimensions=this.urldata.dimensions.split(",")),this.urldata.extensions&&(this.urldata.extensions=/[:/\\]/.test(this.urldata.extensions)?"":this.urldata.extensions.split(",")),["userExtensions","imgPath"].forEach((function(en){tn.urldata[en]&&delete tn.urldata[en]})),this.setConfig(this.urldata,{overwrite:!1}),this.setupCurConfig(),!this.curConfig.preventURLContentLoading){var un=this.urldata.source;if(!un){var hn=an.get("source");null!=hn&&hn.startsWith("data:")&&(un=hn)}if(un)return void(un.startsWith("data:")?this.editor.loadFromDataURI(un):this.editor.loadFromString(un));if(this.urldata.url)return void this.editor.loadFromURL(this.urldata.url)}this.urldata.noStorageOnLoad&&!this.curConfig.forceStorage||this.loadContentAndPrefs()}else this.setupCurConfig(),this.loadContentAndPrefs()}},{key:"loadContentAndPrefs",value:function loadContentAndPrefs(){var en=this;(this.curConfig.forceStorage||!this.curConfig.noStorageOnLoad&&/(?:^|;\s*)svgeditstore=(?:prefsAndContent|prefsOnly)/.test(document.cookie))&&Object.keys(this.defaultPrefs).forEach((function(tn){var nn="svg-edit-"+tn;if(en.editor.storage){var rn=en.editor.storage.getItem(nn);rn&&(en.defaultPrefs[tn]=String(rn))}else if(window.widget)en.defaultPrefs[tn]=window.widget.preferenceForKey(nn);else{var an=document.cookie.match(new RegExp("(?:^|;\\s*)"+function regexEscape(en){return String(en).replace(/[.\\+*?[^\]$(){}=!<>|:-]/g,"\\$&")}(encodeURIComponent(nn))+"=([^;]+)"));en.defaultPrefs[tn]=an?decodeURIComponent(an[1]):""}}))}},{key:"setConfig",value:function setConfig(en){var tn=this,nn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},rn=function extendOrAdd(en,tn,nn){en[tn]&&"object"===_typeof$3(en[tn])&&!Array.isArray(en[tn])?en[tn]=mergeDeep(en[tn],nn):en[tn]=nn};Object.entries(en).forEach((function(en){var an=_slicedToArray(en,2),sn=an[0],An=an[1];if(tn.defaultPrefs[sn]){if(!1===nn.overwrite&&(tn.curConfig.preventAllURLConfig||tn.curPrefs[sn]))return;!0===nn.allowInitialUserOverride?tn.defaultPrefs[sn]=An:tn.pref(sn,An)}else if(["extensions","userExtensions","allowedOrigins"].includes(sn)){if(!1===nn.overwrite&&(tn.curConfig.preventAllURLConfig||["allowedOrigins"].includes(sn)||"extensions"===sn&&tn.curConfig.lockExtensions))return;tn.curConfig[sn]=tn.curConfig[sn].concat(An)}else if({}.hasOwnProperty.call(tn.defaultConfig,sn)){if(!1===nn.overwrite&&(tn.curConfig.preventAllURLConfig||{}.hasOwnProperty.call(tn.curConfig,sn)))return;if({}.hasOwnProperty.call(tn.curConfig,sn)){if(!1===nn.overwrite)return;rn(tn.curConfig,sn,An)}else!0===nn.allowInitialUserOverride?rn(tn.defaultConfig,sn,An):tn.defaultConfig[sn]&&"object"===_typeof$3(tn.defaultConfig[sn])?(tn.curConfig[sn]=Array.isArray(tn.defaultConfig[sn])?[]:{},tn.curConfig[sn]=mergeDeep(tn.curConfig[sn],An)):tn.curConfig[sn]=An}}))}},{key:"pref",value:function pref(en,tn,nn){if(!nn&&!tn)return en in this.curPrefs?this.curPrefs[en]:this.defaultPrefs[en];this.curPrefs[en]=tn}},{key:"load",value:function load(){this.loadFromURL(this.editor),this.setupCurPrefs(this.editor)}}]),ConfigObj}(),IQ={},UQ=function hasCustomHandler(en){return Boolean(IQ[en])},TQ=function getCustomHandler(en){return IQ[en].action},QQ=function injectExtendedContextMenuItemsIntoDom(){Object.values(IQ).forEach((function(en){!function injectExtendedContextMenuItemIntoDom(en){Object.keys(IQ).length||document.getElementById("cmenu_canvas").appendChild("<li class='separator'>");var tn=en.shortcut||"";document.getElementById("cmenu_canvas").appendChild("\n    <li class='disabled'><a href='#".concat(en.id,"'>").concat(en.label,"<span class='shortcut'>").concat(tn,"</span></a></li>"))}(en)}))},NQ=Zf.$id,OQ=Zf.getTypeMap,MQ=function(){function Rulers(en){_classCallCheck$1(this,Rulers),this.rulerIntervals=[];for(var tn=.1;tn<1e5;tn*=10)this.rulerIntervals.push(tn),this.rulerIntervals.push(2*tn),this.rulerIntervals.push(5*tn);this.svgCanvas=en.svgCanvas,this.editor=en;var nn=document.createElement("template");nn.innerHTML='<style>\n  /* Rulers\n——————————————————————————————————————*/\n\n  #ruler_corner {\n    background: var(--ruler-color);\n    grid-area: corner;\n    width: 15px;\n    height: 15px;\n    overflow: hidden;\n  }\n\n  #ruler_x {\n    background: var(--ruler-color);\n    grid-area: rulerX;\n    height: 15px;\n    border-bottom: 1px solid;\n    border-left: 1px solid #777;\n    overflow: hidden;\n  }\n\n  #ruler_y {\n    background: var(--ruler-color);\n    grid-area: rulerY;\n    width: 15px;\n    border-right: 1px solid;\n    border-top: 1px solid #777;\n    overflow: hidden;\n  }\n\n  #ruler_x canvas {\n    float: left;\n  }\n</style>\n<div id="ruler_corner"></div>\n<div id="ruler_x">\n  <div>\n    <canvas height="15"></canvas>\n  </div>\n</div>\n<div id="ruler_y">\n  <div>\n    <canvas width="15"></canvas>\n  </div>\n</div>',this.editor.$svgEditor.append(nn.content.cloneNode(!0));var rn=Zf.$id;this.rulerX=rn("ruler_x"),this.rulerY=rn("ruler_y"),this.rulerCorner=rn("ruler_corner")}return _createClass$1(Rulers,[{key:"display",value:function display(en){en?(this.rulerX.style.removeProperty("display"),this.rulerY.style.removeProperty("display"),this.rulerCorner.style.removeProperty("display")):(this.rulerX.style.display="none",this.rulerY.style.display="none",this.rulerCorner.style.display="none")}},{key:"manageScroll",value:function manageScroll(){this.rulerX&&(this.rulerX.scrollLeft=this.editor.workarea.scrollLeft),this.rulerY&&(this.rulerY.scrollTop=this.editor.workarea.scrollTop)}},{key:"updateRulers",value:function updateRulers(en,tn){var nn,rn,an=this;tn||(tn=this.svgCanvas.getZoom()),en||(en=document.getElementById("svgcanvas"));var sn=3e4,An=this.svgCanvas.getSvgContent(),cn=OQ()[this.editor.configObj.curConfig.baseUnit],un=function _loop(){var un=0===nn,hn=un?"x":"y",dn=un?"width":"height",pn=Number(An.getAttribute(hn)),gn=NQ("ruler_"+hn).querySelector("canvas"),mn=gn.cloneNode(!0);gn.replaceWith(mn);var vn=mn,yn=void 0;"width"===dn?yn=parseFloat(getComputedStyle(en,null).width.replace("px","")):"height"===dn&&(yn=parseFloat(getComputedStyle(en,null).height.replace("px","")));var bn=yn;vn.parentNode.style[dn]=bn+"px";var wn=vn.getContext("2d"),Cn=void 0,xn=void 0,Bn=void 0;wn.fillStyle="rgb(200,0,0)",wn.fillRect(0,0,vn.width,vn.height);var _n=Array.prototype.filter.call(mn.parentNode.children,(function(en){return en!==mn}));if(Array.from(_n).forEach((function(en){en.remove()})),yn>=sn){var Sn;for(Bn=Number.parseInt(yn/sn)+1,(Cn=[])[0]=wn,rn=1;rn<Bn;rn++)vn[dn]=sn,Sn=vn.cloneNode(!0),vn.parentNode.append(Sn),Cn[rn]=Sn.getContext("2d");Sn[dn]=yn%sn,yn=sn}vn[dn]=yn;var kn=cn*tn,En=50/kn,Pn=1;for(rn=0;rn<an.rulerIntervals.length&&(Pn=xn=an.rulerIntervals[rn],!(En<=xn));rn++);var Fn=Pn*kn;wn.font="9px sans-serif";for(var Ln=pn/kn%Pn*kn,In=Ln-Fn,Un=0;Ln<bn;){In+=Fn;var Tn=Math.round(Ln)+.5;un?(wn.moveTo(Tn,15),wn.lineTo(Tn,0)):(wn.moveTo(15,Tn),wn.lineTo(0,Tn)),xn=(In-pn)/kn;var Qn=void 0;if(Pn>=1)Qn=Math.round(xn);else{var Nn=String(Pn).split(".")[1].length;Qn=xn.toFixed(Nn)}if(0!==Qn&&1e3!==Qn&&Qn%1e3==0&&(Qn=Qn/1e3+"K"),un)wn.fillText(Qn,Ln+2,8);else{var On=String(Qn).split("");for(rn=0;rn<On.length;rn++)wn.fillText(On[rn],1,Ln+9+9*rn)}var Mn=Fn/10;for(rn=1;rn<10;rn++){var Rn=Math.round(Ln+Mn*rn)+.5;if(Cn&&Rn>yn){if(Un++,wn.stroke(),Un>=Bn){rn=10,Ln=bn;continue}wn=Cn[Un],Ln-=sn,Rn=Math.round(Ln+Mn*rn)+.5}var Hn=rn%2?12:10;un?(wn.moveTo(Rn,15),wn.lineTo(Rn,Hn)):(wn.moveTo(15,Rn),wn.lineTo(Hn,Rn))}Ln+=Fn}wn.strokeStyle="#000",wn.stroke()};for(nn=0;nn<2;nn++)un()}}]),Rulers}(),RQ=function readySignal(){var en=window.opener||window.parent;if(en)try{var tn=new en.CustomEvent("svgEditorReady",{bubbles:!0,cancelable:!0});en.document.documentElement.dispatchEvent(tn)}catch(en){}},HQ=Zf.$id,DQ=Zf.$qq,$Q=Zf.$click,GQ=Zf.convertUnit,jQ=function(){function EditorStartup(en){_classCallCheck$1(this,EditorStartup),this.extensionsAdded=!1,this.messageQueue=[],this.$container=null!=en?en:HQ("svg_editor")}var en,tn;return _createClass$1(EditorStartup,[{key:"init",value:(tn=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee(){var en,tn,nn,rn,an,sn,An,cn,un,hn,dn,pn,gn,mn,vn,yn,bn,wn,Cn,xn,Bn,_n,kn,En,Pn,Fn,Ln,In,Un,Tn=this;return _regeneratorRuntime().wrap((function _callee$(Qn){for(;;)switch(Qn.prev=Qn.next){case 0:return Pn=function _getHeight(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight)},En=function _getWidth(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)},"localStorage"in window&&(this.storage=window.localStorage),this.configObj.load(),Qn.next=6,Sn(this.configObj.pref("lang"),this.goodLangs);case 6:return en=Qn.sent,tn=en.i18next,this.i18next=tn,Qn.next=11,Promise.resolve().then((function(){return $T}));case 11:return Qn.next=13,Promise.resolve().then((function(){return BQ}));case 13:try{(nn=document.createElement("template")).innerHTML='<div class="svg_editor">\n  <div id="workarea">\n    <div id="svgcanvas"></div>\n  </div>\n</div>',this.$container.append(nn.content.cloneNode(!0)),this.$svgEditor=DQ(".svg_editor"),this.$svgEditor.style.visibility="hidden",this.workarea=HQ("workarea"),(rn=document.createElement("se-img-prop-dialog")).setAttribute("id","se-img-prop"),this.$container.append(rn),rn.init(this.i18next),(an=document.createElement("se-edit-prefs-dialog")).setAttribute("id","se-edit-prefs"),this.$container.append(an),an.init(this.i18next),(sn=document.createElement("se-cmenu_canvas-dialog")).setAttribute("id","se-cmenu_canvas"),this.$container.append(sn),sn.init(this.i18next),(An=document.createElement("se-alert-dialog")).setAttribute("id","se-alert-dialog"),this.$container.append(An),(cn=document.createElement("se-prompt-dialog")).setAttribute("id","se-prompt-dialog"),this.$container.append(cn),(un=document.createElement("se-export-dialog")).setAttribute("id","se-export-dialog"),this.$container.append(un),un.init(this.i18next)}catch(en){console.error(en)}return this.svgCanvas=new Zf(HQ("svgcanvas"),this.configObj.curConfig),this.leftPanel.init(),this.bottomPanel.init(),this.topPanel.init(),this.layersPanel.init(),this.mainMenu.init(),hn=this.svgCanvas.undoMgr,this.canvMenu=HQ("se-cmenu_canvas"),this.exportWindow=null,this.defaultImageURL="".concat(this.configObj.curConfig.imgPath,"/logo.svg"),this.uiContext="toolbars",RQ(),this.rulers=new MQ(this),this.layersPanel.populateLayers(),this.selectedElement=null,this.multiselected=!1,dn=HQ("cur_context_panel"),$Q(dn,(function(en){var tn=en.target;return tn.hasAttribute("data-root")?Tn.svgCanvas.leaveContext():Tn.svgCanvas.setContext(tn.textContent),Tn.svgCanvas.clearSelection(),!1})),this.svgCanvas.bind("selected",this.selectedChanged.bind(this)),this.svgCanvas.bind("transition",this.elementTransition.bind(this)),this.svgCanvas.bind("changed",this.elementChanged.bind(this)),this.svgCanvas.bind("exported",this.exportHandler.bind(this)),this.svgCanvas.bind("exportedPDF",function(en,tn){tn.output&&(tn.exportWindowName&&(this.exportWindow=window.open("",this.exportWindowName)),this.exportWindow&&!this.exportWindow.closed?this.exportWindow.location.href=tn.output:seAlert(this.i18next.t("notification.popupWindowBlocked")))}.bind(this)),this.svgCanvas.bind("zoomed",this.zoomChanged.bind(this)),this.svgCanvas.bind("zoomDone",this.zoomDone.bind(this)),this.svgCanvas.bind("updateCanvas",function(en,tn){var nn=tn.center,rn=tn.newCtr;this.updateCanvas(nn,rn)}.bind(this)),this.svgCanvas.bind("contextset",this.contextChanged.bind(this)),this.svgCanvas.bind("extension_added",this.extAdded.bind(this)),this.svgCanvas.bind("elementRenamed",this.elementRenamed.bind(this)),this.svgCanvas.bind("beforeClear",this.beforeClear.bind(this)),this.svgCanvas.bind("afterClear",this.afterClear.bind(this)),this.svgCanvas.textActions.setInputElem(HQ("text")),this.setBackground(this.configObj.pref("bkgd_color"),this.configObj.pref("bkgd_url")),pn=this.svgCanvas.getResolution(),"px"!==this.configObj.curConfig.baseUnit&&(pn.w=GQ(pn.w)+this.configObj.curConfig.baseUnit,pn.h=GQ(pn.h)+this.configObj.curConfig.baseUnit),HQ("se-img-prop").setAttribute("dialog","close"),HQ("se-img-prop").setAttribute("title",this.svgCanvas.getDocumentTitle()),HQ("se-img-prop").setAttribute("width",pn.w),HQ("se-img-prop").setAttribute("height",pn.h),HQ("se-img-prop").setAttribute("save",this.configObj.pref("img_save")),gn=document.querySelectorAll("select"),Array.from(gn).forEach((function(en){en.addEventListener("change",(function(en){en.currentTarget.blur()}))})),mn=!1,HQ("selLayerNames").addEventListener("change",(function(en){var tn=en.detail.value,nn=Tn.i18next.t("notification.QmoveElemsToLayer").replace("%s",tn),rn=function moveToLayer(en){en&&(mn=!0,Tn.svgCanvas.moveSelectedToLayer(tn),Tn.svgCanvas.clearSelection(),Tn.layersPanel.populateLayers())};if(tn)if(mn)rn(!0);else{if(!seConfirm(nn))return;rn(!0)}})),HQ("tool_font_family").addEventListener("change",(function(en){Tn.svgCanvas.setFontFamily(en.detail.value)})),HQ("seg_type").addEventListener("change",(function(en){Tn.svgCanvas.setSegType(en.detail.value)})),vn=function addListenerMulti(en,tn,nn){tn.split(" ").forEach((function(tn){return en.addEventListener(tn,nn,!1)}))},vn(HQ("text"),"keyup input",(function(en){Tn.svgCanvas.setTextContent(en.currentTarget.value)})),HQ("link_url").addEventListener("change",(function(en){en.currentTarget.value.length?Tn.svgCanvas.setLinkURL(en.currentTarget.value):Tn.svgCanvas.removeHyperlink()})),HQ("g_title").addEventListener("change",(function(en){Tn.svgCanvas.setGroupTitle(en.currentTarget.value)})),yn=null,bn=null,wn=!1,Cn=!1,HQ("svgcanvas").addEventListener("mouseup",(function(en){return!1===wn||(Tn.workarea.scrollLeft-=en.clientX-yn,Tn.workarea.scrollTop-=en.clientY-bn,yn=en.clientX,bn=en.clientY,"mouseup"===en.type&&(wn=!1),!1)})),HQ("svgcanvas").addEventListener("mousemove",(function(en){return!1===wn||(Tn.workarea.scrollLeft-=en.clientX-yn,Tn.workarea.scrollTop-=en.clientY-bn,yn=en.clientX,bn=en.clientY,"mouseup"===en.type&&(wn=!1),!1)})),HQ("svgcanvas").addEventListener("mousedown",(function(en){return 1!==en.button&&!0!==Cn||(wn=!0,yn=en.clientX,bn=en.clientY,!1)})),window.addEventListener("mouseup",(function(){wn=!1})),document.addEventListener("keydown",(function(en){"BODY"===en.target.nodeName&&("space"===en.code.toLowerCase()?(Tn.svgCanvas.spaceKey=Cn=!0,en.preventDefault()):"shift"===en.key.toLowerCase()&&"zoom"===Tn.svgCanvas.getMode()&&(Tn.workarea.style.cursor="crosshair",en.preventDefault()))})),document.addEventListener("keyup",(function(en){"BODY"===en.target.nodeName&&("space"===en.code.toLowerCase()?(Tn.svgCanvas.spaceKey=Cn=!1,en.preventDefault()):"shift"===en.key.toLowerCase()&&"zoom"===Tn.svgCanvas.getMode()&&(Tn.workarea.style.cursor="crosshair",en.preventDefault()))})),this.setPanning=function(en){Tn.svgCanvas.spaceKey=Cn=en},Bn=function unfocus(){xn.blur()},_n=this.$svgEditor.querySelectorAll("button, select, input:not(#text)"),kn=this,Array.prototype.forEach.call(_n,(function(en){en.addEventListener("focus",(function(en){xn=en.currentTarget,kn.uiContext="toolbars",kn.workarea.addEventListener("mousedown",Bn)})),en.addEventListener("blur",(function(){kn.uiContext="canvas",kn.workarea.removeEventListener("mousedown",Bn),"textedit"===kn.svgCanvas.getMode()&&HQ("text").focus()}))})),Fn={width:En(),height:Pn()},window.addEventListener("resize",(function(){Object.entries(Fn).forEach((function(en){var tn=_slicedToArray(en,2),nn=tn[0],rn=tn[1],an="width"===nn?window.innerWidth-15:window.innerHeight;Tn.workarea["scroll"+("width"===nn?"Left":"Top")]-=(an-rn)/2,Fn[nn]=an}))})),this.workarea.addEventListener("scroll",(function(){Tn.rulers.manageScroll()})),HQ("stroke_width").value=this.configObj.curConfig.initStroke.width,HQ("opacity").value=100*this.configObj.curConfig.initOpacity,Ln=document.getElementsByClassName("push_button"),Array.from(Ln).forEach((function(en){en.addEventListener("mousedown",(function(en){en.currentTarget.classList.contains("disabled")||(en.currentTarget.classList.add("push_button_pressed"),en.currentTarget.classList.remove("push_button"))})),en.addEventListener("mouseout",(function(en){en.currentTarget.classList.add("push_button"),en.currentTarget.classList.remove("push_button_pressed")})),en.addEventListener("mouseup",(function(en){en.currentTarget.classList.add("push_button"),en.currentTarget.classList.remove("push_button_pressed")}))})),this.layersPanel.populateLayers(),vn(window,"load resize",(function centerCanvas(){Tn.workarea.style.lineHeight=Tn.workarea.style.height})),In=document.querySelectorAll("input"),Array.from(In).forEach((function(en){en.setAttribute("autocomplete","off")})),Un=document.querySelectorAll("select"),Array.from(Un).forEach((function(en){en.setAttribute("autocomplete","off")})),HQ("se-svg-editor-dialog").addEventListener("change",function(en){var tn,nn,rn;"click"===(null==en||null===(tn=en.detail)||void 0===tn?void 0:tn.copy)?this.cancelOverlays(en):"dynamic"===(null==en||null===(nn=en.detail)||void 0===nn?void 0:nn.dialog)?this.toggleDynamicOutput(en):"closed"===(null==en||null===(rn=en.detail)||void 0===rn?void 0:rn.dialog)?this.hideSourceEditor():this.saveSourceEditor(en)}.bind(this)),HQ("se-cmenu_canvas").addEventListener("change",function(en){var tn,nn=null==en||null===(tn=en.detail)||void 0===tn?void 0:tn.trigger;switch(nn){case"delete":this.svgCanvas.deleteSelectedElements();break;case"cut":this.cutSelected();break;case"copy":this.copySelected();break;case"paste":this.svgCanvas.pasteElements();break;case"paste_in_place":this.svgCanvas.pasteElements("in_place");break;case"group":case"group_elements":this.svgCanvas.groupSelectedElements();break;case"ungroup":this.svgCanvas.ungroupSelectedElement();break;case"move_front":this.svgCanvas.moveToTopSelectedElement();break;case"move_up":this.moveUpDownSelected("Up");break;case"move_down":this.moveUpDownSelected("Down");break;case"move_back":this.svgCanvas.moveToBottomSelectedElement();break;default:UQ(nn)&&TQ(nn).call()}}.bind(this)),this.ready(function(){var en=HQ("tool_".concat(this.configObj.curConfig.initTool)),tn=HQ(this.configObj.curConfig.initTool),nn=HQ("tool_select"),rn=HQ("se-edit-prefs");en?en.click():tn?tn.click():nn.click(),this.configObj.curConfig.wireframe&&HQ("tool_wireframe").click(),this.configObj.curConfig.showRulers?this.rulers.display(!0):this.rulers.display(!1),this.configObj.curConfig.showRulers&&rn.setAttribute("showrulers",!0),this.configObj.curConfig.baseUnit&&rn.setAttribute("baseunit",this.configObj.curConfig.baseUnit),this.configObj.curConfig.gridSnapping&&rn.setAttribute("gridsnappingon",!0),this.configObj.curConfig.snappingStep&&rn.setAttribute("gridsnappingstep",this.configObj.curConfig.snappingStep),this.configObj.curConfig.gridColor&&rn.setAttribute("gridcolor",this.configObj.curConfig.gridColor),this.configObj.curConfig.dynamicOutput&&rn.setAttribute("dynamicoutput",!0)}.bind(this)),HQ("zoom").value=(100*this.svgCanvas.getZoom()).toFixed(1),this.canvMenu.setAttribute("disableallmenu",!0),this.canvMenu.setAttribute("enablemenuitems","#delete,#cut,#copy"),this.enableOrDisableClipboard(),window.addEventListener("storage",function(en){"svgedit_clipboard"===en.key&&this.enableOrDisableClipboard()}.bind(this)),window.addEventListener("beforeunload",function(en){return 0===hn.getUndoStackSize()&&(this.showSaveWarning=!1),!(!this.configObj.curConfig.no_save_warning&&this.showSaveWarning)||(en.returnValue=this.i18next.t("notification.unsavedChanges"),this.i18next.t("notification.unsavedChanges"))}.bind(this)),this.workarea.addEventListener("dragenter",this.onDragEnter),this.workarea.addEventListener("dragover",this.onDragOver),this.workarea.addEventListener("dragleave",this.onDragLeave),this.updateCanvas(!0),this.extAndLocaleFunc(),this.ready((function(){QQ()})),Qn.next=112,this.runCallbacks();case 112:case"end":return Qn.stop()}}),_callee,this)}))),function init(){return tn.apply(this,arguments)})},{key:"extAndLocaleFunc",value:(en=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee4(){var en=this;return _regeneratorRuntime().wrap((function _callee4$(tn){for(;;)switch(tn.prev=tn.next){case 0:return this.$svgEditor.style.visibility="visible",tn.prev=1,tn.next=4,Promise.all(this.configObj.curConfig.extensions.map(function(){var tn=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee2(tn){var nn,rn,an,sn,An,cn;return _regeneratorRuntime().wrap((function _callee2$(un){for(;;)switch(un.prev=un.next){case 0:return un.prev=0,nn=en.configObj.curConfig.extPath,un.next=4,import("".concat(nn,"/").concat(encodeURIComponent(tn),"/").concat(encodeURIComponent(tn),".js"));case 4:return rn=un.sent,an=rn.default,sn=an.name,An=void 0===sn?tn:sn,cn=an.init,un.abrupt("return",en.addExtension(An,cn&&cn.bind(en),{langParam:"en"}));case 9:return un.prev=9,un.t0=un.catch(0),console.error("Extension failed to load: "+tn+"; ",un.t0),un.abrupt("return",void 0);case 13:case"end":return un.stop()}}),_callee2,null,[[0,9]])})));return function(en){return tn.apply(this,arguments)}}()));case 4:return tn.next=6,Promise.all(this.configObj.curConfig.userExtensions.map(function(){var tn=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee3(tn){var nn,rn,an,sn,An,cn;return _regeneratorRuntime().wrap((function _callee3$(un){for(;;)switch(un.prev=un.next){case 0:return nn=tn.pathName,rn=tn.config,un.prev=1,un.next=4,import(encodeURI(nn));case 4:return an=un.sent,sn=an.default,An=sn.name,cn=sn.init,un.abrupt("return",en.addExtension(An,cn&&cn.bind(en,rn),{}));case 9:return un.prev=9,un.t0=un.catch(1),console.error("Extension failed to load: "+nn+"; ",un.t0),un.abrupt("return",void 0);case 13:case"end":return un.stop()}}),_callee3,null,[[1,9]])})));return function(en){return tn.apply(this,arguments)}}()));case 6:this.svgCanvas.bind("extensions_added",(function(tn,nn){en.extensionsAdded=!0,en.setAll(),"ignore"===en.storagePromptState&&en.updateCanvas(!0),en.messageQueue.forEach((function(tn){en.svgCanvas.call("message",tn)}))})),this.svgCanvas.call("extensions_added"),tn.next=13;break;case 10:tn.prev=10,tn.t0=tn.catch(1),console.error(tn.t0);case 13:case"end":return tn.stop()}}),_callee4,this,[[1,10]])}))),function extAndLocaleFunc(){return en.apply(this,arguments)})}]),EditorStartup}(),VQ=Zf.$id,KQ=Zf.$qa,qQ=Zf.$click,zQ=function(){function LeftPanel(en){_classCallCheck$1(this,LeftPanel),this.editor=en}return _createClass$1(LeftPanel,[{key:"updateLeftPanel",value:function updateLeftPanel(en){return!en.disabled&&(KQ("#tools_left *[pressed]").forEach((function(en){en.pressed=!1})),VQ(en).pressed=!0,!0)}},{key:"clickSelect",value:function clickSelect(){this.updateLeftPanel("tool_select")&&(this.editor.workarea.style.cursor="auto",this.editor.svgCanvas.setMode("select"))}},{key:"clickFHPath",value:function clickFHPath(){this.updateLeftPanel("tool_fhpath")&&this.editor.svgCanvas.setMode("fhpath")}},{key:"clickLine",value:function clickLine(){this.updateLeftPanel("tool_line")&&this.editor.svgCanvas.setMode("line")}},{key:"clickSquare",value:function clickSquare(){this.updateLeftPanel("tool_square")&&this.editor.svgCanvas.setMode("square")}},{key:"clickRect",value:function clickRect(){this.updateLeftPanel("tool_rect")&&this.editor.svgCanvas.setMode("rect")}},{key:"clickFHRect",value:function clickFHRect(){this.updateLeftPanel("tool_fhrect")&&this.editor.svgCanvas.setMode("fhrect")}},{key:"clickCircle",value:function clickCircle(){this.updateLeftPanel("tool_circle")&&this.editor.svgCanvas.setMode("circle")}},{key:"clickEllipse",value:function clickEllipse(){this.updateLeftPanel("tool_ellipse")&&this.editor.svgCanvas.setMode("ellipse")}},{key:"clickFHEllipse",value:function clickFHEllipse(){this.updateLeftPanel("tool_fhellipse")&&this.editor.svgCanvas.setMode("fhellipse")}},{key:"clickImage",value:function clickImage(){this.updateLeftPanel("tool_image")&&this.editor.svgCanvas.setMode("image")}},{key:"clickZoom",value:function clickZoom(){this.updateLeftPanel("tool_zoom")&&(this.editor.svgCanvas.setMode("zoom"),this.editor.workarea.style.cursor=this.editor.zoomInIcon)}},{key:"dblclickZoom",value:function dblclickZoom(){this.updateLeftPanel("tool_zoom")&&(this.editor.zoomImage(),this.clickSelect())}},{key:"clickText",value:function clickText(){this.updateLeftPanel("tool_text")&&this.editor.svgCanvas.setMode("text")}},{key:"clickPath",value:function clickPath(){this.updateLeftPanel("tool_path")&&this.editor.svgCanvas.setMode("path")}},{key:"add",value:function add(en,tn){var nn=this;qQ(VQ(en),(function(){nn.updateLeftPanel(en)&&tn()}))}},{key:"init",value:function init(){var en=document.createElement("template");en.innerHTML='<div id="tools_left">\n    <se-button id="tool_select" title="tools.mode_select" src="select.svg"></se-button>\n    <se-button id="tool_zoom" title="tools.mode_zoom" src="zoom.svg" shortcut="Z"></se-button>\n    <se-button id="tool_fhpath" title="tools.mode_fhpath" src="pencil.svg" shortcut="Q"></se-button>\n    <se-button id="tool_line" title="tools.mode_line" src="pen.svg" shortcut="L"></se-button>\n    <se-button id="tool_path" title="tools.mode_path" src="path.svg" shortcut="P"></se-button>\n    <se-flyingbutton id="tools_rect" title="tools.square_rect_tool">\n        <se-button id="tool_rect" title="tools.mode_rect" src="rect.svg" shortcut="R"></se-button>\n        <se-button id="tool_square" title="tools.mode_square" src="square.svg"></se-button>\n        <se-button id="tool_fhrect" title="tools.mode_fhrect" src="fh_rect.svg"></se-button>\n    </se-flyingbutton>\n    <se-flyingbutton id="tools_ellipse" title="tools.ellipse_circle_tool">\n        <se-button id="tool_ellipse" title="tools.mode_ellipse" src="ellipse.svg" shortcut="E"></se-button>\n        <se-button id="tool_circle" title="tools.mode_circle" src="circle.svg"></se-button>\n        <se-button id="tool_fhellipse" title="tools.mode_fhellipse" src="fh_ellipse.svg"></se-button>\n    </se-flyingbutton>\n    <se-button id="tool_text" title="tools.mode_text" src="text.svg" shortcut="T"></se-button>\n    <se-button id="tool_image" title="tools.mode_image" src="image.svg"></se-button>\n</div>',this.editor.$svgEditor.append(en.content.cloneNode(!0)),qQ(VQ("tool_select"),this.clickSelect.bind(this)),qQ(VQ("tool_fhpath"),this.clickFHPath.bind(this)),qQ(VQ("tool_text"),this.clickText.bind(this)),qQ(VQ("tool_image"),this.clickImage.bind(this)),qQ(VQ("tool_zoom"),this.clickZoom.bind(this)),VQ("tool_zoom").addEventListener("dblclick",this.dblclickZoom.bind(this)),qQ(VQ("tool_path"),this.clickPath.bind(this)),qQ(VQ("tool_line"),this.clickLine.bind(this)),qQ(VQ("tool_rect"),this.clickRect.bind(this)),qQ(VQ("tool_square"),this.clickSquare.bind(this)),qQ(VQ("tool_fhrect"),this.clickFHRect.bind(this)),qQ(VQ("tool_ellipse"),this.clickEllipse.bind(this)),qQ(VQ("tool_circle"),this.clickCircle.bind(this)),qQ(VQ("tool_fhellipse"),this.clickFHEllipse.bind(this))}}]),LeftPanel}(),WQ=Zf.$qa,XQ=Zf.$id,YQ=Zf.$click,JQ=Zf.isValidUnit,ZQ=Zf.getTypeMap,eN=Zf.convertUnit,tN=function(){function TopPanel(en){_classCallCheck$1(this,TopPanel),this.editor=en}return _createClass$1(TopPanel,[{key:"displayTool",value:function displayTool(en){WQ(".".concat(en)).map((function(en){return en.style.removeProperty("display")}))}},{key:"hideTool",value:function hideTool(en){WQ(".".concat(en)).forEach((function(en){en.style.display="none"}))}},{key:"selectedElement",get:function get(){return this.editor.selectedElement}},{key:"multiselected",get:function get(){return this.editor.multiselected}},{key:"path",get:function get(){return this.editor.svgCanvas.pathActions}},{key:"setStrokeOpt",value:function setStrokeOpt(en,tn){var nn=_slicedToArray(en.id.split("_"),2),rn=nn[0],an=nn[1];tn&&this.svgCanvas.setStrokeAttr("stroke-"+rn,an),en.classList.add("current");var sn=Array.prototype.filter.call(en.parentNode.children,(function(tn){return tn!==en}));Array.from(sn).forEach((function(en){en.classList.remove("current")}))}},{key:"update",value:function update(){var en,tn;if(WQ("#title_panel > p")[0].textContent=this.editor.title,this.selectedElement)switch(this.selectedElement.tagName){case"use":case"image":case"foreignObject":break;case"g":case"a":var nn=this.selectedElement.getElementsByTagName("*"),rn=null;for(en=0,tn=nn.length;en<tn;en++){var an=nn[en].getAttribute("stroke-width");0===en?rn=an:rn!==an&&(rn=null)}XQ("stroke_width").value=null===rn?"":rn,this.editor.bottomPanel.updateColorpickers(!1);break;default:this.editor.bottomPanel.updateColorpickers(!1),XQ("stroke_width").value=this.selectedElement.getAttribute("stroke-width")||1,XQ("stroke_style").value=this.selectedElement.getAttribute("stroke-dasharray")||"none",XQ("stroke_style").setAttribute("value",XQ("stroke_style").value);var sn=this.selectedElement.getAttribute("stroke-linejoin")||"miter";XQ("linejoin_"+sn)&&(this.setStrokeOpt(XQ("linejoin_"+sn)),XQ("stroke_linejoin").setAttribute("value",sn)),sn=this.selectedElement.getAttribute("stroke-linecap")||"butt",XQ("linecap_"+sn)&&(this.setStrokeOpt(XQ("linecap_"+sn)),XQ("stroke_linecap").setAttribute("value",sn))}if(this.selectedElement){var An,cn=100*(this.selectedElement.getAttribute("opacity")||1);XQ("opacity").value=cn,XQ("elem_id").value=this.selectedElement.id,XQ("elem_class").value=null!==(An=this.selectedElement.getAttribute("class"))&&void 0!==An?An:""}this.editor.bottomPanel.updateToolButtonState()}},{key:"promptImgURL",value:function promptImgURL(){var en=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},tn=en.cancelDeletes,nn=void 0!==tn&&tn,rn=this.editor.svgCanvas.getHref(this.editor.selectedElement);rn=rn.startsWith("data:")?"":rn;var an=prompt(this.editor.i18next.t("notification.enterNewImgURL"),rn);an?this.setImageURL(an):nn&&this.editor.svgCanvas.deleteSelectedElements()}},{key:"updateContextPanel",value:function updateContextPanel(){var en,tn=this,nn=this.editor.selectedElement;null!==(en=nn)&&void 0!==en&&en.parentNode||(nn=null);var rn=this.editor.svgCanvas.getCurrentDrawing().getCurrentLayerName(),an=this.editor.svgCanvas.getMode(),sn="px"!==this.editor.configObj.curConfig.baseUnit?this.editor.configObj.curConfig.baseUnit:null,An="pathedit"===an,cn=document.getElementById("se-cmenu_canvas");if(this.hideTool("selected_panel"),this.hideTool("multiselected_panel"),this.hideTool("g_panel"),this.hideTool("rect_panel"),this.hideTool("circle_panel"),this.hideTool("ellipse_panel"),this.hideTool("line_panel"),this.hideTool("text_panel"),this.hideTool("image_panel"),this.hideTool("container_panel"),this.hideTool("use_panel"),this.hideTool("a_panel"),this.hideTool("xy_panel"),nn){var un=nn.nodeName,hn=this.editor.svgCanvas.getRotationAngle(nn);XQ("angle").value=hn;var dn=10*this.editor.svgCanvas.getBlur(nn);if(XQ("blur").value=dn,this.editor.svgCanvas.addedNew&&"image"===un&&"image"===this.editor.svgCanvas.getMode()&&!this.editor.svgCanvas.getHref(nn).startsWith("data:")&&this.promptImgURL({cancelDeletes:!0}),An||"pathedit"===an){var pn=this.path.getNodePoint();if(XQ("tool_add_subpath").pressed=!1,this.path.canDeleteNodes?XQ("tool_node_delete").classList.remove("disabled"):XQ("tool_node_delete").classList.add("disabled"),pn){var gn=XQ("seg_type");sn&&(pn.x=eN(pn.x),pn.y=eN(pn.y)),XQ("path_node_x").value=pn.x,XQ("path_node_y").value=pn.y,pn.type?(gn.value=pn.type,gn.removeAttribute("disabled")):(gn.value=4,gn.setAttribute("disabled","disabled"))}return}if(this.displayTool("selected_panel"),["line","circle","ellipse"].includes(un))this.hideTool("xy_panel");else{var mn,vn;if(["g","polyline","path"].includes(un)){var yn=this.editor.svgCanvas.getStrokedBBox([nn]);yn&&(mn=yn.x,vn=yn.y)}else mn=nn.getAttribute("x"),vn=nn.getAttribute("y");sn&&(mn=eN(mn),vn=eN(vn)),XQ("selected_x").value=mn||0,XQ("selected_y").value=vn||0,this.displayTool("xy_panel")}["image","text","path","g","use"].includes(un)?this.hideTool("tool_topath"):this.displayTool("tool_topath"),"path"===un?this.displayTool("tool_reorient"):this.hideTool("tool_reorient"),XQ("tool_reorient").disabled=0===hn;var bn={g:[],a:[],rect:["rx","width","height"],image:["width","height"],circle:["cx","cy","r"],ellipse:["cx","cy","rx","ry"],line:["x1","y1","x2","y2"],text:[],use:[]},wn=nn.tagName,Cn=null;if("a"===wn&&(Cn=this.editor.svgCanvas.getHref(nn),this.displayTool("g_panel")),nn.parentNode){var xn=Array.prototype.filter.call(nn.parentNode.children,(function(en){return en!==nn}));"a"!==nn.parentNode.tagName||xn.length||(this.displayTool("a_panel"),Cn=this.editor.svgCanvas.getHref(nn.parentNode))}if(Cn?(this.displayTool("tool_make_link"),this.displayTool("tool_make_link_multi"),XQ("link_url").value=Cn):(this.hideTool("tool_make_link"),this.hideTool("tool_make_link_multi")),bn[wn]){var Bn,_n,Sn,kn,En=bn[wn];if(this.displayTool(wn+"_panel"),En.forEach((function(en){var rn=nn.getAttribute(en);if("px"!==tn.editor.configObj.curConfig.baseUnit&&nn[en]){var an=nn[en].baseVal.value;rn=eN(an)}XQ("".concat(wn,"_").concat(en)).value=rn||0})),"text"===wn)this.displayTool("text_panel"),XQ("tool_italic").pressed=this.editor.svgCanvas.getItalic(),XQ("tool_bold").pressed=this.editor.svgCanvas.getBold(),XQ("tool_text_decoration_underline").pressed=this.editor.svgCanvas.hasTextDecoration("underline"),XQ("tool_text_decoration_linethrough").pressed=this.editor.svgCanvas.hasTextDecoration("line-through"),XQ("tool_text_decoration_overline").pressed=this.editor.svgCanvas.hasTextDecoration("overline"),XQ("tool_font_family").setAttribute("value",nn.getAttribute("font-family")),XQ("tool_text_anchor").setAttribute("value",nn.getAttribute("text-anchor")),XQ("font_size").value=nn.getAttribute("font-size"),XQ("tool_letter_spacing").value=null!==(Bn=nn.getAttribute("letter-spacing"))&&void 0!==Bn?Bn:0,XQ("tool_word_spacing").value=null!==(_n=nn.getAttribute("word-spacing"))&&void 0!==_n?_n:0,XQ("tool_text_length").value=null!==(Sn=nn.getAttribute("textLength"))&&void 0!==Sn?Sn:0,XQ("tool_length_adjust").value=null!==(kn=nn.getAttribute("lengthAdjust"))&&void 0!==kn?kn:0,XQ("text").value=nn.textContent,this.editor.svgCanvas.addedNew&&setTimeout((function(){XQ("text").focus(),XQ("text").select()}),100);else if("image"===wn&&"image"===this.editor.svgCanvas.getMode())this.editor.svgCanvas.setImageURL(this.editor.svgCanvas.getHref(nn));else if("g"===wn||"use"===wn){this.displayTool("container_panel");var Pn=this.editor.svgCanvas.getTitle();XQ("g_title").value=Pn,XQ("g_title").disabled="use"===wn}}cn.setAttribute(("g"===wn?"en":"dis")+"ablemenuitems","#ungroup"),cn.setAttribute(("g"!==wn&&this.multiselected?"en":"dis")+"ablemenuitems","#group")}else if(this.multiselected){this.editor.svgCanvas.getSelectedElements().every((function(en){return"text"===en.tagName}))&&this.displayTool("text_panel"),this.displayTool("multiselected_panel"),cn.setAttribute("enablemenuitems","#group"),cn.setAttribute("disablemenuitems","#ungroup")}else cn.setAttribute("disablemenuitems","#delete,#cut,#copy,#group,#ungroup,#move_front,#move_up,#move_down,#move_back");(XQ("tool_undo").disabled=0===this.editor.svgCanvas.undoMgr.getUndoStackSize(),XQ("tool_redo").disabled=0===this.editor.svgCanvas.undoMgr.getRedoStackSize(),this.editor.svgCanvas.addedNew=!1,nn&&!An||this.multiselected)?(XQ("selLayerNames").removeAttribute("disabled"),XQ("selLayerNames").value=rn,XQ("selLayerNames").setAttribute("value",rn),document.getElementById("se-cmenu_canvas").setAttribute("enablemenuitems","#delete,#cut,#copy,#move_front,#move_up,#move_down,#move_back")):XQ("selLayerNames").setAttribute("disabled","disabled")}},{key:"showSourceEditor",value:function showSourceEditor(en,tn){var nn=document.getElementById("se-svg-editor-dialog");if("open"!==nn.getAttribute("dialog")){var rn=this.editor.svgCanvas.getSvgString();nn.setAttribute("dialog","open"),nn.setAttribute("value",rn),nn.setAttribute("copysec",Boolean(tn)),nn.setAttribute("applysec",!tn)}}},{key:"clickWireframe",value:function clickWireframe(){XQ("tool_wireframe").pressed=!XQ("tool_wireframe").pressed,this.editor.workarea.classList.toggle("wireframe");var en=XQ("wireframe_rules");if(en)for(;en.firstChild;)en.removeChild(en.firstChild);else{var tn=document.createElement("style");tn.setAttribute("id","wireframe_rules"),document.getElementsByTagName("head")[0].appendChild(tn)}this.editor.updateWireFrame()}},{key:"clickUndo",value:function clickUndo(){var en=this.editor.svgCanvas,tn=en.undoMgr,nn=en.textActions;tn.getUndoStackSize()>0&&(tn.undo(),this.editor.layersPanel.populateLayers(),"textedit"===this.editor.svgCanvas.getMode()&&nn.clear())}},{key:"clickRedo",value:function clickRedo(){var en=this.editor.svgCanvas.undoMgr;en.getRedoStackSize()>0&&(en.redo(),this.editor.layersPanel.populateLayers())}},{key:"changeRectRadius",value:function changeRectRadius(en){this.editor.svgCanvas.setRectRadius(en.target.value)}},{key:"changeFontSize",value:function changeFontSize(en){this.editor.svgCanvas.setFontSize(en.target.value)}},{key:"changeRotationAngle",value:function changeRotationAngle(en){this.editor.svgCanvas.setRotationAngle(en.target.value),0===Number.parseInt(en.target.value)?XQ("tool_reorient").classList.add("disabled"):XQ("tool_reorient").classList.remove("disabled")}},{key:"changeBlur",value:function changeBlur(en){this.editor.svgCanvas.setBlur(en.target.value/10,!0)}},{key:"clickGroup",value:function clickGroup(){this.editor.multiselected?this.editor.svgCanvas.groupSelectedElements():this.editor.selectedElement&&this.editor.svgCanvas.ungroupSelectedElement()}},{key:"clickClone",value:function clickClone(){this.editor.svgCanvas.cloneSelectedElements(20,20)}},{key:"clickAlignEle",value:function clickAlignEle(en){this.editor.svgCanvas.alignSelectedElements(en.detail.value,"page")}},{key:"clickAlign",value:function clickAlign(en){var tn=XQ("tool_align_relative").value;""===tn&&(tn="selected"),this.editor.svgCanvas.alignSelectedElements(en,tn)}},{key:"attrChanger",value:function attrChanger(en){var tn=en.target.getAttribute("data-attr"),nn=en.target.value;if(!JQ(tn,nn,this.selectedElement))return en.target.value=this.selectedElement.getAttribute(tn),alert(this.editor.i18next.t("notification.invalidAttrValGiven")),!1;if("id"!==tn&&"class"!==tn)if(isNaN(nn))nn=this.editor.svgCanvas.convertToNum(tn,nn);else if("px"!==this.editor.configObj.curConfig.baseUnit){var rn=ZQ();(this.editor.selectedElement[tn]||"pathedit"===this.editor.svgCanvas.getMode()||"x"===tn||"y"===tn)&&(nn*=rn[this.editor.configObj.curConfig.baseUnit])}return this.editor.svgCanvas.changeSelectedAttribute(tn,nn),!0}},{key:"convertToPath",value:function convertToPath(){this.editor.selectedElement&&this.editor.svgCanvas.convertToPath()}},{key:"reorientPath",value:function reorientPath(){this.editor.selectedElement&&this.path.reorient()}},{key:"makeHyperlink",value:function makeHyperlink(){if(this.editor.selectedElement||this.multiselected){var en=prompt(this.editor.i18next.t("notification.enterNewLinkURL"),"http://");en&&this.editor.svgCanvas.makeHyperlink(en)}}},{key:"linkControlPoints",value:function linkControlPoints(){XQ("tool_node_link").pressed=!XQ("tool_node_link").pressed;var en=!!XQ("tool_node_link").pressed;this.path.linkControlPoints(en)}},{key:"clonePathNode",value:function clonePathNode(){this.path.getNodePoint()&&this.path.clonePathNode()}},{key:"deletePathNode",value:function deletePathNode(){this.path.getNodePoint()&&this.path.deletePathNode()}},{key:"addSubPath",value:function addSubPath(){var en=XQ("tool_add_subpath"),tn=!en.classList.contains("pressed");en.pressed=tn,this.path.addSubPath(tn)}},{key:"opencloseSubPath",value:function opencloseSubPath(){this.path.opencloseSubPath()}},{key:"deleteSelected",value:function deleteSelected(){(this.editor.selectedElement||this.editor.multiselected)&&this.editor.svgCanvas.deleteSelectedElements()}},{key:"moveToTopSelected",value:function moveToTopSelected(){this.editor.selectedElement&&this.editor.svgCanvas.moveToTopSelectedElement()}},{key:"moveToBottomSelected",value:function moveToBottomSelected(){this.editor.selectedElement&&this.editor.svgCanvas.moveToBottomSelectedElement()}},{key:"clickBold",value:function clickBold(){return this.editor.svgCanvas.setBold(!this.editor.svgCanvas.getBold()),this.updateContextPanel(),!1}},{key:"clickItalic",value:function clickItalic(){return this.editor.svgCanvas.setItalic(!this.editor.svgCanvas.getItalic()),this.updateContextPanel(),!1}},{key:"clickTextDecoration",value:function clickTextDecoration(en){return this.editor.svgCanvas.hasTextDecoration(en)?this.editor.svgCanvas.removeTextDecoration(en):this.editor.svgCanvas.addTextDecoration(en),this.updateContextPanel(),!1}},{key:"clickTextAnchor",value:function clickTextAnchor(en){return this.editor.svgCanvas.setTextAnchor(en.detail.value),!1}},{key:"changeLetterSpacing",value:function changeLetterSpacing(en){this.editor.svgCanvas.setLetterSpacing(en.target.value)}},{key:"changeWordSpacing",value:function changeWordSpacing(en){this.editor.svgCanvas.setWordSpacing(en.target.value)}},{key:"changeTextLength",value:function changeTextLength(en){this.editor.svgCanvas.setTextLength(en.target.value)}},{key:"changeLengthAdjust",value:function changeLengthAdjust(en){this.editor.svgCanvas.setLengthAdjust(en.detail.value)}},{key:"setImageURL",value:function setImageURL(en){var tn=this.editor;(en||(en=tn.defaultImageURL),tn.svgCanvas.setImageURL(en),XQ("image_url").value=en,en.startsWith("data:"))?this.hideTool("image_url"):(tn.svgCanvas.embedImage(en).then((function(){tn.svgCanvas.setMode("select"),tn.svgCanvas.selectOnly(tn.svgCanvas.getSelectedElements(),!0)}),(function(en){console.error("error =",en),seAlert(tn.i18next.t("tools.no_embed")),tn.svgCanvas.deleteSelectedElements()})),this.displayTool("image_url"))}},{key:"updateTitle",value:function updateTitle(en){en&&(this.editor.title=en);var tn=WQ("#title_panel > p")[0];tn&&(tn.textContent=this.editor.title)}},{key:"togglePathEditMode",value:function togglePathEditMode(en,tn){en?this.displayTool("path_node_panel"):this.hideTool("path_node_panel"),en?(XQ("tool_path").pressed=!1,XQ("tool_select").pressed=!0,XQ("tool_select").setAttribute("src","select_node.svg"),this.editor.multiselected=!1,tn.length&&(this.editor.selectedElement=tn[0])):setTimeout((function(){XQ("tool_select").setAttribute("src","select.svg")}),1e3)}},{key:"init",value:function init(){var en=this,tn=document.createElement("template"),nn=this.editor.i18next;tn.innerHTML='<div id="tools_top">\n  <div id="title_panel">\n    <p>untitled.svg</p>\n  </div> \x3c!-- title panel --\x3e\n  <div id="editor_panel">\n    <div class="tool_sep"></div>\n    <se-button id="tool_source" title="tools.tool_source" shortcut="U" src="source.svg"></se-button>\n    <se-button id="tool_wireframe" title="tools.wireframe_mode" shortcut="F" src="wireframe.svg"></se-button>\n  </div> \x3c!-- editor_panel --\x3e\n  <div id="history_panel">\n    <div class="tool_sep"></div>\n    <se-button id="tool_undo" title="tools.undo" shortcut="Z" src="undo.svg" disabled="disabled"></se-button>\n    <se-button id="tool_redo" title="tools.redo" shortcut="Y" src="redo.svg" disabled="disabled"></se-button>\n  </div> \x3c!-- history_panel --\x3e\n  \x3c!-- Buttons when a single element is selected --\x3e\n  <div class="selected_panel">\n    <div class="tool_sep"></div>\n    <se-button id="tool_clone" title="tools.clone" shortcut="D" src="clone.svg"></se-button>\n    <se-button id="tool_delete" title="tools.del" shortcut="Delete/Backspace" src="delete.svg"></se-button>\n  </div>\n  <div class="selected_panel">\n    <div class="tool_sep"></div>\n    <se-button id="tool_move_top" title="tools.move_top" shortcut="Ctrl+Shift+]" src="move_top.svg"></se-button>\n    <se-button id="tool_move_bottom" title="tools.move_bottom" shortcut="Ctrl+Shift+[" src="move_bottom.svg">\n    </se-button>\n  </div>\n  <div class="selected_panel">\n    <se-button id="tool_topath" title="tools.to_path" src="to_path.svg"></se-button>\n    <se-button id="tool_reorient" title="tools.reorient_path" src="reorient.svg"></se-button>\n    <se-button id="tool_make_link" title="tools.make_link" src="globe_link.svg"></se-button>\n  </div>\n  <div class="selected_panel">\n    <div class="tool_sep"></div>\n    <se-input id="elem_id" data-attr="id" size="10" label="properties.id_label" title="properties.id"></se-input>\n  </div>\n  <div class="selected_panel">\n    <se-input id="elem_class" data-attr="class" size="10" label="properties.class_label" title="properties.class">\n    </se-input>\n    <se-spin-input size="3" id="angle" min="-180" max="180" step="5" src="angle.svg" title="properties.angle">\n    </se-spin-input>\n    <se-spin-input size="2" id="blur" min="0" max="100" step="5" src="blur.svg" title="properties.blur"></se-spin-input>\n    <se-list id="tool_position" title="tools.align_to_page" label="" width="22px" height="22px">\n      <se-list-item id="tool_posleft" value="l" title="tools.align_left" src="align_left.svg" img-height="22px">\n      </se-list-item>\n      <se-list-item id="tool_poscenter" value="c" title="tools.align_center" src="align_center.svg" img-height="22px"></se-list-item>\n      <se-list-item id="tool_posright" value="r" title="tools.align_right" src="align_right.svg" img-height="22px"></se-list-item>\n      <se-list-item id="tool_postop" value="t" title="tools.align_top" src="align_top.svg" img-height="22px">\n      </se-list-item>\n      <se-list-item id="tool_posmiddle" value="m" title="tools.align_middle" src="align_middle.svg" img-height="22px"></se-list-item>\n      <se-list-item id="tool_posbottom" value="b" src="align_bottom.svg" title="tools.align_bottom" img-height="22px"></se-list-item>\n      <se-list-item id="tool_poshoriz" value="dh" src="align_distrib_horiz.svg" title="tools.align_distrib_horiz" img-height="22px"></se-list-item>\n      <se-list-item id="tool_posverti" value="dv" src="align_distrib_verti.svg" title="tools.align_distrib_verti" img-height="22px"></se-list-item>\n    </se-list>\n  </div>\n  <div class="xy_panel">\n    <se-spin-input id="selected_x" data-attr="x" size="4" type="text" label="properties.x_label" title="properties.pos_x">\n    </se-spin-input>\n    <se-spin-input id="selected_y" data-attr="y" size="4" type="text" label="properties.y_label" title="properties.pos_y">\n    </se-spin-input>\n  </div>\n  \x3c!-- Buttons when multiple elements are selected --\x3e\n  <div class="multiselected_panel">\n    <div class="tool_sep"></div>\n    <se-button id="tool_clone_multi" title="tools.clone" shortcut="C" src="clone.svg"></se-button>\n    <se-button id="tool_delete_multi" title="tools.del" shortcut="Delete/Backspace" src="delete.svg"></se-button>\n  </div>\n  <div class="multiselected_panel">\n    <div class="tool_sep"></div>\n    <se-button id="tool_group_elements" title="tools.group_elements" shortcut="G" src="group_elements.svg">\n    </se-button>\n    <se-button id="tool_make_link_multi" title="tools.make_link" src="globe_link.svg"></se-button>\n    <se-button id="tool_align_left" title="tools.align_left" src="align_left.svg"></se-button>\n    <se-button id="tool_align_center" title="tools.align_center" src="align_center.svg"></se-button>\n    <se-button id="tool_align_right" title="tools.align_right" src="align_right.svg"></se-button>\n    <se-button id="tool_align_top" title="tools.align_top" src="align_top.svg"></se-button>\n    <se-button id="tool_align_middle" title="tools.align_middle" src="align_middle.svg"></se-button>\n    <se-button id="tool_align_bottom" title="tools.align_bottom" src="align_bottom.svg"></se-button>\n    <se-button id="tool_align_distrib_horiz" title="tools.align_distrib_horiz" src="align_distrib_horiz.svg"></se-button>\n    <se-button id="tool_align_distrib_verti" title="tools.align_distrib_verti" src="align_distrib_verti.svg"></se-button>\n    <se-select id="tool_align_relative" label="tools.relativeTo" options="tools.selected_objects,tools.largest_object,tools.smallest_object,tools.page" values="selected::largest::smallest::page">\n      \n    </se-select>\n  </div> \x3c!-- multiselected_panel --\x3e\n  <div class="rect_panel">\n    <se-spin-input id="rect_width" data-attr="width" size="4" label="properties.w_label" title="properties.rect_width"></se-spin-input>\n    <se-spin-input id="rect_height" data-attr="height" size="4" label="properties.h_label" title="properties.rect_height"></se-spin-input>\n    <se-spin-input id="rect_rx" min="0" max="1000" step="1" size="3" title="properties.corner_radius" data-attr="Corner Radius" src="c_radius.svg"></se-spin-input>\n  </div> \x3c!-- rect_panel --\x3e\n  <div class="image_panel">\n    <se-spin-input id="image_width" data-attr="width" size="4" type="text" label="properties.w_label" title="properties.image_width"></se-spin-input>\n    <se-spin-input id="image_height" data-attr="height" size="4" type="text" label="properties.h_label" title="properties.image_height"></se-spin-input>\n  </div>\n  <div class="image_panel">\n    <se-input id="image_url" data-attr="image_url" size="15" label="properties.image_url"></se-input>\n  </div>\n  <div class="circle_panel">\n    <se-spin-input id="circle_cx" data-attr="cx" size="4" label="properties.cx_label"></se-spin-input>\n    <se-spin-input id="circle_cy" data-attr="cy" size="4" label="properties.cy_label"></se-spin-input>\n  </div>\n  <div class="circle_panel">\n    <se-spin-input id="circle_r" data-attr="r" size="4" label="properties.r_label"></se-spin-input>\n  </div>\n  <div class="ellipse_panel">\n    <se-spin-input id="ellipse_cx" data-attr="cx" size="4" title="properties.ellipse_cx" label="properties.cx_label"></se-spin-input>\n    <se-spin-input id="ellipse_cy" data-attr="cy" size="4" title="properties.ellipse_cy" label="properties.cy_label"></se-spin-input>\n  </div>\n  <div class="ellipse_panel">\n    <se-spin-input id="ellipse_rx" data-attr="rx" size="4" title="properties.ellipse_rx" label="properties.rx_label"></se-spin-input>\n    <se-spin-input id="ellipse_ry" data-attr="ry" size="4" title="properties.ellipse_ry" label="properties.ry_label"></se-spin-input>\n  </div>\n  <div class="line_panel">\n    <se-spin-input id="line_x1" data-attr="x1" size="4" title="properties.line_x1" label="properties.x1_label">\n    </se-spin-input>\n    <se-spin-input id="line_y1" data-attr="y1" size="4" title="properties.line_y1" label="properties.y1_label">\n    </se-spin-input>\n    <se-spin-input id="line_x2" data-attr="x2" size="4" title="properties.line_x2" label="properties.x2_label">\n    </se-spin-input>\n    <se-spin-input id="line_y2" data-attr="y2" size="4" title="properties.line_y2" label="properties.y2_label">\n    </se-spin-input>\n  </div>\n  <div class="text_panel">\n    \x3c!-- Text styles --\x3e\n    <se-button id="tool_bold" title="properties.bold" src="bold.svg" shortcut="B"></se-button>\n    <se-button id="tool_italic" title="properties.italic" src="italic.svg" shortcut="I"></se-button>\n    <se-button id="tool_text_decoration_underline" title="properties.text_decoration_underline" src="text_decoration_underline.svg"></se-button>\n    <se-button id="tool_text_decoration_linethrough" title="properties.text_decoration_linethrough" src="text_decoration_linethrough.svg"></se-button>\n    <se-button id="tool_text_decoration_overline" title="properties.text_decoration_overline" src="text_decoration_overline.svg"></se-button>\n\n    \x3c!-- Font Size--\x3e\n    <se-select id="tool_font_family" label="properties.font_family_label" options="properties.serif,properties.sans_serif,properties.cursive,properties.fantasy,properties.monospace,properties.courier,properties.helvetica,properties.times" values="Serif::Sans-serif::Cursive::Fantasy::Monospace::Courier::Helvetica::Times"></se-select>\n    <se-spin-input size="2" id="font_size" min="1" max="1000" step="1" title="properties.font_size" src="fontsize.svg"></se-spin-input>\n\n    \x3c!-- Text Anchor --\x3e\n    <se-list id="tool_text_anchor" label="" width="22px" height="22px">\n      <se-list-item id="tool_text_anchor_start" value="start" title="properties.text_anchor_start" src="anchor_start.svg" img-height="25px"></se-list-item>\n      <se-list-item id="tool_text_anchor_middle" value="middle" title="properties.text_anchor_middle" src="anchor_middle.svg" img-height="25px"></se-list-item>\n      <se-list-item id="tool_text_anchor_end" value="end" title="properties.text_anchor_end" src="anchor_end.svg" img-height="25px"></se-list-item>\n    </se-list>\n\n    \x3c!-- Letter Spacing --\x3e\n    <se-spin-input size="2" id="tool_letter_spacing" min="0" max="100" step="1" title="properties.text_letter_spacing" src="letter_spacing.svg"></se-spin-input>\n\n    \x3c!-- Word Spacing --\x3e\n    <se-spin-input size="2" id="tool_word_spacing" min="0" max="1000" step="1" title="properties.text_word_spacing" src="word_spacing.svg"></se-spin-input>\n\n    \x3c!-- Text Length --\x3e\n    <se-spin-input size="2" id="tool_text_length" min="0" max="1000" step="1" title="properties.text_length" src="text_length.svg"></se-spin-input>\n\n    \x3c!-- Length Adjust --\x3e\n    <se-select id="tool_length_adjust" label="properties.text_length_adjust" options="properties.text_length_adjust_spacing,properties.text_length_adjust_spacing_and_glyphs" values="spacing::spacingAndGlyphs"></se-select>\n  </div>\n  \x3c!-- Not visible, but still used --\x3e\n  <input id="text" type="text" size="35">\n  <div class="container_panel">\n    <div class="tool_sep"></div>\n    <se-input id="g_title" data-attr="title" size="8" label="properties.label"></se-input>\n  </div> \x3c!-- container_panel --\x3e\n  <div class="use_panel">\n    <se-button id="tool_unlink_use" title="tools.tool_unlink_use" src="unlink_use.svg"></se-button>\n  </div> \x3c!-- use_panel --\x3e\n  <div class="g_panel">\n    <se-button id="tool_ungroup" title="tools.ungroup" src="ungroup.svg"></se-button>\n  </div> \x3c!-- g_panel --\x3e\n  \x3c!-- For anchor elements --\x3e\n  <div class="a_panel">\n    <label id="tool_link_url">\n      <span id="linkLabel" class="icon_label"></span>\n      <input id="link_url" type="text" size="35">\n    </label>\n  </div> \x3c!-- a_panel --\x3e\n  <div class="path_node_panel">\n    <div class="tool_sep"></div>\n    <se-button id="tool_node_link" title="tools.node_link" src="tool_node_link.svg" pressed></se-button>\n    <div class="tool_sep"></div>\n    <se-spin-input id="path_node_x" data-attr="x" size="4" title="properties.node_x" label="properties.x_label">\n    </se-spin-input>\n    <se-spin-input id="path_node_y" data-attr="y" size="4" title="properties.node_y" label="properties.y_label">\n    </se-spin-input>\n    <se-select id="seg_type" title="properties.seg_type" label="" options="properties.straight_segments,properties.curve_segments" values="4::6"></se-select>\n    <se-button id="tool_node_clone" title="tools.node_clone" src="tool_node_clone.svg"></se-button>\n    <se-button id="tool_node_delete" title="tools.node_delete" src="tool_node_delete.svg"></se-button>\n    <se-button id="tool_openclose_path" title="tools.openclose_path" src="tool_openclose_path.svg"></se-button>\n    <se-button id="tool_add_subpath" title="tools.add_subpath" src="tool_add_subpath.svg"></se-button>\n  </div> \x3c!-- path_node_panel --\x3e\n  <div id="cur_context_panel"></div>\n</div>\n',this.editor.$svgEditor.append(tn.content.cloneNode(!0));var rn=document.createElement("se-svg-source-editor-dialog");rn.setAttribute("id","se-svg-editor-dialog"),this.editor.$container.append(rn),this.updateTitle(),rn.init(nn),XQ("tool_link_url").setAttribute("title",nn.t("tools.set_link_url")),YQ(XQ("tool_source"),this.showSourceEditor.bind(this)),YQ(XQ("tool_wireframe"),this.clickWireframe.bind(this)),YQ(XQ("tool_undo"),this.clickUndo.bind(this)),YQ(XQ("tool_redo"),this.clickRedo.bind(this)),YQ(XQ("tool_clone"),this.clickClone.bind(this)),YQ(XQ("tool_clone_multi"),this.clickClone.bind(this)),YQ(XQ("tool_delete"),this.deleteSelected.bind(this)),YQ(XQ("tool_delete_multi"),this.deleteSelected.bind(this)),YQ(XQ("tool_move_top"),this.moveToTopSelected.bind(this)),YQ(XQ("tool_move_bottom"),this.moveToBottomSelected.bind(this)),YQ(XQ("tool_topath"),this.convertToPath.bind(this)),YQ(XQ("tool_make_link"),this.makeHyperlink.bind(this)),YQ(XQ("tool_make_link_multi"),this.makeHyperlink.bind(this)),YQ(XQ("tool_reorient"),this.reorientPath.bind(this)),YQ(XQ("tool_group_elements"),this.clickGroup.bind(this)),XQ("tool_position").addEventListener("change",(function(tn){return en.clickAlignEle.bind(en)(tn)})),YQ(XQ("tool_align_left"),(function(){return en.clickAlign.bind(en)("left")})),YQ(XQ("tool_align_right"),(function(){return en.clickAlign.bind(en)("right")})),YQ(XQ("tool_align_center"),(function(){return en.clickAlign.bind(en)("center")})),YQ(XQ("tool_align_top"),(function(){return en.clickAlign.bind(en)("top")})),YQ(XQ("tool_align_bottom"),(function(){return en.clickAlign.bind(en)("bottom")})),YQ(XQ("tool_align_middle"),(function(){return en.clickAlign.bind(en)("middle")})),YQ(XQ("tool_align_distrib_horiz"),(function(){return en.clickAlign.bind(en)("distrib_horiz")})),YQ(XQ("tool_align_distrib_verti"),(function(){return en.clickAlign.bind(en)("distrib_verti")})),YQ(XQ("tool_node_clone"),this.clonePathNode.bind(this)),YQ(XQ("tool_node_delete"),this.deletePathNode.bind(this)),YQ(XQ("tool_openclose_path"),this.opencloseSubPath.bind(this)),YQ(XQ("tool_add_subpath"),this.addSubPath.bind(this)),YQ(XQ("tool_node_link"),this.linkControlPoints.bind(this)),XQ("angle").addEventListener("change",this.changeRotationAngle.bind(this)),XQ("blur").addEventListener("change",this.changeBlur.bind(this)),XQ("rect_rx").addEventListener("change",this.changeRectRadius.bind(this)),XQ("font_size").addEventListener("change",this.changeFontSize.bind(this)),YQ(XQ("tool_ungroup"),this.clickGroup.bind(this)),YQ(XQ("tool_bold"),this.clickBold.bind(this)),YQ(XQ("tool_italic"),this.clickItalic.bind(this)),YQ(XQ("tool_text_decoration_underline"),(function(){return en.clickTextDecoration.bind(en)("underline")})),YQ(XQ("tool_text_decoration_linethrough"),(function(){return en.clickTextDecoration.bind(en)("line-through")})),YQ(XQ("tool_text_decoration_overline"),(function(){return en.clickTextDecoration.bind(en)("overline")})),XQ("tool_text_anchor").addEventListener("change",(function(tn){return en.clickTextAnchor.bind(en)(tn)})),XQ("tool_letter_spacing").addEventListener("change",this.changeLetterSpacing.bind(this)),XQ("tool_word_spacing").addEventListener("change",this.changeWordSpacing.bind(this)),XQ("tool_text_length").addEventListener("change",this.changeTextLength.bind(this)),XQ("tool_length_adjust").addEventListener("change",(function(tn){return en.changeLengthAdjust.bind(en)(tn)})),YQ(XQ("tool_unlink_use"),this.clickGroup.bind(this)),XQ("image_url").addEventListener("change",(function(tn){en.setImageURL(tn.currentTarget.value)})),["elem_id","elem_class","circle_cx","circle_cy","circle_r","ellipse_cx","ellipse_cy","ellipse_rx","ellipse_ry","selected_x","selected_y","rect_width","rect_height","line_x1","line_x2","line_y1","line_y2","image_width","image_height","path_node_x","path_node_y"].forEach((function(tn){return XQ(tn).addEventListener("change",en.attrChanger.bind(en))}))}}]),TopPanel}(),nN=Zf.$id,rN=function(){function BottomPanel(en){_classCallCheck$1(this,BottomPanel),this.editor=en}return _createClass$1(BottomPanel,[{key:"selectedElement",get:function get(){return this.editor.selectedElement}},{key:"multiselected",get:function get(){return this.editor.multiselected}},{key:"changeStrokeWidth",value:function changeStrokeWidth(en){var tn=en.target.value;0===tn&&this.editor.selectedElement&&["line","polyline"].includes(this.editor.selectedElement.nodeName)&&(tn=1),this.editor.svgCanvas.setStrokeWidth(tn)}},{key:"changeZoom",value:function changeZoom(en){switch(en){case"canvas":case"selection":case"layer":case"content":this.editor.zoomChanged(window,en);break;default:var tn=Number(en)>.1?.01*Number(en):.1,nn=this.editor.svgCanvas.getZoom(),rn=this.editor.workarea;this.editor.zoomChanged(window,{width:0,height:0,x:(rn.scrollLeft+parseFloat(getComputedStyle(rn,null).width.replace("px",""))/2)/nn,y:(rn.scrollTop+parseFloat(getComputedStyle(rn,null).height.replace("px",""))/2)/nn,zoom:tn},!0)}}},{key:"updateToolButtonState",value:function updateToolButtonState(){var en=this,tn="none"===this.editor.svgCanvas.getColor("fill"),nn="none"===this.editor.svgCanvas.getColor("stroke"),rn=["tool_fhpath","tool_line"],an=["tools_rect","tools_ellipse","tool_text","tool_path"];nn?rn.forEach((function(tn){nN(tn).pressed&&en.editor.leftPanel.clickSelect(),nN(tn).disabled=!0})):rn.forEach((function(en){nN(en).disabled=!1})),nn&&tn?an.forEach((function(tn){nN(tn).pressed&&en.editor.leftPanel.clickSelect(),nN(tn).disabled=!0})):an.forEach((function(en){nN(en).disabled=!1})),this.editor.svgCanvas.runExtensions("toolButtonStateUpdate",{nofill:tn,nostroke:nn})}},{key:"handleColorPicker",value:function handleColorPicker(en,tn){var nn=tn.detail.paint;this.editor.svgCanvas.setPaint(en,nn),this.updateToolButtonState()}},{key:"handleStrokeAttr",value:function handleStrokeAttr(en,tn){this.editor.svgCanvas.setStrokeAttr(en,tn.detail.value)}},{key:"handleOpacity",value:function handleOpacity(en){var tn=Number.parseInt(en.currentTarget.value.split("%")[0]);this.editor.svgCanvas.setOpacity(tn/100)}},{key:"handlePalette",value:function handlePalette(en){en.preventDefault();var tn=en.detail,nn=tn.picker,rn=tn.color,an="none"===rn?new LT.Paint:new LT.Paint({alpha:100,solidColor:rn.substr(1)});"fill"===nn?nN("fill_color").setPaint(an):nN("stroke_color").setPaint(an),this.editor.svgCanvas.setColor(nn,rn),"none"!==rn&&1!==this.editor.svgCanvas.getPaintOpacity(nn)&&this.editor.svgCanvas.setPaintOpacity(nn,1),this.updateToolButtonState()}},{key:"init",value:function init(){var en=this,tn=document.createElement("template"),nn=this.editor.i18next;tn.innerHTML='<div id="tools_bottom">\n    \x3c!-- Zoom buttons --\x3e\n    <se-zoom id="zoom" src="zoom.svg" title="Change zoom level" inputsize="40px">\n      <se-text value="1000" text="1000%"></se-text>\n      <se-text value="400" text="400%"></se-text>\n      <se-text value="200" text="200%"></se-text>\n      <se-text value="100" text="100%"></se-text>\n      <se-text value="50" text="50%"></se-text>\n      <se-text value="25" text="25%"></se-text>\n      <se-text value="canvas" text="tools.fit_to_canvas"></se-text>\n      <se-text value="selection" text="tools.fit_to_sel"></se-text>\n      <se-text value="layer" text="tools.fit_to_layer_content"></se-text>\n      <se-text value="content" text="tools.fit_to_all"></se-text>\n    </se-zoom>\n    <se-colorpicker id="fill_color" src="fill.svg" label="properties.fill_color" type="fill"></se-colorpicker>\n    <se-colorpicker id="stroke_color" src="stroke.svg" label="properties.stroke_color" type="stroke"></se-colorpicker>\n    <se-spin-input id="stroke_width" min="0" max="99" step="1" title="properties.stroke_width" label=""></se-spin-input>\n    <se-select id="stroke_style" title="properties.stroke_style" label="" width="22px" height="22px" options="&#8212;,...,- -,- .,- .." values="none::2,2::5,5::5,2,2,2::5,2,2,2,2,2">     \n    </se-select>\n    <se-list id="stroke_linejoin" title="properties.linejoin_miter" label="" width="22px" height="22px">\n      <se-list-item id="linejoin_miter" value="miter" src="linejoin_miter.svg" title="properties.linejoin_miter" img-height="22px"></se-list-item>\n      <se-list-item id="linejoin_round" value="round" src="linejoin_round.svg" title="properties.linejoin_round" img-height="22px"></se-list-item>\n      <se-list-item id="linejoin_bevel" value="bevel" src="linejoin_bevel.svg" title="properties.linejoin_bevel" img-height="22px"></se-list-item>\n    </se-list>\n    <se-list id="stroke_linecap" title="properties.linecap_butt" label="" width="22px" height="22px">\n      <se-list-item id="linecap_butt" value="butt" src="linecap_butt.svg" title="properties.linecap_butt" img-height="22px"></se-list-item>\n      <se-list-item id="linecap_square" value="square" src="linecap_square.svg" title="properties.linecap_square" img-height="22px"></se-list-item>\n      <se-list-item id="linecap_round" value="round" src="linecap_round.svg" title="properties.linecap_round" img-height="22px"></se-list-item>\n    </se-list>\n    <se-spin-input size="3" id="opacity" min="0" max="100" step="5" title="properties.opacity" src="opacity.svg"></se-spin-input>\n    <se-palette id="palette"></se-palette>\n  </div>',this.editor.$svgEditor.append(tn.content.cloneNode(!0)),nN("palette").addEventListener("change",this.handlePalette.bind(this)),nN("palette").init(nn);var rn=this.editor.configObj.curConfig;nN("fill_color").setPaint(new LT.Paint({alpha:100,solidColor:rn.initFill.color})),nN("stroke_color").setPaint(new LT.Paint({alpha:100,solidColor:rn.initStroke.color})),nN("zoom").addEventListener("change",(function(tn){return en.changeZoom.bind(en)(tn.detail.value)})),nN("stroke_color").addEventListener("change",(function(tn){return en.handleColorPicker.bind(en)("stroke",tn)})),nN("fill_color").addEventListener("change",(function(tn){return en.handleColorPicker.bind(en)("fill",tn)})),nN("stroke_width").addEventListener("change",this.changeStrokeWidth.bind(this)),nN("stroke_style").addEventListener("change",(function(tn){return en.handleStrokeAttr.bind(en)("stroke-dasharray",tn)})),nN("stroke_linejoin").addEventListener("change",(function(tn){return en.handleStrokeAttr.bind(en)("stroke-linejoin",tn)})),nN("stroke_linecap").addEventListener("change",(function(tn){return en.handleStrokeAttr.bind(en)("stroke-linecap",tn)})),nN("opacity").addEventListener("change",this.handleOpacity.bind(this)),nN("fill_color").init(nn),nN("stroke_color").init(nn)}},{key:"updateColorpickers",value:function updateColorpickers(en){nN("fill_color").update(this.editor.svgCanvas,this.editor.selectedElement,en),nN("stroke_color").update(this.editor.svgCanvas,this.editor.selectedElement,en)}}]),BottomPanel}(),iN=Zf.$id,aN=Zf.$click,oN=function(){function LayersPanel(en){_classCallCheck$1(this,LayersPanel),this.updateContextPanel=en.topPanel.updateContextPanel.bind(en.topPanel),this.editor=en}return _createClass$1(LayersPanel,[{key:"lmenuFunc",value:function lmenuFunc(en){var tn;switch(null==en||null===(tn=en.detail)||void 0===tn?void 0:tn.trigger){case"dupe":this.cloneLayer();break;case"delete":this.deleteLayer();break;case"merge_down":this.mergeLayer();break;case"merge_all":this.editor.svgCanvas.mergeAllLayers(),this.updateContextPanel(),this.populateLayers()}}},{key:"init",value:function init(){var en=this,tn=document.createElement("template"),nn=this.editor.i18next;tn.innerHTML='<div id="sidepanels">\n    <se-text id="sidepanel_handle" title="ui.panel_action" text="ui.panel"></se-text>\n    <div id="sidepanel_content">\n        <div id="layerpanel">\n            <se-text id="layersLabel" text="layers.layers"></se-text>\n            <fieldset id="layerbuttons">\n                <se-button id="layer_new" title="layers.new" size="small" src="new.svg"></se-button>\n                <se-button id="layer_delete" title="layers.del" size="small" src="delete.svg"></se-button>\n                <se-button id="layer_rename" title="layers.rename" size="small" src="text.svg"></se-button>\n                <se-button id="layer_up" title="layers.move_up" size="small" src="go_up.svg"></se-button>\n                <se-button id="layer_down" title="layers.move_down" size="small" src="go_down.svg"></se-button>\n                <se-button id="layer_moreopts" title="common.more_opts" size="small" src="context_menu.svg">\n                </se-button>\n            </fieldset>\n            <table id="layerlist">\n                <tr class="layer">\n                    <td class="layervis"></td>\n                    <td class="layername">Layer 1</td>\n                </tr>\n            </table>\n            <se-select id="selLayerNames" title="layers.move_selected" label="layers.move_elems_to" options="Layer 1" values="layer1" value="layer1" disabled="disabled">\n            </se-select>\n        </div>\n    </div>\n</div>',this.editor.$svgEditor.append(tn.content.cloneNode(!0));var rn=document.createElement("se-cmenu-layers");rn.setAttribute("id","se-cmenu-layers-more"),rn.value="layer_moreopts",rn.setAttribute("leftclick",!0),this.editor.$container.append(rn),rn.init(nn);var an=document.createElement("se-cmenu-layers");an.setAttribute("id","se-cmenu-layers-list"),an.value="layerlist",an.setAttribute("leftclick",!1),this.editor.$container.append(an),an.init(nn),aN(iN("layer_new"),this.newLayer.bind(this)),aN(iN("layer_delete"),this.deleteLayer.bind(this)),aN(iN("layer_up"),(function(){return en.moveLayer.bind(en)(-1)})),aN(iN("layer_down"),(function(){return en.moveLayer.bind(en)(1)})),aN(iN("layer_rename"),this.layerRename.bind(this)),iN("se-cmenu-layers-more").addEventListener("change",this.lmenuFunc.bind(this)),iN("se-cmenu-layers-list").addEventListener("change",(function(tn){en.lmenuFunc(tn)})),aN(iN("sidepanel_handle"),(function(){return en.toggleSidePanel()})),this.toggleSidePanel(this.editor.configObj.curConfig.showlayers)}},{key:"toggleSidePanel",value:function toggleSidePanel(en){void 0===en?this.editor.$svgEditor.classList.toggle("open"):en?this.editor.$svgEditor.classList.add("open"):this.editor.$svgEditor.classList.remove("open")}},{key:"newLayer",value:function newLayer(){var en,tn=this.editor.svgCanvas.getCurrentDrawing().getNumLayers();do{en=this.editor.i18next.t("layers.layer")+" "+ ++tn}while(this.editor.svgCanvas.getCurrentDrawing().hasLayer(en));var nn=prompt(this.editor.i18next.t("notification.enterUniqueLayerName"),en);nn&&(this.editor.svgCanvas.getCurrentDrawing().hasLayer(nn)?alert(this.editor.i18next.t("notification.dupeLayerName")):(this.editor.svgCanvas.createLayer(nn),this.updateContextPanel(),this.populateLayers()))}},{key:"deleteLayer",value:function deleteLayer(){if(this.editor.svgCanvas.deleteCurrentLayer()){this.updateContextPanel(),this.populateLayers();var en=document.querySelectorAll("#layerlist tr.layer");Array.prototype.forEach.call(en,(function(en){en.classList.remove("layersel")})),document.querySelector("#layerlist tr.layer").classList.add("layersel")}}},{key:"cloneLayer",value:function cloneLayer(){var en=this.editor.svgCanvas.getCurrentDrawing().getCurrentLayerName()+" copy",tn=prompt(this.editor.i18next.t("notification.enterUniqueLayerName"),en);tn&&(this.editor.svgCanvas.getCurrentDrawing().hasLayer(tn)?alert(this.editor.i18next.t("notification.dupeLayerName")):(this.editor.svgCanvas.cloneLayer(tn),this.updateContextPanel(),this.populateLayers()))}},{key:"index",value:function index(en){return en?Array.from(document.querySelector("#layerlist tbody").children).indexOf(en):-1}},{key:"mergeLayer",value:function mergeLayer(){this.index(document.querySelector("#layerlist tr.layersel"))-1!=this.editor.svgCanvas.getCurrentDrawing().getNumLayers()-1&&(this.editor.svgCanvas.mergeLayer(),this.updateContextPanel(),this.populateLayers())}},{key:"moveLayer",value:function moveLayer(en){var tn=this.editor.svgCanvas.indexCurrentLayer();-1!==tn&&(this.editor.svgCanvas.setCurrentLayerPosition(tn-en),this.populateLayers())}},{key:"layerRename",value:function layerRename(){var en=document.querySelector("#layerlist tr.layersel td.layername"),tn=en?en.textContent:"",nn=prompt(this.editor.i18next.t("notification.enterNewLayerName"),"");nn&&(tn===nn||this.editor.svgCanvas.getCurrentDrawing().hasLayer(nn)?alert(this.editor.i18next.t("notification.layerHasThatName")):(this.editor.svgCanvas.renameCurrentLayer(nn),this.populateLayers()))}},{key:"toggleHighlightLayer",value:function toggleHighlightLayer(en){var tn,nn=this,rn=[],an=this.editor.svgCanvas.getCurrentDrawing().getNumLayers();for(tn=0;tn<an;tn++)rn[tn]=this.editor.svgCanvas.getCurrentDrawing().getLayerName(tn);en?rn.forEach((function(tn){tn!==en&&nn.editor.svgCanvas.getCurrentDrawing().setLayerOpacity(tn,.5)})):rn.forEach((function(en){nn.editor.svgCanvas.getCurrentDrawing().setLayerOpacity(en,1)}))}},{key:"populateLayers",value:function populateLayers(){this.editor.svgCanvas.clearSelection();for(var en=this,tn=iN("layerlist").querySelector("tbody");tn.firstChild;)tn.removeChild(tn.firstChild);iN("selLayerNames").setAttribute("options","");for(var nn=this.editor.svgCanvas.getCurrentDrawing(),rn=nn.getCurrentLayerName(),an=this.editor.svgCanvas.getCurrentDrawing().getNumLayers(),sn="",An="";an--;){var cn=nn.getLayerName(an),un=document.createElement("tr");un.className=cn===rn?"layer layersel":"layer";var hn=document.createElement("td");hn.className=nn.getLayerVisibility(cn)?"layervis":"layerinvis layervis";var dn=document.createElement("td");dn.className="layername",dn.textContent=cn,un.appendChild(hn),un.appendChild(dn),tn.appendChild(un),sn=sn?sn+"::"+cn:cn,An=An?An+","+cn:cn}iN("selLayerNames").setAttribute("options",An),iN("selLayerNames").setAttribute("values",sn);var pn=iN("layerlist").querySelectorAll("td.layername");Array.from(pn).forEach((function(tn){tn.addEventListener("mouseup",(function(tn){var nn=iN("layerlist").querySelectorAll("tr.layer");Array.from(nn).forEach((function(en){en.classList.remove("layersel")})),tn.currentTarget.parentNode.classList.add("layersel"),en.editor.svgCanvas.setCurrentLayer(tn.currentTarget.textContent),tn.preventDefault()})),tn.addEventListener("mouseup",(function(tn){en.toggleHighlightLayer(tn.currentTarget.textContent)})),tn.addEventListener("mouseout",(function(tn){en.toggleHighlightLayer()}))}));var gn=iN("layerlist").querySelectorAll("td.layervis");Array.from(gn).forEach((function(tn){aN(tn,(function(tn){var nn=tn.currentTarget.parentNode.querySelector("td.layername"),rn=nn?nn.textContent:"",an=tn.currentTarget.classList.contains("layerinvis");en.editor.svgCanvas.setLayerVisibility(rn,an),tn.currentTarget.classList.toggle("layerinvis")}))}));for(var mn=5-iN("layerlist").querySelectorAll("tr.layer").length;mn-- >0;){var vn=document.createElement("tr");vn.innerHTML='<td style="color:white">_</td><td/>',tn.append(vn)}}}]),LayersPanel}(),sN=Zf.$id,AN=Zf.$click,lN=Zf.convertUnit,cN=Zf.isValidUnit,uN=function(){function MainMenu(en){_classCallCheck$1(this,MainMenu),this.editor=en,this.exportWindowCt=0}var en,tn;return _createClass$1(MainMenu,[{key:"hideDocProperties",value:function hideDocProperties(){var en=sN("se-img-prop");en.setAttribute("dialog","close"),en.setAttribute("save",this.editor.configObj.pref("img_save")),this.editor.docprops=!1}},{key:"hidePreferences",value:function hidePreferences(){sN("se-edit-prefs").setAttribute("dialog","close"),this.editor.configObj.preferences=!1}},{key:"saveDocProperties",value:function saveDocProperties(en){var tn=en.detail,nn=tn.title,rn=tn.w,an=tn.h,sn=tn.save;return this.editor.svgCanvas.setDocumentTitle(nn),("fit"===rn||cN("width",rn))&&("fit"===an||cN("height",an))?this.editor.svgCanvas.setResolution(rn,an)?(this.editor.configObj.pref("img_save",sn),this.editor.updateCanvas(),this.hideDocProperties(),!0):(seAlert(this.editor.i18next.t("notification.noContentToFitTo")),!1):(seAlert(this.editor.i18next.t("notification.invalidAttrValGiven")),!1)}},{key:"savePreferences",value:(tn=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee(en){var tn,nn,rn,an,sn,An,cn,un,hn;return _regeneratorRuntime().wrap((function _callee$(dn){for(;;)switch(dn.prev=dn.next){case 0:tn=en.detail,nn=tn.lang,rn=tn.bgcolor,an=tn.bgurl,sn=tn.gridsnappingon,An=tn.gridsnappingstep,cn=tn.gridcolor,un=tn.showrulers,hn=tn.baseunit,this.editor.setBackground(rn,an),nn&&nn!==this.editor.configObj.pref("lang")&&(this.editor.configObj.pref("lang",nn),seAlert("Changing the language needs reload")),this.editor.configObj.curConfig.gridSnapping=sn,this.editor.configObj.curConfig.snappingStep=An,this.editor.configObj.curConfig.gridColor=cn,this.editor.configObj.curConfig.showRulers=un,this.editor.configObj.curConfig.showRulers&&this.editor.rulers.updateRulers(),this.editor.configObj.curConfig.baseUnit=hn,this.editor.svgCanvas.setConfig(this.editor.configObj.curConfig),this.editor.updateCanvas(),this.hidePreferences();case 12:case"end":return dn.stop()}}),_callee,this)}))),function savePreferences(en){return tn.apply(this,arguments)})},{key:"clickExport",value:(en=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee2(en){var tn,nn,rn,an,sn,An,cn,un,hn,dn=this;return _regeneratorRuntime().wrap((function _callee2$(pn){for(;;)switch(pn.prev=pn.next){case 0:if("ok"===(null==en||null===(tn=en.detail)||void 0===tn?void 0:tn.trigger)&&void 0!==(null==en||null===(nn=en.detail)||void 0===nn?void 0:nn.imgType)){pn.next=2;break}return pn.abrupt("return");case 2:if(An=null==en||null===(rn=en.detail)||void 0===rn?void 0:rn.imgType,cn=null!=en&&null!==(an=en.detail)&&void 0!==an&&an.quality?(null==en||null===(sn=en.detail)||void 0===sn?void 0:sn.quality)/100:1,un=function openExportWindow(){var en,tn,nn=dn.editor.i18next.t("notification.loadingImage");if("new"===dn.editor.configObj.curConfig.exportWindowType&&dn.editor.exportWindowCt++,dn.editor.exportWindowName=dn.editor.configObj.curConfig.canvasName+dn.editor.exportWindowCt,dn.editor.loadingURL)tn=dn.editor.loadingURL;else{var rn;if(en='<!DOCTYPE html><html>\n          <head>\n            <meta charset="utf-8">\n            <title>'.concat(nn,"</title>\n          </head>\n          <body><h1>").concat(nn,"</h1></body>\n        <html>"),null!==(rn=URL)&&void 0!==rn&&rn.createObjectURL){var an=new Blob([en],{type:"text/html"});tn=URL.createObjectURL(an)}else tn="data:text/html;base64;charset=utf-8,"+en;dn.editor.loadingURL=tn}dn.editor.exportWindow=window.open(tn,dn.editor.exportWindowName)},hn=PQ(),"PDF"!==An){pn.next=11;break}this.editor.customExportPDF||hn||un(),this.editor.svgCanvas.exportPDF(void 0),pn.next=14;break;case 11:return this.editor.customExportImage||un(),pn.next=14,this.editor.svgCanvas.rasterExport(An,cn,this.editor.exportWindowName);case 14:case"end":return pn.stop()}}),_callee2,this)}))),function clickExport(tn){return en.apply(this,arguments)})},{key:"showDocProperties",value:function showDocProperties(){if(!this.editor.docprops){this.editor.docprops=!0;var en=sN("se-img-prop"),tn=this.editor.svgCanvas.getResolution();"px"!==this.editor.configObj.curConfig.baseUnit&&(tn.w=lN(tn.w)+this.editor.configObj.curConfig.baseUnit,tn.h=lN(tn.h)+this.editor.configObj.curConfig.baseUnit),en.setAttribute("save",this.editor.configObj.pref("img_save")),en.setAttribute("width",tn.w),en.setAttribute("height",tn.h),en.setAttribute("title",this.editor.svgCanvas.getDocumentTitle()),en.setAttribute("dialog","open")}}},{key:"showPreferences",value:function showPreferences(){if(!this.editor.configObj.preferences){this.editor.configObj.preferences=!0;var en=sN("se-edit-prefs"),tn=this.editor.configObj.curPrefs.bkgd_color,nn=this.editor.configObj.pref("bkgd_url");nn&&en.setAttribute("bgurl",nn),en.setAttribute("gridsnappingon",this.editor.configObj.curConfig.gridSnapping),en.setAttribute("gridsnappingstep",this.editor.configObj.curConfig.snappingStep),en.setAttribute("gridcolor",this.editor.configObj.curConfig.gridColor),en.setAttribute("canvasbg",tn),en.setAttribute("dialog","open")}}},{key:"openHomePage",value:function openHomePage(){window.open("https://github.com/SVG-Edit/svgedit","_blank")}},{key:"init",value:function init(){var en=document.createElement("template");en.innerHTML='\n    <se-menu id="main_button" label="SVG-Edit" src="logo.svg" alt="logo">\n        <se-menu-item id="tool_export" label="tools.export_img" src="export.svg"></se-menu-item>\n        <se-menu-item id="tool_docprops" label="tools.docprops" shortcut="D" src="docprop.svg"></se-menu-item>\n        <se-menu-item id="tool_editor_prefs" label="config.editor_prefs" src="editPref.svg"></se-menu-item>\n        <se-menu-item id="tool_editor_homepage" label="tools.editor_homepage" src="logo.svg"></se-menu-item>\n    </se-menu>',this.editor.$svgEditor.append(en.content.cloneNode(!0)),AN(sN("tool_export"),(function(){document.getElementById("se-export-dialog").setAttribute("dialog","open")})),sN("se-export-dialog").addEventListener("change",this.clickExport.bind(this)),sN("tool_docprops").addEventListener("click",this.showDocProperties.bind(this)),sN("tool_editor_prefs").addEventListener("click",this.showPreferences.bind(this)),sN("tool_editor_homepage").addEventListener("click",this.openHomePage.bind(this)),sN("se-img-prop").addEventListener("change",function(en){"closed"===en.detail.dialog?this.hideDocProperties():this.saveDocProperties(en)}.bind(this)),sN("se-edit-prefs").addEventListener("change",function(en){"closed"===en.detail.dialog?this.hidePreferences():this.savePreferences(en)}.bind(this))}}]),MainMenu}(),hN=Zf.$id,dN=Zf.$click,pN=Zf.decode64,gN=Zf.blankPageObjectURL,fN=function(en){_inherits$1(Editor,jQ);var tn,nn,rn,an,sn=_createSuper$4(Editor);function Editor(){var en,tn=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;_classCallCheck$1(this,Editor),(en=sn.call(this,tn)).langChanged=!1,en.showSaveWarning=!1,en.storagePromptState="ignore",en.title="untitled.svg",en.svgCanvas=null,en.$click=dN,en.isReady=!1,en.customExportImage=!1,en.customExportPDF=!1,en.configObj=new LQ(_assertThisInitialized$1(en)),en.configObj.pref=en.configObj.pref.bind(en.configObj),en.setConfig=en.configObj.setConfig.bind(en.configObj),en.callbacks=[],en.curContext=null,en.exportWindowName=null,en.docprops=!1,en.configObj.preferences=!1,en.canvMenu=null,en.goodLangs=["ar","cs","de","en","es","fa","fr","fy","hi","it","ja","nl","pl","pt-BR","ro","ru","sk","sl","tr","zh-CN","zh-TW"];var nn=FQ()?"meta+":"ctrl+";return en.shortcuts=[{key:"ctrl+arrowleft",fn:function fn(){en.rotateSelected(0,1)}},{key:"ctrl+arrowright",fn:function fn(){en.rotateSelected(1,1)}},{key:"ctrl+shift+arrowleft",fn:function fn(){en.rotateSelected(0,5)}},{key:"ctrl+shift+arrowright",fn:function fn(){en.rotateSelected(1,5)}},{key:"shift+o",fn:function fn(){en.svgCanvas.cycleElement(0)}},{key:"shift+p",fn:function fn(){en.svgCanvas.cycleElement(1)}},{key:"tab",fn:function fn(){en.svgCanvas.cycleElement(0)}},{key:"shift+tab",fn:function fn(){en.svgCanvas.cycleElement(1)}},{key:[nn+"arrowup",!0],fn:function fn(){en.zoomImage(2)}},{key:[nn+"arrowdown",!0],fn:function fn(){en.zoomImage(.5)}},{key:[nn+"]",!0],fn:function fn(){en.moveUpDownSelected("Up")}},{key:[nn+"[",!0],fn:function fn(){en.moveUpDownSelected("Down")}},{key:["arrowup",!0],fn:function fn(){en.moveSelected(0,-1)}},{key:["arrowdown",!0],fn:function fn(){en.moveSelected(0,1)}},{key:["arrowleft",!0],fn:function fn(){en.moveSelected(-1,0)}},{key:["arrowright",!0],fn:function fn(){en.moveSelected(1,0)}},{key:"shift+arrowup",fn:function fn(){en.moveSelected(0,-10)}},{key:"shift+arrowdown",fn:function fn(){en.moveSelected(0,10)}},{key:"shift+arrowleft",fn:function fn(){en.moveSelected(-10,0)}},{key:"shift+arrowright",fn:function fn(){en.moveSelected(10,0)}},{key:["alt+arrowup",!0],fn:function fn(){en.svgCanvas.cloneSelectedElements(0,-1)}},{key:["alt+arrowdown",!0],fn:function fn(){en.svgCanvas.cloneSelectedElements(0,1)}},{key:["alt+arrowleft",!0],fn:function fn(){en.svgCanvas.cloneSelectedElements(-1,0)}},{key:["alt+arrowright",!0],fn:function fn(){en.svgCanvas.cloneSelectedElements(1,0)}},{key:["alt+shift+arrowup",!0],fn:function fn(){en.svgCanvas.cloneSelectedElements(0,-10)}},{key:["alt+shift+arrowdown",!0],fn:function fn(){en.svgCanvas.cloneSelectedElements(0,10)}},{key:["alt+shift+arrowleft",!0],fn:function fn(){en.svgCanvas.cloneSelectedElements(-10,0)}},{key:["alt+shift+arrowright",!0],fn:function fn(){en.svgCanvas.cloneSelectedElements(10,0)}},{key:["delete/backspace",!0],fn:function fn(){(en.selectedElement||en.multiselected)&&en.svgCanvas.deleteSelectedElements()}},{key:"a",fn:function fn(){en.svgCanvas.selectAllInCurrentLayer()}},{key:nn+"a",fn:function fn(){en.svgCanvas.selectAllInCurrentLayer()}},{key:nn+"x",fn:function fn(){en.cutSelected()}},{key:nn+"c",fn:function fn(){en.copySelected()}},{key:nn+"v",fn:function fn(){en.pasteInCenter()}}],en.leftPanel=new zQ(_assertThisInitialized$1(en)),en.bottomPanel=new rN(_assertThisInitialized$1(en)),en.topPanel=new tN(_assertThisInitialized$1(en)),en.layersPanel=new oN(_assertThisInitialized$1(en)),en.mainMenu=new uN(_assertThisInitialized$1(en)),window.svgEditor=_assertThisInitialized$1(en),en}return _createClass$1(Editor,[{key:"loadSvgString",value:function loadSvgString(en){var tn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},nn=tn.noAlert,rn=!1!==this.svgCanvas.setSvgString(en);if(!rn)throw nn||seAlert(this.i18next.t("notification.errorLoadingSVG")),new Error("Error loading SVG");this.updateCanvas()}},{key:"randomizeIds",value:function randomizeIds(en){this.svgCanvas.randomizeIds(en)}},{key:"setAll",value:function setAll(){var en={};this.shortcuts.forEach((function(tn){if(tn.key){var nn=tn.key,rn=!1;Array.isArray(tn.key)&&(nn=tn.key[0],tn.key.length>1&&(rn=tn.key[1])),nn=String(nn);var an=tn.fn;nn.split("/").forEach((function(tn){en[tn]={fn:an,pd:rn}}))}return!0})),document.addEventListener("keydown",(function(tn){if("BODY"===tn.target.nodeName){var nn="".concat(tn.altKey?"alt+":"").concat(tn.shiftKey?"shift+":"").concat(tn.metaKey?"meta+":"").concat(tn.ctrlKey?"ctrl+":"").concat(tn.key.toLowerCase());en[nn]&&(en[nn].fn(),en[nn].pd&&tn.preventDefault())}}));var tn=document.getElementsByClassName("attr_changer");Array.from(tn).forEach((function(en){en.addEventListener("keydown",(function(en){en.currentTarget.dispatchEvent(new Event("change")),en.preventDefault()}))})),hN("image_url").addEventListener("keydown",(function(en){en.currentTarget.dispatchEvent(new Event("change")),en.preventDefault()}))}},{key:"getParents",value:function getParents(en,tn){void 0===tn&&(tn=document);for(var nn=[],rn=en.parentNode;rn!==tn;){var an=rn;nn.push(an),rn=an.parentNode}return nn.push(tn),nn}},{key:"getButtonData",value:function getButtonData(en){return Object.values(this.shortcuts).find((function(tn){return tn.sel===en}))}},{key:"exportHandler",value:function exportHandler(en,tn){var nn=tn.issues,rn=tn.exportWindowName;if(this.exportWindow=window.open(gN||"",rn),this.exportWindow&&!this.exportWindow.closed){if(this.exportWindow.location.href=tn.bloburl||tn.datauri,"all"!==this.configObj.pref("export_notice_done")){var an=this.i18next.t("notification.saveFromBrowser",{type:tn.type});if(nn.length){var sn="\n • ";an+="\n\n"+this.i18next.t("notification..noteTheseIssues")+sn+nn.join(sn)}this.configObj.pref("export_notice_done","all"),seAlert(an)}}else seAlert(this.i18next.t("notification.popupWindowBlocked"))}},{key:"setBackground",value:function setBackground(en,tn){this.configObj.pref("bkgd_color",en),this.configObj.pref("bkgd_url",tn,!0),this.svgCanvas.setBackground(en,tn)}},{key:"updateCanvas",value:function updateCanvas(en,tn){var nn=this.svgCanvas.getZoom(),rn=this.workarea,an=hN("svgcanvas"),sn=parseFloat(getComputedStyle(rn,null).width.replace("px","")),An=parseFloat(getComputedStyle(rn,null).height.replace("px","")),cn=sn,un=An,hn=rn.scrollLeft+cn/2,dn=rn.scrollTop+un/2,pn=this.configObj.curConfig.canvas_expansion;sn=Math.max(cn,this.svgCanvas.contentW*nn*pn),An=Math.max(un,this.svgCanvas.contentH*nn*pn),rn.style.overflow=sn===cn&&An===un?"hidden":"scroll";var gn=parseFloat(getComputedStyle(an,null).height.replace("px",""))/2,mn=parseFloat(getComputedStyle(an,null).width.replace("px",""))/2;an.style.width=sn+"px",an.style.height=An+"px";var vn=An/2,yn=sn/2,bn=this.svgCanvas.updateCanvas(sn,An),wn=yn/mn,Cn=sn/2-cn/2,xn=An/2-un/2;tn?(tn.x+=bn.x,tn.y+=bn.y):tn={x:yn+(hn-mn)*wn,y:vn+(dn-gn)*wn};en?this.svgCanvas.contentW>parseFloat(getComputedStyle(rn,null).width.replace("px",""))?(rn.scrollLeft=bn.x-10,rn.scrollTop=bn.y-10):(rn.scrollLeft=Cn,rn.scrollTop=xn):(rn.scrollLeft=tn.x-cn/2,rn.scrollTop=tn.y-un/2),this.configObj.curConfig.showRulers&&(this.rulers.updateRulers(an,nn),rn.scroll()),!0!==this.configObj.urldata.storagePrompt&&"ignore"===this.storagePromptState&&null!=hN("dialog_box")&&(hN("dialog_box").style.display="none")}},{key:"updateWireFrame",value:function updateWireFrame(){var en="\n      #workarea.wireframe #svgcontent * {\n        stroke-width: ".concat(1/this.svgCanvas.getZoom(),"px;\n      }\n    ");document.querySelectorAll("#wireframe_rules").length>0&&(document.querySelector("#wireframe_rules").textContent=this.workarea.classList.contains("wireframe")?en:"")}},{key:"selectedChanged",value:function selectedChanged(en,tn){var nn=this.svgCanvas.getMode();"select"===nn&&this.leftPanel.clickSelect();var rn="pathedit"===nn;this.selectedElement=1!==tn.length&&tn[1]?null:tn[0],this.multiselected=tn.length>=2&&tn[1],this.selectedElement&&!rn&&this.topPanel.update(),this.topPanel.togglePathEditMode(rn,tn),this.topPanel.updateContextPanel(),this.svgCanvas.runExtensions("selectedChanged",{elems:tn,selectedElement:this.selectedElement,multiselected:this.multiselected})}},{key:"elementTransition",value:function elementTransition(en,tn){var nn=this.svgCanvas.getMode(),rn=tn[0];if(rn){if(this.multiselected=tn.length>=2&&tn[1],!this.multiselected&&"rotate"===nn){var an=this.svgCanvas.getRotationAngle(rn);hN("angle").value=an,0===an?hN("tool_reorient").classList.add("disabled"):hN("tool_reorient").classList.remove("disabled")}this.svgCanvas.runExtensions("elementTransition",{elems:tn})}}},{key:"elementChanged",value:function elementChanged(en,tn){var nn=this,rn=this.svgCanvas.getMode();"select"===rn&&this.leftPanel.clickSelect(),tn.forEach((function(en){var tn,rn="svg"===(null==en?void 0:en.tagName);rn||nn.svgCanvas.isLayer(en)?(nn.layersPanel.populateLayers(),rn&&nn.updateCanvas()):!en||null!==(tn=nn.selectedElement)&&void 0!==tn&&tn.parentNode||(nn.selectedElement=en)})),this.showSaveWarning=!0,this.topPanel.updateContextPanel(),this.selectedElement&&"select"===rn&&this.bottomPanel.updateColorpickers(),this.svgCanvas.runExtensions("elementChanged",{elems:tn})}},{key:"elementRenamed",value:function elementRenamed(en,tn){this.svgCanvas.runExtensions("elementRenamed",{renameObj:tn})}},{key:"afterClear",value:function afterClear(en){this.svgCanvas.runExtensions("afterClear")}},{key:"beforeClear",value:function beforeClear(en){this.svgCanvas.runExtensions("beforeClear")}},{key:"zoomDone",value:function zoomDone(){var en,tn=_createForOfIteratorHelper(this.svgCanvas.selectedElements);try{for(tn.s();!(en=tn.n()).done;){var nn=en.value;this.svgCanvas.selectorManager.requestSelector(nn).resize()}}catch(en){tn.e(en)}finally{tn.f()}this.updateWireFrame()}},{key:"zoomChanged",value:function zoomChanged(en,tn,nn){var rn=this.svgCanvas.setBBoxZoom(tn,parseFloat(getComputedStyle(this.workarea,null).width.replace("px",""))-15,parseFloat(getComputedStyle(this.workarea,null).height.replace("px",""))-15);if(rn){var an=rn.zoom,sn=rn.bbox;an<.001?this.changeZoom(.1):(hN("zoom").value=(100*this.svgCanvas.getZoom()).toFixed(1),nn?this.updateCanvas():this.updateCanvas(!1,{x:sn.x*an+sn.width*an/2,y:sn.y*an+sn.height*an/2}),"zoom"===this.svgCanvas.getMode()&&sn.width&&this.leftPanel.clickSelect(),this.zoomDone())}}},{key:"contextChanged",value:function contextChanged(en,tn){var nn="";if(tn){var rn="";nn='<a href="#" data-root="y">'+this.svgCanvas.getCurrentDrawing().getCurrentLayerName()+"</a>",function getParentsUntil(en,tn,nn){for(var rn=[],an=null==tn?void 0:tn.charAt(0),sn=null==nn?void 0:nn.selector.charAt(0);en&&en!==document;en=en.parentNode){if(tn){if("."===an&&en.classList.contains(tn.substr(1)))break;if("#"===an&&en.id===tn.substr(1))break;if("["===an&&en.hasAttribute(tn.substr(1,tn.length-1)))break;if(en.tagName.toLowerCase()===tn)break}nn?("."===sn&&en.classList.contains(nn.substr(1))&&rn.push(en),"#"===sn&&en.id===nn.substr(1)&&rn.push(en),"["===sn&&en.hasAttribute(nn.substr(1,nn.length-1))&&rn.push(en),en.tagName.toLowerCase()===nn&&rn.push(en)):rn.push(en)}return rn.length?rn:null}(tn,"#svgcontent").forEach((function(en){en.id&&(rn+=" > "+en.id,nn+=en!==tn?' > <a href="#">'.concat(en.id,"</a>"):" > ".concat(en.id))})),this.curContext=rn}else this.curContext=null;hN("cur_context_panel").style.display=tn?"block":"none",hN("cur_context_panel").innerHTML=nn}},{key:"setIcon",value:function setIcon(en,tn){var nn=document.createElement("img");nn.src=this.configObj.curConfig.imgPath+tn;var rn="string"==typeof tn?nn:tn.cloneNode(!0);if(rn){for(;hN(en).firstChild;)hN(en).removeChild(hN(en).firstChild);hN(en).appendChild(rn)}else console.warn("NOTE: Icon image missing: "+tn)}},{key:"extAdded",value:(an=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee(en,tn){var nn,rn,an=this;return _regeneratorRuntime().wrap((function _callee$(en){for(;;)switch(en.prev=en.next){case 0:if(tn){en.next=2;break}return en.abrupt("return",void 0);case 2:return nn=!1,rn=function runCallback(){tn.callback&&!nn&&(nn=!0,tn.callback.call(an))},tn.events&&this.leftPanel.add(tn.events.id,tn.events.click),en.abrupt("return",rn());case 6:case"end":return en.stop()}}),_callee,this)}))),function extAdded(en,tn){return an.apply(this,arguments)})},{key:"zoomImage",value:function zoomImage(en){var tn=this.svgCanvas.getResolution();en=en?tn.zoom*en:1,hN("zoom").value=(100*en).toFixed(1),this.svgCanvas.setCurrentZoom(en),this.zoomDone(),this.updateCanvas(!0)}},{key:"cutSelected",value:function cutSelected(){(this.selectedElement||this.multiselected)&&this.svgCanvas.cutSelectedElements()}},{key:"copySelected",value:function copySelected(){(this.selectedElement||this.multiselected)&&this.svgCanvas.copySelectedElements()}},{key:"pasteInCenter",value:function pasteInCenter(){var en=this.workarea,tn=this.svgCanvas.getZoom(),nn=(en.scrollLeft+parseFloat(getComputedStyle(en,null).width.replace("px",""))/2)/tn-this.svgCanvas.contentW,rn=(en.scrollTop+parseFloat(getComputedStyle(en,null).height.replace("px",""))/2)/tn-this.svgCanvas.contentH;this.svgCanvas.pasteElements("point",nn,rn)}},{key:"moveUpDownSelected",value:function moveUpDownSelected(en){this.selectedElement&&this.svgCanvas.moveUpDownSelected(en)}},{key:"moveSelected",value:function moveSelected(en,tn){if(this.selectedElement||this.multiselected){if(this.configObj.curConfig.gridSnapping){var nn=this.svgCanvas.getZoom()*this.configObj.curConfig.snappingStep;en*=nn,tn*=nn}this.svgCanvas.moveSelectedElements(en,tn)}}},{key:"selectNext",value:function selectNext(){this.svgCanvas.cycleElement(1)}},{key:"selectPrev",value:function selectPrev(){this.svgCanvas.cycleElement(0)}},{key:"rotateSelected",value:function rotateSelected(en,tn){if(this.selectedElement&&!this.multiselected){en||(tn*=-1);var nn=Number.parseFloat(hN("angle").value)+tn;this.svgCanvas.setRotationAngle(nn),this.topPanel.updateContextPanel()}}},{key:"hideSourceEditor",value:function hideSourceEditor(){hN("se-svg-editor-dialog").setAttribute("dialog","closed")}},{key:"saveSourceEditor",value:(rn=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee2(en){var tn,nn,rn=this;return _regeneratorRuntime().wrap((function _callee2$(an){for(;;)switch(an.prev=an.next){case 0:if("open"===hN("se-svg-editor-dialog").getAttribute("dialog")){an.next=3;break}return an.abrupt("return");case 3:if(tn=function saveChanges(){rn.svgCanvas.clearSelection(),rn.hideSourceEditor(),rn.zoomImage(),rn.layersPanel.populateLayers()},this.svgCanvas.setSvgString(en.detail.value)){an.next=12;break}return an.next=7,seConfirm(this.i18next.t("notification.QerrorsRevertToSource"));case 7:if(!1!==(nn=an.sent)&&"Cancel"!==nn){an.next=10;break}return an.abrupt("return");case 10:return tn(),an.abrupt("return");case 12:tn(),this.leftPanel.clickSelect();case 14:case"end":return an.stop()}}),_callee2,this)}))),function saveSourceEditor(en){return rn.apply(this,arguments)})},{key:"cancelOverlays",value:function cancelOverlays(en){null!=hN("dialog_box")&&(hN("dialog_box").style.display="none");var tn="open"===hN("se-svg-editor-dialog").getAttribute("dialog");tn||this.docprops||this.configObj.preferences?tn&&(this.svgCanvas.getSvgString()!==en.detail.value?seConfirm(this.i18next.t("notification.QignoreSourceChanges"))&&this.hideSourceEditor():this.hideSourceEditor()):this.curContext&&this.svgCanvas.leaveContext()}},{key:"toggleDynamicOutput",value:function toggleDynamicOutput(en){this.configObj.curConfig.dynamicOutput=en.detail.dynamic,this.svgCanvas.setConfig(this.configObj.curConfig);var tn=document.getElementById("se-svg-editor-dialog"),nn=this.svgCanvas.getSvgString();tn.setAttribute("dialog","open"),tn.setAttribute("value",nn)}},{key:"enableOrDisableClipboard",value:function enableOrDisableClipboard(){var en;try{en=this.localStorage.getItem("svgedit_clipboard")}catch(en){}this.canvMenu.setAttribute((en?"en":"dis")+"ablemenuitems","#paste,#paste_in_place")}},{key:"openPrep",value:(nn=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee3(){return _regeneratorRuntime().wrap((function _callee3$(en){for(;;)switch(en.prev=en.next){case 0:if(0!==this.svgCanvas.undoMgr.getUndoStackSize()){en.next=2;break}return en.abrupt("return",!0);case 2:return en.next=4,seConfirm(this.i18next.t("notification.QwantToOpen"));case 4:return en.abrupt("return",en.sent);case 5:case"end":return en.stop()}}),_callee3,this)}))),function openPrep(){return nn.apply(this,arguments)})},{key:"onDragEnter",value:function onDragEnter(en){en.stopPropagation(),en.preventDefault()}},{key:"onDragOver",value:function onDragOver(en){en.stopPropagation(),en.preventDefault()}},{key:"onDragLeave",value:function onDragLeave(en){en.stopPropagation(),en.preventDefault()}},{key:"setLang",value:function setLang(en){this.langChanged=!0,this.configObj.pref("lang",en),hN("se-edit-prefs").setAttribute("lang",en);var tn=(hN("#layerlist")?hN("#layerlist").querySelector("tr.layersel td.layername").textContent:"")===this.i18next.t("notification.common.layer")+" 1";this.setTitles(),tn&&(this.svgCanvas.renameCurrentLayer(this.i18next.t("notification.common.layer")+" 1"),this.layersPanel.populateLayers()),this.svgCanvas.runExtensions("langChanged",en)}},{key:"ready",value:function ready(en){var tn=this;return new Promise((function(nn,rn){tn.isReady?nn(en()):tn.callbacks.push([en,nn,rn])}))}},{key:"runCallbacks",value:(tn=_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee4(){return _regeneratorRuntime().wrap((function _callee4$(en){for(;;)switch(en.prev=en.next){case 0:return en.prev=0,en.next=3,Promise.all(this.callbacks.map((function(en){return(0,_slicedToArray(en,1)[0])()})));case 3:en.next=9;break;case 5:throw en.prev=5,en.t0=en.catch(0),this.callbacks.forEach((function(en){(0,_slicedToArray(en,3)[2])()})),en.t0;case 9:this.callbacks.forEach((function(en){(0,_slicedToArray(en,2)[1])()})),this.isReady=!0;case 11:case"end":return en.stop()}}),_callee4,this,[[0,5]])}))),function runCallbacks(){return tn.apply(this,arguments)})},{key:"loadFromString",value:function loadFromString(en){var tn=this,nn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},rn=nn.noAlert;return this.ready(_asyncToGenerator$1(_regeneratorRuntime().mark((function _callee5(){return _regeneratorRuntime().wrap((function _callee5$(nn){for(;;)switch(nn.prev=nn.next){case 0:return nn.prev=0,nn.next=3,tn.loadSvgString(en,{noAlert:rn});case 3:nn.next=9;break;case 5:if(nn.prev=5,nn.t0=nn.catch(0),!rn){nn.next=9;break}throw nn.t0;case 9:case"end":return nn.stop()}}),_callee5,null,[[0,5]])}))))}},{key:"loadFromURL",value:function loadFromURL(en){var tn=this,nn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},rn=nn.cache,an=nn.noAlert;return this.ready((function(){return new Promise((function(nn,sn){fetch(en,{cache:rn?"force-cache":"no-cache"}).then((function(en){if(!en.ok){if(an)return void sn(new Error("URLLoadFail"));seAlert(tn.i18next.t("notification.URLLoadFail")),nn()}return en.text()})).then((function(en){return tn.loadSvgString(en,{noAlert:an}),en})).catch((function(en){an?sn(new Error("URLLoadFail")):(seAlert(tn.i18next.t("notification.URLLoadFail")+": \n"+en),nn())}))}))}))}},{key:"loadFromDataURI",value:function loadFromDataURI(en){var tn=this,nn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},rn=nn.noAlert;return this.ready((function(){var nn=!1,an=en.match(/^data:image\/svg\+xml;base64,/);an?nn=!0:an=en.match(/^data:image\/svg\+xml(?:;|;utf8)?,/),an&&(an=an[0]);var sn=en.slice(an.length);return tn.loadSvgString(nn?pN(sn):decodeURIComponent(sn),{noAlert:rn})}))}},{key:"addExtension",value:function addExtension(en,tn,nn){if(!this.svgCanvas)throw new Error("Extension added too early");return this.svgCanvas.addExtension(en,tn,nn)}}]),Editor}();export{fN as default};
