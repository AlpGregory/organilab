{"version":3,"file":"ext-text.js","sources":["../../../../src/editor/extensions/ext-text/ext-text.js"],"sourcesContent":["const name = 'textcodes'\n\nexport default {\n  name,\n  async init ({ _importLocale }) {\n    const svgEditor = this\n    const { svgCanvas } = svgEditor\n    const modeId = 'tool_textcodes'\n\n    return {\n           name: svgEditor.i18next.t(`${name}:name`),\n           callback () {\n\n            const elements= document.querySelectorAll('.text_options')\n    \n            document.body.addEventListener('click',(e)=>{\n              if (e.target.classList.contains('text_content')) {\n\n              let content=e.target.textContent\n\n              let target_id=e.target.id\n\n              const curStyle = svgCanvas.getStyle()  \n              const curShape = svgCanvas.addSVGElementsFromJson({\n                  element: 'text',\n                  curStyles: true,\n                  attr: {\n                    x:100,\n                    y:100,\n                    id: svgCanvas.getNextId(),\n                    fill: svgCanvas.getCurText('fill'),\n                    'stroke-width': svgCanvas.getCurText('stroke_width'),\n                    'font-size': svgCanvas.getCurText('font_size'),\n                    'font-family': svgCanvas.getCurText('font_family'),\n                    'text-anchor': 'middle',\n                    'xml:space': 'preserve',\n                    opacity: curStyle.opacity\n                  }\n              })\n              if(target_id==='dangerindication' || target_id==='warningword' || \n              target_id ==='prudenceword'){\n                curShape.textContent = `{{${target_id}}}`\n                curShape.attributes.fill.value=\"#FF0000\"\n              }else if(target_id==='uipa' || target_id ==='casname' \n              || target_id === \"substancename\" || target_id === \"selername\"\n              || target_id ===\"seleraddress\" || target_id === \"commercialinformation\"){\n                curShape.textContent=`{{${target_id}}}`\n                curShape.attributes.fill.value=\"#000000\"\n              }else{\n                curShape.textContent=content\n                curShape.attributes.fill.value=\"#000000\"\n\n              }\n            svgCanvas.setSelectedElements(0, curShape)  \n            }\n            })\n        },\n              mouseDown (opts) {\n             // Check the mode on mouseup\n             if (svgCanvas.getMode() === 'tool_textcodes') {\n               const zoom = svgCanvas.getZoom()\n     \n               // Get the actual coordinate by dividing by the zoom value\n               const x = opts.mouse_x / zoom\n               const y = opts.mouse_y / zoom\n     \n               const text = svgEditor.i18next.t(`${name}:text`, { x, y })\n\n             }\n           },\n        }\n       }\n     }\n"],"names":["name","extText","async","_ref","svgEditor","this","svgCanvas","i18next","t","concat","callback","document","querySelectorAll","body","addEventListener","e","target","classList","contains","content","textContent","target_id","id","curStyle","getStyle","curShape","addSVGElementsFromJson","element","curStyles","attr","x","y","getNextId","fill","getCurText","opacity","attributes","value","setSelectedElements","mouseDown","opts","getMode","zoom","getZoom","mouse_x","mouse_y"],"mappings":"AAAA,MAAMA,EAAO,YAEb,IAAeC,EAAA,CACbD,KAAAA,EACAE,WAA+BC,GAC7B,MAAMC,EAAYC,MACZC,UAAEA,GAAcF,EAGtB,MAAO,CACAJ,KAAMI,EAAUG,QAAQC,EAAlB,GAAAC,OAAuBT,EAD7B,UAEAU,WAEiBC,SAASC,iBAAiB,iBAE1CD,SAASE,KAAKC,iBAAiB,SAASC,IACtC,GAAIA,EAAEC,OAAOC,UAAUC,SAAS,gBAAiB,CAEjD,IAAIC,EAAQJ,EAAEC,OAAOI,YAEjBC,EAAUN,EAAEC,OAAOM,GAEvB,MAAMC,EAAWjB,EAAUkB,WACrBC,EAAWnB,EAAUoB,uBAAuB,CAC9CC,QAAS,OACTC,WAAW,EACXC,KAAM,CACJC,EAAE,IACFC,EAAE,IACFT,GAAIhB,EAAU0B,YACdC,KAAM3B,EAAU4B,WAAW,QAC3B,eAAgB5B,EAAU4B,WAAW,gBACrC,YAAa5B,EAAU4B,WAAW,aAClC,cAAe5B,EAAU4B,WAAW,eACpC,cAAe,SACf,YAAa,WACbC,QAASZ,EAASY,WAGT,qBAAZd,GAA8C,gBAAZA,GACxB,iBAAbA,GACEI,EAASL,YAAT,KAAAX,OAA4BY,EAA5B,MACAI,EAASW,WAAWH,KAAKI,MAAM,WACZ,SAAZhB,GAAmC,YAAbA,GACd,kBAAdA,GAA+C,cAAdA,GACpB,iBAAbA,GAA6C,0BAAdA,GAChCI,EAASL,YAAT,KAAAX,OAA0BY,EAA1B,MACAI,EAASW,WAAWH,KAAKI,MAAM,YAE/BZ,EAASL,YAAYD,EACrBM,EAASW,WAAWH,KAAKI,MAAM,WAGnC/B,EAAUgC,oBAAoB,EAAGb,QAI/Bc,UAAWC,GAEZ,GAA4B,mBAAxBlC,EAAUmC,UAAgC,CAC5C,MAAMC,EAAOpC,EAAUqC,UAGjBb,EAAIU,EAAKI,QAAUF,EACnBX,EAAIS,EAAKK,QAAUH,EAEZtC,EAAUG,QAAQC,EAAKR,GAAAA,OAAAA,EAAa,SAAA,CAAE8B,EAAAA,EAAGC,EAAAA"}