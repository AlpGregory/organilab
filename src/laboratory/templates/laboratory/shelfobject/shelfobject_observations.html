{% extends 'base.html' %}
{% load static i18n gtsettings %}
{% load urlname_tags %}
{% load organilab_tags %}
{% block pre_head %}
    {% define_true  "use_datatables" %}
{% endblock %}


{% block content %}
<div class="row">
<div class="offset-md-2 col-md-8">
        <div class="page-header" align="center">
          <h3 class="heading-1" ><span> {% trans 'Observations' %} </span></h3>
        </div>
</div>
</div>

<div class="row">
        <div class="col-md-12">
            <div class="add-container float-end">
            <a class="btn btn-outline-success"><i class="fa fa-plus" title="{% trans 'Add new Observation' %}"></i> {% trans 'Add' %}</a>
        </div>
        <br>
      <table id="observationTable" class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>{% trans 'Creator' %}</th>
                    <th>{% trans 'Action Taken' %}</th>
                    <th>{% trans 'Description' %}</th>
                    <th>{% trans 'Creation Date' %}</th>
                </tr>
            </thead>
            <tbody></tbody>
      </table>
    </div>
</div>
{% endblock %}
{% block js %}
{{block.super}}
<script src="{% static 'js/shelfobjectedit.js' %}?v={% get_organilab_version %}"></script>
<script>
    datatableelement=createDataTable('#observationTable', '{% url 'laboratory:api-shelfobject-list-comments' org_pk=org_pk lab_pk=lab_pk pk=pk %}', {
          responsive: true,
          columns: [
            {"data": "creator_name"},
            {"data": "action_taken"},
            {"data": "description"},
            {"data": "creation_date"},
          ],
          ajax: {
            url: "{% url 'laboratory:api-shelfobject-list-comments' org_pk=org_pk lab_pk=lab_pk pk=pk %}",
            type: 'GET',
            data: function(dataTableParams, settings) {
                    return formatDataTableParams(dataTableParams, settings);
			      }
			}
	      }, addfilter=false);

</script>


{% endblock %}