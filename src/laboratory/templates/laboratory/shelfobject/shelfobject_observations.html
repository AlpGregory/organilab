{% extends 'base.html' %}
{% load static i18n gtsettings %}
{% load urlname_tags %}
{% load organilab_tags %}
{% block pre_head %}
    {% define_true  "use_datatables" %}
{% endblock %}


{% block content %}
<div class="row">
<div class="offset-md-2 col-md-8">
        <div class="page-header" align="center">
          <h3 class="heading-1" ><span> {% trans 'Observations' %} </span></h3>
        </div>
</div>
</div>

<div class="row">
        <div class="col-md-12">
            <div class="add-container float-end">
            <a class="btn btn-outline-success"><i class="fa fa-plus" title="{% trans 'Add new Observation' %}"></i> {% trans 'Add' %}</a>
        </div>
        <br>
      <table id="observationTable" class="table table-striped table-bordered" style="width:100%"></table>
    </div>
</div>
{% endblock %}
{% block js %}
{{block.super}}
<script src="{% static 'js/shelfobjectedit.js' %}?v={% get_organilab_version %}"></script>
<script>
    datatableelement=createDataTable('#observationTable', '{% url 'laboratory:api-shelfobject-list-comments' org_pk=org_pk lab_pk=lab_pk pk=pk %}', {
          responsive: true,
          paging:true,
          columns: [
            {data: "id", name: "id", title: gettext("Id"), type: "string", visible: false},
            {data: "creator_name", name: "creator_name", title: gettext("Creator"), type: "string", visible: true},
            {data: "action_taken", name: "action_taken", title: gettext("Action Taken"), type: "string", visible: true},
            {data: "description", name: "description", title: gettext("Description"), type: "string", visible: true},
            {data: "creation_date", name: "creation_date", title: gettext("Creation Date"), type: "string", visible: true},
          ],
          dom: "<'row'<'col-sm-4 col-md-4 d-flex justify-content-start'l>" +
            "<'col-sm-7 col-md-7 mt-1 d-flex justify-content-end'f>>" +
            "<'row'<'col-sm-12'tr>><'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 m-auto'p>>",
          ajax: {
            url: "{% url 'laboratory:api-shelfobject-list-comments' org_pk=org_pk lab_pk=lab_pk pk=pk %}",
            type: 'GET',
            data: function(dataTableParams, settings) {
                    return formatDataTableParams(dataTableParams, settings);
			      }
			}
	      }, addfilter=false);


</script>


{% endblock %}